{"tx_hash": "DjP2ZbgiKnQagQCXvLd6V4wk8Da5C5jfPogGZKHPsxpa", "action_id_social": "2LxM5dHFZuKNqbcyF5oNYrR5Hb3YW1EKdoTWXriwDRP9-0-widget", "block_id": 102525236, "block_timestamp": "2023-10-03T13:18:32.160Z", "signer_id": "agwaze.near", "widget_name": "GenaDrop.ListingMarketPrice", "source_code": "const marketPlaceImage = {\n  mintbase:\n    \"data:image/png;base64,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\",\n  tradeport:\n    \"data:image/png;base64,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\",\n  fewandfar: \"https://production.cdn.fewfar.com/static/images/logo.svg\",\n};\n\nconst currentChainProps = {\n  near: {\n    img: \"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTrJuxjGxj4QmyreE6ix4ygqm5pK9Nn_rdc8Ndw6lmJcd0SSnm2zBIc2xJ_My1V0WmK2zg&usqp=CAU\",\n    livePrice: \"near\",\n    subgraph: \"https://api.thegraph.com/subgraphs/name/prometheo/near-mainnet\",\n    chain: \"near\",\n    id: \"1112\",\n    explorer: \"https://explorer.near.org/?query=\",\n    logoUrl:\n      \"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTrJuxjGxj4QmyreE6ix4ygqm5pK9Nn_rdc8Ndw6lmJcd0SSnm2zBIc2xJ_My1V0WmK2zg&usqp=CAU\",\n  },\n  aurora: {\n    img: \"https://s2.coinmarketcap.com/static/img/coins/200x200/14803.png\",\n    id: \"1313161554\",\n    chain: \"Aurora\",\n    explorer: \"https://aurorascan.dev/\",\n    livePrice: \"ethereum\",\n    contract: \"0xe93097f7C3bF7A0E0F1261c5bD88F86D878667B5\",\n    subgraph:\n      \"https://api.thegraph.com/subgraphs/name/prometheo/aurora-mainnet\",\n  },\n  arbitrum: {\n    img: \"https://assets.coingecko.com/coins/images/16547/large/photo_2023-03-29_21.47.00.jpeg?1680097630\",\n    id: \"42161\",\n    contract: \"0x27E52A81975F5Fb836e79007E3c478C6c0E6E9FB\",\n    chain: \"Arbitrum\",\n    explorer: \"https://arbiscan.io/\",\n\n    livePrice: \"ethereum\",\n    subgraph: \"https://api.thegraph.com/subgraphs/name/prometheo/arbitrum\",\n  },\n  celo: {\n    img: \"https://assets.coingecko.com/coins/images/11090/large/InjXBNx9_400x400.jpg?1674707499\",\n    id: \"42220\",\n    livePrice: \"celo\",\n    contract: \"0x5616BCcc278F7CE8B003f5a48f3754DDcfA4db5a\",\n    explorer: \"https://explorer.celo.org/address/\",\n    chain: \"Celo\",\n    subgraph: \"https://api.thegraph.com/subgraphs/name/prometheo/celo-mainnet\",\n  },\n  polygon: {\n    img: \"https://altcoinsbox.com/wp-content/uploads/2023/03/matic-logo.webp\",\n    id: \"137\",\n    chain: \"Polygon\",\n    livePrice: \"matic-network\",\n    contract: \"0x57Eb0aaAf69E22D8adAe897535bF57c7958e3b1b\",\n    explorer: \"https://polygonscan.com/address/\",\n    subgraph:\n      \"https://api.thegraph.com/subgraphs/name/prometheo/polygon-mainnet\",\n  },\n  aptos: {\n    img: \"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQqBinSwbRdx76qY4A3qvVkM9g_mKoGCBDT0sqTT02TgRvKquV2Vlc8fSRmLyuhBS3-CaA&usqp=CAU\",\n  },\n  sui: {\n    img: \"https://blog.sui.io/content/images/2023/04/Sui_Droplet_Logo_Blue-3.png\",\n  },\n};\n\nconst chains = [\"polygon\", \"aurora\", \"arbitrum\", \"celo\"];\n\nconst chainState = chains.find((data) => data.includes(props.state.chainState));\n\nif (chainState) {\n  let response = fetch(currentChainProps[props.state.chainState]?.subgraph, {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n    },\n    body: JSON.stringify({\n      query: `\n            query MyQuery {\n             nfts(where: {tokenID: \"${props.state.tokenId}\"}) {\n                category\n                chain\n                createdAtTimestamp\n                id\n                isSold\n                isListed\n                price\n                tokenID\n                owner {\n                    id\n                }\n                tokenIPFSPath\n                transactions {\n                  price\n                }\n                }\n            }\n        `,\n    }),\n  });\n  const collectionData = response.body.data.nfts;\n  if (collectionData) {\n    const nftBody = collectionData.map((data) => {\n      const fetchIPFSData = fetch(\n        data.tokenIPFSPath.replace(\"ipfs://\", \"https://ipfs.io/ipfs/\")\n      );\n\n      if (fetchIPFSData.ok) {\n        const nft = fetchIPFSData.body;\n        let nftObject = {};\n        nftObject.contract_id = data.id;\n        nftObject.sold = data.isSold;\n        nftObject.isListed = data.isListed;\n        nftObject.owner = data.owner.id;\n        nftObject.price = data.price;\n        nftObject.token_id = data.tokenID;\n        nftObject.name = nft?.name;\n        nftObject.description = nft?.description;\n        nftObject.attributes = nft?.properties;\n        nftObject.image = nft?.image.replace(\n          \"ipfs://\",\n          \"https://ipfs.io/ipfs/\"\n        );\n        return nftObject;\n      }\n    });\n    State.update({\n      title: nftBody[0].name,\n      imageUrl: nftBody[0].image,\n      owner: nftBody[0]?.owner,\n      description: nftBody[0]?.description,\n      price: nftBody[0].price,\n    });\n  }\n}\n\nconst Label = styled.p`\n  font-size: 1.1rem;\n  color: #04111D;\n  font-weight: 600;\n  font-family: \"SF Pro Display\",sans-serif;\n  line-height: 1.02;\n  white-space: nowrap;\n  margin: unset;\n`;\n\nconst GrayLabel = styled.p`\n  color: #6C757D;\n  font-size: 14px;\n`;\nconst SecondaryText = styled.h3`\n  font-size: 1.1rem;\n  color:#0f1d40;\n  font-weight: 600;\n  font-family: \"SF Pro Display\",sans-serif;\n  line-height: 1.02;\n  white-space: nowrap;\n  padding-bottom: 3px;\n`;\nconst Card = styled.div`\n  overflow: hidden;\n`;\nconst BorderedShadowedCard = styled.div`\n  display: flex;\n   flex-flow: column nowrap;\n   -ms-flex-flow:column nowrap;\n   background-color: \"#f0f0f0\";\n   margin: 0 auto;\n   border: 1.41429px solid rgba(28,27,28,.1);\n   padding: 1rem;\n   width: 100%;\n   height: fit-content;\n   background-color:#fff;\n   & img{\n     border-radius: inherit;\n   }\n`;\nconst Main = styled.div`\n    display: grid;\n  gap: 3rem;\n  align-content:center;\n  grid-template-columns: repeat(auto-fit, minmax(270px, 1fr));\n  justify-content: center;\n  // background: linear-gradient(180deg,#e4f1fb,hsla(0,0%,85.1%,0));\n  margin-top: 20px;\n  width:100%;\n  padding: 1rem;\n`;\n\nconst ImgCard = styled.div`\n  height:fit-content;\n  display:flex;\n  align-items:center;\n  justify-content:center;\n  max-height:500px;\n  width:100%;\n  max-width: 500px;\n  border-radius: inherit;\n  overflow:hidden;\n  aspect-ratio: 1/1;\n  margin: 0 auto;\n  &>img{\n  object-fit: cover;\n  width: 100%;\n  }\n  object-fit:cover;\n`;\n\nconst TopSellCard = styled.div`\n  background-color: #E2E4E8;\n  padding: 1rem;\n  width:100%;\n`;\n\nconst Text = styled.p`\n  font-size: 14px;\n  margin: unset;\n`;\n\nconst GrayCard = styled.div`\n  background-color: #E2E4E8;\n  cusor: not-allowed;\n`;\n\nconst ChainCard = styled.div`\n  display: flex;\n  background-color: #EFF3F9;\n  align-items:center;\n  gap: 1rem;\n  cursor: pointer;\n  max-width: 320px;\n  width: 80%;\n  margin: 1rem auto;\n  height: 60px;\n  & img{\n    width: 20px;\n    height: 20px;\n    object-fit: contain;\n    margin-right: 5px;\n  }\n`;\n\nconst ChainCardMarket = styled.div`\n  display: flex;\n  background-color: #EFF3F9;\n  align-items:center;\n  gap: 0.5rem;\n  cursor: pointer;\n  width: 140px;\n  margin: 1rem;\n  height: 60px;\n  & img{\n    width: 20px;\n    height: 20px;\n    object-fit: contain;\n    margin-right: 5px;\n  }\n`;\n\nconst PriceInput = styled.div`\n  display: flex;\n  padding: .2rem;\n  &>input{\n    border:none;\n    outline: none;\n    background: none;\n    width:70px;\n    padding: 0 .2rem;\n    &:focus, &:active{\n      border:none;\n      box-shadow: none;\n    }\n  }\n  &>img{\n    width: 20px;\n    object-fit: contain;\n    margin: 0 .5rem;\n  }\n`;\n\nconst Markets = styled.div`\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    justify-content: center;\n    flex-wrap: wrap;\n`;\n\nconst MarketOption = styled.div`\n  width: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n`;\n\nconst BlueSub = styled.div`\n color: #0d99ff;\n font-size: .8rem;\n`;\n\nconst loadingAnimation = styled.keyframes`\n  0% { content: \"Loading\"; }\n  25% { content: \"Loading.\"; }\n  50% { content: \"Loading..\"; }\n  75% { content: \"Loading...\"; }\n`;\n\nconst ListButton = styled.button`\n  padding: 10px 15px;\n  font-size: 14px;\n  margin-top: 20px;\n  background-color: #007bff;\n  color: #fff;\n  width:  120px;\n  border-radius: 16px;\n  border: none;\n  cursor: pointer;\n  transition: background-color 0.3s ease;\n\n  &:hover {\n    background-color: #0056b3;\n  }\n  &.loading {\n    background: #0056b5;\n    cursor: not-allowed;\n  }\n  &.loading::before {\n    content: \"Loading\";\n    animation: ${loadingAnimation} 1s infinite;\n    display: inline-block;\n  }\n`;\n\nconst ListedMarkets = styled.ul`\n   list-style-type: none;\n   display: flex;\n   flex-direction: column;\n   gap: 10px;\n   li {\n    background: #EFF3F9;\n    padding: 7px 10px;\n    border-radius: 12px;\n    margin-right: 20px;\n   }\n  img {\n    width: 20px;\n    height: 20px;\n    margin-right: 4px;\n  }\n`;\n\nState.init({\n  amount: 0,\n});\n\nconst getUsdValue = (price) => {\n  const res = fetch(\n    `https://api.coingecko.com/api/v3/simple/price?ids=${\n      currentChainProps[props.state.chainState].livePrice\n    }&vs_currencies=usd`\n  );\n  if (res.ok) {\n    const multiplyBy = Object.values(res?.body)[0]?.usd;\n    const value = multiplyBy * price.toFixed(2);\n    return value.toFixed(4) !== \"NaN\" ? `$${value.toFixed(2)}` : 0;\n  }\n};\n\nconst keywordsToCheck = [\"tradeport\", \"mintbase\", \"fewandfar\", \"paras\"];\n\nconst matchedKeyWords = (inputString) => {\n  return keywordsToCheck.find((keyword) => inputString.includes(keyword));\n};\n\nconst getSender = () => {\n  return !state.sender\n    ? \"\"\n    : state.sender.substring(0, 6) +\n        \"...\" +\n        state.sender.substring(state.sender.length - 4, state.sender.length);\n};\n\nif (state.sender === undefined) {\n  const accounts = Ethers.send(\"eth_requestAccounts\", []);\n  if (accounts.length) {\n    State.update({ sender: accounts[0] });\n  }\n}\n\nreturn (\n  <>\n    <div className=\"container-fluid\">\n      <Main>\n        <BorderedShadowedCard className=\"shadow-sm rounded-4\">\n          <div>\n            <SecondaryText>\n              {state.title\n                ? state.title\n                : props.state.tokenInfo.metadata.title || \"NFT Name\"}\n            </SecondaryText>\n          </div>\n          <ImgCard className=\"shadow-sm\">\n            {state.imageUrl ? (\n              <img src={state.imageUrl} alt=\"nft_image\" />\n            ) : (\n              <Widget\n                src=\"mob.near/widget/NftImage\"\n                props={{\n                  nft: {\n                    tokenId: props.state.tokenId,\n                    contractId: props.state.contractId,\n                  },\n                  className: \"col-lg-12\",\n                }}\n              />\n            )}\n          </ImgCard>\n          <div className=\"d-flex justify-content-between mt-3\">\n            <span>\n              <BlueSub>Contract ID</BlueSub>\n              <SecondaryText>\n                {props.state.contractId.length > 6\n                  ? `${props.state.contractId?.slice(\n                      0,\n                      6\n                    )}...${props.state.contractId?.slice(\n                      props.state.contractId.length - 4\n                    )}`\n                  : props.state.contractId || \"Sample Contract\"}\n              </SecondaryText>\n            </span>\n            <span>\n              <BlueSub>Collection Name</BlueSub>\n              <SecondaryText className=\"font-weight-bold\">\n                {props.state.nftMetadata.name || \"- - - - - -\"}\n              </SecondaryText>\n            </span>\n          </div>\n          <div className=\"card rounded-4 shadow-sm p-3 my-3\">\n            <SecondaryText>Description</SecondaryText>\n            <p>\n              {props.state.tokenInfo.metadata.description ?? state.description}\n            </p>\n          </div>\n          <p>\n            <a href={props.state.tokenInfo.media} target=\"_blank\">\n              {props.state.tokenInfo.media}\n            </a>\n          </p>\n          <div className=\"col-lg-12\">\n            {Object.keys(props.state.tokenInfo.approved_account_ids || {})\n              .length > 0 && <h3> Listed Markets</h3>}\n            <div>\n              <ListedMarkets>\n                {typeof props.state.tokenInfo.approved_account_ids ===\n                  \"object\" &&\n                  Object.keys(props.state.tokenInfo.approved_account_ids).map(\n                    (key) => (\n                      <li>\n                        <img\n                          src={marketPlaceImage[matchedKeyWords(key)]}\n                          alt=\"\"\n                        />\n                        <a\n                          href={props.marketLinks[matchedKeyWords(key)].link}\n                          target=\"_blank\"\n                          rel=\"noopener noreferrer\"\n                        >\n                          View on {matchedKeyWords(key)}\n                        </a>\n                      </li>\n                    )\n                  )}\n              </ListedMarkets>\n            </div>\n          </div>\n        </BorderedShadowedCard>\n        <div className=\"\">\n          <Card className=\"card rounded-4 shadow-sm border\">\n            <TopSellCard className=\"d-flex align-items-center\">\n              <Label>List Method</Label>\n            </TopSellCard>\n            <div className=\"p-3\">\n              <GrayLabel>\n                Choose how you want to list you NFT for sale\n              </GrayLabel>\n\n              <div className=\"d-flex justify-content-between\">\n                <div\n                  className=\"card rounded-4 shadow-sm p-3\"\n                  role=\"button\"\n                  style={{ borderColor: \"#0D99FF\" }}\n                >\n                  <Label className=\"text-center\">SET PRICE</Label>\n                  <Text>Sell the NFT at a fixed price</Text>\n                </div>\n              </div>\n            </div>\n          </Card>\n          <div className=\"\">\n            <input\n              type=\"hidden\"\n              placeholder={props.state.contractId}\n              onChange={(e) => props.onChangeContract(e.target.value)}\n            />\n          </div>\n          <div className=\"\">\n            <input\n              type=\"hidden\"\n              placeholder={props.state.tokenId}\n              onChange={(e) => props.onChangeToken(e.target.value)}\n            />\n          </div>\n          <div className=\"rounded-4 mt-3 border shadow-sm\">\n            <div className=\"p-3\">\n              <div className=\"d-flex align-items-center justify-content-between\">\n                <Label>List Price</Label>\n                <div className=\"d-flex align-items-center gap-3\">\n                  <span>{getUsdValue(props.state.amount / 1e24 || 0)}</span>\n                  <PriceInput className=\"border rounded\">\n                    <img\n                      src={\n                        currentChainProps[props.state.chainState || \"near\"].img\n                      }\n                    />\n                    <input\n                      type=\"number\"\n                      placeholder={props.state.amount / 1e24}\n                      onChange={(e) => {\n                        props.chainState && props.chainState !== \"near\"\n                          ? props.onChangeEVMAmount(e.target.value)\n                          : props.onChangeAmount(e.target.value);\n                      }}\n                    />\n                  </PriceInput>\n                </div>\n              </div>\n            </div>\n            {!state.title && (\n              <>\n                <hr className=\"m-auto\" />\n                <GrayLabel className=\"mt-3 mx-3 mb-0\">\n                  Select any of the NEAR marketplace where you want your NFTs to\n                  be listed on\n                </GrayLabel>\n                <div className=\"p-3\">\n                  <MarketOption>\n                    <Markets>\n                      <ChainCardMarket\n                        className={`${\n                          props.state.mintbase ? \"border border-primary\" : \"\"\n                        } rounded-3 p-2`}\n                        onClick={props.selectMintbase}\n                        onChange={props.selectMintbase}\n                      >\n                        <img src={marketPlaceImage.mintbase} />\n                        Mintbase\n                      </ChainCardMarket>\n                      <ChainCardMarket\n                        className={`${\n                          props.state.fewfar ? \"border border-primary\" : \"\"\n                        } rounded-3 p-2`}\n                        onClick={props.selectFewFar}\n                        onChange={props.selectFewFar}\n                      >\n                        <img src={marketPlaceImage.fewandfar} />\n                        Few & Far\n                      </ChainCardMarket>\n\n                      <ChainCardMarket\n                        className={`${\n                          props.state.tradeport ? \"border border-primary\" : \"\"\n                        } rounded-3 p-2`}\n                        onClick={props.selectTradeport}\n                        onChange={props.selectTradeport}\n                      >\n                        <label\n                          className=\"form-check-label\"\n                          htmlFor=\"myCheckbox\"\n                        >\n                          <img src={marketPlaceImage.tradeport} />\n                          Tradeport\n                        </label>\n                      </ChainCardMarket>\n                    </Markets>\n                  </MarketOption>\n                  <div className=\"\">\n                    <ChainCard\n                      onClick={props.selectCustom}\n                      className={`form-check rounded-4 p-3 ${\n                        props.state.custom ? \"border border-primary\" : \"\"\n                      }`}\n                    >\n                      <label className=\"form-check-label\" htmlFor=\"myCheckbox\">\n                        Custom Marketplace\n                      </label>\n                    </ChainCard>\n                    {props.state.custom && (\n                      <div className=\"\">\n                        Custom Marketplace\n                        <input\n                          type=\"text\"\n                          placeholder={props.state.customMarketLink}\n                          onChange={(e) =>\n                            props.onChangeCustomMarket(e.target.value)\n                          }\n                        />\n                      </div>\n                    )}\n                  </div>\n                  <GrayLabel>\n                    * You will pay some gas in \u24c3 to deposit NEAR to marketplace\n                    address then list your NFT\n                  </GrayLabel>\n                </div>\n                {props.state.custom && !props.state.validMarketLink && (\n                  <div className=\"alert alert-danger\">\n                    <i className=\"bi bi-x\"></i> Not a Valid NEAR Contract for\n                    your custom Marketplace\n                  </div>\n                )}\n              </>\n            )}\n          </div>\n          <div className=\"d-flex flex-column align-items-center text-center\">\n            {props.state.ownsNFT || state.owner === state.sender ? (\n              <ListButton\n                type=\"button\"\n                className=\"btn btn-primary mt-3\"\n                disabled={props.loadingListing}\n                className={props.loadingListing ? \"loading\" : \"\"}\n                onClick={\n                  props.chainState && props.chainState !== \"near\"\n                    ? props.evmList\n                    : props.list\n                }\n              >\n                {!props.loadingListing && \"Listing\"}\n              </ListButton>\n            ) : (\n              <button type=\"button\" className=\"btn btn-secondary mt-3\">\n                You Can Only List An NFT You Own\n              </button>\n            )}\n          </div>\n          {props.state.error && (\n            <div className=\"bg-danger p-2 mt-4 rounded\">\n              <p className=\"text-center text-white pt-2\">\n                Something went wrong when Listing this NFT\n              </p>\n            </div>\n          )}\n        </div>\n      </Main>\n    </div>\n  </>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/agwaze.near/widget/GenaDrop.ListingMarketPrice", "fact_widget_deployments_id": "62e4c91097ad6bab6b757a35227f05ca", "inserted_timestamp": "2024-03-07T05:24:05.087Z", "modified_timestamp": "2024-03-07T05:24:05.087Z", "__row_index": 0}