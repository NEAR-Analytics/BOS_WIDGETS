{"tx_hash": "4LeakugF3DDsTSmWh1Kf8bSUxLkSCQksyUSSQo9XxgAc", "action_id_social": "7RXEgXSEjeohxRjKC7m99cd2AVDBrDpnoUncBKMqbZfR-0-widget", "block_id": 104787718, "block_timestamp": "2023-11-02T20:16:30.319Z", "signer_id": "agwaze.near", "widget_name": "CPlanet.DAO.ProfileNFTs", "source_code": "const Root = styled.div`\n    .noNfts {\n        span {\n            overflow: hidden;\n            color: #B0B0B0;\n            text-align: center;\n            text-overflow: ellipsis;\n            white-space: nowrap;\n            font-family: Helvetica Neue;\n            font-size: 16px;\n            font-style: normal;\n            font-weight: 400;\n            line-height: 148%; /* 23.68px */\n        }\n    }\n`;\n\nconst Cards = styled.div`\n    display: flex;\n    flex-direction: row;\n    gap: 18px;\n    margin-top: 32px;\n    flex-wrap: wrap;\n    width: 100%;\n    justify-content: center;\n`;\n\nconst fetchStoreFrontData = (owner, contractId) => {\n  const response2 = fetch(\"https://graph.mintbase.xyz/mainnet\", {\n    method: \"POST\",\n    headers: {\n      \"mb-api-key\": \"anon\",\n      \"Content-Type\": \"application/json\",\n    },\n    body: JSON.stringify({\n      query: `query MyQuery {\n  mb_views_nft_tokens(\n    where: {owner: {_eq: \"${contractId}\"}}\n    offset: 0\n    order_by: {minted_timestamp: desc}\n  ) {\n   minted_timestamp\n    nft_contract_id\n    title\n    listings {\n      price\n    }\n    metadata_id\n    description\n    media\n    last_transfer_receipt_id\n  }\n}\n`,\n    }),\n  });\n\n  State.update({\n    storeContracts: response2.body.data.mb_views_nft_tokens,\n  });\n};\n\nfetchStoreFrontData(props.ownerId, props.daoId);\n\nconst storeNfts = state.storeContracts;\n\nreturn (\n  <Root>\n    <Cards>\n      {storeNfts.length ? (\n        storeNfts.map((data, index) => (\n          <div key={index}>\n            <Widget\n              props={{\n                title: data.title,\n                description: data.description,\n                image: data.media,\n\n                price: data.listed,\n                owner: \"\",\n                price: data?.listings?.length\n                  ? (data?.listings?.price / 1000000000000000000000000).toFixed(\n                      2\n                    )\n                  : null,\n                isListed: data?.listings?.price ? \"LISTED\" : \"NOT LISTED\",\n                tokenId: data.metadata_id,\n                contractId: data.nft_contract_id,\n                metadataId: data.metadata_id,\n              }}\n              src=\"jgodwill.near/widget/Mintbase.NFTCard.index\"\n            />\n          </div>\n        ))\n      ) : (\n        <div className=\"noNfts\">\n          <span>No NFTs to display right now</span>\n        </div>\n      )}\n    </Cards>\n  </Root>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/agwaze.near/widget/CPlanet.DAO.ProfileNFTs", "fact_widget_deployments_id": "5dbc28438eeda8a1c1a53ad488564cc4", "inserted_timestamp": "2024-03-07T05:24:05.087Z", "modified_timestamp": "2024-03-07T05:24:05.087Z", "__row_index": 3}