{"tx_hash": "D4ewdMnUpC9Np6h8ejeDJfPRQYQSx4hwCdRHMHS7hvYH", "action_id_social": "5zJYK2fHavqWCE5FBdraZQAih3geGfMefoNpQn5ws2tW-0-widget", "block_id": 96761384, "block_timestamp": "2023-07-18T12:55:02.085Z", "signer_id": "rubycop.near", "widget_name": "NDC.Nomination.AddComment", "source_code": "const ModalCard = styled.div`\n  position: fixed;\n  z-index: 1;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  background: rgba(0, 0, 0, 0.7);\n`;\nconst CommentCard = styled.div`\n  display: flex;\n  width: 400px;\n  padding: 20px;\n  flex-direction: column;\n  align-items: flex-start;\n  gap: 16px;\n  border-radius: 10px;\n  background: #fff;\n  border: 1px solid transparent;\n  margin-left: auto;\n  margin-right: auto;\n  margin-buttom: 50%;\n  @media only screen and (max-width: 480px) {\n    width: 90%;\n  }\n`;\nconst H1 = styled.h1`\n  color: black;\n  font-size: 14px;\n  font-weight: 500;\n`;\nconst Container = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: flex-end;\n  gap: 20px;\n  align-self: stretch;\n`;\nconst CommentBody = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n  gap: 16px;\n  align-self: stretch;\n`;\nconst BComment = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n  gap: 8px;\n  align-self: stretch;\n`;\nconst BCommentmessage = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n  gap: 8px;\n  align-self: stretch;\n`;\nconst BCMHeader = styled.div`\n  display: flex;\n  width: 100%;\n  align-items: center;\n  gap: 8px;\n`;\nconst BCMProfile = styled.div`\n  width: 28px;\n  height: 28px;\n  flex-shrink: 0;\n  flex-direction: row;\n  border-radius: 29px;\n  background: #d0d6d9;\n  text-align: center;\n`;\nconst BCMProfileimg = styled.img`\n  width: 28px;\n  height: 28px;\n  flex-shrink: 0;\n  vertical-align: initial;\n`;\nconst BCMProfileUsername = styled.label`\n  display: flex;\n  width: 100%;\n  flex-direction: column;\n  justify-content: center;\n  flex-shrink: 0;\n  color: #000;\n  font-size: 14px;\n\n  font-style: normal;\n  font-weight: 500;\n  line-height: 120%;\n`;\nconst BCMMessage = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-self: stretch;\n  color: #686b6d;\n  font-size: 14px;\n\n  font-style: normal;\n  font-weight: 400;\n  line-height: 120%;\n`;\nconst BFooter = styled.div`\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: flex-start;\n  gap: 4px;\n  align-self: stretch;\n`;\nconst BFootercont = styled.div`\n  display: flex;\n  align-items: center;\n  align-self: stretch;\n`;\nconst BFootercontTime = styled.div`\n  display: flex;\n  align-items: center;\n  gap: 4px;\n  flex: 1 0 0;\n`;\nconst BFCTimetext = styled.div`\n  display: flex;\n  height: 19.394px;\n  flex-direction: column;\n  justify-content: center;\n  flex: 1 0 0;\n  color: #000;\n  font-size: 14px;\n\n  font-style: normal;\n  font-weight: 300;\n  line-height: normal;\n`;\nconst BFCButton = styled.div`\n  display: flex;\n  justify-content: flex-end;\n  align-items: center;\n  gap: 4px;\n`;\nconst BFCButtonitem = styled.button`\n  display: flex;\n  padding: 2px 12px;\n  align-items: center;\n  gap: 6px;\n  border-radius: 4px;\n  border-width: 1px;\n  border: solid 1px #9333ea;\n\n  background-image: linear-gradient(#fff, #fff),\n    radial-gradient(circle at top left, #f0e1ce, #f0e1ce);\n  background-origin: border-box;\n  background-clip: padding-box, border-box;\n`;\nconst BFCBIText = styled.label`\n  font-size: 12px;\n\n  font-style: normal;\n  font-weight: 500;\n  line-height: 24px;\n  color: #9333ea;\n  cursor: pointer;\n`;\nconst NewComment = styled.textarea`\n  width: 100%;\n  display: flex;\n  height: 100px;\n  padding: 9px 10px 0px 10px;\n  align-items: flex-start;\n\n  gap: 10px;\n  align-self: stretch;\n  border-radius: 8px;\n  border: 1px solid #d0d6d9;\n  background: #fff;\n\n  font-size: 12px;\n\n  font-style: normal;\n  font-weight: 400;\n  line-height: 120%;\n`;\nconst CommentFooter = styled.div`\n  display: flex;\n  flex-direction: row;\n  align-items: flex-end;\n  justify-content: end;\n  gap: 16px;\n  align-self: stretch;\n`;\nconst CFCancel = styled.button`\n  display: flex;\n  width: 107px;\n  padding: 8px 12px;\n  justify-content: center;\n  align-items: center;\n  gap: 10px;\n  color: #9333ea;\n  border-radius: 10px;\n  border-width: 1px;\n  border: solid 1px #9333ea;\n\n  background-image: linear-gradient(#fff, #fff),\n    radial-gradient(circle at top left, #f0e1ce, #f0e1ce);\n  background-origin: border-box;\n  background-clip: padding-box, border-box;\n  @media only screen and (max-width: 480px) {\n    width: 100%;\n  }\n`;\n\nconst CFSubmit = styled.button`\n  display: flex;\n  width: 107px;\n  padding: 8px 12px;\n  justify-content: center;\n  align-items: center;\n  gap: 10px;\n  color: #000;\n  display: flex;\n  width: 107px;\n  padding: 8px 12px;\n  justify-content: center;\n  align-items: center;\n  gap: 10px;\n  border-radius: 10px;\n  border-width: 1px;\n  border: solid 1px transparent;\n\n  background-image: linear-gradient(#ffd50d, #ffd50d),\n    radial-gradient(circle at top left, #f0e1ce, #f0e1ce);\n  background-origin: border-box;\n  background-clip: padding-box, border-box;\n  @media only screen and (max-width: 480px) {\n    width: 100%;\n  }\n`;\n\nconst {\n  nomination_contract,\n  candidateOrReplay,\n  username,\n  profile_picture,\n  originalComment,\n  originalCommentID,\n  timeago,\n  _share_url,\n} = props;\n\nconst widgets = {\n  styledComponents: \"rubycop.near/widget/NDC.StyledComponents\",\n};\n\nconst CommentCandidate = () => {\n  //Validate the Data outPut\n  if (state.reply === null) {\n    State.update({ e_message: \"Write a comment \" });\n    return;\n  }\n  if (state.reply != \"\") {\n    // call the smart contract Self nominate comment\n\n    Near.call(\n      nomination_contract,\n      \"comment\",\n      {\n        candidate: username,\n        comment: state.reply,\n      },\n      300000000000000\n    ).then(() => {\n      props.onClickCancel();\n    });\n  } else {\n    //The fields are incomplete\n  }\n};\nconst CommenttoReplay = () => {\n  //Validate the Data outPut\n  if (state.reply != null) {\n    // call the smart contract Self nominate comment\n    /*   Near.call(\n      nomination_contract\n        ? nomination_contract\n        : \"nominations.ndc-gwg.near\",\n      \"comment\",\n      {\n        candidate: username,\n        comment: state.reply,\n      }\n    ).then(() => {\n      props.onClickCancel();\n    });*/\n  } else {\n    //The fields are incomplete\n  }\n};\n// candidateOrReplay :true-Comment candidate  :false-Comment to reply\n\nState.init({\n  theme,\n  reply: \"\",\n  share_url: _share_url,\n  cancel: false,\n  e_message: \"\",\n  shareText: \"Copy to the clipboard \",\n});\n\nconst SetText = (txt) => {\n  console.log(\"cop\");\n  State.update({ shareText: txt });\n};\n\nreturn (\n  <ModalCard>\n    <CommentCard>\n      <H1>{candidateOrReplay ? \" Add a Comment\" : \"Replay to comment\"}</H1>\n      <Container>\n        {!candidateOrReplay ? (\n          <>\n            <CommentBody>\n              <BComment>\n                <BCommentmessage>\n                  <BCMHeader>\n                    <BCMProfile>\n                      {profile_picture ? (\n                        <BCMProfileimg\n                          style={{ \"border-radius\": \"20px\" }}\n                          alt=\"pic\"\n                          src={\n                            \"https://nativonft.mypinata.cloud/ipfs/\" +\n                            profile_picture\n                          }\n                        />\n                      ) : (\n                        <BCMProfileimg\n                          alt=\"pic\"\n                          src={\n                            \"https://emerald-related-swordtail-341.mypinata.cloud/ipfs/QmTKv1yHQKRDQcmc5Jkv2jkaTx2Q1jJE9srHEmyYPq53vJ?preview=1\"\n                          }\n                        />\n                      )}\n                    </BCMProfile>\n                    <BCMProfileUsername>\n                      {username ? \"@\" + username : \"@user.near\"}\n                    </BCMProfileUsername>\n                  </BCMHeader>\n                  <BCMMessage>\n                    {\" \"}\n                    {originalComment\n                      ? originalComment\n                      : \"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Integerquam enim, dignissim sed ante at, convallis maximus enim. Duis  condimentum aliquam nisl nec sagittis. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Integer quam enim, dignissim  sed ante at, convallis maximus enim. Duis condimentum aliquam nisl nec sagittis.\"}\n                  </BCMMessage>\n                </BCommentmessage>\n              </BComment>\n              <BFooter>\n                <label>{state.e_message}</label>\n                <BFootercont>\n                  <BFootercontTime>\n                    <img\n                      alt=\"schedule\"\n                      src={\n                        \"https://emerald-related-swordtail-341.mypinata.cloud/ipfs/QmP3uRUgZtqV3HAgcZoYaDA6JSPpFcpqULvgenWUs3ctSP\"\n                      }\n                      style={{ width: \"14px\", height: \"14px\" }}\n                    />\n                    <BFCTimetext>\n                      {\" \"}\n                      {timeago ? timeago : \"2 hours ago\"}\n                    </BFCTimetext>\n                  </BFootercontTime>\n                  <BFCButton>\n                    <OverlayTrigger\n                      key={placement}\n                      placement={placement}\n                      overlay={\n                        <Tooltip id={`tooltip-${placement}`}>\n                          {state.shareText}\n                        </Tooltip>\n                      }\n                    >\n                      <BFCButtonitem\n                        onClick={() => {\n                          SetText(\"Copied to the clipboard\");\n                          clipboard.writeText(state.share_url);\n                        }}\n                      >\n                        <BFCBIText>Share</BFCBIText>\n                        <img\n                          alt=\"share\"\n                          src={\n                            \"https://emerald-related-swordtail-341.mypinata.cloud/ipfs/QmdFMobsnCyj9USY2mHtLzhu58Mz6BFpMx7tKPQGoWmsHY?preview=1\"\n                          }\n                        />\n                      </BFCButtonitem>\n                    </OverlayTrigger>\n                  </BFCButton>\n                </BFootercont>\n              </BFooter>\n            </CommentBody>\n            <hr\n              style={{\n                width: \"100%\",\n                height: \"0px\",\n                border: \"1px solid rgba(130, 134, 136, 0.20)\",\n                flex: \"none\",\n                background: \"rgba(130, 134, 136, 0.20)\",\n                margin: \"0px\",\n                \"flex-grow\": \"0\",\n              }}\n            />\n          </>\n        ) : (\n          <></>\n        )}\n        <div class=\"w-100 col\">\n          <Widget\n            src={widgets.styledComponents}\n            props={{\n              TextArea: {\n                placeholder: \"Reply here\",\n                maxLength: 2000,\n                value: state.reply,\n                handleChange: (e) =>\n                  State.update({\n                    reply: e.target.value.substring(0, 1000),\n                  }),\n              },\n            }}\n          />\n        </div>\n        <CommentFooter>\n          <Widget\n            src={widgets.styledComponents}\n            props={{\n              Button: {\n                text: \"Cancel\",\n                className: \"secondary dark\",\n                onClick: props.onClickCancel,\n              },\n            }}\n          />\n          <Widget\n            src={widgets.styledComponents}\n            props={{\n              Button: {\n                text: \"Submit\",\n                onClick: () => {\n                  candidateOrReplay ? CommentCandidate() : CommenttoReplay();\n                },\n              },\n            }}\n          />\n        </CommentFooter>\n      </Container>\n    </CommentCard>\n  </ModalCard>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/rubycop.near/widget/NDC.Nomination.AddComment", "fact_widget_deployments_id": "2212d55222d4619325f9255a073fe040", "inserted_timestamp": "2000-01-01T00:00:00.000Z", "modified_timestamp": "2000-01-01T00:00:00.000Z", "__row_index": 0}