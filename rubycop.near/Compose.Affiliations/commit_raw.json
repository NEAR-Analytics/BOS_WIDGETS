{"tx_hash": "5FEnGV7VHLpoTY4uwJEYmbBjiUe1kvRe5M8iW5UfUmka", "action_id_social": "BFyD9jqvvMxJT71BYwNSqPn8AKWp6MQKwCAR2wvXfXk6-0-widget", "block_id": 96633419, "block_timestamp": "2023-07-16T20:36:07.885Z", "signer_id": "rubycop.near", "widget_name": "Compose.Affiliations", "source_code": "const FormsectionAffiliation = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n  padding: 0px;\n\n  width: 100%;\n  height: auto;\n  flex: none;\n\n  flex-grow: 0;\n  @media only screen and (max-width: 480px) {\n  }\n`;\nconst AffiliationHead = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n  padding: 0px;\n\n  width: 100%;\n  height: 26px;\n  flex: none;\n  order: 0;\n  flex-grow: 0;\n  @media only screen and (max-width: 480px) {\n  }\n`;\nconst H2 = styled.h1`\n  height: 14px;\n  font-style: normal;\n  font-weight: 500;\n  font-size: 14px;\n  line-height: 120%;\n  display: flex;\n  align-items: center;\n  color: #000000;\n  flex: none;\n  order: 0;\n  flex-grow: 0;\n  margin-top: 25px;\n`;\nconst AffiliationBody = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n  padding: 0;\n  gap: 8px;\n  width: 100%;\n  height: auto;\n  flex: none;\n  order: 1;\n\n  margin-top: 16px;\n`;\nconst Separator = styled.div`\n  width: 100%;\n  height: 2px;\n  background-color: #d0d6d966;\n  border: solid 0px transparent;\n`;\nconst Section = styled.div`\n  margin-bottom: 5px;\n`;\n\nconst getCurrDate = () => {\n  let year = new Date().getFullYear().toString();\n\n  let month = new Date().getMonth();\n  month = month < 10 ? \"0\" + (month + 1) : month + 1;\n\n  let day = new Date().getDate();\n  day = day < 10 ? \"0\" + day.toString() : day.toString();\n\n  return year + \"-\" + month + \"-\" + day;\n};\n\nlet currDate = getCurrDate();\n\nconst {\n  affiliations,\n  addFields,\n  removeField,\n  handleAFFCompanyName,\n  handleAFFStartdate,\n  handleAFFEnddate,\n  handleAFFRole,\n} = props;\n// State\n\nreturn (\n  <FormsectionAffiliation>\n    <AffiliationHead>\n      <H2>{\"Afiliations\"}</H2>\n      <Widget\n        src={\"rubycop.near/widget/NDC.StyledComponents\"}\n        props={{\n          Button: {\n            size: \"sm\",\n            text: \"Add More Affiliations\",\n            icon: <i class=\"bi bi-lg-plus\" />,\n            handleClick: addFields,\n          },\n        }}\n      />\n    </AffiliationHead>\n\n    <AffiliationBody>\n      {affiliations.map((form, index) => {\n        return (\n          <div\n            class=\"bg-white rounded p-4\"\n            style={{ width: \"100%\", \"margin-top\": \"20px\" }}\n          >\n            <div class=\" col-sm-12 gap-1\">\n              <Widget\n                src={\"rubycop.near/widget/NDC.StyledComponents\"}\n                props={{\n                  Input: {\n                    label: \"Organization Name\",\n                    placeholder: \"Company Name\",\n                    value: form.company_name,\n                    handleChange: (event) =>\n                      handleAFFCompanyName({ index, event }),\n                  },\n                }}\n              />\n              <div className=\"d-flex\">\n                <Section className=\"w-100\">\n                  <Widget\n                    src={\"rubycop.near/widget/NDC.StyledComponents\"}\n                    props={{\n                      Input: {\n                        type: \"date\",\n                        label: \"Start date\",\n                        min: getCurrDate(),\n                        value: form.start_date ?? getCurrDate(),\n                        handleChange: (event) =>\n                          handleAFFStartdate({ index, event }),\n                      },\n                    }}\n                  />\n                </Section>\n                <div className=\"px-2\" />\n                <Section className=\"w-100\">\n                  <Widget\n                    src={\"rubycop.near/widget/NDC.StyledComponents\"}\n                    props={{\n                      Input: {\n                        type: \"date\",\n                        label: \"End date\",\n                        min: getCurrDate(),\n                        value: form.end_date ?? getCurrDate(),\n                        handleChange: (event) =>\n                          handleAFFEnddate({ index, event }),\n                      },\n                    }}\n                  />\n                </Section>\n              </div>\n\n              <Section>\n                <Widget\n                  src={\"rubycop.near/widget/NDC.StyledComponents\"}\n                  props={{\n                    TextArea: {\n                      label: \"Role Description\",\n                      placeholder:\n                        \"Please describe your role at the organization\",\n                      value: form.role,\n                      limit: 2000,\n                      handleChange: (event) => handleAFFRole({ index, event }),\n                    },\n                  }}\n                />\n              </Section>\n\n              <div class=\"flex justify-content-end my-2\">\n                <Widget\n                  src={\"rubycop.near/widget/NDC.StyledComponents\"}\n                  props={{\n                    Button: {\n                      size: \"sm\",\n                      className: \"danger\",\n                      text: \"Delete Affiliation\",\n                      icon: <i class=\"bi bi-trash\" />,\n                      handleClick: () => removeField(index),\n                    },\n                  }}\n                />\n              </div>\n            </div>\n          </div>\n        );\n      })}\n    </AffiliationBody>\n  </FormsectionAffiliation>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/rubycop.near/widget/Compose.Affiliations", "fact_widget_deployments_id": "ac1c96cc8dc81af12ab5d7b9abdef64e", "inserted_timestamp": "2000-01-01T00:00:00.000Z", "modified_timestamp": "2000-01-01T00:00:00.000Z", "__row_index": 28}