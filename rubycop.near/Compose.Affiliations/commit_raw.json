{"tx_hash": "2KxLBQSn4ddpiVFGR9UMb1VYaWSnKVCbnmNhF5ywyavN", "action_id_social": "2jQGqc3L8ihwiNxHqc4hUvo6P4jybdNkU9KFS6PiG46P-0-widget", "block_id": 96634890, "block_timestamp": "2023-07-16T21:03:30.264Z", "signer_id": "rubycop.near", "widget_name": "Compose.Affiliations", "source_code": "const {\n  affiliations,\n  addFields,\n  removeField,\n  handleAFFCompanyName,\n  handleAFFStartdate,\n  handleAFFEnddate,\n  handleAFFRole,\n} = props;\n\nconst H2 = styled.h2`\n  font-size: 14px;\n`;\nconst Separator = styled.div`\n  width: 100%;\n  height: 1px;\n  margin: 5px 0 12px 0;\n  background-color: #d0d6d966;\n`;\nconst Section = styled.div`\n  margin-bottom: 12px;\n`;\n\nconst widgets = {\n  styledComponents: \"rubycop.near/widget/NDC.StyledComponents\",\n};\n\nconst getCurrDate = () => {\n  let year = new Date().getFullYear().toString();\n\n  let month = new Date().getMonth();\n  month = month < 10 ? \"0\" + (month + 1) : month + 1;\n\n  let day = new Date().getDate();\n  day = day < 10 ? \"0\" + day.toString() : day.toString();\n\n  return year + \"-\" + month + \"-\" + day;\n};\n\nreturn (\n  <div className=\"w-100\">\n    <div className=\"d-flex justify-content-between pt-2\">\n      <H2>Afiliations</H2>\n      <Widget\n        src={widgets.styledComponents}\n        props={{\n          Button: {\n            size: \"sm\",\n            text: \"Add More Affiliations\",\n            icon: <i className=\"bi bi-lg-plus\" />,\n            onClick: addFields,\n          },\n        }}\n      />\n    </div>\n    <Separator />\n\n    <div className=\"w-100\">\n      {affiliations.map((form, index) => {\n        return (\n          <div className=\"bg-white rounded p-4\">\n            <div>\n              <Section>\n                <Widget\n                  src={widgets.styledComponents}\n                  props={{\n                    Input: {\n                      label: \"Organization Name\",\n                      placeholder: \"Company Name\",\n                      value: form.company_name,\n                      handleChange: (event) =>\n                        handleAFFCompanyName({ index, event }),\n                    },\n                  }}\n                />\n              </Section>\n              <Section className=\"d-flex\">\n                <div className=\"w-100\">\n                  <Widget\n                    src={widgets.styledComponents}\n                    props={{\n                      Input: {\n                        type: \"date\",\n                        label: \"Start date\",\n                        min: getCurrDate(),\n                        value: form.start_date ?? getCurrDate(),\n                        handleChange: (event) =>\n                          handleAFFStartdate({ index, event }),\n                      },\n                    }}\n                  />\n                </div>\n                <div className=\"px-2\" />\n                <div className=\"w-100\">\n                  <Widget\n                    src={widgets.styledComponents}\n                    props={{\n                      Input: {\n                        type: \"date\",\n                        label: \"End date\",\n                        min: getCurrDate(),\n                        value: form.end_date ?? getCurrDate(),\n                        handleChange: (event) =>\n                          handleAFFEnddate({ index, event }),\n                      },\n                    }}\n                  />\n                </div>\n              </Section>\n\n              <Section>\n                <Widget\n                  src={widgets.styledComponents}\n                  props={{\n                    TextArea: {\n                      label: \"Role Description\",\n                      placeholder:\n                        \"Please describe your role at the organization\",\n                      value: form.role,\n                      limit: 2000,\n                      handleChange: (event) => handleAFFRole({ index, event }),\n                    },\n                  }}\n                />\n              </Section>\n\n              <div className=\"d-flex justify-content-end\">\n                <Widget\n                  src={widgets.styledComponents}\n                  props={{\n                    Button: {\n                      size: \"sm\",\n                      className: \"danger\",\n                      text: \"Delete Affiliation\",\n                      icon: <i className=\"bi bi-trash\" />,\n                      onClick: () => removeField(index),\n                    },\n                  }}\n                />\n              </div>\n            </div>\n          </div>\n        );\n      })}\n    </div>\n  </div>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/rubycop.near/widget/Compose.Affiliations", "fact_widget_deployments_id": "c4dcce3da42e76eac5a1963b78fb84e6", "inserted_timestamp": "2024-03-07T05:24:05.087Z", "modified_timestamp": "2024-03-07T05:24:05.087Z", "__row_index": 0}