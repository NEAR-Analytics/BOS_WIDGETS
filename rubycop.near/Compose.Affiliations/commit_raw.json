{"tx_hash": "FmQuPgSDrj7x4Ex2bTz4aXneNUQKEHQzHEhHM1KPokG2", "action_id_social": "5fXXd83JTPDyjE9MtNtKKreiMfEtsnQKetomVpHcXCEv-0-widget", "block_id": 96633864, "block_timestamp": "2023-07-16T20:44:16.478Z", "signer_id": "rubycop.near", "widget_name": "Compose.Affiliations", "source_code": "const H2 = styled.h2`\n  font-size: 14px;\n`;\nconst AffiliationBody = styled.div`\n  width: 100%;\n  margin-top: 16px;\n`;\nconst Separator = styled.div`\n  width: 100%;\n  height: 1px;\n  background-color: #d0d6d966;\n`;\nconst Section = styled.div`\n  margin-bottom: 5px;\n`;\n\nconst getCurrDate = () => {\n  let year = new Date().getFullYear().toString();\n\n  let month = new Date().getMonth();\n  month = month < 10 ? \"0\" + (month + 1) : month + 1;\n\n  let day = new Date().getDate();\n  day = day < 10 ? \"0\" + day.toString() : day.toString();\n\n  return year + \"-\" + month + \"-\" + day;\n};\n\nlet currDate = getCurrDate();\n\nconst {\n  affiliations,\n  addFields,\n  removeField,\n  handleAFFCompanyName,\n  handleAFFStartdate,\n  handleAFFEnddate,\n  handleAFFRole,\n} = props;\n// State\n\nreturn (\n  <div className=\"w-100\">\n    <div className=\"d-flex justify-content-between\">\n      <H2>Afiliations</H2>\n      <Widget\n        src={\"rubycop.near/widget/NDC.StyledComponents\"}\n        props={{\n          Button: {\n            size: \"sm\",\n            text: \"Add More Affiliations\",\n            icon: <i className=\"bi bi-lg-plus\" />,\n            handleClick: addFields,\n          },\n        }}\n      />\n    </div>\n    <Separator />\n\n    <AffiliationBody>\n      {affiliations.map((form, index) => {\n        return (\n          <div className=\"bg-white rounded p-4\">\n            <div className=\" col-sm-12 gap-1\">\n              <Widget\n                src={\"rubycop.near/widget/NDC.StyledComponents\"}\n                props={{\n                  Input: {\n                    label: \"Organization Name\",\n                    placeholder: \"Company Name\",\n                    value: form.company_name,\n                    handleChange: (event) =>\n                      handleAFFCompanyName({ index, event }),\n                  },\n                }}\n              />\n              <div className=\"d-flex\">\n                <Section className=\"w-100\">\n                  <Widget\n                    src={\"rubycop.near/widget/NDC.StyledComponents\"}\n                    props={{\n                      Input: {\n                        type: \"date\",\n                        label: \"Start date\",\n                        min: getCurrDate(),\n                        value: form.start_date ?? getCurrDate(),\n                        handleChange: (event) =>\n                          handleAFFStartdate({ index, event }),\n                      },\n                    }}\n                  />\n                </Section>\n                <div className=\"px-2\" />\n                <Section className=\"w-100\">\n                  <Widget\n                    src={\"rubycop.near/widget/NDC.StyledComponents\"}\n                    props={{\n                      Input: {\n                        type: \"date\",\n                        label: \"End date\",\n                        min: getCurrDate(),\n                        value: form.end_date ?? getCurrDate(),\n                        handleChange: (event) =>\n                          handleAFFEnddate({ index, event }),\n                      },\n                    }}\n                  />\n                </Section>\n              </div>\n\n              <Section>\n                <Widget\n                  src={\"rubycop.near/widget/NDC.StyledComponents\"}\n                  props={{\n                    TextArea: {\n                      label: \"Role Description\",\n                      placeholder:\n                        \"Please describe your role at the organization\",\n                      value: form.role,\n                      limit: 2000,\n                      handleChange: (event) => handleAFFRole({ index, event }),\n                    },\n                  }}\n                />\n              </Section>\n\n              <div className=\"d-flex justify-content-end\">\n                <Widget\n                  src={\"rubycop.near/widget/NDC.StyledComponents\"}\n                  props={{\n                    Button: {\n                      size: \"sm\",\n                      className: \"danger\",\n                      text: \"Delete Affiliation\",\n                      icon: <i className=\"bi bi-trash\" />,\n                      handleClick: () => removeField(index),\n                    },\n                  }}\n                />\n              </div>\n            </div>\n          </div>\n        );\n      })}\n    </AffiliationBody>\n  </div>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/rubycop.near/widget/Compose.Affiliations", "fact_widget_deployments_id": "6f3c42468df71965baa52f5241b001a8", "inserted_timestamp": "2000-01-01T00:00:00.000Z", "modified_timestamp": "2000-01-01T00:00:00.000Z", "__row_index": 27}