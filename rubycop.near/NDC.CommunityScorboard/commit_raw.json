{"tx_hash": "5JP5ZhzKEfStuMUNCY3wTfh7KtHnGmCei1GeiYUbAJfw", "action_id_social": "EWGgenguBVm4FS91VzrjDC6AYdSv9qMfiQviZJ66Ss7d-0-widget", "block_id": 100025742, "block_timestamp": "2023-08-30T19:48:18.589Z", "signer_id": "rubycop.near", "widget_name": "NDC.CommunityScorboard", "source_code": "State.init({\n  data: [],\n});\n\nasyncFetch(\n  \"https://scoreboard-ophc7vkxsq-uc.a.run.app/scoreboard?communityName=zomland&communityVertical=gaming\",\n  {\n    method: \"GET\",\n    headers: {\n      Accept: \"application/json\",\n      \"Content-Type\": \"application/json\",\n    },\n  }\n).then((res) => {\n  if (res.body) State.update({ data: res.body.data });\n});\n\nconst Loader = () => (\n  <span\n    className=\"spinner-grow spinner-grow-sm me-1\"\n    role=\"status\"\n    aria-hidden=\"true\"\n  />\n);\n\nif (state.data.length === 0)\n  return (\n    <>\n      <Loader /> Fetching users\n    </>\n  );\n\nconst UserName = styled.div`\n  color: inherit !important;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  font-size: 14px;\n  padding-top: 2px;\n  width: 200px;\n`;\n\nreturn (\n  <div className=\"d-flex justify-content-center w-100\">\n    <div className=\"w-50\">\n      <h2>ZomLand Community</h2>\n      <small>Total users: {state.data.length}</small>\n      <hr className=\"my-2\" />\n      {state.data.length > 0 ? (\n        state.data\n          .sort((a, b) => new Date(b.created_at) - new Date(a.created_at))\n          .map((user) => (\n            <div className=\"d-flex justify-content-between align-items-center p-1\">\n              <Widget\n                src=\"near/widget/AccountProfileOverlay\"\n                props={{\n                  accountId: user.account,\n                  children: (\n                    <div className=\"d-flex justify-items-center\">\n                      <Widget\n                        src=\"mob.near/widget/ProfileImage\"\n                        props={{\n                          accountId: user.account,\n                          imageClassName: \"rounded-circle w-100 h-100\",\n                          style: {\n                            width: \"24px\",\n                            height: \"24px\",\n                            marginRight: 5,\n                          },\n                        }}\n                      />\n                      <UserName>{user.account}</UserName>\n                    </div>\n                  ),\n                }}\n              />\n\n              <small className=\"text-secondary\">\n                {new Date(user.created_at).toLocaleDateString(\"en-US\", {\n                  day: \"2-digit\",\n                  month: \"short\",\n                })}\n                &middot;\n                {new Date(user.created_at).toLocaleTimeString(\"en-US\", {\n                  hour: \"2-digit\",\n                })}\n              </small>\n            </div>\n          ))\n      ) : (\n        <div>\n          <Loader /> Fetching users\n        </div>\n      )}\n    </div>\n  </div>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/rubycop.near/widget/NDC.CommunityScorboard", "fact_widget_deployments_id": "fbefc16445ddf7ede7d2b1c39e71541e", "inserted_timestamp": "2023-08-30T21:41:11.071Z", "modified_timestamp": "2023-08-30T21:41:11.071Z", "__row_index": 1}