{"tx_hash": "32TnHEBhYq4qkkofe1nFYB6k6Nz2RBvsppywTG1eGMBC", "action_id_social": "3dXNnAMGiAgRzYSfTqNbxqTJLdD2zQRM56uWX3sZzKws-0-widget", "block_id": 110946709, "block_timestamp": "2024-01-21T08:41:04.705Z", "signer_id": "memiko.near", "widget_name": "mem.Pages.Index", "source_code": "const { assets, content, contractName } = props;\n\nconst symbols = {\n  \"memiko.near\": \"MEM\",\n  \"ftv2.nekotoken.near\": \"NEKO\",\n  \"token.lonkingnearbackto2024.near\": \"LONK\",\n  \"blackdragon.tkn.near\": \"BLACKDRAGON\",\n  \"memelol.near\": \"LOL\",\n  \"token.0xshitzu.near\": \"SHITZU\",\n};\n\nconst Container = styled.div`\n  width: 100%;\n  height: max-content;\n  overflow: hidden;\n`;\n\nconst Section = styled.div`\n  padding: 2rem 3rem;\n\n  .text-sm {\n    font-size: 0.9rem;\n  }\n`;\n\nconst GrayBlock = styled.div`\n  background-color: #f5f5f5;\n  border-radius: 12px;\n`;\n\nconst [stats, setStats] = useState({\n  remains: [],\n  total_box_opened: 0,\n  total_participants: 0,\n  startDate: 9999999999999,\n});\n\nconst [history, setHistory] = useState([]);\nconst [total, setTotal] = useState({});\nconst [isWhitelisted, setIsWhitelisted] = useState(false);\n\nconst fetchStats = () => {\n  const stats = Near.view(contractName, \"get_total_info\");\n  setStats({\n    remains: stats[0],\n    total_box_opened: stats[1],\n    total_participants: stats[2],\n    startDate: stats[3]\n      ? new Big(stats[3] || 0).div(1000 * 1000).toNumber()\n      : 0,\n  });\n};\nconst fetchWhitelist = () => {\n  const whitelisted = Near.view(contractName, \"is_whitelisted\", {\n    account_id: context.accountId,\n  });\n  setIsWhitelisted(whitelisted);\n};\n\nconst fetchHistory = () => {\n  const history = Near.view(contractName, \"account_rewards\", {\n    account_id: context.accountId,\n  });\n  if (!history) return;\n\n  const historyTransformed = history[0]\n    .map((i, index) => {\n      i[\"num\"] = index + 1;\n      return i;\n    })\n    .reverse();\n\n  let total = {};\n  historyTransformed.forEach((item, index) => {\n    if (!total[\"memiko.near\"]) {\n      total[\"memiko.near\"] = 0;\n    }\n    total[\"memiko.near\"] += item.total_mem;\n\n    if (item.token) {\n      if (!total[item.token]) {\n        total[item.token] = 0;\n      }\n      total[item.token] += item.total_token;\n    }\n  });\n\n  setHistory(historyTransformed);\n  setTotal(total);\n};\n\nfetchStats();\n\nif (context.accountId) {\n  fetchWhitelist();\n  fetchHistory();\n}\n\nconst getShareText = () => {\n  let totalInfo = \"\";\n  if (Object.keys(total).length > 0) {\n    totalInfo = Object.keys(total)\n      .map((key) => `${total[key]} ${symbols[key]}`)\n      .join(\", \");\n  }\n\n  return \"https://twitter.com/intent/tweet?text=I%20just%20received%20____%20Memecoins%20on%20%40NEARProtocol%20from%20an%20pack%20open%21%20%F0%9F%9A%80%20%0Ahttps%3A%2F%2Fnear.org%2Fmemiko.near%2Fwidget%2Fmem.App%0A%0AJoining%20to%20share%20the%20MEM%20%23airdrop%20and%20excited%20to%20earn%20more%20with%20%40MemikoNEAR%21%20%F0%9F%8C%9F%0A%23memecoins%20%23memAirdropJoin\".replace(\n    \"____\",\n    encodeURI(totalInfo),\n  );\n};\n\nreturn (\n  <Container className=\"d-flex flex-column gap-4\">\n    <Section className=\"p-0\">\n      <div\n        className={\"position-relative overflow-hidden\"}\n        style={{\n          width: \"100%\",\n          height: \"186px\",\n          background: `no-repeat center url(\"${assets.banner}\")`,\n          backgroundSize: \"100%\",\n          borderTopLeftRadius: \"20px\",\n          borderTopRightRadius: \"20px\",\n        }}\n      >\n        <div\n          className=\"text-center title-font pt-5 position-relative\"\n          style={{ zIndex: 2 }}\n        >\n          <h1>Memiko</h1>\n          <p>\n            #1 NEAR Memecoin Community\n            <span className={\"px-1 opacity-50\"}>|</span>\n            <a href=\"https://twitter.com/MemikoNEAR\" target={\"_blank\"}>\n              Memiko Twitter\n            </a>\n          </p>\n        </div>\n        <div\n          style={{\n            backgroundColor: `rgba(255, 255, 255, 0.9)`,\n            left: 0,\n            right: 0,\n            zIndex: 0,\n          }}\n          className={\"position-absolute left-0 top-0 right-0 bottom-0\"}\n        ></div>\n      </div>\n\n      <div\n        style={{\n          borderBottomLeftRadius: \"20px\",\n          borderBottomRightRadius: \"20px\",\n          backgroundColor: `rgba(200, 200, 200, 0.2)`,\n        }}\n      >\n        <div className=\"text-center title-font mb-6 py-3 px-6 text-sm\">\n          <p className={\"mt-1 pt-1\"}>\n            Passionate about memecoins and staying up-to-date on the latest\n            trends? Welcome to the NEAR Memecoin Community, your hub for all\n            things memecoin!\n          </p>\n        </div>\n      </div>\n    </Section>\n\n    <Section className=\"pt-10\">\n      <Widget\n        src=\"memiko.near/widget/mem.Components.OpenPack\"\n        props={{\n          contractName,\n          isWhitelisted,\n          startDate: stats.startDate,\n        }}\n      />\n    </Section>\n\n    <Section className=\"p-0\">\n      <GrayBlock>\n        <div className=\"text-center mb-6 py-4 px-4\">\n          <h2 className={\"mb-3\"}>My Pack History</h2>\n          {Object.keys(total).length > 0 && (\n            <p className={\"text-center mb-2 mt-0 pt-0\"}>\n              <small className={\"text-sm\"} style={{ opacity: \"0.7\" }}>\n                TOTAL:\n              </small>{\" \"}\n              {Object.keys(total).map((key) => (\n                <span key={key} className={\"mx-2\"}>\n                  {total[key]}{\" \"}\n                  <small className={\"text-sm\"} style={{ opacity: \"0.7\" }}>\n                    {symbols[key]}\n                  </small>\n                </span>\n              ))}\n            </p>\n          )}\n\n          <div className={\"mb-3\"}>\n            {history.length > 0 ? (\n              <>\n                <p className={\"mb-4 pb-2\"}>\n                  <a\n                    href={getShareText()}\n                    target={\"_blank\"}\n                    style={{\n                      borderRadius: \"10px\",\n                      padding: \"10px 20px\",\n                      backgroundColor: \"#66a0ff\",\n                      fontWeight: \"bold\",\n                      color: \"#FFFFFF\",\n                      display: \"inline-block\",\n                      fontSize: \"1rem\",\n                    }}\n                  >\n                    Share to join MEM Airdrop\n                  </a>\n                </p>\n                <div\n                  className={\n                    \"d-flex flex-row flex-wrap text-center gap-4 mx-auto\"\n                  }\n                  style={{ justifyContent: \"center\" }}\n                >\n                  {history.map((item) => (\n                    <div\n                      className={\"bg-white p-3\"}\n                      style={{\n                        width: \"250px\",\n                        borderRadius: \"8px\",\n                        border: \"1px solid #DDD\",\n                      }}\n                    >\n                      <small style={{ color: \"#279b30\" }}>\n                        My Pack #{item.num}\n                      </small>\n                      <hr\n                        className={\"p-0 mt-2 mb-3\"}\n                        style={{ opacity: \"0.1\" }}\n                      />\n                      <p className={\"p-0 m-0\"}>\n                        {parseInt(item.total_mem)}{\" \"}\n                        <small className={\"text-sm\"} style={{ opacity: \"0.7\" }}>\n                          MEM\n                        </small>\n                      </p>\n                      {item.token && (\n                        <p className={\"p-0 m-0\"}>\n                          {item.total_token}{\" \"}\n                          <small\n                            className={\"text-sm\"}\n                            style={{ opacity: \"0.7\" }}\n                          >\n                            {symbols[item.token]}\n                          </small>\n                        </p>\n                      )}\n                    </div>\n                  ))}\n                </div>\n              </>\n            ) : (\n              <p className={\"opacity-50 text-sm\"}>*No pack open history</p>\n            )}\n          </div>\n        </div>\n      </GrayBlock>\n    </Section>\n\n    <Section className={\"text-center\"}>\n      <h2>MEM Token Info</h2>\n      <p className={\"mt-3\"}>\n        Total Supply: <b>1,000,000,000 MEM</b>{\" \"}\n        <span className={\"px-1 opacity-50\"}>|</span> 100% decentralised\n      </p>\n\n      <img\n        src={assets.tokenomics}\n        style={{ width: \"60%\", margin: \"auto\", opacity: \"0.9\" }}\n        alt={\"tokenomic\"}\n      />\n      <p className={\"text-sm opacity-50\"}>\n        *Memes Support - send 2% MEM tokens to existing NEAR memecoins and\n        communities.\n      </p>\n    </Section>\n\n    <Section\n      className=\"d-flex flex-column align-items-center justify-content-center pb-0 mb-0\"\n      color=\"#efefef\"\n    >\n      <GrayBlock>\n        <div style={{ width: \"70%\", margin: \"auto\" }} className={\"py-4\"}>\n          <div className=\"text-center font mt-2\">\n            <h2>About Memiko</h2>\n          </div>\n          <div className=\"d-flex my-4 flex-column w-100 gap-2 text-sm\">\n            <p>\n              Memiko is Memecoin Community, your prime hub for everything\n              related to memecoins on the NEAR blockchain. We're a community of\n              memecoin enthusiasts who are passionate about staying up-to-date\n              on the latest trends and opportunities in the memecoin universe.\n            </p>\n            <p className={\"m-0 p-0\"}>\n              \ud83d\udcb0 <b>Stay Turned and Earn on Memecoins:</b> Join our vibrant\n              community to keep a close eye on the ever-evolving world of\n              memecoins. Get real-time updates on new launches, market trends,\n              and exciting opportunities to earn while having a blast with\n              fellow memecoin enthusiasts.\n            </p>\n            <p className={\"m-0 p-0\"}>\n              \ud83d\ude80 <b>Supporting New Projects:</b> At NEAR Memecoin Community, we\n              believe in fostering innovation. We're committed to supporting and\n              promoting new memecoin projects that bring something unique to the\n              table. Be the first to discover hidden gems and revolutionary\n              memecoin ideas!\n            </p>\n            <p className={\"m-0 p-0\"}>\n              \ud83d\udce2 <b>Latest Updates Straight to Your Feed:</b> Don't miss a beat!\n              We curate and deliver the freshest memecoin updates directly to\n              your twitter feed. From meme-worthy moments to groundbreaking\n              announcements, be in the loop and share the excitement with your\n              fellow community members.\n            </p>\n            <p className={\"m-0 p-0\"}>\n              \ud83c\udf89 <b>Special Events and Giveaways:</b> Get ready for exclusive\n              events and airdrops that are bound to elevate your memecoin\n              journey. Participate in fun challenges, win amazing prizes, and\n              connect with a community that shares your passion for all things\n              memecoin!\n            </p>\n            <hr style={{ opacity: \"0.1\" }} />\n            <p className={\"mt-2 p-0\"}>\n              \ud83c\udf81 <b>MEM Packs:</b> our community mint 58% MEM tokens from packs,\n              priced at 0.25 NEAR/pack on first-come, first-served basis. There\n              is no team allocation, ensuring that MEM tokens will be fully\n              decentralized!\n            </p>\n            <p>\n              <b>\n                Received NEAR tokens will be allocated for the creation of\n                MEM/NEAR Liquidity Pool, which is planned to be established a\n                few days after the last pack open.\n              </b>\n            </p>\n            <p>\n              Addresses on the whitelist can receive between 12,000 and 16,000\n              MEM tokens from each pack, while those not on the whitelist get\n              between 6,000 and 8,000 MEM tokens. Additionally, the first packs\n              offer a chance to obtain a random amount of one of the existing\n              NEAR memecoins: NEKO, LONK, BLACKDRAGON, LOL, or Shitzu. These\n              memecoins are distributed across 1,000 packs each, with a total of\n              5,000 packs containing memecoin bonus.\n            </p>\n          </div>\n        </div>\n      </GrayBlock>\n    </Section>\n  </Container>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/memiko.near/widget/mem.Pages.Index", "fact_widget_deployments_id": "0b0703463b79b27457dc616813d3ff6b", "inserted_timestamp": "2024-03-07T05:24:05.087Z", "modified_timestamp": "2024-03-07T05:24:05.087Z", "__row_index": 0}