{"tx_hash": "5N3mRfnru8SnEMADp9YsVr2WyMLfJUyJEnTe5ns7LPzi", "action_id_social": "33U1RWYpKcJZGGed6wJs1n79Yx14r9LSFtnep533pbSA-0-widget", "block_id": 87374125, "block_timestamp": "2023-03-15T20:13:35.546Z", "signer_id": "adminalpha.near", "widget_name": "adminalpha.near.Moderate", "source_code": "const moderatorAccount = props?.moderatorAccount || \"adminalpha.near\";\nState.init({ inputContent: \"\" });\n\nconst filterUserList = Social.get(\n  `${moderatorAccount}/moderate/users`,\n  \"optimistic\",\n  {\n    subscribe: true,\n  }\n);\n\nconst filtered = filterUserList ? JSON.parse(filterUserList) : [];\nreturn (\n  <div className=\"d-flex flex-column gap-5\">\n    <span>Admin: {moderatorAccount}</span>\n    <table className=\"table\">\n      <th>Filtered users</th>\n      <tbody>\n        {filtered.map((f) => (\n          <tr key={f}>\n            <td>{f}</td>\n            <td>\n              <CommitButton\n                className=\"btn btn-danger\"\n                data={{\n                  moderate: {\n                    users: filtered.filter((j) => j !== f),\n                  },\n                }}\n              >\n                <i className=\"bi bi-x\" />\n              </CommitButton>\n            </td>\n          </tr>\n        ))}\n      </tbody>\n    </table>\n    <div className=\"d-flex flex-row gap-2\">\n      <input\n        type=\"text\"\n        value={state.inputContent}\n        onChange={(e) => {\n          State.update({ inputContent: e.target.value });\n        }}\n        placeholder=\"Comma-separated list of accounts\"\n      />\n      <CommitButton\n        data={{\n          moderate: {\n            users: filtered.concat(\n              state.inputContent.split(\",\").map((i) => i.trim())\n            ),\n          },\n        }}\n        onCommit={() => {\n          State.update({ inputContent: \"\" });\n        }}\n      >\n        Add to filter\n      </CommitButton>\n    </div>\n    <span style={{ color: \"grey\" }}>\n      When saving, ensure data is being written to moderator key. You may need\n      to refresh your browser if you used \"Pretend to be another account\" while\n      on this page\n    </span>\n  </div>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/adminalpha.near/widget/adminalpha.near.Moderate", "fact_widget_deployments_id": "857468f2f2635d99143c458cf45fd845", "inserted_timestamp": "2024-03-07T05:24:05.087Z", "modified_timestamp": "2024-03-07T05:24:05.087Z", "__row_index": 2}