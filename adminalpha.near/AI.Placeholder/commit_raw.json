{"tx_hash": "B5PjBsvWkVMkGwLDQy6TRjb9wUfHJfreVuGnn2a2q6yz", "action_id_social": "DRw1NReGANPXi3Ny39HQ66TarvCKF4qgtsFborweBGEn-0-widget", "block_id": 116696618, "block_timestamp": "2024-04-12T16:32:51.229Z", "signer_id": "adminalpha.near", "widget_name": "AI.Placeholder", "source_code": "const { href } = VM.require(\"devhub.near/widget/core.lib.url\");\nif (!href) {\n  return <></>;\n}\n\nconst { namespace, entityType, title } = props;\n\nconst { genSchema } = VM.require(\n  `near/widget/Entities.Template.GenericSchema`,\n  { namespace, entityType },\n);\nif (!genSchema) {\n  return <></>;\n}\nconst schema = genSchema(namespace, entityType);\n\nconst Row = styled.div`\n  vertical-align: middle;\n  padding-bottom: 1em;\n  img.logo {\n    width: 30%;\n    aspect-ratio: 1 / 1;\n    border-radius: 50%;\n    object-fit: cover;\n  }\n`;\nconst Actions = styled.div`\n  display: flex;\n  align-items: center;\n  gap: 2px;\n`;\n\nconst renderItem = (item, editFunction) => {\n  const { accountId, name, displayName, logoUrl } = item;\n  const itemComponent = item.component\n    ? item.component\n    : `near/widget/AI.Agent.AgentChat`;\n  const imageUrl =\n    logoUrl ??\n    \"https://ipfs.near.social/ipfs/bafkreibysr2mkwhb4j36h2t7mqwhynqdy4vzjfygfkfg65kuspd2bawauu\";\n  const actionLink = href({\n    widgetSrc: itemComponent,\n    params: { src: `${accountId}/agent/${name}` },\n  });\n  const detailsLink = href({\n    widgetSrc: `near/widget/AI.Agent.AgentDetails`,\n    params: { src: `${accountId}/agent/${name}` },\n  });\n\n  const actionUrl = `https://near.org/${itemComponent}?src=${accountId}/agent/${item.name}`;\n  const editType = accountId === context.accountId ? \"edit\" : \"fork\";\n  const editLabel = editType === \"edit\" ? \"Edit\" : \"Fork\";\n  const editIcon =\n    editType === \"edit\" ? \"ph-bold ph-pencil-simple\" : \"ph-bold ph-git-fork\";\n\n  return (\n    <Row className=\"row\">\n      <div className=\"col-2\">\n        <img className=\"logo\" src={imageUrl} alt=\"logo\" />\n      </div>\n      <div className=\"col-4\">{displayName}</div>\n      <div className=\"col-2\">{accountId}</div>\n      <div className=\"col-2\">\n        <Actions>\n          <Widget\n            src=\"near/widget/DIG.Tooltip\"\n            props={{\n              content: editLabel,\n              trigger: (\n                <Widget\n                  src=\"near/widget/DIG.Button\"\n                  props={{\n                    onClick: () => editFunction(item),\n                    iconLeft: editIcon,\n                    variant: \"secondary\",\n                    fill: \"ghost\",\n                    size: \"small\",\n                  }}\n                />\n              ),\n            }}\n          />\n          <Widget\n            src=\"near/widget/CopyUrlButton\"\n            props={{\n              url: actionUrl,\n            }}\n          />\n          <Widget\n            src=\"near/widget/ShareButton\"\n            props={{\n              postType: \"Placeholder\",\n              url: actionUrl,\n            }}\n          />\n          <Widget\n            src=\"near/widget/DIG.Tooltip\"\n            props={{\n              content: \"View Details\",\n              trigger: (\n                <Link to={detailsLink} style={{ all: \"unset\" }}>\n                  <Widget\n                    src=\"near/widget/DIG.Button\"\n                    props={{\n                      iconLeft: \"ph-bold ph-eye\",\n                      variant: \"secondary\",\n                      fill: \"ghost\",\n                      size: \"small\",\n                    }}\n                  />\n                </Link>\n              ),\n            }}\n          />\n          <Widget\n            src=\"near/widget/DIG.Tooltip\"\n            props={{\n              content: \"Use \" + entityType,\n              trigger: (\n                <Link to={actionLink} style={{ all: \"unset\" }}>\n                  <Widget\n                    src=\"near/widget/DIG.Button\"\n                    props={{\n                      iconLeft: \"ph-bold ph-chat-teardrop-text\",\n                      variant: \"secondary\",\n                      fill: \"ghost\",\n                      size: \"small\",\n                    }}\n                  />\n                </Link>\n              ),\n            }}\n          />\n        </Actions>\n      </div>\n    </Row>\n  );\n};\n\nconst createWidget = \"near/widget/Entities.Template.EntityCreate\";\n\nconst loadItems = (queries, queryName, offset, collection, onLoad) => {\n  const placeholderData = {\n    data: [\n      {\n        name: \"test1\",\n        displayName: \"Alpha Alpaca Aardvark Alumnus\",\n        accountId: \"root.near\",\n        logoUrl:\n          \"https://ipfs.near.social/ipfs/bafkreibysr2mkwhb4j36h2t7mqwhynqdy4vzjfygfkfg65kuspd2bawauu\",\n      },\n      {\n        name: \"test2\",\n        displayName: \"Beta Barracuda Baleen Boilermaker\",\n        accountId: \"root.near\",\n        logoUrl:\n          \"https://ipfs.near.social/ipfs/bafkreibysr2mkwhb4j36h2t7mqwhynqdy4vzjfygfkfg65kuspd2bawauu\",\n      },\n      {\n        name: \"test3\",\n        displayName: \"Gamma Guppy Gorilla Grapher\",\n        accountId: \"root.near\",\n        logoUrl:\n          \"https://ipfs.near.social/ipfs/bafkreibysr2mkwhb4j36h2t7mqwhynqdy4vzjfygfkfg65kuspd2bawauu\",\n      },\n    ],\n  };\n  return Promise.resolve().then(() =>\n    onLoad(placeholderData.data, placeholderData.data.length),\n  );\n};\nconst buildQueries = (params) => null;\nconst queryName = \"unused\";\n\nreturn (\n  <div>\n    <h4>{title}</h4>\n    <Widget\n      src=\"near/widget/Entities.Template.EntityList\"\n      props={{\n        table: true,\n        entityType,\n        loadItems,\n        buildQueries,\n        queryName,\n        collection: \"data\",\n        renderItem,\n        createWidget,\n        schema,\n      }}\n    />\n  </div>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/adminalpha.near/widget/AI.Placeholder", "fact_widget_deployments_id": "3ae6b3886fbf78fd6f48cb10cb205bb5", "inserted_timestamp": "2024-04-12T18:33:43.909Z", "modified_timestamp": "2024-04-12T18:33:43.909Z", "__row_index": 0}