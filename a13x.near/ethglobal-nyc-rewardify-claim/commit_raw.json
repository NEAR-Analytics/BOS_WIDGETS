{"tx_hash": "HH1myd6tqiwx9biWHCyBUWQ3ou1d4YMVZvJFzVNgsdwR", "action_id_social": "FvMRveQHYjv3svWpGDFThMNUwLV66VHLNioAspKdReBs-0-widget", "block_id": 101855190, "block_timestamp": "2023-09-24T14:46:55.351Z", "signer_id": "a13x.near", "widget_name": "ethglobal-nyc-rewardify-claim", "source_code": "const drop = props.drop || \"\";\n\nconst API_URL = `https://us-central1-rewardify.cloudfunctions.net/helloWorld?a=${drop}&t=`;\n\nif (state.sender === undefined) {\n  const accounts = Ethers.send(\"eth_requestAccounts\", []);\n  if (accounts.length) {\n    State.update({ sender: accounts[0], walletAddress: accounts[0] });\n    console.log(\"set sender\", accounts[0]);\n  }\n}\n\nconst handleButtonClick = async () => {\n  return asyncFetch(API_URL + encodeURIComponent(state.tweetUrl), {\n    headers: {\n      \"Content-Type\": \"application/json\",\n    },\n    method: \"POST\",\n  }).then((res) => {\n    state.update({ result: JSON.stringify(res.body) });\n  });\n};\n\nconst handleInputChange = (e) => {\n  console.log(e.target);\n  State.update({\n    [e.target.id]: e.target.value,\n  });\n};\n\nreturn (\n  <>\n    <div class=\"card mt-5\">\n      <div class=\"card-header d-flex justify-content-between align-items-center p-3\">\n        <h2 className=\"mb-0\">Rewardify claim</h2>\n        <div className=\"d-flex flex-row align-items-center\">\n          <Web3Connect connectLabel=\"Connect wallet\" />\n        </div>\n      </div>\n\n      <div class=\"d-flex justify-content-start align-items-center p-3\">\n        <label for=\"value\">Tweet URL</label>\n        <input\n          className=\"form-control ms-2 me-2\"\n          onChange={handleInputChange}\n          type=\"text\"\n          placeholder=\"\"\n          value={state.tweetUrl}\n          id=\"tweetUrl\"\n        />\n      </div>\n\n      <div class=\"card-footer text-muted justify-content-start align-items-center p-3\">\n        <button\n          class=\"btn btn-primary\"\n          onClick={handleButtonClick}\n          disabled={!state.tweetUrl}\n        >\n          Claim\n        </button>\n        {result}\n      </div>\n    </div>\n  </>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/a13x.near/widget/ethglobal-nyc-rewardify-claim", "fact_widget_deployments_id": "f99ce155c1a6ff7fc12bedec3d297939", "inserted_timestamp": "2023-09-24T16:38:39.669Z", "modified_timestamp": "2023-09-24T16:38:39.669Z", "__row_index": 2}