{"tx_hash": "CcDJqz8G4McfCtsZFZTCGjYeenRiwo16Z6P8p9RFRQWC", "action_id_social": "AVavo3BrDCWafozCwtRoWbRM5RnERnzsqoonGcoQgUEA-0-widget", "block_id": 111219243, "block_timestamp": "2024-01-24T17:55:29.370Z", "signer_id": "aaaliahmad.near", "widget_name": "CoinPrice", "source_code": "import React, { useState, useEffect } from \"react\";\nimport styled from \"styled-components\";\nimport Big from \"big.js\";\n\nconst DATAPrice = (props) => {\n  const keys = props.keys ?? [\n    \"wrap.near\",\n    \"aurora\",\n    \"2260fac5e5542a773aa44fbcfedf7c193bc2c599.factory.bridge.near\",\n    \"aaaaaa20d9e0e2461697782ef11675f668207961.factory.bridge.near\",\n    \"linear-protocol.near\",\n    \"4691937a7508860f876c9c0a2a617e7d9e945d4b.factory.bridge.near\",\n  ];\n\n  const tokenColors = [\n    \"green\",\n    \"#3b0380\",\n    \"orange\",\n    \"red\",\n    \"green\",\n    \"black\",\n    \"blue\",\n  ];\n\n  const checkPriceLink = \"https://www.coingecko.com/en/coins/\";\n\n  const linkToken = [\n    \"near\",\n    \"ethereum\",\n    \"bitcoin\",\n    \"aurora-near\",\n    \"inear-protocol\",\n    \"woo-network\",\n  ];\n\n  const tokenImg = [\n    \"https://ipfs.near.social/ipfs/bafkreigy3uyyaianaeohczuys2bvwvfm6c6wtahbn5mwl6do5bk4w2fnni\",\n    \"https://ipfs.near.social/ipfs/bafkreibddakqw35thdstr7vb2zohixpjth4ff26xciu2otxftjbifhnfpa\",\n    \"https://ipfs.near.social/ipfs/bafkreihyafuo35nm3mifpmzsc546vco5bkj243mti3wmgwuzx663rkv7dy\",\n    \"https://ipfs.near.social/ipfs/bafkreihc7fmdrxhzfozf6es5tujsvyqtgfq4nroctgptufmfyzkhrcuham\",\n    \"https://ipfs.near.social/ipfs/bafkreiht5axwgfoptyf2b7o2omyfvdgxwsdtxg4rie3ivknj752ryjyqqy\",\n    \"https://ipfs.near.social/ipfs/bafkreidggzeg2jomuhw5o7b2vqwf4jsgk6fof5dzgcep6kxpqnt6x45i3i\",\n  ];\n\n  const [prices, setPrices] = useState([]);\n\n  const fetchPrices = async () => {\n    // Fetch priceData and assetsData here...\n\n    // Existing code for processing data...\n\n    let newPrices = assetsData.map((asset, index) => {\n      // Existing code for mapping assets...\n\n      return (\n        <Col key={assetAccountId} color={tokenColors[index]}>\n          <LogoLink\n            href={`${checkPriceLink}${linkToken[index]}`}\n            target=\"_blank\"\n            rel=\"noopener noreferrer\"\n          >\n            <Logo src={tokenImg[index]} alt={assetName} />\n            <div>{assetName}</div>\n            <div>${price.toFixed(2).replace(/\\d(?=(\\d{3})+\\.)/g, \"$&,\")}</div>\n          </LogoLink>\n        </Col>\n      );\n    });\n\n    setPrices(newPrices);\n\n    // Schedule the next fetch after 10 seconds\n    setTimeout(fetchPrices, 10000);\n  };\n\n  useEffect(() => {\n    fetchPrices(); // Fetch prices on initial render\n  }, []);\n\n  const Col = styled.div`\n    flex: 1;\n    text-align: center;\n    border-radius: 10px;\n    padding: 15px;\n    margin: 10px;\n    background-color: #f5f5f5;\n    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);\n    border: 2px solid ${(props) => props.color};\n  `;\n\n  const Logo = styled.img`\n    border-radius: 50%;\n    width: 45px;\n    height: auto;\n  `;\n\n  const LogoLink = styled.a`\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    text-decoration: none;\n    color: inherit;\n    transition: background-color 0.3s, transform 0.3s;\n\n    &:hover {\n      background-color: #f0f0f0;\n      transform: scale(1.1);\n    }\n  `;\n\n  const CoinPrices = styled.div`\n    display: flex;\n    flex-wrap: wrap;\n    justify-content: space-between;\n\n    @media (max-width: 768px) {\n      .col {\n        flex: 1;\n        margin: 5px;\n        width: 100%;\n      }\n    }\n  `;\n\n  return (\n    <CoinPrices className=\"container\">\n      <div className=\"row\">\n        {prices.length === 0 ? (\n          <div>Loading...</div>\n        ) : (\n          prices.map((token, index) => token)\n        )}\n      </div>\n    </CoinPrices>\n  );\n};\n\nexport default DATAPrice;\n", "metadata": {"fork_of": "pichtran.near/widget/CoinPrice@107374081"}, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/aaaliahmad.near/widget/CoinPrice", "fact_widget_deployments_id": "f69c9b7e0858614823417fd7309d46f1", "inserted_timestamp": "2024-03-07T05:24:05.087Z", "modified_timestamp": "2024-03-07T05:24:05.087Z", "__row_index": 3}