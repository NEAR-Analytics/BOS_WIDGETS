{"tx_hash": "E7JvqVP5F9MTNJdzArJnRa5jQyQPr54o3CekFpt5K7Fm", "action_id_social": "HVFqpUKWyPJtDADeMt5mUz7ei911ufBLgAEMkg9mrQnt-0-widget", "block_id": 97071587, "block_timestamp": "2023-07-22T13:29:40.393Z", "signer_id": "sourcescan.near", "widget_name": "SourceScan.Inputs.Pagination", "source_code": "State.init({\n  theme: props.theme || \"light\",\n  pages: props.pages || 1,\n  selectedPage: props.selectedPage || 1,\n});\n\nconst dark = {\n  bg: \"#28282b\",\n  color: \"#e6eaee\",\n  border: \"#748094\",\n  button: {\n    bg: \"#39393c\",\n  },\n};\n\nconst light = {\n  bg: \"#e3e8ef\",\n  color: \"#4c5566\",\n  border: \"#748094\",\n  button: {\n    bg: \"#eef2f6\",\n  },\n};\n\nconst useTheme = (light, dark) => {\n  return state.theme === \"light\" ? light : dark;\n};\n\nconst HStack = styled.div`\n  display: flex;\n  flex-direction: row;\n  gap: 5px;\n`;\n\nconst PageButton = styled.button`\n  font-weight: 600;\n  width: 30px;\n  height: 30px;\n  border-radius: 5px;\n  border: 1px solid transparent;\n  color: ${useTheme(light.color, dark.color)};\n  background-color: ${useTheme(light.button.bg, dark.button.bg)}; \n  transition: background-color 0.1s ease-in-out;\n\n  :hover {\n    background-color: ${useTheme(light.bg, dark.bg)};\n  }\n`;\n\nconst range = (start, stop, step) =>\n  Array.from(\n    { length: (stop - start) / step + 1 },\n    (value, index) => start + index * step\n  );\n\nconst handlePageChange = (x) => {\n  console.log(x);\n  State.update({\n    selectedPage: x + 1,\n    from_index: x * state.limit,\n  });\n  searchContracts();\n};\n\nreturn (\n  <>\n    {state.pages ? (\n      <HStack>\n        {range(\n          state.pages > 1\n            ? state.selectedPage > 2\n              ? state.selectedPage - 2\n              : 0\n            : state.selectedPage - 1,\n          state.pages > 1\n            ? state.selectedPage + 1 < state.pages\n              ? state.selectedPage\n              : state.pages - 1\n            : state.pages - 1,\n          1\n        ).map((x, i) => (\n          <PageButton\n            onClick={() => props.handlePageChange(x)}\n            style={\n              state.selectedPage === x + 1\n                ? {\n                    textDecoration: \"underline\",\n                    textUnderlineOffset: \"2px\",\n                  }\n                : null\n            }\n          >\n            {x + 1}\n          </PageButton>\n        ))}\n      </HStack>\n    ) : null}\n  </>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/sourcescan.near/widget/SourceScan.Inputs.Pagination", "fact_widget_deployments_id": "f0854f3468b4f6975900d52bb71ea2ed", "inserted_timestamp": "2024-03-07T05:24:05.087Z", "modified_timestamp": "2024-03-07T05:24:05.087Z", "__row_index": 2}