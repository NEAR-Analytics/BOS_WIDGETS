{"tx_hash": "J92fybQsDU8BzvtM4YPmpwWVkhsjAiiCaXRwATpcwLHv", "action_id_social": "Bn1xjSkheGRhEL1Dj6egoxMWqdCrg7MWi23M9mjm59tb-0-widget", "block_id": 113233594, "block_timestamp": "2024-02-20T17:35:23.637Z", "signer_id": "dropcast.near", "widget_name": "main", "source_code": "const accountId = context.accountId;\nconst Owner = \"dropcast.near\";\nconst API_URL = props.API_URL || \"http://localhost:2402\";\nconst USER =\n  props.USER || JSON.parse(Storage.get(\"user\", `${Owner}/widget/discord`));\nconst TOKEN = props.TOKEN || Storage.get(\"token\", `${Owner}/widget/discord`);\n\nconst PAGES = [\n  {\n    title: \"Dashboard\",\n    value: \"dashboard\",\n    icon: (\n      <svg\n        xmlns=\"http://www.w3.org/2000/svg\"\n        fill=\"none\"\n        viewBox=\"0 0 24 24\"\n        stroke-width=\"2\"\n        stroke=\"currentColor\"\n        aria-hidden=\"true\"\n        style={{ width: 24, height: 24 }}\n        className=\"text-gray-300 mr-3 flex-shrink-0 h-6 w-6\"\n      >\n        <path\n          stroke-linecap=\"round\"\n          stroke-linejoin=\"round\"\n          d=\"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6\"\n        />\n      </svg>\n    ),\n  },\n  {\n    title: \"Account\",\n    value: \"account\",\n    icon: (\n      <svg\n        xmlns=\"http://www.w3.org/2000/svg\"\n        fill=\"none\"\n        viewBox=\"0 0 24 24\"\n        stroke-width=\"2\"\n        stroke=\"currentColor\"\n        aria-hidden=\"true\"\n        style={{ width: 24, height: 24 }}\n        className=\"text-gray-400 group-hover:text-gray-300 mr-3 flex-shrink-0 h-6 w-6\"\n      >\n        <path\n          stroke-linecap=\"round\"\n          stroke-linejoin=\"round\"\n          d=\"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z\"\n        />\n      </svg>\n    ),\n  },\n  {\n    title: \"Manager\",\n    value: \"manager\",\n    icon: (\n      <svg\n        xmlns=\"http://www.w3.org/2000/svg\"\n        width=\"24px\"\n        height=\"24px\"\n        viewBox=\"0 0 24 24\"\n      >\n        <path\n          fill=\"currentColor\"\n          d=\"M10 12q-1.65 0-2.825-1.175T6 8q0-1.65 1.175-2.825T10 4q1.65 0 2.825 1.175T14 8q0 1.65-1.175 2.825T10 12m-8 8v-2.8q0-.825.425-1.55t1.175-1.1q1.275-.65 2.875-1.1T10 13h.35q.15 0 .3.05q-.2.45-.337.938T10.1 15H10q-1.775 0-3.187.45t-2.313.9q-.225.125-.363.35T4 17.2v.8h6.3q.15.525.4 1.038t.55.962zm14 1l-.3-1.5q-.3-.125-.562-.262T14.6 18.9l-1.45.45l-1-1.7l1.15-1q-.05-.35-.05-.65t.05-.65l-1.15-1l1-1.7l1.45.45q.275-.2.538-.337t.562-.263L16 11h2l.3 1.5q.3.125.563.275t.537.375l1.45-.5l1 1.75l-1.15 1q.05.3.05.625t-.05.625l1.15 1l-1 1.7l-1.45-.45q-.275.2-.537.338t-.563.262L18 21zm1-3q.825 0 1.413-.587T19 16q0-.825-.587-1.412T17 14q-.825 0-1.412.588T15 16q0 .825.588 1.413T17 18m-7-8q.825 0 1.413-.587T12 8q0-.825-.587-1.412T10 6q-.825 0-1.412.588T8 8q0 .825.588 1.413T10 10m.3 8\"\n        />\n      </svg>\n    ),\n  },\n];\n\n//Styles\nconst Wrapper = styled.div`\n    display: flex;\n    width: 100%;\n    height: 88vh;\n    align-items: stretch;\n    background: rgb(23,23,23);\n    overflow: auto;\n    position: relative;\n    @media (max-width: 510px) {\n        .sidebar-btn {\n            display: flex;\n        }\n    }\n`;\n\nconst PageWrapper = styled.div`\n  display: flex;\n  width: 100%;\n  height: 100%;\n  color: rgb(229 229 229);\n`;\n\nconst SidebarButton = styled.button`\n    top: 5px;\n    left: 5px;\n    padding: 0;\n    z-index: 1;\n    width: 29px;\n    height: 29px;\n    color: white;\n    display: none;\n    border: 1px solid;  \n    position: absolute;\n    align-items: center;\n    justify-content: center;\n`;\n\nState.init({\n  page: \"dashboard\",\n  sidebar: false,\n});\n\nconst changePage = (page) => {\n  State.update({\n    page,\n    sidebar: false,\n  });\n};\n\nconst openSidebar = (value) => {\n  State.update({\n    sidebar: value,\n  });\n};\n\nif (!accountId || !USER || !TOKEN)\n  return <Widget src={`${Owner}/widget/login`} />;\n\nreturn (\n  <Wrapper className=\"root\">\n    <Widget\n      src={`${Owner}/widget/sidebar`}\n      props={{\n        API_URL,\n        USER,\n        PAGES,\n        changePage,\n        openSidebar,\n        sidebar: state.sidebar,\n        currentPage: state.page,\n      }}\n    />\n    <SidebarButton\n      className=\"btn sidebar-btn\"\n      onClick={() => openSidebar(true)}\n    >\n      <svg\n        xmlns=\"http://www.w3.org/2000/svg\"\n        width=\"1em\"\n        height=\"1em\"\n        viewBox=\"0 0 24 24\"\n      >\n        <path\n          fill=\"currentColor\"\n          d=\"M3 7h18a1 1 0 0 0 0-2H3a1 1 0 0 0 0 2m18 10H7a1 1 0 0 0 0 2h14a1 1 0 0 0 0-2m0-8H7a1 1 0 0 0 0 2h14a1 1 0 0 0 0-2m0 4H3a1 1 0 0 0 0 2h18a1 1 0 0 0 0-2\"\n        />\n      </svg>\n    </SidebarButton>\n    <PageWrapper>\n      {state.page === \"dashboard\" && (\n        <Widget\n          src={`${Owner}/widget/dashboard`}\n          props={{ API_URL, USER, TOKEN }}\n        />\n      )}\n      {state.page === \"account\" && (\n        <Widget\n          src={`${Owner}/widget/account`}\n          props={{ API_URL, USER, TOKEN }}\n        />\n      )}\n      {state.page === \"manager\" && (\n        <Widget\n          src={`${Owner}/widget/manager`}\n          props={{ API_URL, USER, TOKEN, changePage }}\n        />\n      )}\n    </PageWrapper>\n  </Wrapper>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/dropcast.near/widget/main", "fact_widget_deployments_id": "e469e93ef4d40a6af8997733828a7207", "inserted_timestamp": "2024-03-07T05:24:05.087Z", "modified_timestamp": "2024-03-07T05:24:05.087Z", "__row_index": 13}