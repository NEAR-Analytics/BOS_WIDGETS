{"tx_hash": "2C9K8MsjJrQzwgXskjNfKnSWyTCKiyoSjSzmMrPVmnrE", "action_id_social": "H46DRp3HNTpn8Kamo4VR5TSWPnaNWHnCxJEdFzp5vmbJ-0-widget", "block_id": 113296721, "block_timestamp": "2024-02-21T15:59:09.386Z", "signer_id": "dropcast.near", "widget_name": "detail", "source_code": "const Owner = \"dropcast.near\";\nconst API_URL = props.API_URL || \"http://localhost:3000\";\nconst TOKEN = props.TOKEN || \"\";\nconst project = props.project || \"\";\n\n//Styles\nconst Wrapper = styled.div`\n    display: flex;\n    width: 100%;\n    padding: 64px;\n    position: relative;\n    height: fit-content;\n    align-items: stretch;\n    flex-direction: column;\n    color: rgb(229 229 229);\n    background: rgb(23,23,23);\n    @media (max-width: 620px) {\n      padding: 29px;\n    }\n`;\n\nconst GridWrapper = styled.div`\n  gap: 10px;\n  display: grid;\n  grid-template-columns: repeat(3,minmax(0,1fr));\n  @media (max-width: 935px) {\n    grid-template-columns: repeat(1,minmax(0,1fr));\n  }\n  @media (min-width: 935px) and (max-width: 1400px) {\n    grid-template-columns: repeat(2,minmax(0,1fr));\n  }\n`;\n\nconst Card = styled.div`\n    padding: 20px;\n    border-radius: 8px;\n    text-align: center;\n    background-color: rgb(38, 38, 38);\n    box-shadow: rgba(0, 0, 0, 0) 0px 0px 0px 0px;\n`;\n\nconst Status = styled.span`\n    width: 100%;\n    padding: 10px 24px;\n    border-radius: 8px;\n    background-image: linear-gradient(to right, rgb(250, 204, 21), rgb(234, 88, 12));\n`;\n\nState.init({\n  data: {},\n  loaded: false,\n  avatar: `https://cdn.discordapp.com/icons/${project.guild_id}/${project.icon}.png?size=1024`,\n});\n\nconsole.log(project, \"==>\");\nconst roles =\n  JSON.parse(project.roles).filter((e) => e.selected === true) || [];\n\nconst handleImageNotFound = (e) => {\n  State.update({\n    ...state,\n    avatar: \"https://dropcast.nearverselabs.com/comingsoon.jpg\",\n  });\n};\n\nconst getData = () => {\n  let promise = asyncFetch(`${API_URL}/api/project/state?id=${project._id}`, {\n    headers: {\n      \"Content-Type\": \"application/x-www-form-urlencoded\",\n      \"x-auth-token\": TOKEN,\n    },\n    method: \"GET\",\n  });\n\n  promise.then((data) => {\n    if (data.status === 200) {\n      State.update({\n        ...state,\n        loaded: true,\n        data: data.body,\n      });\n    } else {\n      State.update({\n        ...state,\n        error: data.body,\n      });\n    }\n  });\n};\n\nif (!state.loaded) getData();\n\nreturn (\n  <Wrapper>\n    <img\n      style={{ height: 192 }}\n      className=\"w-100 object-fit-cover rounded-3\"\n      src={state.avatar}\n      onError={handleImageNotFound}\n    />\n    <div className=\"text-center px-2 py-3\">\n      <h5>{project.name}</h5>\n      <p className=\"m-0\">{project.description}</p>\n    </div>\n\n    <hr />\n\n    <div>\n      <h5 style={{ fontSize: 18 }}>{project.name}</h5>\n      <p style={{ color: \"grey\" }}>\n        {`Please take a look at the whitelist requirements below and see if you are eligible to get whitelist.`}\n      </p>\n      <GridWrapper>\n        {roles.map((role) => (\n          <Card key={role.id}>\n            <h5>{role.name}</h5>\n            <h5>Discord role</h5>\n            <p\n              style={{ color: \"grey\" }}\n            >{`If you have this role in the discord server, you are automatically eligible for whitelist`}</p>\n            <Status style={{ opacity: state.data[role.id] ? 1 : 0.5 }}>{`${\n              state.data[role.id] ? \"\" : \"Not \"\n            }Eligible`}</Status>\n          </Card>\n        ))}\n      </GridWrapper>\n    </div>\n  </Wrapper>\n);\n", "metadata": {"fork_of": "dropcast.near/widget/detail@113296312"}, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/dropcast.near/widget/detail", "fact_widget_deployments_id": "120b8a774712a93a5277613443066247", "inserted_timestamp": "2024-03-07T05:24:05.087Z", "modified_timestamp": "2024-03-07T05:24:05.087Z", "__row_index": 8}