{"tx_hash": "E8koX4UJy39sALRk3QnsZyKhLSPPzvyJp5Hon4HnkfCD", "action_id_social": "6Wzw2r3BZv1S4EWoByELX9NqVHk8GSarBPoQrFmeQZPD-0-widget", "block_id": 105694459, "block_timestamp": "2023-11-14T15:30:44.436Z", "signer_id": "deepcryptodive.near", "widget_name": "Aave.NetworkSwitcher", "source_code": "const { config, chainId, switchNetwork, disabled } = props;\n\nconst ETH_MATIC = () => (\n  <img\n    height={36}\n    src={`${config.ipfsPrefix}/bafkreibcyx5qsxnzwklrar7vcksny2us5ijavtfcxwlwj2plabspzenwii`}\n  />\n);\n\nconst SwitchContainer = styled.div`\n  display: flex;\n  align-items: center;\n  padding-left:16px;\n  cursor: ${disabled ? \"auto\" : \"pointer\"};\n\n  position: relative;\n\n  .dropdown-pc {\n    display: none;\n    position: absolute;\n    top: 40px;\n    min-width: 290px;\n\n    background: #373A53;\n    padding: 16px 0;\n    border-radius: 16px;\n    font-size: 16px;\n    font-weight:bold;\n    color:#fff;\n    z-index: 50;\n    box-shadow: 0px 4px 10px 0px rgba(0, 0, 0, 0.3);\n  }\n\n  .network-img {\n    width: 16px;\n    height: 16px;\n    transition: all 0.3s ease-in-out;\n  }\n\n  .dropdown-img {\n    width: 16px;\n    height: 16px;\n    margin-left: 8px;\n    transition: all 0.3s ease-in-out;\n\n    transform: scale(0.8) rotate(${() =>\n      state.showDropdown ? \"0deg\" : \"180deg\"});\n  }\n\n  @media (min-width: 640px) {\n    img {\n      height: 60px;\n    }\n\n    .network-img {\n      width: 25px;\n      height:25px;\n    }\n\n    .dropdown-img {\n      width: 32px;\n      height: 32px;\n    }\n\n    .dropdown-pc {\n      display: flex;\n      flex-direction: column;\n    }\n\n    .dropdown-pc-item {\n      display: flex;\n      align-items: center;\n      justify-content:space-between;\n      height:56px;\n      padding:0 16px;\n      &:hover, &.active{\n        background-color:rgba(24, 26, 39, 0.3);\n      }\n      .left{\n        display: flex;\n        align-items: center;\n        gap:15px;\n      }\n    }\n  }\n`;\n\nconst SwitchTitle = styled.div`\n  color: white;\n\n  font-size: 18px;\n\n  @media (min-width: 640px) {\n    font-size: 20px;\n    margin:0 20px 0 10px;\n  }\n`;\n\nconst DropdownMobile = styled.div`\n  position: fixed;\n  z-index: 9999;\n\n  height: 80vh;\n  left: 0;\n  bottom: 0;\n  width: 100%;\n  background: #151718;\n\n  display: flex;\n  flex-direction: column;\n  gap: 20px;\n\n  padding: 20px 12px;\n  font-size: 12px;\n\n  .dropdown-mobile-item {\n    .dropdown-img {\n      width: 32px;\n      height: 32px;\n    }\n    font-size: 14px;\n    display: flex;\n    align-items: center;\n\n    div {\n      margin-left: 10px;\n    }\n  }\n\n  @media (min-width: 640px) {\n    display: none;\n  }\n`;\n\nconst DropdownContainer = styled.div`\n  display: flex;\n  align-items: center;\n`;\n\nconst DropdownImage = () => (\n  <img\n    className=\"dropdown-img\"\n    src={`${config.ipfsPrefix}/bafkreiexo22bzy2dnto7xlzee5dgz3mkb5smmpvzdgx7ed3clbw3ad3jsa`}\n  />\n);\n\nconst PolygonImage = () => (\n  <img\n    className=\"network-img\"\n    src={`${config.ipfsPrefix}/bafkreieaobutw4ibjbh7cyom4wjzjc3rx2fxs2gpfhzasgsoj5f4hjxo2m`}\n  />\n);\n\nconst EthImage = () => (\n  <img\n    className=\"network-img\"\n    src={`${config.ipfsPrefix}/bafkreih7c6cip4ckunan7c3n5ckyf56mfnqmu7u5zgvxvhqvjsyf76kwxy`}\n  />\n);\n\nconst GnosisImage = () => (\n  <img\n    className=\"network-img\"\n    src={`${config.ipfsPrefix}/bafkreibdtyo65gd4cvjjylw3etf6sw4ipvwmvqvfv267maqwp77gu2hovm`}\n  />\n);\n\nconst OptimismImage = () => (\n  <img\n    className=\"network-img\"\n    src={`${config.ipfsPrefix}/bafkreih2tj74xd54wt7egai5mmo3pa7rcg4v6q6dimuwlxgxokxmiej2sy`}\n  />\n);\n\nconst BaseImage = () => (\n  <img\n    className=\"network-img\"\n    src={`${config.ipfsPrefix}/bafkreibyfofm47gzgepqzjcky5jp3a2d2vwaq5tf55642rpemdgdmivlcq`}\n  />\n);\n\nconst AvaxImage = () => (\n  <img\n    className=\"network-img\"\n    src={`${config.ipfsPrefix}/bafkreiazt7i6bykuzfi7kqpxokriohm7boo6vqqviftintvfj4y545gm3y`}\n  />\n);\n\nconst MetisImage = () => (\n  <img\n    className=\"network-img\"\n    src={`${config.ipfsPrefix}/bafkreieavbzowayvcykgc4pso4wplbprf7xwvqbjixdievsxtncc77r4vm`}\n  />\n);\n\nconst ArbiImage = () => (\n  <img\n    className=\"network-img\"\n    src={`${config.ipfsPrefix}/bafkreifwrsmcivbybdhrtq7yqywquo56qtzigb4boyl7bzwceatsemivcm`}\n  />\n);\n\nconst toggleDropdown = disabled\n  ? () => {}\n  : () => State.update({ showDropdown: !state.showDropdown });\n\nconst getChainImage = (chainId) => {\n  switch (chainId) {\n    case 1:\n      return EthImage;\n    case 100:\n      return GnosisImage;\n    case 137:\n      return PolygonImage;\n    case 10:\n      return OptimismImage;\n    case 8453:\n      return BaseImage;\n    case 43114:\n      return AvaxImage;\n    case 1088:\n      return MetisImage;\n    case 42161:\n      return ArbiImage;\n    default:\n      throw new Error(\"unknown chain id\");\n  }\n};\n\nconst ChainImage = getChainImage(chainId);\n\nState.init({\n  showDropdown: false,\n});\nconst selected_icon = (\n  <svg\n    width=\"17\"\n    height=\"12\"\n    viewBox=\"0 0 17 12\"\n    fill=\"none\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n  >\n    <path\n      d=\"M1 3.71493L6.21739 9.82353L16 1\"\n      stroke=\"#9E75FF\"\n      stroke-width=\"2\"\n      stroke-linecap=\"round\"\n    />\n  </svg>\n);\nconst arrow_icon = (\n  <svg\n    width=\"17\"\n    height=\"9\"\n    viewBox=\"0 0 17 9\"\n    fill=\"none\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n  >\n    <path\n      d=\"M1 1L8.5 7.5L16 1\"\n      stroke=\"#8C7EBD\"\n      stroke-width=\"2\"\n      stroke-linecap=\"round\"\n    />\n  </svg>\n);\n\n//updated the dropdown menus to include only the supported networks (Ethereum, Polygon, and Gnosis)\nreturn (\n  <SwitchContainer>\n    {state.showDropdown && (\n      <DropdownMobile>\n        <div>Select Spark Market</div>\n        <div\n          className=\"dropdown-mobile-item\"\n          onClick={() => {\n            State.update({ showDropdown: false });\n            switchNetwork(1);\n          }}\n        >\n          <EthImage />\n          <div>Ethereum</div>\n        </div>\n\n        <div\n          className=\"dropdown-mobile-item\"\n          onClick={() => {\n            State.update({ showDropdown: false });\n            switchNetwork(100);\n          }}\n        >\n          <GnosisImage />\n          <div>Gnosis</div>\n        </div>\n        <div\n          className=\"dropdown-mobile-item\"\n          onClick={() => {\n            State.update({ showDropdown: false });\n            switchNetwork(137);\n          }}\n        >\n          <PolygonImage />\n          <div>Polygon</div>\n        </div>\n      </DropdownMobile>\n    )}\n    <DropdownContainer onClick={toggleDropdown}>\n      <ChainImage />\n      <SwitchTitle>{config.chainName}</SwitchTitle>\n      {!disabled && arrow_icon}\n    </DropdownContainer>\n    {state.showDropdown && (\n      <div className=\"dropdown-pc\">\n        <div\n          className={`dropdown-pc-item ${chainId == 100 ? \"active\" : \"\"}`}\n          onClick={() => {\n            State.update({ showDropdown: false });\n            switchNetwork(100);\n          }}\n        >\n          <div className=\"left\">\n            <GnosisImage />\n            <div>Gnosis</div>\n          </div>\n          {chainId == 100 && <span className=\"right\">{selected_icon}</span>}\n        </div>\n\n        <div\n          className={`dropdown-pc-item ${chainId == 1 ? \"active\" : \"\"}`}\n          onClick={() => {\n            State.update({ showDropdown: false });\n            switchNetwork(1);\n          }}\n        >\n          <div className=\"left\">\n            <EthImage />\n            <div>Ethereum</div>\n          </div>\n          {chainId == 1 && <span className=\"right\">{selected_icon}</span>}\n        </div>\n\n        <div\n          className={`dropdown-pc-item ${chainId == 137 ? \"active\" : \"\"}`}\n          onClick={() => {\n            State.update({ showDropdown: false });\n            switchNetwork(137);\n          }}\n        >\n          <div className=\"left\">\n            <PolygonImage />\n            <div>Polygon</div>\n          </div>\n          {chainId == 137 && <span className=\"right\">{selected_icon}</span>}\n        </div>\n\n        <div\n          className={`dropdown-pc-item ${chainId == 42161 ? \"active\" : \"\"}`}\n          onClick={() => {\n            State.update({ showDropdown: false });\n            switchNetwork(42161);\n          }}\n        >\n          <div className=\"left\">\n            <ArbiImage />\n            <div>Arbitrum</div>\n          </div>\n          {chainId == 42161 && <span className=\"right\">{selected_icon}</span>}\n        </div>\n\n        <div\n          className={`dropdown-pc-item ${chainId == 10 ? \"active\" : \"\"}`}\n          onClick={() => {\n            State.update({ showDropdown: false });\n            switchNetwork(10);\n          }}\n        >\n          <div className=\"left\">\n            <OptimismImage />\n            <div>Optimism</div>\n          </div>\n          {chainId == 10 && <span className=\"right\">{selected_icon}</span>}\n        </div>\n\n        <div\n          className={`dropdown-pc-item ${chainId == 8453 ? \"active\" : \"\"}`}\n          onClick={() => {\n            State.update({ showDropdown: false });\n            switchNetwork(8453);\n          }}\n        >\n          <div className=\"left\">\n            <BaseImage />\n            <div>Base</div>\n          </div>\n          {chainId == 8453 && <span className=\"right\">{selected_icon}</span>}\n        </div>\n\n        <div\n          className={`dropdown-pc-item ${chainId == 43114 ? \"active\" : \"\"}`}\n          onClick={() => {\n            State.update({ showDropdown: false });\n            switchNetwork(43114);\n          }}\n        >\n          <div className=\"left\">\n            <AvaxImage />\n            <div>Avalanche</div>\n          </div>\n          {chainId == 43114 && <span className=\"right\">{selected_icon}</span>}\n        </div>\n\n        <div\n          className={`dropdown-pc-item ${chainId == 1088 ? \"active\" : \"\"}`}\n          onClick={() => {\n            State.update({ showDropdown: false });\n            switchNetwork(1088);\n          }}\n        >\n          <div className=\"left\">\n            <MetisImage />\n            <div>Metis</div>\n          </div>\n          {chainId == 1088 && <span className=\"right\">{selected_icon}</span>}\n        </div>\n      </div>\n    )}\n  </SwitchContainer>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/deepcryptodive.near/widget/Aave.NetworkSwitcher", "fact_widget_deployments_id": "5c685d42d3d6e31a8bb7d76832842045", "inserted_timestamp": "2024-03-07T05:24:05.087Z", "modified_timestamp": "2024-03-07T05:24:05.087Z", "__row_index": 0}