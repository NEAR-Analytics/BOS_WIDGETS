{"tx_hash": "FkWuSGiCe1tVGic6r8sUitbgr1A5DeytequgvHQY9B2L", "action_id_social": "3pQfiVrALWpW62YpBxMe41M7bVBJbvhBjobnq56yAvSC-0-widget", "block_id": 100766640, "block_timestamp": "2023-09-09T22:32:49.841Z", "signer_id": "election.ndctools.near", "widget_name": "NDC.Elections.Voters", "source_code": "const { candidateId, iahToken, electionContract, ids } = props;\nconst apiKey = api_key ?? \"36f2b87a-7ee6-40d8-80b9-5e68e587a5b5\";\n\nState.init({\n  voters: [],\n});\n\nuseCache(\n  () =>\n    asyncFetch(\n      `https://api.pikespeak.ai/election/votes-by-candidate?contract=${electionContract}&candidate=${candidateId}`,\n      { headers: { \"x-api-key\": apiKey } }\n    ).then((resp) => {\n      const voters = resp.body.filter((vote) =>\n        ids.includes(parseInt(vote.proposal_id))\n      );\n\n      State.update({ voters });\n    }),\n  \"mainnetRpcStatus\",\n  { subscribe: true }\n);\n\nconst VotersContainer = styled.div`\n  padding: 5px 0;\n`;\n\nconst Bookmark = styled.div`\n  width: 60px;\n\n  @media (max-width: 400px) {\n    width: auto;\n    margin-right: 20px;\n  }\n`;\n\nconst Expand = styled.div`\n  width: 35px;\n\n  @media (max-width: 400px) {\n    width: 20px;\n    margin-right: 10px;\n  }\n`;\n\nconst VoterItem = styled.div`\n  font-size: 14px;\n  padding: 0 20px;\n  height: 36px;\n  border-bottom: 1px solid #d0d6d9;\n\n  &:last-child {\n    border: 0;\n  }\n`;\n\nconst StyledLink = styled.a`\n  color: inherit !important;\n  width: 195px;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  font-size: 14px;\n  padding-top: 2px;\n\n  @media (max-width: 400px) {\n    width: 120px;\n  }\n`;\n\nconst TxnSection = styled.div`\n  white-space: nowrap;\n  overflow: hidden;\n`;\n\nconst TxnLink = styled.a`\n  font-family: monospace;\n  color: inherit !important;\n  width: 242px;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n\n  @media (max-width: 400px) {\n    width: 100px;\n  }\n`;\n\nconst UserLink = ({ title, src }) => (\n  <div className=\"d-flex mr-3\">\n    <StyledLink href={src}>\n      <Widget\n        src=\"zavodil.near/widget/ProfileLine\"\n        props={{ accountId: title }}\n      />\n    </StyledLink>\n    <span>\n      <i class=\"bi bi-arrow-up-right\" />\n    </span>\n  </div>\n);\n\nreturn (\n  <VotersContainer>\n    {state.voters.map((voter) => (\n      <VoterItem className=\"d-flex align-items-center justify-content-between\">\n        <div className=\"d-flex align-items-center w-100\">\n          <Expand />\n          {iahToken && <Bookmark />}\n\n          <UserLink\n            src={`https://near.org/near/widget/ProfilePage?accountId=${voter.voter}`}\n            title={voter.voter}\n          />\n        </div>\n        <TxnSection className=\"d-flex justify-content-end align-items-center w-100\">\n          <TxnLink\n            role=\"button\"\n            target=\"_blank\"\n            href={`https://nearblocks.io/txns/${voter.transaction_id}`}\n          >\n            {voter.transaction_id}\n          </TxnLink>\n          <span>\n            <i class=\"bi bi-file-earmark-text\" />\n          </span>\n        </TxnSection>\n      </VoterItem>\n    ))}\n  </VotersContainer>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/election.ndctools.near/widget/NDC.Elections.Voters", "fact_widget_deployments_id": "99e3fe9705f78538fcbad5449b078685", "inserted_timestamp": "2024-03-07T05:24:05.087Z", "modified_timestamp": "2024-03-07T05:24:05.087Z", "__row_index": 19}