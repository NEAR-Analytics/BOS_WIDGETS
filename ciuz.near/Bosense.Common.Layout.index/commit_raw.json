{"tx_hash": "BQBLnQhCoBJgwYYhgxBUNvThGzkwvKdGnPZVxJ9xoDdY", "action_id_social": "FNwcbgf9qB8uEWupUxkjPEVQtHPZf6JjQbBVhnAEYFsu-0-widget", "block_id": 105088289, "block_timestamp": "2023-11-06T17:45:02.079Z", "signer_id": "ciuz.near", "widget_name": "Bosense.Common.Layout.index", "source_code": "State.init({\n  sidebarExpanded: false,\n  img_logo:\n    \"https://ipfs.near.social/ipfs/bafkreiaeygg2shnl5lfm3gbgvvs5bz5vdriko4onrqt7twxjvbyvzrcnwa\",\n  search: \"\",\n  isTyping: false,\n  general_active: true,\n  publisher_active: false,\n  advertiser_active: false,\n});\nconst hasSidebar = props.hasSidebar ?? true;\nlet { page } = props;\nif (!page) {\n  page = \"home\";\n}\nconst currentLink = \"#/ciuz.near/widget/home\";\n\nconst Header = styled.div`\n  border-bottom: 1px solid #e5e5e5;\n\n  .search_box {\n    display: flex;\n  }\n\n  .sidebar-toggle {\n    display: none;\n  }\n  @media (max-width: 768px) {\n    .sidebar-toggle {\n      display: block;\n    }\n    .search_box {\n      display: none;\n    }\n  }\n`;\n\nconst Sidebar = styled.div`\n  height: 100%;\n  transition: all 0.5s ease-in-out;\n  max-width: 300px;\n  background: #fff;\n  border-right: 1px solid #e5e5e5;\n\n  &.collapsed {\n    padding-right: 26px;\n    max-width: 94px;\n  }\n\n  @media (max-width: 768px) {\n    position: fixed !important;\n    top: 0;\n    bottom: 0;\n    z-index: 10000;\n    left: 0;\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n\n    &.collapsed {\n      left: -400px;\n    }\n  }\n\n  ul {\n    list-style: none;\n    margin: 0;\n    padding: 0;\n    display: flex;\n    flex-direction: column;\n    gap: 16px;\n    align-items: flex-start;\n    width: 100%;\n    max-width: 240px;\n  }\n\n  .group {\n    width: 100%;\n  }\n\n  li {\n    background: #fff;\n    cursor: pointer;\n    border-radius: 8px;\n    width: 100%;\n    transition: all 100ms ease-in-out;\n\n    div,\n    a {\n      padding: 8px 26px;\n      color: #000 !important;\n      text-decoration: none;\n      font-weight: 600;\n      font-size: 15px;\n      letter-spacing: 0;\n      display: flex;\n      gap: 12px;\n      align-items: center;\n    }\n\n    i {\n      font-size: 19px;\n    }\n  }\n\n  li:hover {\n    background-color: #6149cd;\n\n    * {\n      color: #fff !important;\n    }\n  }\n\n  li:active {\n    background-color: #6149cd;\n    * {\n      color: #fff !important;\n    }\n  }\n\n  li.active {\n    background-color: #6149cd;\n\n    * {\n      color: #fff !important;\n    }\n  }\n\n  li.title:hover{\n    background-color: #fff;\n    * {\n      color: #000000 !important;\n    }\n  }\n\n  li.title:active{\n    background-color: #00000;\n    * {\n      color: #6149cd !important;\n    }\n  }\n\n  &.collapsed {\n    li {\n      width: 100% !important;\n\n      div,\n      a {\n        display: flex;\n        flex-direction: column;\n        align-items: center;\n        justify-content: center;\n        font-size: 12px;\n        text-align: center;\n        gap: 4px;\n      }\n    }\n\n    li .title {\n      display: none;\n    }\n\n    .group {\n      li:not(:first-child) {\n        display: none;\n      }\n    }\n  }\n`;\n\nconst Toggle = styled.div`\n  position: absolute;\n  top: 10px;\n  right: -20px;\n  z-index: 10;\n  height: 40px;\n  width: 40px;\n  background: #6149cd;\n  color: #fff;\n  border-radius: 6px;\n  display: grid;\n  place-items: center;\n\n  @media (max-width: 768px) {\n    bottom: 100px;\n    top: auto;\n  }\n`;\n\nconst MobileToggle = styled.div`\n  height: 40px;\n  width: 40px;\n  background: #6149cd;\n  color: #fff;\n  border-radius: 6px;\n  display: grid;\n  place-items: center;\n`;\n\nif (page !== state.activePage) {\n  State.update({\n    activePage: page,\n  });\n}\n\nconst router = {\n  params: { page, tab },\n  navigate: (newParams) => {\n    router.params = {\n      ...newParams,\n    };\n    State.update({\n      activePage: router.params.page,\n      activeTab: router.params.tab,\n    });\n  },\n};\n\npage = state.activePage;\n\nconst list_sidebar = [\n  {\n    id: 1,\n    label: \"General\",\n    code: \"general\",\n    children: [\n      {\n        title: \"Home\",\n        icon: \"bi bi-house\",\n        href: \"/\",\n        active: page === \"home\",\n        onClick: () => router.navigate({ page: \"home\" }),\n        widgetName: \"\",\n        defaultProps: {},\n      },\n      {\n        title: \"Payment\",\n        icon: \"bi bi-cash\",\n        href: \"/payment\",\n        active: page === \"payment\",\n        onClick: () => router.navigate({ page: \"payment\" }),\n        widgetName: \"\",\n        defaultProps: {},\n      },\n      {\n        title: \"Campaigns\",\n        icon: \"bi bi-rocket-takeoff\",\n        href: \"/campaigns\",\n        active: page === \"campaigns\",\n        onClick: () => router.navigate({ page: \"campaigns\" }),\n        widgetName: \"\",\n        defaultProps: {},\n      },\n      {\n        title: \"Analytics\",\n        icon: \"bi bi-graph-up\",\n        href: \"/analytics\",\n        active: page === \"analytics\",\n        onClick: () => router.navigate({ page: \"analytics\" }),\n        widgetName: \"\",\n        defaultProps: {},\n      },\n      {\n        title: \"Settings\",\n        icon: \"bi bi-gear\",\n        href: \"/settings\",\n        active: page === \"settings\",\n        onClick: () => router.navigate({ page: \"settings\" }),\n        widgetName: \"\",\n        defaultProps: {},\n      },\n    ],\n  },\n  {\n    id: 2,\n    label: \"Publisher View\",\n    code: \"publisher\",\n    children: [],\n  },\n  {\n    id: 3,\n    label: \"Advertiser View\",\n    code: \"advertiser\",\n    children: [],\n  },\n];\n\nreturn (\n  <>\n    <Header className=\"d-flex justify-content-between align-items-center py-3 px-md-3 m-0 flex-row\">\n      <MobileToggle\n        className=\"sidebar-toggle btn btn-outline-light\"\n        onClick={() =>\n          State.update({ sidebarExpanded: !state.sidebarExpanded })\n        }\n      >\n        <i className=\"bi bi-list\"></i>\n      </MobileToggle>\n      <a href=\"#\">\n        <img src={state.img_logo} alt=\"logo\" />\n      </a>\n      <div className=\"search_box \">\n        <Widget\n          key=\"search\"\n          src=\"nearui.near/widget/Input.ExperimentalText\"\n          props={{\n            placeholder: \"Search ...\",\n            type: \"search\",\n            size: \"md\",\n            icon: (\n              <i\n                className=\"bi bi-search\"\n                style={{\n                  color: \"#4498E0\",\n                }}\n              />\n            ),\n            onChange: (v) => {\n              State.update({\n                search: v,\n                isTyping: true,\n              });\n              setTimeout(() => {\n                State.update({\n                  isTyping: false,\n                });\n              }, 1500);\n            },\n            value: undefined,\n            inputProps: {\n              autoFocus: true,\n            },\n            useTimeout: 600,\n          }}\n        />\n        <button className=\"block position-relative border border-0 mx-2\">\n          <i className=\"bi bi-bell\">\n            {props.notifications && props.notifications.length > 0 && (\n              <span\n                className=\"position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger\"\n                style={{ fontSize: \"10px\" }}\n              >\n                {props.notifications.length}\n                <span className=\"visually-hidden\">unread messages</span>\n              </span>\n            )}\n          </i>\n        </button>\n      </div>\n\n      <span\n        style={{\n          border: context.accountId ? \"1px solid #4498E0\" : \"1px solid #E5E5E5\",\n          borderRadius: \"400px\",\n          padding: context.accountId\n            ? \"8px 20px 8px 14px\"\n            : \"8px 20px 8px 20px\",\n          background: context.accountId ? \"rgba(236, 245, 252, 0.40)\" : \"#fff\",\n        }}\n      >\n        {context.accountId ? (\n          <Widget\n            src=\"nearui.near/widget/Element.User\"\n            props={{\n              accountId: context.accountId,\n            }}\n          />\n        ) : (\n          \"Not connected\"\n        )}\n      </span>\n    </Header>\n    <Sidebar\n      className={`position-relative col-sm ${\n        !state.sidebarExpanded && \"collapsed\"\n      }`}\n    >\n      <Toggle\n        role=\"button\"\n        onClick={() =>\n          State.update({ sidebarExpanded: !state.sidebarExpanded })\n        }\n      >\n        {state.sidebarExpanded ? (\n          <i className=\"bi bi-chevron-left\"></i>\n        ) : (\n          <i className=\"bi bi-chevron-right\"></i>\n        )}\n      </Toggle>\n      <ul className=\"pt-4\">\n        {list_sidebar.map((item, i) => {\n          return (\n            <div key={i} className=\"\">\n              <li className=\"title\">\n                <div\n                  className=\"d-flex justify-content-between\"\n                  onClick={() => {\n                    if (item.id === 1) {\n                      State.update({\n                        general_active: !state.general_active,\n                      });\n                    }\n                    if (item.id === 2) {\n                      State.update({\n                        publisher_active: !state.publisher_active,\n                      });\n                    }\n                    if (item.id === 3) {\n                      State.update({\n                        advertiser_active: !state.advertiser_active,\n                      });\n                    }\n                  }}\n                >\n                  <span>{item.label}</span>\n                  {state[`${item.code}_active`] == true ? (\n                    <i className=\"bi bi-chevron-up\"></i>\n                  ) : (\n                    <i className=\"bi bi-chevron-down\"></i>\n                  )}\n                </div>\n              </li>\n              <ul>\n                {state[`${item.code}_active`] == true &&\n                  item.children.map((subItem, j) => {\n                    if (subItem.hidden) return null;\n                    return (\n                      <li\n                        key={j}\n                        className={[subItem.active && \"active\", \"ms-auto\"].join(\n                          \" \"\n                        )}\n                        onClick={subItem.onClick}\n                        style={{\n                          width: \"85%\",\n                        }}\n                      >\n                        <a href={subItem.href}>\n                          <i className={subItem.icon}></i>\n                          <div className=\"title\">{subItem.title}</div>\n                        </a>\n                      </li>\n                    );\n                  })}\n              </ul>\n            </div>\n          );\n        })}\n      </ul>\n    </Sidebar>\n  </>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/ciuz.near/widget/Bosense.Common.Layout.index", "fact_widget_deployments_id": "525e150249b426b294042f790dfe7123", "inserted_timestamp": "2024-03-07T05:24:05.087Z", "modified_timestamp": "2024-03-07T05:24:05.087Z", "__row_index": 0}