{"tx_hash": "EPJCZsqHoA16oXzUiS2UzMAD7YFNNn4aLeBtv5JbrnZU", "action_id_social": "Cq1wFNgADvUmVF5DEHSy896NVh5Evo8S2LrJFghv5owW-0-widget", "block_id": 103704899, "block_timestamp": "2023-10-19T03:37:14.011Z", "signer_id": "hack.near", "widget_name": "community.app", "source_code": "const ownerId = props.ownerId ?? \"devs.near\";\nconst accountId = props.accountId ?? context.accountId;\nconst daoId = props.daoId ?? \"build.sputnik-dao.near\";\nconst roleId = props.roleId ?? \"community\";\n\nlet isBuilder = false;\nlet widgets = Social.get(`${accountId}/widget/*`, \"final\", {\n  return_type: \"BlockHeight\",\n  values_only: true,\n});\nlet widgetCount = 0;\nif (widgets) {\n  widgetCount = Object.keys(widgets).length;\n}\nif (widgetCount > 0) {\n  isBuilder = true;\n}\n\nconst handleJoin = () => {\n  const gas = 200000000000000;\n  const deposit = 100000000000000000000000;\n  Near.call([\n    {\n      contractName: daoId,\n      methodName: \"add_proposal\",\n      args: {\n        proposal: {\n          description: \"potential member\",\n          kind: {\n            AddMemberToRole: {\n              member_id: accountId,\n              role: roleId,\n            },\n          },\n        },\n      },\n      gas: gas,\n      deposit: deposit,\n    },\n  ]);\n};\n\nconst Wrapper = styled.div`\n  --section-gap: 23px;\n  padding-top: 42px;\n\n  @media (max-width: 1155px) {\n    .line-rounded-corners {\n      display: none !important;\n    }\n  }\n\n  @media (max-width: 998px) {\n    padding-top: 0;\n  }\n`;\n\nconst H1 = styled.h1`\n  font-family: \"FK Grotesk\", sans-serif;\n  font-style: normal;\n  font-weight: 500;\n  font-size: 90px;\n  line-height: 1;\n  text-align: center;\n  letter-spacing: -0.03em;\n  color: #000;\n  margin: 0;\n  max-width: 700px;\n\n  span {\n    display: inline-block;\n    background: #6ce89f;\n    border-radius: 20px;\n    position: relative;\n    padding: 0.1em 0.2em 0;\n\n    svg {\n      position: absolute;\n      bottom: -8px;\n      right: -10px;\n      width: 24px;\n    }\n  }\n\n  @media (max-width: 900px) {\n    font-size: 50px;\n\n    span {\n      border-radius: 12px;\n      svg {\n        position: absolute;\n        bottom: -6px;\n        right: -7px;\n        width: 16px;\n      }\n    }\n  }\n`;\n\nconst Text = styled.p`\n  font-family: \"FK Grotesk\", sans-serif;\n  font-size: ${(p) => p.size ?? \"18px\"};\n  line-height: ${(p) => p.lineHeight ?? \"1.5\"};\n  font-weight: ${(p) => p.weight ?? \"400\"};\n  color: ${(p) => p.color ?? \"#000\"};\n  margin-botton: 8px;\n`;\n\nconst Flex = styled.div`\n  display: flex;\n  gap: 8px;\n  align-items: center;\n  flex-direction: column;\n  flex-wrap: \"nowrap\";\n\n    @media (max-width: 998px) {\n    flex-direction: column;\n    gap: var(--section-gap);\n    }\n`;\n\nconst FlexContainer = styled.div`\n  display: flex;\n  gap: 8px;\n  align-items: center;\n  flex-direction: row;\n  justify-content: center;\n  flex-wrap: wrap;\n\n  @media (max-width: 998px) {\n    flex-direction: column;\n    gap: var(--section-gap);\n  }\n`;\n\nconst Container = styled.div`\n  display: flex;\n  max-width: 1080px;\n  margin: 0 auto;\n  gap: var(--section-gap);\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  text-align: center;\n  padding: var(--section-gap) 24px;\n`;\n\nreturn (\n  <Wrapper>\n    <Container>\n      <Flex>\n        <H1>\n          Build\n          <span>\n            DAO <svg viewBox=\"0 0 26 24\" fill=\"none\" aria-hidden=\"true\"></svg>\n          </span>\n        </H1>\n      </Flex>\n      {isBuilder ? (\n        <div>\n          <Text\n            size=\"18px\"\n            weight=\"600\"\n            style={{ textTransform: \"uppercase\", letterSpacing: \"0.17em\" }}\n          >\n            Your Adventure Has Begun\n          </Text>\n          <FlexContainer>\n            <div className=\"m-1\">\n              <Widget\n                src=\"hack.near/widget/community.join\"\n                props={{\n                  daoId,\n                  roleId,\n                  memberId: accountId,\n                }}\n              />\n            </div>\n          </FlexContainer>\n        </div>\n      ) : (\n        <Flex>\n          <Text\n            size=\"18px\"\n            weight=\"600\"\n            style={{ textTransform: \"uppercase\", letterSpacing: \"0.17em\" }}\n          >\n            Begin a New Adventure\n          </Text>\n          <FlexContainer>\n            <div className=\"m-1\">\n              <Widget\n                src=\"near/widget/DIG.Button\"\n                props={{\n                  href: \"#/hack.near/widget/create.page\",\n                  label: \"Create Something\",\n                  variant: \"outline-secondary\",\n                  size: \"large\",\n                }}\n              />\n            </div>\n          </FlexContainer>\n        </Flex>\n      )}\n      <br />\n    </Container>\n\n    <Widget src=\"hack.near/widget/community.tabs\" props={{ tab }} />\n    <hr />\n    <br />\n    <Flex>\n      <Text\n        size=\"14px\"\n        weight=\"600\"\n        style={{\n          textTransform: \"uppercase\",\n          letterSpacing: \"0.17em\",\n          textAlign: \"center\",\n        }}\n      >\n        Made Possible by Collaboration\n      </Text>\n      <Widget src=\"hack.near/widget/dev.Badge\" />\n    </Flex>\n  </Wrapper>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/hack.near/widget/community.app", "fact_widget_deployments_id": "5f404b8a357319b12249736569659847", "inserted_timestamp": "2023-10-19T05:27:52.391Z", "modified_timestamp": "2023-10-19T05:27:52.391Z", "__row_index": 1}