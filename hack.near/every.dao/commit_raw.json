{"tx_hash": "AZLtVcEcErPba4RCzCpnHDf4QbFKaH5NiPGPJoividQG", "action_id_social": "8a5AbxC5qwKqq8SGT7GhbFypjQ9asis2XWB8cmYkZecW-0-widget", "block_id": 95206068, "block_timestamp": "2023-06-28T05:55:35.878Z", "signer_id": "hack.near", "widget_name": "every.dao", "source_code": "const daos = Near.view(\"sputnik-dao.near\", \"get_dao_list\");\n\nif (daos === null) {\n  return \"Loading...\";\n}\n\nState.init({\n  name: props.name ?? \"\",\n});\n\nconst onChangeName = (name) => {\n  State.update({\n    name,\n  });\n};\n\nconst filteredDaos = daos.filter((dao) => dao.indexOf(state.name) !== -1);\n\nconst total_daos = daos.length;\n\nconst filtered_daos = filteredDaos.length;\n\nconst Container = styled.div`\n  display: flex;\n  max-width: 888px;\n  margin: 0 auto;\n  flex-direction: column;\n  padding: 8px;\n\n  @media (max-width: 480px) {\n    max-width: 333px;\n  }\n`;\n\nreturn (\n  <Container>\n    <div className=\"d-flex flex-wrap justify-content-between mb-3\">\n      <div className=\"m-1\">\n        <h2 className=\"mb-2\">every dao</h2>\n        {!state.name ? (\n          <h5 className=\"mb-3\">total ~ {total_daos}</h5>\n        ) : (\n          <h5 className=\"mb-3\">filtered ~ {filtered_daos}</h5>\n        )}\n      </div>\n      <div className=\"m-2\">\n        <a\n          href={`#/near/widget/ProfilePage?accountId=every.near`}\n          class=\"text-muted\"\n        >\n          <Widget\n            src=\"mob.near/widget/Profile.ShortInlineBlock\"\n            props={{ accountId: \"every.near\" }}\n          />\n        </a>\n      </div>\n    </div>\n    <h4 className=\"m-1 mb-2\">search by name</h4>\n    <input\n      placeholder=\"<example>.sputnik-dao.near\"\n      type=\"text\"\n      value={state.name}\n      onChange={(e) => onChangeName(e.target.value)}\n    ></input>\n    <div className=\"mt-3\">\n      {filteredDaos.map((dao, j) => (\n        <div className=\"d-flex m-2\">\n          <Widget\n            key={j}\n            src=\"hack.near/widget/dao.profile.card\"\n            props={{ daoId: dao }}\n          />\n        </div>\n      ))}\n    </div>\n  </Container>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/hack.near/widget/every.dao", "fact_widget_deployments_id": "cc7eff5efa0777fbd7edfcb0c1afa21a", "inserted_timestamp": "2024-03-07T05:24:05.087Z", "modified_timestamp": "2024-03-07T05:24:05.087Z", "__row_index": 1}