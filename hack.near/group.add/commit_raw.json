{"tx_hash": "4RcqfVT39DoeGEh9jT9LFjUhcc72735bX5YpEMujJwr5", "action_id_social": "4ETjharpjEVHK8qgJx5fRWsbSvL8GZfchkHx8TkkJvWv-0-widget", "block_id": 100233528, "block_timestamp": "2023-09-02T14:01:39.947Z", "signer_id": "hack.near", "widget_name": "group.add", "source_code": "const accountId = props.accountId ?? context.accountId;\n\nconst groupId = props.groupId ?? \"6fd36ddf4884flm20pbe91e7b208b88d16\";\n\nconst directory = Social.get(`${accountId}/thing/directory`);\n\nState.init({\n  groups: directory,\n  added: false,\n});\n\nfunction addGroup(groupId) {\n  state.groups.push(groupId);\n\n  State.update({\n    groups: state.groups,\n    added: true,\n  });\n}\n\nconst handleSave = () => {\n  const data = {\n    thing: {\n      directory: state.groups,\n    },\n  };\n\n  Social.set(data);\n};\n\nreturn (\n  <div>\n    <div style={{ overflow: \"auto\", maxWidth: \"100%\" }}>\n      <p>{JSON.stringify(state.added)}</p>\n      <p>{groupId}</p>\n      <p>{state.groups}</p>\n    </div>\n    <span>\n      <button className=\"btn btn-primary\" onClick={() => addGroup(groupId)}>\n        Add\n      </button>\n      {!added ? (\n        <button className=\"btn btn-success\" onClick={handleSave}>\n          Approve\n        </button>\n      ) : (\n        <button\n          disabled={added}\n          className=\"btn btn-success\"\n          onClick={handleSave}\n        >\n          Done\n        </button>\n      )}\n    </span>\n    <br />\n  </div>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/hack.near/widget/group.add", "fact_widget_deployments_id": "356e7986f5b736576b6dba6266b68806", "inserted_timestamp": "2023-09-02T15:48:20.829Z", "modified_timestamp": "2023-09-02T15:48:20.829Z", "__row_index": 3}