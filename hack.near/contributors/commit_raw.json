{"tx_hash": "Ch83zLWiJPdnjyDtMqUF9EDkbNWzCSqCHjrcQHeoMas3", "action_id_social": "D5N3BZUybZqWs8rMcWaAgNtDbKtYcByt5znZZsUK65nt-0-widget", "block_id": 97935063, "block_timestamp": "2023-08-02T20:14:07.018Z", "signer_id": "hack.near", "widget_name": "contributors", "source_code": "const data = Social.keys(\"*/profile\", \"final\");\n\nif (!data) {\n  return \"Loading...\";\n}\n\nconst accounts = Object.entries(data);\nconst allHumanAccounts = [];\n\nfor (let i = 0; i < accounts.length; ++i) {\n  const accountId = accounts[i][0];\n\n  let human = false;\n\n  const userSBTs = Near.view(\n    \"registry.i-am-human.near\",\n    \"sbt_tokens_by_owner\",\n    {\n      account: accountId,\n    }\n  );\n\n  for (let j = 0; j < userSBTs.length; j++) {\n    if (\"fractal.i-am-human.near\" === userSBTs[j][0]) {\n      human = true;\n      break;\n    }\n  }\n\n  if (human) {\n    allHumanAccounts.push(\n      <div className=\"mb-2\" key={accountId}>\n        <Widget src=\"hack.near/widget/UserRep\" props={{ accountId }} />\n      </div>\n    );\n  }\n}\n\nreturn (\n  <>\n    <h3>Voter Profiles</h3>\n    <h5 className=\"m-3\">{allHumanAccounts.length} Total</h5>\n    <div className=\"m-3\">{allHumanAccounts}</div>\n  </>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/hack.near/widget/contributors", "fact_widget_deployments_id": "eb3713a124b4bb5d442d8b7420ddc2cb", "inserted_timestamp": "2024-03-07T05:24:05.087Z", "modified_timestamp": "2024-03-07T05:24:05.087Z", "__row_index": 0}