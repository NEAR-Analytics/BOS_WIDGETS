{"tx_hash": "7gAUrXZapf9ai755Lzek5xxhNagV9ENPvzBT1KpkZmoE", "action_id_social": "GF961n5gPQoWuGPk1oF9BEVcbYHt1czcw59qWwaFqxok-0-widget", "block_id": 107010323, "block_timestamp": "2023-12-02T18:00:13.418Z", "signer_id": "hack.near", "widget_name": "tag.info", "source_code": "// adapted from the `LabelDetails` widget by zavodil.near\n\nconst creatorId = props.creatorId ?? \"hack.near\";\nconst namespace = props.namespace ?? \"widget\";\n\nif (!props.tag) {\n  return \"props.tag is undefined\";\n}\n\nlet tag = props.tag;\nconst data = Social.get(`*/${namespace}/*/metadata/tags/${tag}`, \"final\");\n\nif (!data) {\n  return \"Loading...\";\n}\n\nconst records = [];\n\nlet counter = 0;\n\nObject.keys(data).forEach((accountId) => {\n  Object.keys(data[accountId][namespace]).forEach((thingId) => {\n    Object.values(data[accountId][namespace][thingId]).forEach((tags) => {\n      if (Object.keys(tags).includes(tag)) {\n        let text = (\n          <>\n            tagged{\" \"}\n            <Widget src=\"hack.near/widget/thing.inline\" props={{ creatorId }} />\n          </>\n        );\n        records.push(\n          <li className=\"list-group-item\">\n            <Widget src=\"hack.near/widget/thing.inline\" props={{ creatorId }} />\n            {text}\n            <span className=\"public-tags collapse show\">\n              <button\n                className=\"btn btn-sm btn-outline-secondary border-0\"\n                data-bs-toggle=\"collapse\"\n                data-bs-target={`.public-tags-${counter}`}\n                aria-expanded=\"false\"\n                aria-controls={`public-tags-${counter}`}\n                type=\"button\"\n              >\n                <i className=\"bi bi-arrows-angle-expand me-1\"></i>All Tags\n              </button>\n            </span>\n            <div className={`collapse public-tags-${counter}`}>\n              <Widget src=\"hack.near/widget/tags\" props={{ creatorId }} />\n            </div>\n          </li>\n        );\n\n        counter++;\n      }\n    });\n  });\n});\n\nreturn (\n  <>\n    <h4 className=\"ms-3\">\n      <span className=\"badge rounded-pill bg-primary\">{tag}</span>\n    </h4>\n    <ul className=\"list-group list-group-flush\">{records}</ul>\n  </>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/hack.near/widget/tag.info", "fact_widget_deployments_id": "cf106c462438c56db6ef8bc241602dfe", "inserted_timestamp": "2024-03-07T05:24:05.087Z", "modified_timestamp": "2024-03-07T05:24:05.087Z", "__row_index": 0}