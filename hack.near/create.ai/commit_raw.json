{"tx_hash": "HGGpzh8oBmQsLwNxYMRtmpwAU15rdqUf5GVE2bSdEpsW", "action_id_social": "53s3YYhaocvkWx4xsExj9JPYx5UWJAZqJWWpxGy2zoxk-0-widget", "block_id": 122045937, "block_timestamp": "2024-06-26T16:47:09.366Z", "signer_id": "hack.near", "widget_name": "create.ai", "source_code": "const accountId = props.accountId ?? context.accountId;\n\nconst template = \"hack.near/widget/city.ai\";\n\nconst [systemPrompt, setSystemPrompt] = useState(\"\");\nconst [creatorId, setCreatorId] = useState(accountId);\nconst [name, setName] = useState(\"\");\nconst [initialMessage, setInitialMessage] = useState(\"\");\n\nconst handleCreate = () =>\n  Social.set({\n    widget: {\n      [`${name}`]: {\n        \"\": `const accountId = props.accountId ?? context.accountId; return <Widget src=\"hack.near/widget/city.ai\" props={{ systemPrompt: \"${systemPrompt}\", initialMessage: \"${initialMessage}\" }} />`,\n        metadata: {\n          tags: {\n            build: \"\",\n          },\n        },\n      },\n    },\n  });\n\nreturn (\n  <>\n    <h3>Create Your Own AI Chatbot</h3>\n    <div className=\"m-2 mt-3\">\n      <h5>System Prompt</h5>\n      <input\n        type=\"text\"\n        placeholder=\"You support development of communities that build tools to improve urban life.\"\n        value={systemPrompt}\n        onChange={(e) => setSystemPrompt(e.target.value)}\n      />\n    </div>\n    <div className=\"m-2 mt-3\">\n      <h5>Initial Message</h5>\n      <input\n        type=\"text\"\n        placeholder=\"Hi, let's build AI together!\"\n        value={initialMessage}\n        onChange={(e) => setInitialMessage(e.target.value)}\n      />\n    </div>\n    <div className=\"m-2 mt-3\">\n      <h5>Name (for the widget)</h5>\n      <input\n        type=\"text\"\n        placeholder=\"city.ai\"\n        value={name}\n        onChange={(e) => setName(e.target.value)}\n      />\n    </div>\n    <div className=\"m-2 mt-3\">\n      <button\n        disabled={!name || !systemPrompt || !initialMessage}\n        className=\"btn btn-success mx-1\"\n        onClick={handleCreate}\n      >\n        Create\n      </button>\n      <a\n        className=\"btn btn-outline-success mx-1\"\n        href=\"#/edit/hack.near/widget/city.ai\"\n      >\n        Customize\n      </a>\n    </div>\n    <hr />\n    <h4>Preview</h4>\n    <br />\n    <Widget\n      src={template}\n      props={{\n        systemPrompt: systemPrompt,\n        initialMessage: initialMessage,\n      }}\n    />\n  </>\n);\n", "metadata": {"fork_of": "hack.near/widget/create.page@96587415"}, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/hack.near/widget/create.ai", "fact_widget_deployments_id": "1c63aaea807a2bf86bcc71154df2b74a", "inserted_timestamp": "2024-06-26T17:54:14.774Z", "modified_timestamp": "2024-06-26T17:54:14.774Z", "__row_index": 0}