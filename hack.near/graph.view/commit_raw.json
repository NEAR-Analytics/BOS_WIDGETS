{"tx_hash": "7AyL7kRy1q4JrxwnZmgeZfLfUK5fxRqVSFHs9or5H7Gn", "action_id_social": "E9vpf2DNhwjQg2CqbmxpAKVVotdyxVenpNGdobQn5dgt-0-widget", "block_id": 101838033, "block_timestamp": "2023-09-24T09:19:04.223Z", "signer_id": "hack.near", "widget_name": "graph.view", "source_code": "const accountId = props.accountId ?? context.accountId;\n\nif (!accountId) {\n  return \"Please connect your NEAR wallet :)\";\n}\n\nState.init({\n  accounts: [\"every.near\", context.accountId],\n  newAccount: \"\",\n  thing: thingId,\n});\n\nfunction addAccount(newAccount) {\n  state.accounts.push(newAccount);\n\n  State.update({\n    accounts: state.accounts,\n  });\n}\n\nfunction removeAccount(accountKey) {\n  const updatedAccounts = state.accounts.filter(\n    (account) => account !== accountKey\n  );\n\n  State.update({\n    accounts: updatedAccounts,\n  });\n}\n\nreturn (\n  <div>\n    <div>\n      <h3>Explore</h3>\n    </div>\n    <div className=\"mb-2\">\n      <h5>Graph ID</h5>\n      <input type=\"text\" value={state.thing} placeholder={defaultThing} />\n    </div>\n    <div>\n      <h5>Nodes</h5>\n      <input\n        placeholder=\"<example>.near\"\n        onChange={(e) => State.update({ newAccount: e.target.value })}\n      />\n      <div className=\"d-flex align-items-center mt-2\">\n        <button\n          className=\"btn btn-primary m-2\"\n          onClick={() => addAccount(state.newAccount)}\n        >\n          add\n        </button>\n      </div>\n    </div>\n    <div>\n      {state.accounts.map((a) => {\n        return (\n          <div className=\"d-flex m-2 p-2 justify-content-between align-items-center\">\n            <div className=\"d-flex align-items-center\">\n              <Widget src=\"mob.near/widget/Profile\" props={{ accountId: a }} />\n            </div>\n            <button\n              className=\"btn btn-danger m-1\"\n              onClick={() => removeAccount(a)}\n            >\n              remove\n            </button>\n          </div>\n        );\n      })}\n    </div>\n    <hr />\n    {state.accounts.length > 1 ? (\n      <div className=\"mb-2\">\n        <Widget\n          src=\"hack.near/widget/SocialGraph\"\n          props={{\n            accountIds: state.accounts,\n            thingId: state.thing,\n          }}\n        />\n      </div>\n    ) : (\n      <div className=\"mb-2\">\n        <h5>input 2+ accounts</h5>\n      </div>\n    )}\n  </div>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/hack.near/widget/graph.view", "fact_widget_deployments_id": "01e9631369099fa0d8c2fe17308c846b", "inserted_timestamp": "2024-03-07T05:24:05.087Z", "modified_timestamp": "2024-03-07T05:24:05.087Z", "__row_index": 0}