{"tx_hash": "22gQsrKPfeYzeww4FvxBCgVbkYAjKW3fQ74eKtKYd7do", "action_id_social": "CcdN8utKME2AHmS7eHCVDNooYbteFHBwkdEbsrqAgPEw-0-widget", "block_id": 122185451, "block_timestamp": "2024-06-28T15:48:50.228Z", "signer_id": "hack.near", "widget_name": "chatbot.creator", "source_code": "const accountId = props.accountId ?? context.accountId;\n\nconst template = \"hack.near/widget/chatbot\";\n\nconst [systemPrompt, setSystemPrompt] = useState(\"\");\nconst [creatorId, setCreatorId] = useState(accountId);\nconst [name, setName] = useState(\"\");\nconst [initialMessage, setInitialMessage] = useState(\"\");\n\nconst handleCreate = () =>\n  Social.set({\n    widget: {\n      [`${name}`]: {\n        \"\": `return <Widget src=\"hack.near/widget/chatbot\" props={{ systemPrompt: \"${systemPrompt}\", initialMessage: \"${initialMessage}\" }} />;`,\n        metadata: {\n          tags: {\n            build: \"\",\n          },\n        },\n      },\n    },\n  });\n\nreturn (\n  <div className=\"m-2\">\n    <h3>Create Your Own AI Chatbot</h3>\n    <div className=\"m-2 mt-3\">\n      <h5>System Prompt</h5>\n      <input\n        type=\"text\"\n        placeholder=\"You support development of communities that build tools to improve urban life.\"\n        value={systemPrompt}\n        onChange={(e) => setSystemPrompt(e.target.value)}\n      />\n    </div>\n    <div className=\"m-2 mt-3\">\n      <h5>Initial Message</h5>\n      <input\n        type=\"text\"\n        placeholder=\"Hi, let's build AI together!\"\n        value={initialMessage}\n        onChange={(e) => setInitialMessage(e.target.value)}\n      />\n    </div>\n    <div className=\"m-2 mt-3\">\n      <h5>Name (for the widget)</h5>\n      <input\n        type=\"text\"\n        placeholder=\"chatbot\"\n        value={name}\n        onChange={(e) => setName(e.target.value)}\n      />\n    </div>\n    {context.accountId ? (\n      <div className=\"m-2 mt-3\">\n        <button\n          disabled={!name || !systemPrompt || !initialMessage}\n          className=\"btn btn-success mx-1\"\n          onClick={handleCreate}\n        >\n          Create\n        </button>\n        <a\n          className=\"btn btn-outline-success mx-1\"\n          href=\"/edit/hack.near/widget/chatbot\"\n        >\n          Customize\n        </a>\n      </div>\n    ) : (\n      <div className=\"m-2 mt-3\">\n        <a\n          className=\"btn btn-success mx-1\"\n          href=\"https://wallet.mintbase.xyz/account/new\"\n        >\n          Get Account\n        </a>\n      </div>\n    )}\n    <hr />\n    <div>\n      <h4 className=\"m-3\">Demo</h4>\n      <Widget src={template} />\n    </div>\n  </div>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/hack.near/widget/chatbot.creator", "fact_widget_deployments_id": "4947d8a06610635f2fb7af0282b2326d", "inserted_timestamp": "2024-06-28T16:55:45.650Z", "modified_timestamp": "2024-06-28T16:55:45.650Z", "__row_index": 3}