{"tx_hash": "15n3wuhqsHJWTN9KYPh1owYqXWRZXynmsptp5wATNBh", "action_id_social": "GB7LQ8AJQ5HUWLoofTGjqRMFJ8ykTAMfrS5QteXXndAu-0-widget", "block_id": 96144305, "block_timestamp": "2023-07-10T12:06:18.980Z", "signer_id": "hack.near", "widget_name": "dao.change.policy", "source_code": "const daoId = props.daoId ?? \"multi.sputnik-dao.near\";\n\nconst policy = Near.view(daoId, \"get_policy\");\n\nif (policy == null) {\n  return \"\";\n}\n\nconst deposit = policy.proposal_bond;\n\nconst newPolicy = fetch(\"NEW POLICY_JSON_GOES_HERE\");\n\nconst handleProposal = () => {\n  Near.call([\n    {\n      contractName: daoId,\n      methodName: \"add_proposal\",\n      args: {\n        proposal: {\n          description: \"update policy\",\n          kind: {\n            ChangePolicy: {\n              policy: JSON.parse(newPolicy.body),\n            },\n          },\n        },\n      },\n      deposit: deposit,\n      gas: \"219000000000000\",\n    },\n  ]);\n};\n\nreturn (\n  <div className=\"mb-3\">\n    <button className=\"btn text-light btn-info m-2\" onClick={handleProposal}>\n      Update Policy\n    </button>\n  </div>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/hack.near/widget/dao.change.policy", "fact_widget_deployments_id": "ef3d70bbe729b0aafd0bcd5540fb30ce", "inserted_timestamp": "2024-03-07T05:24:05.087Z", "modified_timestamp": "2024-03-07T05:24:05.087Z", "__row_index": 0}