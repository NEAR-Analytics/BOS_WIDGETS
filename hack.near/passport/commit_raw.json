{"tx_hash": "DmP9XXjdKdJwW8sQfRUWoXj19Z5dLXWunacWrCQoMmLZ", "action_id_social": "GgzbLWu6ESma3sxqCJSfNsydf2cfVX5864GzLhR5Ve7B-0-widget", "block_id": 114302983, "block_timestamp": "2024-03-08T02:44:49.104Z", "signer_id": "hack.near", "widget_name": "passport", "source_code": "const user = Ethers.send(\"eth_requestAccounts\", [])[0];\n\nif (!user) return <Web3Connect connectLabel=\"Connect\" />;\n\nconst passportDecoderAbi = fetch(\n  \"https://raw.githubusercontent.com/gitcoinco/eas-proxy/main/deployments/abi/GitcoinPassportDecoder.json\"\n);\nif (!passportDecoderAbi.ok) {\n  return \"ERROR\";\n}\n\nconst iface = new ethers.utils.Interface(passportDecoderAbi.body);\n\nState.init({\n  address: \"0xc979F9D3Db24Ef602FD365caA9D86532c73b6D7E\",\n  isHuman: false,\n  error: \"\",\n});\n\nconst decoderContractAddress = \"0x5558D441779Eca04A329BcD6b47830D2C6607769\";\n\nconst getPassport = () => {\n  const contract = new ethers.Contract(\n    decoderContractAddress,\n    passportDecoderAbi.body,\n    Ethers.provider().getSigner()\n  );\n\n  const passport = contract.getPassport(state.address);\n  return passport;\n};\n\nconst getScore = () => {\n  const contract = new ethers.Contract(\n    decoderContractAddress,\n    passportDecoderAbi.body,\n    Ethers.provider().getSigner()\n  );\n\n  let score = contract.getScore(state.user);\n  return score;\n};\n\nconst checkPassport = () => {\n  const contract = new ethers.Contract(\n    decoderContractAddress,\n    passportDecoderAbi.body,\n    Ethers.provider().getSigner()\n  );\n\n  let isHuman = contract.isHuman(state.user);\n  return isHuman;\n};\n\nreturn (\n  <div>\n    <button onClick={getPassport}>Get Passport</button>\n    <button onClick={getScore}>Get Score</button>\n    <button onClick={checkPassport}>Check Passport</button>\n    <p>{JSON.stringify(score)}</p>\n    <p>{JSON.stringify(score)}</p>\n    <p>{JSON.stringify(isHuman)}</p>\n  </div>\n);\n", "metadata": {"fork_of": "mob.near/widget/Homepage@99124683"}, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/hack.near/widget/passport", "fact_widget_deployments_id": "c44ad02774fb87f6d8d3001aa0a22538", "inserted_timestamp": "2024-03-08T04:26:46.616Z", "modified_timestamp": "2024-03-08T04:26:46.616Z", "__row_index": 0}