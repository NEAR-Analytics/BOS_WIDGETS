{"tx_hash": "H1ABKzyvWM4PwMNp9gMB77PXtjCofL5a8yNEMTdTmT2C", "action_id_social": "hN9JewTc4CsuWbiEV6SVZutdWZ3fyRscfmTDbfWr2T4-0-widget", "block_id": 114303253, "block_timestamp": "2024-03-08T02:50:48.041Z", "signer_id": "hack.near", "widget_name": "passport", "source_code": "const user = Ethers.send(\"eth_requestAccounts\", [])[0];\n\nif (!user) return <Web3Connect connectLabel=\"Connect\" />;\n\nconst passportDecoderAbi = fetch(\n  \"https://raw.githubusercontent.com/gitcoinco/eas-proxy/main/deployments/abi/GitcoinPassportDecoder.json\"\n);\nif (!passportDecoderAbi.ok) {\n  return \"ERROR\";\n}\n\nconst iface = new ethers.utils.Interface(passportDecoderAbi.body);\n\nconst [address, setAddress] = useState(\n  \"0xc979F9D3Db24Ef602FD365caA9D86532c73b6D7E\"\n);\n\nconst decoderContractAddress = \"0x5558D441779Eca04A329BcD6b47830D2C6607769\";\n\nconst getPassport = () => {\n  const contract = new ethers.Contract(\n    decoderContractAddress,\n    passportDecoderAbi.body,\n    Ethers.provider().getSigner()\n  );\n\n  const passport = contract.getPassport(state.address);\n  return passport;\n};\n\nconst getScore = () => {\n  const contract = new ethers.Contract(\n    decoderContractAddress,\n    passportDecoderAbi.body,\n    Ethers.provider().getSigner()\n  );\n\n  let score = contract.getScore(state.address);\n  return score;\n};\n\nconst checkPassport = () => {\n  const contract = new ethers.Contract(\n    decoderContractAddress,\n    passportDecoderAbi.body,\n    Ethers.provider().getSigner()\n  );\n\n  let isHuman = contract.isHuman(state.address);\n  return isHuman;\n};\n\nreturn (\n  <>\n    <div className=\"m-2\">\n      <input\n        type=\"text\"\n        placeholder=\"input Ethereum address\"\n        value={address}\n        onChange={(e) => setAddress(e.target.value)}\n      />\n    </div>\n    <div className=\"m-2\">\n      <button className=\"btn btn-primary m-2\" onClick={getPassport}>\n        Get Passport\n      </button>\n      <button className=\"btn btn-primary m-2\" onClick={getScore}>\n        Get Score\n      </button>\n      <button className=\"btn btn-primary m-2\" onClick={checkPassport}>\n        Check Passport\n      </button>\n    </div>\n    <div className=\"m-2\">\n      <p className=\"m-2\">{JSON.stringify(score)}</p>\n      <p className=\"m-2\">{JSON.stringify(score)}</p>\n      <p className=\"m-2\">{JSON.stringify(isHuman)}</p>\n    </div>\n  </>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/hack.near/widget/passport", "fact_widget_deployments_id": "4805f0732603889381de9d977484d241", "inserted_timestamp": "2024-03-08T04:26:46.616Z", "modified_timestamp": "2024-03-08T04:26:46.616Z", "__row_index": 1}