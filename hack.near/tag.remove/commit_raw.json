{"tx_hash": "86BV6ZMqan2ZREyAgHN6ZPmGBDHY4CgE5z9pLRHVD9Ha", "action_id_social": "C8mf84ws2XQpiF3dwMxjtfP3sbGSo4TQhznaLvndQKD6-0-widget", "block_id": 107089724, "block_timestamp": "2023-12-03T20:18:59.532Z", "signer_id": "hack.near", "widget_name": "tag.remove", "source_code": "const path = props.path ?? \"hack.near/widget/every\";\n\nif (!path) {\n  return \"\";\n}\n\nState.init({\n  path,\n  tag: \"\",\n});\n\nconst [creatorId, namespace, thingId] = state.path.split(\"/\");\n\nconst tags = Social.get(\"*/graph/context/**\");\n\nconst tagsByUsers = {};\nconst taggedThings = Object.keys(tagsByUsers);\nconst tagCount = taggedThings.length;\n\nconst removeTag = () => {\n  const data = {\n    graph: {\n      context: {\n        [creatorId]: {\n          [namespace]: {\n            [thingId]: {\n              tags: {\n                [state.tag]: null,\n              },\n            },\n          },\n        },\n      },\n    },\n  };\n  Social.set(data);\n};\n\nreturn (\n  <div>\n    <div className=\"m-2\">\n      <h5 className=\"mb-2\">path:</h5>\n      <input\n        onChange={(e) => {\n          State.update({\n            path: e.target.value,\n          });\n        }}\n      />\n    </div>\n\n    <div className=\"m-2\">\n      <h5 className=\"mb-2\">tag:</h5>\n      <input\n        onChange={(e) => {\n          State.update({\n            tag: e.target.value,\n          });\n        }}\n      />\n    </div>\n    <button\n      disabled={state.tag === \"\"}\n      className=\"btn btn-danger m-2\"\n      onClick={removeTag}\n    >\n      remove\n    </button>\n  </div>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/hack.near/widget/tag.remove", "fact_widget_deployments_id": "5bcf602893fcdfab6680a0d115402267", "inserted_timestamp": "2024-03-07T05:24:05.087Z", "modified_timestamp": "2024-03-07T05:24:05.087Z", "__row_index": 0}