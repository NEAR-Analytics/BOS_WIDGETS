{"tx_hash": "HPcgKKwbNP4TH1Nj711aiM6AWGnVFErsFTWDLKQsXpDo", "action_id_social": "9SrRnPDGhS4NEZQMSDpPWc5twE6s3u542Vh3UcgtqqBP-0-widget", "block_id": 113139539, "block_timestamp": "2024-02-19T07:47:35.060Z", "signer_id": "hack.near", "widget_name": "app", "source_code": "const { page, tab, ...passProps } = props;\n\nconst { routes } = VM.require(\"hack.near/widget/app.config\") ?? {\n  routes: {},\n};\n\nconst { MainLayout } = VM.require(\"apps.near/widget/template.main\") || {\n  MainLayout: () => <></>,\n};\n\nif (!page) page = Object.keys(routes)[0] || \"root\";\n\nfunction Router({ active, routes }) {\n  const routeParts = active.split(\".\");\n\n  let currentRoute = routes;\n  let src = \"\";\n  let defaultProps = {};\n\n  for (let part of routeParts) {\n    if (currentRoute[part]) {\n      currentRoute = currentRoute[part];\n      src = currentRoute.path;\n\n      if (currentRoute.init) {\n        defaultProps = { ...defaultProps, ...currentRoute.init };\n      }\n    } else {\n      return <p>NOTHING FOUND</p>;\n    }\n  }\n\n  return (\n    <div key={active}>\n      <Widget\n        src={src}\n        props={{\n          currentPath: `/apps.near/widget/project?page=${page}`,\n          page: tab,\n          ...passProps,\n          ...defaultProps,\n        }}\n      />\n    </div>\n  );\n}\n\nconst Container = styled.div`\n  display: flex;\n  height: 100%;\n`;\n\nconst Content = styled.div`\n  width: 100%;\n  height: 100%;\n`;\n\nreturn (\n  <Container>\n    <MainLayout page={page} routes={routes} {...props}>\n      <Content>\n        <Router active={page} routes={routes} />\n      </Content>\n    </MainLayout>\n  </Container>\n);\n", "metadata": {"fork_of": "james.near/widget/BuilderHat@112262143"}, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/hack.near/widget/app", "fact_widget_deployments_id": "f547cd1de9b0ed616a6f2800605c3975", "inserted_timestamp": "2024-03-07T05:24:05.087Z", "modified_timestamp": "2024-03-07T05:24:05.087Z", "__row_index": 25}