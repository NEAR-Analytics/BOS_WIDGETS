{"tx_hash": "BdkcUSW2H9Y5NC1KbVPJE3LGVaENWbmwm9oPTDBBQgZn", "action_id_social": "A2SrrUXvG4bJYEE1NFGJkSwnRECLfVi99fQbCuVG56hf-0-widget", "block_id": 113522571, "block_timestamp": "2024-02-25T01:32:36.119Z", "signer_id": "hack.near", "widget_name": "page.feed", "source_code": "const { currentPath, page, ...passProps } = props;\n\nconst { Post } = VM.require(\"buildhub.near/widget/components\") || {\n  Post: () => <></>,\n};\n\nconst routes = {\n  all: {\n    path: \"hack.near/widget/feed\",\n    blockHeight: \"final\",\n    init: {\n      name: \"Posts\",\n      icon: \"bi-view-list\",\n      requiredHashtags: [\"build\"],\n    },\n  },\n  tasks: {\n    path: \"hack.near/widget/feed\",\n    blockHeight: \"final\",\n    init: {\n      name: \"Tasks\",\n      icon: \"bi-clipboard\",\n      requiredHashtags: [\"build\", \"task\"],\n      template: `### TASK NAME:\n        ##### Scope\n        Describe the work.\n\n`,\n    },\n  },\n  events: {\n    path: \"buildhub.near/widget/events.Calendar\",\n    blockHeight: \"final\",\n    init: {\n      name: \"Events\",\n      icon: \"bi-calendar3\",\n    },\n  },\n};\n\nconst { SidebarLayout } = VM.require(\"apps.near/widget/template.sidebar\") || {\n  SidebarLayout: () => <></>,\n};\n\nif (!page) page = Object.keys(routes)[0] || \"main\";\n\nconst Root = styled.div``;\n\nfunction Router({ active, routes }) {\n  const routeParts = active.split(\".\");\n\n  let currentRoute = routes;\n  let src = \"\";\n  let defaultProps = {};\n\n  for (let part of routeParts) {\n    if (currentRoute[part]) {\n      currentRoute = currentRoute[part];\n      src = currentRoute.path;\n\n      if (currentRoute.init) {\n        defaultProps = { ...defaultProps, ...currentRoute.init };\n      }\n    } else {\n      return <p>ERROR: NOTHING FOUND</p>;\n    }\n  }\n\n  return (\n    <div key={active}>\n      <Widget src={src} props={{ ...passProps, ...defaultProps }} />\n    </div>\n  );\n}\n\nconst Container = styled.div`\n  // display: flex;\n  height: 100%;\n`;\n\nconst Content = styled.div`\n  width: 100%;\n  height: 100%;\n`;\n\nreturn (\n  <Root>\n    <Container>\n      <SidebarLayout currentPath={currentPath} page={page} routes={routes}>\n        <Content>\n          <Router active={page} routes={routes} />\n        </Content>\n      </SidebarLayout>\n    </Container>\n  </Root>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/hack.near/widget/page.feed", "fact_widget_deployments_id": "27fb2ada889a021a4ee88a18458a85dd", "inserted_timestamp": "2024-03-07T05:24:05.087Z", "modified_timestamp": "2024-03-07T05:24:05.087Z", "__row_index": 16}