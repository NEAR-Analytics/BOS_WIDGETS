{"tx_hash": "CHkRYw3hwgtKxMDQbo2dV7F1z4aYE3ggykDwm8siFrM6", "action_id_social": "7ofYpJvxD4dGGVXJkNZjkEPKsmWV9w8njzkXiWVLGRCY-0-widget", "block_id": 113842006, "block_timestamp": "2024-02-29T21:42:04.219Z", "signer_id": "hack.near", "widget_name": "events.app", "source_code": "const { page, tab, layout, loading, twitter, github, telegram, ...passProps } =\n  props;\n\nconst routes = props.routes ?? {\n  main: {\n    path: \"hack.near/widget/events.view\",\n    blockHeight: \"final\",\n    init: {\n      name: \"Events\",\n    },\n  },\n  about: {\n    path: \"hack.near/widget/page.about\",\n    blockHeight: \"final\",\n    init: {\n      name: \"About\",\n    },\n  },\n  social: {\n    path: \"hack.near/widget/page.feed\",\n    blockHeight: \"final\",\n    init: {\n      name: \"Discussion\",\n    },\n  },\n};\n\nconst { AppLayout } = VM.require(\"hack.near/widget/template.main\") || {\n  AppLayout: () => <>Layout loading...</>,\n};\n\nif (!page) page = \"main\";\n\nconst [activeRoute, setActiveRoute] = useState(page);\n\nuseEffect(() => {\n  setActiveRoute(page);\n}, [page]);\n\nfunction Router({ active, routes }) {\n  const routeParts = active.split(\".\");\n\n  let currentRoute = routes;\n  let src = \"\";\n  let defaultProps = {};\n\n  for (let part of routeParts) {\n    if (currentRoute[part]) {\n      currentRoute = currentRoute[part];\n      src = currentRoute.path;\n\n      if (currentRoute.init) {\n        defaultProps = { ...defaultProps, ...currentRoute.init };\n      }\n    } else {\n      return <p className=\"m-3\">ERROR: NOTHING FOUND</p>;\n    }\n  }\n\n  return (\n    <div key={active}>\n      <Widget\n        src=\"hack.near/widget/thing\"\n        props={{ ...passProps, ...defaultProps, path: src, page: tab }}\n      />\n    </div>\n  );\n}\n\nconst Container = styled.div`\n  display: flex;\n`;\n\nconst Content = styled.div`\n  width: 100%;\n  height: 100%;\n  padding: 23px;\n`;\n\nreturn (\n  <Container>\n    <AppLayout page={activeRoute} routes={routes}>\n      <Content>\n        <Router active={activeRoute} routes={routes} />\n      </Content>\n      <Widget\n        src=\"hack.near/widget/Footer\"\n        props={{ twitter, github, telegram }}\n      />\n    </AppLayout>\n  </Container>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/hack.near/widget/events.app", "fact_widget_deployments_id": "118a541e076dbee108b487656ad159ce", "inserted_timestamp": "2024-03-07T05:24:05.087Z", "modified_timestamp": "2024-03-07T05:24:05.087Z", "__row_index": 3}