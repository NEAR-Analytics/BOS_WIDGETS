{"tx_hash": "6GHLpc9aLnWn1jbGrHBb3tPsh6EdscjxiwmV8pWx1MSw", "action_id_social": "7h4PzuBLA1KPCGdAwGzwjb4LcDmRN2B1Vm1XQ8QiM4YA-0-widget", "block_id": 100263798, "block_timestamp": "2023-09-02T23:57:18.494Z", "signer_id": "hack.near", "widget_name": "NDC.WG.Card", "source_code": "const creatorId = props.creatorId ?? \"hack.near\";\n\nconst groupId = props.groupId ?? \"cefe2651fd468lm0x9mg91d69d351d0c4\";\n\nconst groupData = props.data ?? Social.get(`${creatorId}/thing/${groupId}/**`);\n\nState.init({\n  verified: false,\n  shareText: \"Copy link\",\n});\n\nconst widgets = {\n  styledComponents: \"hack.near/widget/NDC.StyledComponents\",\n  groupPage: \"near/widget/ProfilePage\",\n};\n\nconst isHuman = Near.view(registry_contract, \"is_human\", {\n  account: context.accountId,\n});\nState.update({ verified: isHuman[0][1].length > 0 });\n\nfunction handleShare() {\n  State.update({ shareText: \"Copied\" });\n  clipboard.writeText(\"#/hack.near/widget/NDC.WG.Page\");\n}\n\nconst Card = styled.div`\n  position: relative;\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n  padding: 16px;\n  gap: 16px;\n  background: #f8f8f9;\n  border-radius: 10px;\n`;\nconst HeaderCard = styled.div`\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  padding: 0px;\n  width: 100%;\n`;\nconst ProfilePicture = styled.img`\n  width: 45px;\n  height: 45px;\n  border-radius: 50%;\n`;\nconst HeaderContent = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n  padding: 0px;\n  gap: 4px;\n  flex-grow: 1;\n`;\nconst HeaderTag = styled.div`\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n  align-items: center;\n  padding: 4px 8px;\n  height: 18px;\n  background: linear-gradient(90deg, #9333ea 0%, #4f46e5 100%);\n  border-radius: 100px;\n`;\nconst HeaderTagP = styled.p`\n  height: 10px;\n  font-style: normal;\n  font-weight: 500;\n  font-size: 11px;\n  display: flex;\n  align-items: center;\n  color: white;\n  margin: 0;\n`;\nconst UserLink = styled.a`\n  width: 100%;\n  cursor: pointer;\n  &:hover {\n    text-decoration: none;\n  }\n`;\nconst GroupName = styled.p`\n  font-weight: 500;\n  font-size: 14px;\n  margin: 0;\n  align-items: center;\n  color: #000000;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n`;\nconst GroupCreator = styled.p`\n  font-style: normal;\n  font-weight: 400;\n  font-size: 12px;\n  margin: 0px;\n  line-height: 120%;\n  display: flex;\n  align-items: center;\n  color: #828688;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n`;\n\nconst Icon = styled.img`\n  width: 17px;\n  height: 17px;\n`;\nconst CollapseGroup = styled.div`\n  padding: 12px;\n  background: #ffffff;\n  border-radius: 6px;\n`;\nconst CollapseGroupContent = styled.div`\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: flex-start;\n  padding: 0px;\n  gap: 5px;\n`;\nconst CollapseGroupText = styled.p`\n  width: 274px;\n  font-style: normal;\n  font-weight: 700;\n  font-size: 12px;\n  line-height: 120%;\n  margin: 0px;\n  margin-bottom: 3px;\n  color: #000000;\n`;\nconst DownArrow = styled.img`\n  width: 16px;\n  height: 16px;\n`;\nconst GroupTagContainer = styled.div`\n  gap: 4px;\n`;\n\nconst Groups = styled.div`\n  display: flex;\n  flex-direction: row;\n  align-items: flex-start;\n  padding: 12px;\n  gap: 12px;\n  background: #ffffff;\n  border-radius: 6px;\n  width: 100%;\n`;\nconst GroupsContent = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n  padding: 0px;\n  gap: 12px;\n  width: 100%;\n`;\nconst GroupsHeader = styled.div`\n  display: flex;\n  flex-direction: row;\n  align-items: flex-start;\n  padding: 0px;\n  gap: 12px;\n`;\nconst GroupsTitle = styled.p`\n  font-style: normal;\n  font-weight: 700;\n  font-size: 14px;\n  line-height: 120%;\n  margin-bottom: 0;\n`;\nconst GroupsContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n  padding: 0px;\n  gap: 8px;\n  overflow-y: scroll;\n  height: 140px;\n  width: 100%;\n`;\nconst GroupTitle = styled.p`\n  font-weight: 500;\n  font-size: 12px;\n  margin-bottom: 5px;\n  white-space: pre-wrap;\n`;\nconst GroupDescription = styled.p`\n  font-weight: 400;\n  font-size: 11px;\n  margin-bottom: 0;\n`;\nconst GroupSeparator = styled.div`\n  height: 1px;\n  margin: 7px 0 2px 0;\n  background: rgba(208, 214, 217, 0.4);\n`;\nconst LowerSection = styled.div`\n  display: flex;\n  width: 100%;\n  flex-direction: column;\n  justify-content: center;\n  align-items: flex-start;\n  gap: 8px;\n`;\nconst LowerSectionContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: flex-start;\n  gap: 12px;\n  align-self: stretch;\n`;\nconst ButtonsLowerSection = styled.div`\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  padding: 0px;\n  width: 100%;\n  height: 28px;\n`;\nconst TextLowerSectionContainer = styled.div`\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  padding: 0px;\n  gap: 4px;\n  width: 239px;\n  height: 24px;\n\n  flex-grow: 1;\n`;\nconst ClockIcon = styled.img`\n  width: 12px;\n  height: 12px;\n`;\nconst TimestampText = styled.div`\n  font-style: italic;\n  font-weight: 300;\n  font-size: 11px;\n  line-height: 14px;\n  margin: 0px;\n  gap: 2px;\n  color: #000000;\n\n  b {\n    font-weight: 600;\n  }\n`;\nconst ButtonsContainer = styled.div`\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  padding: 0px;\n  gap: 4px;\n  width: 87px;\n  height: 28px;\n`;\nconst TagSection = styled.div`\n  display: flex;\n  align-items: flex-start;\n  gap: 4px;\n  flex-wrap: wrap;\n  overflow: hidden;\n`;\nconst DropdownContainer = styled.div`\n  position: relative;\n  display: inline-block;\n`;\n\nconst DropdownContent = styled.div`\n  display: none;\n  left: 0;\n  font-size: 12px;\n  flex-direction: column;\n  align-items: flex-start;\n  position: absolute;\n  border-radius: 8px;\n  background: #ffffff;\n  box-shadow: 0px 0px 30px 0px rgba(0, 0, 0, 0.2);\n  border-radius: 8px;\n  z-index: 1;\n  padding: 8px;\n`;\n\nconst Element = styled.div`\n  width: 150px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  cursor: pointer;\n  padding: 10px;\n\n  &:hover {\n    border-radius: 6px;\n    background: #f8f8f9;\n  }\n`;\n\nconst ShareLink = styled.a`\n  color: black;\n  margin-right: 8px 12px;\n  text-decoration: none;\n  display: block;\n  text-align: start;\n`;\n\nconst ShareIcon = styled.img`\n  width: 20px;\n`;\n\nconst DropdownContainerHover = styled.div`\n  width: fit-content;\n  float: right;\n\n  &:hover ${DropdownContent} {\n    display: flex;\n    margin-top: -165px;\n  }\n`;\n\nconst Separation = styled.div`\n    position: absolute;\n  }\n`;\n\nconst Wrapper = styled.div`\n\n  @media only screen and (max-width: 610px) {\n    width: 100%;\n  }\n  width: 50%;\n`;\n\nconst trimText = (text, limit) => {\n  if (!text) return \"\";\n\n  const _limit = limit ?? 200;\n  const ending = text.length > _limit ? \"...\" : \"\";\n  const trimmed = text.slice(0, limit ?? 200);\n\n  return `${trimmed}${ending}`;\n};\n\nreturn (\n  <Wrapper className=\"p-2 col-lg-4 col-md-6 col-sm-12\">\n    <Card>\n      <HeaderCard className=\"d-flex justify-content-between w-100\">\n        <div className=\"d-flex align-items-center gap-2 w-100 justify-content-between\">\n          <Widget\n            src=\"mob.near/widget/ProfileImage\"\n            props={{\n              accountId: groupData.creatorId,\n              tooltip: true,\n              imageClassName: \"rounded-circle w-100 h-100\",\n              style: { minWidth: \"45px\", height: \"45px\" },\n            }}\n          />\n          <HeaderContent>\n            <UserLink\n              href={`/${widgets.groupPage}?accountId=${groupData.creatorId}`}\n            >\n              <GroupName>{groupData.title}</GroupName>\n              <GroupCreator>{groupData.creatorId}</GroupCreator>\n            </UserLink>\n            <div>\n              {creatorId === context.accountId && (\n                <a\n                  key=\"edit\"\n                  href={`/hack.near/widget/group.data?groupId=${groupId}`}\n                  className=\"position-absolute top-0 end-0 link-secondary small me-3 mt-2\"\n                >\n                  <i className=\"bi bi-pencil\" /> Edit Card\n                </a>\n              )}\n            </div>\n          </HeaderContent>\n        </div>\n      </HeaderCard>\n      <LowerSection>\n        <LowerSectionContainer>\n          <div className=\"d-flex w-100 align-items-center\">\n            <div className=\"d-flex w-100 gap-2 justify-content-between\">\n              <Widget\n                src={widgets.styledComponents}\n                props={{\n                  Link: {\n                    text: \"View\",\n                    className: \"primary w-100 justify-content-center\",\n                    href: `/${widgets.groupPage}?accountId=${groupData.creatorId}`,\n                    icon: <i className=\"bi bi-eye-fill fs-6\"></i>,\n                  },\n                }}\n              />\n            </div>\n          </div>\n        </LowerSectionContainer>\n      </LowerSection>\n    </Card>\n  </Wrapper>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/hack.near/widget/NDC.WG.Card", "fact_widget_deployments_id": "a5651c11bb96038c0bd1d718d6660f38", "inserted_timestamp": "2023-09-03T01:42:30.951Z", "modified_timestamp": "2023-09-03T01:42:30.951Z", "__row_index": 15}