{"tx_hash": "7AqUicvZdLrbZQBQfg8f7WPFUVKVdWWDfQj22m5zdX1Y", "action_id_social": "EYQSgLoGp9dozjwNTymNJ5hixGP8uMsa8ktDEKxwWw3j-0-widget", "block_id": 116213506, "block_timestamp": "2024-04-06T01:05:39.123Z", "signer_id": "hack.near", "widget_name": "blocklive", "source_code": "const user = Ethers.send(\"eth_requestAccounts\", [])[0];\n\nif (!user) return <Web3Connect connectLabel=\"Connect\" />;\n\n// const abiData = fetch(\n//   \"https://raw.githubusercontent.com/jlwaugh/ABIs/main/blocklive.json\"\n// );\n// if (!abiData.ok) {\n//   return \"ERROR\";\n// }\n\nconst [maxSupply, setMaxSupply] = useState(0);\n\nconst contractAddress = \"0x579BFA1f028896CaA394793E2803DeCa5eFF7F16\";\nconst abi = [\n  {\n    inputs: [],\n    name: \"totalMaxSupply\",\n    outputs: [\n      {\n        internalType: \"int256\",\n        name: \"\",\n        type: \"int256\",\n      },\n    ],\n    stateMutability: \"view\",\n    type: \"function\",\n  },\n];\n\nconst contract = new ethers.Contract(contractAddress, abi, signer);\n\nconst getMaxSupply = () => {\n  contract\n    .totalMaxSupply()\n    .then((result) => {\n      console.log(\"Total Max Supply:\", result);\n      setMaxSupply(result);\n    })\n    .catch((error) => {\n      console.error(\"Error fetching max supply:\", error);\n    });\n};\n\nreturn (\n  <div className=\"m-1\">\n    <button onClick={getMaxSupply} className=\"btn btn-dark m-2\">\n      Get Max Supply\n    </button>\n    <br />\n    <p className=\"m-2\">{maxSupply}</p>\n  </div>\n);\n", "metadata": {"fork_of": "mob.near/widget/Homepage@99124683"}, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/hack.near/widget/blocklive", "fact_widget_deployments_id": "faabea953f6baca070ada8d56883094e", "inserted_timestamp": "2024-04-06T18:51:49.787Z", "modified_timestamp": "2024-04-06T18:51:49.787Z", "__row_index": 0}