{"tx_hash": "DmwdRgEX22naSpFNm9v6WuHppTCNCEktAfZKEdQLjuPF", "action_id_social": "6qzoyR7yYUA2nNuG4AgrJU4y6dbFi79bkNtaiTiPkrpd-0-widget", "block_id": 100605770, "block_timestamp": "2023-09-07T18:11:04.517Z", "signer_id": "hack.near", "widget_name": "group.settings", "source_code": "const accountId = context.accountId;\nconst creatorId = \"james.near\";\n\nif (!accountId) {\n  return \"Please connect your NEAR wallet :)\";\n}\n\nconst mainGroup = \"6fd36ddf4884flm20pbe91e7b208b88d16\";\n\nconst group = Social.get(`${accountId}/settings/community/group`);\n\nif (group === null) {\n  return \"Loading...\";\n}\n\nState.init({\n  groupId: group || mainGroup,\n  exists: true,\n});\n\nfunction init() {\n  if (state.groupId === mainGroup) {\n    const groupData = Social.get(`${creatorId}/graph/${mainGroup}/**`);\n    if (!groupData) {\n      State.update({ exists: false });\n    }\n  } else {\n    const groupData = Social.get(`${creatorId}/graph/${state.groupId}/**`);\n    if (!groupData) {\n      State.update({ exists: false });\n    }\n  }\n}\n\ninit();\n\nconst resetGroup = () => {\n  State.update({ groupId: mainGroup, exists: true });\n};\n\nreturn (\n  <div>\n    <div>\n      <h1>\n        <b>Edit Default Group</b>\n      </h1>\n    </div>\n    <div className=\"mb-2 d-flex align-items-center\">\n      <h5 className=\"m-3\">ID:</h5>\n      <div className=\"me-1 flex-grow-1\">\n        <input type=\"text\" value={state.groupId} placeholder={defaultGroup} />\n      </div>\n      <CommitButton\n        className=\"btn btn-success m-2\"\n        data={{ settings: { community: { group: state.groupId } } }}\n      >\n        Save\n      </CommitButton>\n      {state.groupId !== mainGroup && (\n        <button className=\"btn btn-outline-primary\" onClick={resetGroup}>\n          Reset\n        </button>\n      )}\n    </div>\n\n    {state.exists && (\n      <div className=\"m-2\">\n        <hr />\n        <h2>\n          <b>Review</b>\n        </h2>\n        <Widget\n          src=\"hack.near/widget/group\"\n          props={{ groupId: state.groupId }}\n        />\n      </div>\n    )}\n  </div>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/hack.near/widget/group.settings", "fact_widget_deployments_id": "11af3dbc25ed31bca5ba5b3191785298", "inserted_timestamp": "2024-03-07T05:24:05.087Z", "modified_timestamp": "2024-03-07T05:24:05.087Z", "__row_index": 2}