{"tx_hash": "DwJoCDtfzCeGGh5HW7zDfcUbvNTCoennM16UhPU3Jiu1", "action_id_social": "rFMksvBafypNJ4GQ1FowQUZLXqNu4awgc4hRreiybWX-0-widget", "block_id": 113772703, "block_timestamp": "2024-02-28T20:28:27.237Z", "signer_id": "hack.near", "widget_name": "evaporation.button", "source_code": "const initialSunsetTimestamp = 1709149888 * 1000;\nconst accountId = props.accountId ?? context.accountId ?? \"hack.near\";\nconst gameId = props.gameId ?? \"evaporation\";\n\nconst [sunset, setSunset] = useState(new Date(initialSunsetTimestamp));\n\nconst addMoreTime = () => {\n  const newSunsetTime = new Date(sunset.getTime() + 5 * 60000);\n  Social.index(`thomagotchi`, `${accountId}-${gameId}`);\n  setSunset(newSunsetTime);\n};\n\nSocial.index();\n\nconst now = new Date();\nconst evaporated = now > sunset;\nconst remainingTime = sunset.getTime() - now.getTime();\nconst remainingMinutes = Math.max(Math.floor(remainingTime / (1000 * 60)), 0);\n\nreturn (\n  <div>\n    {!evaporated ? (\n      <>\n        <p>Time until sunset: {remainingMinutes} minutes</p>\n        <button onClick={addMoreTime} className=\"btn btn-primary\">\n          Add 5 Minutes\n        </button>\n      </>\n    ) : (\n      <p>The sun has set... \ud83c\udf07</p>\n    )}\n  </div>\n);\n", "metadata": {"fork_of": "sdks.near/widget/SDKs.Lens.Queries.Profile@111793538"}, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/hack.near/widget/evaporation.button", "fact_widget_deployments_id": "f4b3c6da48c25c29a761c4ff9625a8b3", "inserted_timestamp": "2024-03-07T05:24:05.087Z", "modified_timestamp": "2024-03-07T05:24:05.087Z", "__row_index": 0}