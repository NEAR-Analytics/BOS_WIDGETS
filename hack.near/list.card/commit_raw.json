{"tx_hash": "FYFERWA6PHKXMGWgJpsVhC1JUyVYeGqYSDduPSpAUeK5", "action_id_social": "391w8VZAUJC63xT1D79qsqUDY3Vum2ZpkKgQpVLnNBPu-0-widget", "block_id": 115621083, "block_timestamp": "2024-03-28T02:28:52.495Z", "signer_id": "hack.near", "widget_name": "list.card", "source_code": "const accountId = props.accountId ?? context.accountId ?? \"every.near\";\n\nconst listId = props.listId ?? 1;\n\nconst list = Near.view(\"lists.potlock.near\", \"get_list\", {\n  list_id: listId,\n});\n\nconst [showAdmins, setShowAdmins] = useState(false);\nconst [showDetails, setShowDetails] = useState(false);\n\nconst toggleAdmins = () => {\n  setShowAdmins(!showAdmins);\n  if (showDetails) {\n    setShowDetails(false);\n  }\n};\n\nconst toggleDetails = () => {\n  setShowDetails(!showDetails);\n  if (showAdmins) {\n    setShowAdmins(false);\n  }\n};\n\nreturn (\n  <>\n    {list && (\n      <div className=\"card\">\n        <div className=\"d-flex flex-row justify-content-between card-header\">\n          <h5 className=\"mt-2\">\n            <span className=\"me-1\">\n              {list.admin_only_registrations ? (\n                <i class=\"bi bi-lock-fill\"></i>\n              ) : (\n                <i class=\"bi bi-unlock\"></i>\n              )}\n            </span>\n            {list.name}\n          </h5>\n          <div className=\"mt-1\">\n            <a\n              href={`/hack.near/widget/list.view?listId=${listId}`}\n              className=\"btn btn-sm btn-success m-1\"\n            >\n              View\n            </a>\n          </div>\n        </div>\n        <div className=\"card-body\">\n          <div className=\"d-flex flex-row justify-content-between\">\n            <div className=\"card-text mt-1\">\n              <p>{list.description}</p>{\" \"}\n              <i>\n                <b>Created:</b>\n                {new Date(list.created_at).toLocaleString()}\n              </i>\n            </div>\n            <div style={{ textAlign: \"right\" }} className=\"card-info\">\n              <div>\n                <button\n                  onClick={toggleAdmins}\n                  className=\"btn btn-sm btn-outline-dark m-1\"\n                >\n                  {!showAdmins ? (\n                    <i class=\"bi bi-caret-down-fill\"> Admins</i>\n                  ) : (\n                    <i class=\"bi bi-caret-up-fill\"> Admins</i>\n                  )}\n                </button>\n                <button\n                  onClick={toggleDetails}\n                  className=\"btn btn-sm btn-outline-dark m-1\"\n                >\n                  {!showDetails ? (\n                    <i class=\"bi bi-caret-down-fill\"> Details</i>\n                  ) : (\n                    <i class=\"bi bi-caret-up-fill\"> Details</i>\n                  )}\n                </button>\n              </div>\n              {showAdmins && (\n                <div className=\"mt-1\">\n                  {list.admins.map((admin, i) => (\n                    <div className=\"admin-profile\" key={i}>\n                      <Widget\n                        src=\"mob.near/widget/N.ProfileLine\"\n                        props={{ accountId: admin, hideAccountId: true }}\n                      />\n                    </div>\n                  ))}\n                </div>\n              )}\n              {showDetails && (\n                <div className=\"mt-1\">\n                  <div>\n                    <b>Default Status:</b>\n                    {list.default_registration_status}\n                  </div>\n                  <div>\n                    <b>Total Registrations:</b> {list.total_registrations_count}\n                  </div>\n                  <div>\n                    <b>Total Upvotes:</b> {list.total_upvotes_count}\n                  </div>\n                </div>\n              )}\n            </div>\n          </div>\n        </div>\n      </div>\n    )}\n  </>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/hack.near/widget/list.card", "fact_widget_deployments_id": "56705663002d84dca2967c863f3eca51", "inserted_timestamp": "2024-03-28T03:29:47.039Z", "modified_timestamp": "2024-03-28T04:30:18.003Z", "__row_index": 3}