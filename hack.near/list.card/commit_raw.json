{"tx_hash": "8rMfZAVTEJG3zaMcCFSPUziSjoUd6NnMWwvBR2wf1N6a", "action_id_social": "6CaKxACZb7PbSQyR6MKF3jraGhXgNXLnsh4ha4T2FDQ5-0-widget", "block_id": 115637432, "block_timestamp": "2024-03-28T08:03:23.580Z", "signer_id": "hack.near", "widget_name": "list.card", "source_code": "const accountId = props.accountId ?? context.accountId ?? \"every.near\";\n\nconst listId = props.listId ?? 1;\n\nconst list = Near.view(\"lists.potlock.near\", \"get_list\", {\n  list_id: listId,\n});\n\nconst [showAdmins, setShowAdmins] = useState(false);\nconst [showDetails, setShowDetails] = useState(false);\n\nconst toggleAdmins = () => {\n  setShowAdmins(!showAdmins);\n  if (showDetails) {\n    setShowDetails(false);\n  }\n};\n\nconst toggleDetails = () => {\n  setShowDetails(!showDetails);\n  if (showAdmins) {\n    setShowAdmins(false);\n  }\n};\n\nfunction timeSince(date) {\n  const seconds = Math.floor((new Date() - date) / 1000);\n  let interval = seconds / 31536000;\n\n  if (interval > 1) {\n    return Math.floor(interval) + \" years ago\";\n  }\n  interval = seconds / 2592000;\n  if (interval > 1) {\n    return Math.floor(interval) + \" months ago\";\n  }\n  interval = seconds / 86400;\n  if (interval > 1) {\n    return Math.floor(interval) + \" days ago\";\n  }\n  interval = seconds / 3600;\n  if (interval > 1) {\n    return Math.floor(interval) + \" hours ago\";\n  }\n  interval = seconds / 60;\n  if (interval > 1) {\n    return Math.floor(interval) + \" minutes ago\";\n  }\n  return Math.floor(seconds) + \" seconds ago\";\n}\n\nreturn (\n  <>\n    {list && (\n      <div className=\"card\">\n        <div className=\"d-flex flex-row justify-content-between card-header\">\n          <h5 className=\"mt-2 ms-2\">\n            <b>{list.id}.</b>\n            {list.name}\n            <span className=\"m-1\">\n              {list.admin_only_registrations ? (\n                <i class=\"bi bi-lock-fill\"></i>\n              ) : (\n                <i class=\"bi bi-unlock\"></i>\n              )}\n            </span>\n          </h5>\n          <div className=\"mt-1\">\n            <a\n              href={`/hack.near/widget/list.view?listId=${listId}`}\n              className=\"btn btn-sm btn-primary me-2\"\n            >\n              <i class=\"bi bi-eye-fill\"></i>\n            </a>\n          </div>\n        </div>\n        <div className=\"card-body\">\n          <div className=\"d-flex flex-row justify-content-between ms-2\">\n            <div className=\"card-text\">\n              <p>{list.description}</p>\n              <i>\n                <i class=\"bi bi-clock-history\"></i>\n                {timeSince(new Date(list.updated_at || list.created_at))}\n              </i>\n            </div>\n            <div style={{ textAlign: \"right\" }} className=\"card-info me-2\">\n              <div className=\"mb-3\">\n                Admins:\n                <Widget\n                  src=\"hack.near/widget/faces\"\n                  props={{ accounts: list.admins }}\n                />\n              </div>\n              <b>{list.total_registrations_count} Projects</b>\n            </div>\n          </div>\n        </div>\n      </div>\n    )}\n  </>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/hack.near/widget/list.card", "fact_widget_deployments_id": "7f8b49cb422756d87cc14022e1b0b76e", "inserted_timestamp": "2024-03-28T09:30:02.846Z", "modified_timestamp": "2024-03-28T09:30:02.846Z", "__row_index": 5}