{"tx_hash": "FrheCkkx4qeDVhCVGc2uiQcwt2kcHu9UgnRn7HonWyrW", "action_id_social": "ECyuohur57PK7mZHUbhWQyxWYdJhbev8dZqYdcScaDBm-0-widget", "block_id": 99553921, "block_timestamp": "2023-08-24T13:59:24.539Z", "signer_id": "hack.near", "widget_name": "group.editor", "source_code": "const creatorId = props.creatorId ?? context.accountId;\nconst groupId = props.groupId ?? \"83dc9a797ac0ellif3mt0a1aee215d3088\";\n\nlet members = Social.getr(`${creatorId}/graph/${groupId}`, \"final\", {});\n\nif (members === null) {\n  return \"\";\n}\n\nif (!creatorId) {\n  return \"Please connect your NEAR account :)\";\n}\n\nfunction generateUID() {\n  return (\n    Math.random().toString(16).slice(2) +\n    Date.now().toString(36) +\n    Math.random().toString(16).slice(2)\n  );\n}\n\nState.init({\n  groupId,\n});\n\nconst type = group ? \"remove\" : \"add\";\n\nconst handleCreateGroup = () => {\n  const groupId = groupId ?? generateUID();\n  const data = {\n    graph: {\n      [groupId]: state.members,\n    },\n    index: {\n      graph: JSON.stringify({\n        key: groupId,\n        value: {\n          type,\n        },\n      }),\n    },\n  };\n\n  Social.set(data, {\n    onCommit: () => {},\n    onCancel: () => {},\n  });\n};\n\nreturn (\n  <>\n    <div className=\"row\">\n      <div className=\"col-lg-6 mt-2\">\n        <div className=\"mb-2\">\n          <h5>Details</h5>\n          <input\n            style={{ fontSize: \"15px\" }}\n            value={state.groupId}\n            onChange={(e) => State.update({ groupId: e.target.value })}\n          />\n        </div>\n        <div className=\"mb-2\">\n          <Widget\n            src=\"near/widget/MetadataEditor\"\n            props={{\n              initialMetadata: group,\n              onChange: (group) => State.update({ group }),\n              options: {\n                name: { label: \"Name\" },\n                image: { label: \"Logo\" },\n                description: { label: \"About\" },\n                tags: {\n                  label: \"Tags\",\n                  tagsPattern: `*/${groupId}/tags/*`,\n                  placeholder: \"art, gov, edu, dev, com, nft, ai, social\",\n                },\n                linktree: {\n                  links: [\n                    {\n                      label: \"Twitter\",\n                      prefix: \"https://twitter.com/\",\n                      name: \"twitter\",\n                    },\n                    {\n                      label: \"Github\",\n                      prefix: \"https://github.com/\",\n                      name: \"github\",\n                    },\n                    {\n                      label: \"Telegram\",\n                      prefix: \"https://t.me/\",\n                      name: \"telegram\",\n                    },\n                    {\n                      label: \"Website\",\n                      prefix: \"https://\",\n                      name: \"website\",\n                    },\n                  ],\n                },\n              },\n            }}\n          />\n        </div>\n        <div className=\"mb-2\">\n          <CommitButton\n            data={{ thing: { group: { [`${groupId}`]: state.group } } }}\n          >\n            update\n          </CommitButton>\n          <a\n            className=\"btn btn-outline-primary ms-2\"\n            href={`#/hack.near/widget/group.members?creatorId=${creatorId}?`}\n          >\n            view\n          </a>\n        </div>\n      </div>\n      <div className=\"col-lg-6\">\n        <div className=\"m-2\">\n          <Widget\n            src=\"hack.near/widget/group.save\"\n            props={{ creatorId, groupId }}\n          />\n        </div>\n      </div>\n    </div>\n  </>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/hack.near/widget/group.editor", "fact_widget_deployments_id": "af50819a7eace4f1445c9de9f4fb35e8", "inserted_timestamp": "2023-08-24T17:25:59.274Z", "modified_timestamp": "2023-08-24T17:25:59.274Z", "__row_index": 8}