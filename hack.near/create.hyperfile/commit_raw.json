{"tx_hash": "3G4GcmrcmEvqb4A6HRvKAcuPWqnzjxyvbZn8qux2XFZ8", "action_id_social": "DxVuvuM4FRTJ1kHT8ocyNJHwMG16LJb4jP1R3skQXVNG-0-widget", "block_id": 105912360, "block_timestamp": "2023-11-17T16:06:16.789Z", "signer_id": "hack.near", "widget_name": "create.hyperfile", "source_code": "const accountId = context.accountId;\n\nif (!accountId) {\n  return \"please connect your NEAR account\";\n}\n\nconst options = [\n  {\n    title: \"GitHub\",\n    value: \"hack.near/widget/adapter.github\",\n  },\n  {\n    title: \"Obsidian\",\n    value: \"hack.near/widget/adapter.obsidian\",\n  },\n  {\n    title: \"Tldraw\",\n    value: \"hack.near/widget/adapter.tldraw\",\n  },\n];\n\nState.init({\n  source: \"\",\n  adapter: \"hack.near/widget/adapter.github\",\n  reference: \"\",\n});\n\nconst Wrapper = styled.div`\n  max-width: 400px;\n  margin: 0 auto;\n`;\n\nconst Form = styled.div`\n  display: flex;\n  flex-direction: column;\n  gap: 15px;\n`;\n\nconst Label = styled.label`\n  font-weight: bold;\n`;\n\nconst Input = styled.input`\n  padding: 5px;\n`;\n\nconst Select = styled.select`\n  padding: 8px;\n`;\n\nconst TextArea = styled.textarea`\n  padding: 5px;\n  height: 222px;\n  resize: vertical;\n`;\n\nconst onChangeSource = (source) => {\n  State.update({\n    source,\n  });\n};\n\nconst onChangeAdapter = (adapter) => {\n  State.update({\n    adapter,\n  });\n};\n\nconst onChangeReference = (reference) => {\n  State.update({\n    reference,\n  });\n};\n\nfunction generateUID() {\n  return (\n    Math.random().toString(16).slice(2) +\n    Date.now().toString(36) +\n    Math.random().toString(16).slice(2)\n  );\n}\n\nconst thingId = generateUID();\n\nconst handleCreate = () => {\n  const data = {\n    thing: {\n      [thingId]: {\n        source: state.source,\n        adapter: state.adapter,\n        reference: state.reference,\n      },\n    },\n  };\n\n  Social.set(data);\n};\n\nreturn (\n  <Wrapper>\n    <h4 className=\"mb-3\">\n      <b>hyperfile creator</b>\n    </h4>\n    <Form>\n      <Label>source</Label>\n      <Input\n        type=\"text\"\n        value={state.source}\n        onChange={(e) => onChangeSource(e.target.value)}\n      />\n      <Label>adapter</Label>\n      <Select\n        placeholder={placeholder}\n        value={state.adapter}\n        onChange={({ target: { value } }) => onChangeAdapter(value)}\n      >\n        {options.map((o) => (\n          <option value={o.value}>{o.title}</option>\n        ))}\n      </Select>\n\n      <Label htmlFor=\"reference\">reference (JSON)</Label>\n      <TextArea\n        type=\"text\"\n        value={state.reference}\n        onChange={(e) => onChangeReference(e.target.value)}\n      />\n      <button className=\"btn btn-outline-success mt-3\" onClick={handleCreate}>\n        create\n      </button>\n    </Form>\n  </Wrapper>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/hack.near/widget/create.hyperfile", "fact_widget_deployments_id": "e09d914e2f43401e749441c0155b7d2e", "inserted_timestamp": "2023-11-17T17:52:22.568Z", "modified_timestamp": "2023-11-17T17:52:22.568Z", "__row_index": 0}