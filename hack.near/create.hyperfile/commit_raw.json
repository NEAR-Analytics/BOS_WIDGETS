{"tx_hash": "H3HKYWRd6nJibLyc3BXeVzgCinbzBbJYX7Qn6gtHAamr", "action_id_social": "BCYFqtkjgMqR2t1jDEgnUCGCQvWatLYTo3AWeArJPM9B-0-widget", "block_id": 106056733, "block_timestamp": "2023-11-19T13:30:53.655Z", "signer_id": "hack.near", "widget_name": "create.hyperfile", "source_code": "const accountId = context.accountId;\n\nif (!accountId) {\n  return \"please connect your NEAR account\";\n}\n\nconst { data, onSubmit } = props;\n\nconst options = [\n  {\n    title: \"IPFS\",\n    value: \"everycanvas.near/widget/adapter.ipfs\",\n  },\n  // {\n  //   title: \"GitHub\",\n  //   value: \"hack.near/widget/adapter.github\",\n  // },\n  // {\n  //   title: \"Obsidian\",\n  //   value: \"hack.near/widget/adapter.obsidian\",\n  // },\n  // {\n  //   title: \"Tldraw\",\n  //   value: \"hack.near/widget/adapter.tldraw\",\n  // },\n];\n\nconst defaultOption = options[0];\n\nState.init({\n  source: defaultOption.title,\n  adapter: defaultOption.value,\n  reference: data,\n});\n\nconst Wrapper = styled.div`\n  max-width: 400px;\n  margin: 0 auto;\n`;\n\nconst Form = styled.div`\n  display: flex;\n  flex-direction: column;\n  gap: 15px;\n`;\n\nconst Label = styled.label`\n  font-weight: bold;\n`;\n\nconst Input = styled.input`\n  padding: 5px;\n`;\n\nconst Select = styled.select`\n  padding: 8px;\n`;\n\nconst TextArea = styled.textarea`\n  padding: 5px;\n  height: 222px;\n  resize: vertical;\n`;\n\nconst onChangeSource = (source) => {\n  State.update({\n    source,\n  });\n};\n\nconst onChangeAdapter = (adapter) => {\n  State.update({\n    adapter,\n  });\n};\n\nconst onChangeReference = (reference) => {\n  State.update({\n    reference,\n  });\n};\n\n// function generateUID() {\n//   return (\n//     Math.random().toString(16).slice(2) +\n//     Date.now().toString(36) +\n//     Math.random().toString(16).slice(2)\n//   );\n// }\n\n// const thingId = generateUID();\n\n// const handleCreate = () => {\n//   const data = {\n//     thing: {\n//       [thingId]: {\n//         source: state.source,\n//         adapter: state.adapter,\n//         reference: state.reference,\n//       },\n//     },\n//   };\n\n//   Social.set(data);\n// };\n\nreturn (\n  <Wrapper>\n    <h4 className=\"mb-3\">\n      <b>hyperfile creator</b>\n    </h4>\n    <Form>\n      {/* <Label>source</Label>\n      <Input\n        type=\"text\"\n        value={state.source}\n        onChange={(e) => onChangeSource(e.target.value)}\n      /> */}\n      <Label>adapter</Label>\n      <Select\n        placeholder={placeholder}\n        value={state.adapter}\n        onChange={({ target: { value } }) => onChangeAdapter(value)}\n      >\n        {options.map((o) => (\n          <option value={o.value}>{o.title}</option>\n        ))}\n      </Select>\n\n      <Label htmlFor=\"reference\">reference (JSON)</Label>\n      <TextArea\n        type=\"text\"\n        value={state.reference}\n        onChange={(e) => onChangeReference(e.target.value)}\n      />\n      <button className=\"btn btn-success mt-3\" onClick={() => onSubmit(state)}>\n        create\n      </button>\n    </Form>\n  </Wrapper>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/hack.near/widget/create.hyperfile", "fact_widget_deployments_id": "0de91a6134e7a31468a547a28f1069ae", "inserted_timestamp": "2023-11-19T15:31:17.247Z", "modified_timestamp": "2023-11-19T15:31:17.247Z", "__row_index": 2}