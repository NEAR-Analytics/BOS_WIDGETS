{"tx_hash": "7X8k4FPwhf9nBcckrzqnvV45gZjyQR9u8rHJ8v3kWogj", "action_id_social": "6CyFPdf8DWURTATVyWdMRJ7Ed97UJDgXZkZ8ab4PiJEB-0-widget", "block_id": 100613967, "block_timestamp": "2023-09-07T20:52:05.515Z", "signer_id": "hack.near", "widget_name": "CreateGroup.Basics", "source_code": "const { formState, errors, renderFooter } = props;\n\nconst initialAnswers = {\n  name: formState.name,\n  description: formState.description,\n  links: formState.links.length > 0 ? formState.links : [\"\"],\n};\n\nState.init({\n  answers: initialAnswers,\n});\n\nconst onValueChange = (key, value) => {\n  State.update({\n    answers: {\n      ...state.answers,\n      [key]: value,\n    },\n  });\n};\n\nconst onAddLink = () => update(\"links\", [...state.answers.links, \"\"]);\n\nconst onLinkChange = (index, value) => {\n  const newLinks = [...state.answers.links];\n  newLinks[index] = value;\n  update(\"links\", newLinks);\n};\n\nconst onRemoveLink = (index) => {\n  const newLinks = [...state.answers.links];\n  newLinks[index] = null;\n  update(\"links\", newLinks);\n};\n\nconst Error = styled.span`\n  display: inline-block;\n  font-style: normal;\n  font-weight: 400;\n  font-size: 0.875em;\n  line-height: 1.25em;\n  color: #ff4d4f;\n  height: 0;\n  overflow: hidden;\n  transition: height 0.3s ease-in-out;\n\n  &.show {\n    height: 1.25em;\n  }\n`;\n\nreturn (\n  <div className=\"mt-4 ndc-card p-4\">\n    <div className=\"d-flex flex-column gap-4\">\n      <h2 className=\"h5 fw-bold\">\n        <span\n          className=\"rounded-circle d-inline-flex align-items-center justify-content-center fw-bolder h5 me-2\"\n          style={{\n            width: \"48px\",\n            height: \"48px\",\n            border: \"1px solid #82E299\",\n          }}\n        >\n          1\n        </span>\n        Basics\n      </h2>\n      <Widget\n        src=\"nearui.near/widget/Input.ExperimentalText\"\n        props={{\n          label: \"Name\",\n          placeholder: `What should it be called?`,\n          size: \"md\",\n          inputProps: {\n            name: \"name\",\n            defaultValue: state.answers.name,\n          },\n          error: errors[\"name\"],\n        }}\n      />\n      <Widget\n        src=\"nearui.near/widget/Input.ExperimentalText\"\n        props={{\n          label: \"Description\",\n          placeholder: \"What is the group about?\",\n          size: \"md\",\n          textarea: true,\n          inputProps: {\n            rows: 5,\n            name: \"description\",\n            defaultValue: state.answers.description,\n          },\n          onChange: (v) => onValueChange(\"description\", v),\n          error: errors[\"description\"],\n        }}\n      />\n      {renderFooter(state.answers)}\n    </div>\n    <br />\n    <div>\n      <div className=\"d-flex gap-2 justify-content-between\">\n        <h2 className=\"h5 fw-bold\">\n          Links <span className=\"text-black-50 fw-light small\">~ optional</span>\n        </h2>\n        <Widget\n          src=\"nearui.near/widget/Input.Button\"\n          props={{\n            children: <i className=\"bi bi-plus-lg\" />,\n            variant: \"icon info outline\",\n            size: \"lg\",\n            onClick: onAddLink,\n          }}\n        />\n      </div>\n      <p className=\"text-black-50 fw-light small\">add up to 10 urls</p>\n    </div>\n\n    {state.answers.links.map((l, i) => (\n      <div\n        className={[\n          \"d-flex align-items-center gap-2\",\n          l === null && \"d-none\",\n        ].join(\" \")}\n      >\n        <Widget\n          src=\"nearui.near/widget/Input.ExperimentalText\"\n          props={{\n            placeholder: \"https://\",\n            size: \"lg\",\n            onChange: (v) => onLinkChange(i, v),\n            inputProps: {\n              name: `link-${i}`,\n              defaultValue: l,\n            },\n          }}\n        />\n        <Widget\n          src=\"nearui.near/widget/Input.Button\"\n          props={{\n            children: <i className=\"bi bi-trash\" />,\n            variant: \"icon danger outline\",\n            size: \"lg\",\n            onClick: () => onRemoveLink(i),\n          }}\n        />\n      </div>\n    ))}\n    {errors.links && (\n      <Error className={errors.links ? \"show\" : \"\"} size={size}>\n        {errors.links}\n      </Error>\n    )}\n\n    {renderFooter({\n      links: state.answers.links.filter((l) => l !== null && l !== \"\"),\n    })}\n  </div>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/hack.near/widget/CreateGroup.Basics", "fact_widget_deployments_id": "e259c9fc06ba5baf84f60bb028ab449c", "inserted_timestamp": "2024-03-07T05:24:05.087Z", "modified_timestamp": "2024-03-07T05:24:05.087Z", "__row_index": 0}