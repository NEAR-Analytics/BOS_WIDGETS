{"tx_hash": "HKcXAScL4CDxhBNkqBcu9BGSB59LRQpxXiZdAFUxU2rm", "action_id_social": "CxMGwpJCzHuYv9F9T9maXjky2GXigWcr3TrAQZkQr1r8-0-widget", "block_id": 92520383, "block_timestamp": "2023-05-23T11:09:00.899Z", "signer_id": "frichard5.near", "widget_name": "generic_table", "source_code": "const filter = props.filter;\nconst maxHeight = props.maxHeight || 400;\nconst boxShadow = props.boxShadow || \"3px 2px 24px rgba(68, 152, 224, 0.3)\"\nconst MainWrapper = styled.div`\n  box-shadow: ${boxShadow};\n  border-radius: 4px;\n  padding: 20px;\n  margin: 40px 0px;\n`;\n\nconst TableWrapper = styled.div`\n  max-height: ${maxHeight}px;\n  overflow: auto;\n`;\nconst Table = styled.table`\n    position: relative;\n    display: table;\n    width: 100%;\n    borderCollapse: separate;\n    borderSpacing: 0px;\n    fontSize: 14px;\n    td {\n      text-overflow: ellipsis;\n      overflow: hidden;\n      whiteSpace: nowrap;\n      padding: 10px 10px 10px 0;\n      max-width: 130px;\n      border-bottom: 1px solid rgb(81, 81, 81);\n    }\n    th {\n      position: sticky;\n      top: 0;\n      background:white;\n    }\n    img {\n      height: 15px;\n      width: 15px;\n    }\n`;\n\nconst Pagination = styled.div`\n  display: flex;\n  justify-content: flex-end;\n  margin-top: 10px;\n`;\n\nconst columns = props.columns || [\n  { label: \"props columns missing\", id: \"data\" },\n];\nconst data = props.data || [{ data: \"no data props\" }];\nconst { title, nextPage, previousPage, offset, resPerPage } = props;\n\nconst formatRow = (data, column) => {\n  return column.formatter ? (\n    <td>{column.formatter(data)}</td>\n  ) : (\n    <td>{data[column.id]}</td>\n  );\n};\n\nlet rows = [];\n\ndata &&\n  data.forEach((d) => {\n    rows.push(<tr>{columns.map((c) => formatRow(d, c))}</tr>);\n  });\n\nreturn (\n  <MainWrapper>\n    {title && <h2>{title}</h2>}\n    {filter && filter}\n    <TableWrapper>\n      <Table>\n        <tr>\n          {columns.map((c) => (\n            <th>{c.label}</th>\n          ))}\n        </tr>\n        {rows}\n      </Table>\n    </TableWrapper>\n    {nextPage && previousPage && resPerPage && (\n      <Pagination>\n        {offset ? (\n          <button onClick={previousPage}>previous {resPerPage}</button>\n        ) : (\n          \"\"\n        )}\n        {data.length === resPerPage ? (\n          <button onClick={nextPage}>next {resPerPage}</button>\n        ) : (\n          \"\"\n        )}\n      </Pagination>\n    )}\n  </MainWrapper>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/frichard5.near/widget/generic_table", "fact_widget_deployments_id": "e11cf3e06b9b31bbf82066c39dc84b5a", "inserted_timestamp": "2024-03-07T05:24:05.087Z", "modified_timestamp": "2024-03-07T05:24:05.087Z", "__row_index": 0}