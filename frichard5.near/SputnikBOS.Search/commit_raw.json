{"tx_hash": "3CCvT5hmMkNuPB9PAVRZw3zf8PBSpexKYJiLJd3L2Q71", "action_id_social": "5yfkZDM1KDGkFQoxQdYL72o4yZAdbgNGi7JCqeVoDDri-0-widget", "block_id": 100958075, "block_timestamp": "2023-09-12T12:10:36.466Z", "signer_id": "frichard5.near", "widget_name": "SputnikBOS.Search", "source_code": "const { onSearch, selectedDao, widgetProvider } = props;\n\n\nState.init({\n    selectedDao: selectedDao\n})\nif(selectedDao!=state.selectedDao) State.update({selectedDao});\n\nconst SearchWrapper = styled.div `\n  display: flex;\n  flex-direction: column;\n  width: 220px;\n  position: absolute;\n  top: 275px;\n  margin-bottom: 25px;\n  z-index: 100;\n  button {\n    margin: 0;\n  };\n  @media screen and (max-width: 1150px) {\n    left: 100px;\n    top: 165px;\n  }\n`\n\nlet ClipboardButton = styled.button`\n  position: relative;\n  top: 10px;\n  display: flex;\n  align-items: center;\n  border-radius: 4px;\n  font-size: 12px;\n  color: grey !important;\n  background: transparent !important;\n  svg {\n    margin-left: 10px;\n    width: 20px;\n    fill: grey;\n  }\n  margin-bottom: 10px;\n`;\n\nconst searchSvg = <svg className=\"MuiSvgIcon-root MuiSvgIcon-fontSizeMedium MuiBox-root css-1om0hkc\" focusable=\"false\"\n                       aria-hidden=\"true\" viewBox=\"0 0 24 24\" data-testid=\"SearchIcon\">\n    <path\n        d=\"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z\"></path>\n</svg>\n\nconst clipboardSvg = (\n    <svg\n        class=\"MuiSvgIcon-root MuiSvgIcon-fontSizeMedium copy-icon css-vubbuv\"\n        focusable=\"false\"\n        aria-hidden=\"true\"\n        viewBox=\"0 0 24 24\"\n        data-testid=\"ContentCopyIcon\"\n        aria-label=\"Copied to clipboard!\"\n        width={20}\n    >\n        <path d=\"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z\"></path>\n    </svg>\n);\n\nconst SearchIcon = styled.button`\n  background: transparent !important;\n  svg {\n    width: 20px;\n  }\n`\n\nconst SearchField = styled.div`\n  display: flex;\n  border: 1px solid #ced4da;\n  border-radius: 0.375rem;\n  input {\n    border:none;\n    &:focus {\n      box-shadow: none\n    }\n  }\n`\n\nconst search = () => {\n    State.update({displayShare:true})\n    onSearch(state.dao);\n}\n\n\nfunction copy() {\n    const link = `https://near.org/#/${widgetProvider}/widget/SputnikBOS.Home?selected_dao=${selectedDao}`;\n\n    return () => {\n        State.update({ showClipboardTooltip: true });\n        setTimeout(() => {\n            State.update({ showClipboardTooltip: false });\n        }, 1000);\n        clipboard.writeText(link);\n    };\n}\n\nreturn <SearchWrapper selectedDao={selectedDao}>\n    <SearchField>\n        <input\n            type={'text'}\n            placeholder={'marketing.sputnik-dao.near'}\n            onChange={(e) => State.update({dao:e.target.value})}\n        />\n        <SearchIcon onClick={search}>{searchSvg}</SearchIcon>\n    </SearchField>\n\n    {state.selectedDao&&<OverlayTrigger\n        key={\"right\"}\n        placement={\"right\"}\n        overlay={\n            <Tooltip id={`tooltip`}>\n                Dashboard link added to clipboard.\n            </Tooltip>\n        }\n        show={state.showClipboardTooltip}\n    >\n        <ClipboardButton onClick={copy()}>\n            <span>Get your dashboard link </span>\n            {clipboardSvg}\n        </ClipboardButton>\n    </OverlayTrigger>}\n</SearchWrapper>", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/frichard5.near/widget/SputnikBOS.Search", "fact_widget_deployments_id": "ab4a2724b1583a0ac19b04c1acbd991e", "inserted_timestamp": "2024-03-07T05:24:05.087Z", "modified_timestamp": "2024-03-07T05:24:05.087Z", "__row_index": 0}