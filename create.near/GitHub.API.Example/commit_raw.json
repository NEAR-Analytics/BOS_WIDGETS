{"tx_hash": "3UzDq3S1i2USm4wr2YWAt4Z3MR43wJVQqob2r4YR9H6L", "action_id_social": "5bLi1HQ8LDFh7aoUkL4hHwzrFKWXitzecZLjpanKhzPf-0-widget", "block_id": 110391990, "block_timestamp": "2024-01-14T14:29:38.905Z", "signer_id": "create.near", "widget_name": "GitHub.API.Example", "source_code": "const [query, setQuery] = useState(\"\");\nconst [repositories, setRepositories] = useState([]);\nconst [error, setError] = useState(null);\nconst [isLoading, setIsLoading] = useState(false);\n\nconst githubApiBaseUrl = \"https://api.github.com\";\n\nconst handleSearch = () => {\n  if (query.trim() === \"\") {\n    setError(\"Please enter a valid search query.\");\n    return;\n  }\n\n  setIsLoading(true);\n  setError(null);\n\n  const apiUrl = `${githubApiBaseUrl}/search/repositories?q=${query}`;\n\n  asyncFetch(apiUrl)\n    .then((response) => {\n      if (!response.ok) {\n        throw new Error(`HTTP error! Status: ${response.status}`);\n      }\n      return response;\n    })\n    .then((data) => {\n      console.log(data);\n\n      setIsLoading(false);\n\n      if (data.body.items.length > 0) {\n        setRepositories(data.body.items);\n        setError(null);\n      } else {\n        setRepositories([]);\n        setError(\"no repositories found.\");\n      }\n    })\n    .catch((error) => {\n      setIsLoading(false);\n      setRepositories([]);\n      setError(\"error fetching data from GitHub API\");\n      console.error(error);\n    });\n};\n\nreturn (\n  <div>\n    <div className=\"m-2\">\n      <h5>GitHub API Example</h5>\n      <input\n        type=\"text\"\n        placeholder=\"input repository name or any keywords\"\n        value={query}\n        onChange={(e) => setQuery(e.target.value)}\n      />\n    </div>\n    <div className=\"m-2\">\n      <button onClick={handleSearch} disabled={isLoading}>\n        {isLoading ? \"Searching...\" : \"Search\"}\n      </button>\n    </div>\n    {error && <p>{error}</p>}\n    <ul>\n      {repositories.map((repo) => (\n        <li key={repo.id}>\n          <a href={repo.html_url} target=\"_blank\" rel=\"noopener noreferrer\">\n            {repo.full_name}\n          </a>\n        </li>\n      ))}\n    </ul>\n  </div>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/create.near/widget/GitHub.API.Example", "fact_widget_deployments_id": "8eec9f52c4ebc2c31c1aeea78a5961c7", "inserted_timestamp": "2024-03-07T05:24:05.087Z", "modified_timestamp": "2024-03-07T05:24:05.087Z", "__row_index": 0}