{"tx_hash": "3mkA3VPcV4GWvJ2WJapTBaiPCLtTcjJbnmvxh72LGV1n", "action_id_social": "5kh6Qii4bfWxysi5HoNj3UGdx5kFbTC8boVgtnbUsmsp-0-widget", "block_id": 110661318, "block_timestamp": "2024-01-17T21:40:27.694Z", "signer_id": "create.near", "widget_name": "GitBos", "source_code": "const src = props.src ?? \"devs.near/widget/community\";\nconst update = props.update ?? \"hack.near/widget/community\";\n\nState.init({\n  src,\n  update,\n});\n\nconst source = Social.get(`${state.src}`);\nconst newVersion = Social.get(`${state.update}`);\n\nconst [creatorId, type, name] = src.split(\"/\");\n\nconst handleCreate = () =>\n  Social.set({\n    [`${type}`]: {\n      [`${name}`]: {\n        \"\": `${newVersion}`,\n      },\n    },\n  });\n\nfunction generateUID() {\n  return (\n    Math.random().toString(16).slice(2) +\n    Date.now().toString(36) +\n    Math.random().toString(16).slice(2)\n  );\n}\n\nconst requestId = props.requestId ?? generateUID();\n\nconst data = {\n  index: {\n    graph: JSON.stringify({\n      key: \"request\",\n      value: {\n        type: \"merge\",\n        src: state.src,\n        update: state.update,\n      },\n    }),\n    notify: JSON.stringify({\n      key: creatorId,\n      value: {\n        type: \"request\",\n        template: \"hack.near/widget/notification\",\n        data: {\n          type: \"merge\",\n          src: state.src,\n          update: state.update,\n        },\n      },\n    }),\n  },\n};\n\nconst requests = Social.index(\"notify\", context.accountId, {\n  limit: 10,\n  order: \"desc\",\n  subscribe: true,\n});\n\nconst Container = styled.div`\n  .profile-image {\n    width: 120px;\n    height: 120px;\n  }\n\n  .top-right {\n    display: flex;\n    align-items: center;\n    justify-content: flex-end;\n  }\n\n  .bell-icon {\n    font-size: 28px;\n    color: #000;\n    margin-left: 8px;\n    text-decoration: none;\n    transition: color 0.3s ease-in-out;\n  }\n\n  .bell-icon:hover {\n    color: #000;\n  }\n\n  .bell-icon .bi-bell {\n    display: inline;\n  }\n\n  .bell-icon .bi-bell-fill {\n    display: none;\n  }\n\n  .bell-icon:hover .bi-bell {\n    display: none;\n  }\n\n  .bell-icon:hover .bi-bell-fill {\n    display: inline;\n  }\n\n  @media (max-width: 576px) {\n    .profile-image {\n      width: 160px;\n      height: 160px;\n    }\n  }\n`;\n\nreturn (\n  <Container>\n    <div className=\"d-flex flex-wrap justify-content-between mb-3\">\n      <div className=\"m-1\">\n        <h1>gitbos</h1>\n      </div>\n      <div className=\"ms-auto me-0 me-md-2 d-flex align-items-center\">\n        <div className=\"top-right\">\n          <a href=\"/hack.near/widget/request.index\" className=\"bell-icon me-2\">\n            <i className=\"bi bi-bell\"></i>\n            <i className=\"bi bi-bell-fill\"></i>\n          </a>\n        </div>\n      </div>\n    </div>\n    <div className=\"m-1\">\n      <h3>request changes</h3>\n      <p>ask someone to update anything they created</p>\n      <ol>\n        <li>fork / duplicate whatever you want to update</li>\n        <li>make helpful edits and suggestions, then save</li>\n        <li>notify the original creator with a requested action</li>\n      </ol>\n      <p>creators can review, approve, and merge automatically</p>\n\n      <h5 className=\"mt-4\">original source path</h5>\n      <p>\n        <i>some thing to be updated:</i>\n      </p>\n    </div>\n\n    <div className=\"input-group m-1 mb-2\">\n      <input\n        className=\"form-control\"\n        defaultValue={state.src}\n        onChange={(e) => {\n          State.update({\n            src: e.target.value,\n          });\n        }}\n      />\n    </div>\n    <h5 className=\"m-1 mt-4\">path of updated version</h5>\n    <p className=\"m-1 mt-2\">\n      <i>new thing to be merged with original:</i>\n    </p>\n    <div className=\"input-group m-1 mb-2\">\n      <input\n        className=\"form-control mt-2\"\n        defaultValue={state.update}\n        onChange={(e) => {\n          State.update({\n            update: e.target.value,\n          });\n        }}\n      />\n    </div>\n    <CommitButton\n      disabled={source === newVersion}\n      className=\"btn btn-outline-secondary m-1 mt-3\"\n      data={data}\n    >\n      <i className=\"bi bi-git\"></i>\n      send request\n    </CommitButton>\n    <hr />\n    <h3>review</h3>\n    <Widget\n      src=\"hack.near/widget/compare\"\n      props={{ src: state.src, update: state.update }}\n    />\n  </Container>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/create.near/widget/GitBos", "fact_widget_deployments_id": "e0104771d484c6b504b1cebf8993b1c1", "inserted_timestamp": "2024-03-07T05:24:05.087Z", "modified_timestamp": "2024-03-07T05:24:05.087Z", "__row_index": 5}