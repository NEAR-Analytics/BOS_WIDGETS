{"tx_hash": "8wxHXesX4LjTcdwAoX7Ejq5Vzw4oN9nhmbMbx6pdYeTi", "action_id_social": "z2NSxRjDKcGGf9YPDQ9xddaPELt7GTnSeYSKMbi7Max-0-widget", "block_id": 107040085, "block_timestamp": "2023-12-03T04:08:38.629Z", "signer_id": "create.near", "widget_name": "project.template", "source_code": "const { project, handle } = props;\n\nconst temps = [\n  {\n    src: \"createit.near/widget/templates.project.doc\",\n    preview:\n      \"https://ipfs.near.social/ipfs/bafkreiepqmctupqt5irsqoqgchoqmfm76xofaxzvauv3canfehyqgeeafy\",\n    name: \"Documentation Website\",\n    theme: `[navbar] {\n        display: flex;\n        justify-content: space-between;\n        align-items: center;\n        padding: 0 20px;\n        height: 70px;\n        border-bottom: 1px solid #ccc;\n      \n        [left] {\n          display: flex;\n          align-items: center;\n          height: 100%;\n        }\n      \n        [logo] {\n          font-size: 17px;\n          font-weight: 100;\n          letter-spacing: -1px;\n          color: #000;\n          display: flex;\n          align-items: center;\n          text-decoration: none;\n          gap: 10px;\n      \n          img {\n            height: 26px !important;\n            object-fit: contain;\n            margin-right: 7px;\n          }\n      \n          span {\n            margin-bottom: -4px;\n          }\n        }\n      \n        [right] {\n          display: flex;\n          align-items: center;\n          height: 100%;\n          gap: 20px;\n        }\n      \n        [right] a {\n          display: flex;\n          align-items: center;\n          height: 100%;\n          gap: 10px;\n          color: #000;\n          text-decoration: none;\n          font-size: 14px;\n          font-weight: 600;\n        }\n      \n        [right] a:hover {\n          opacity: 0.8;\n        }\n      }\n      \n      [container] {\n        border-radius: 10px;\n        display: flex;\n        flex-wrap: wrap;\n        overflow: hidden;\n      }\n      \n      [sidebar] {\n        padding: 20px;\n        padding-left: 0;\n        min-height: calc(100vh - 60px);\n        overflow: auto;\n        border-right: 1px solid #ccc;\n        width: 300px;\n      }\n      \n      [sidebar] > [tree] > li {\n        padding-top: 12px;\n        padding-left: 0 !important;\n      }\n      \n      [tree] {\n        padding: 0;\n        margin: 0;\n        list-style: none;\n      \n        li {\n          padding: 0;\n          margin: 0;\n          list-style: none;\n          padding-left: 16px;\n      \n          > [tree] {\n            display: none;\n          }\n      \n          &[expanded] {\n            > [tree] {\n              display: block;\n            }\n          }\n      \n          a {\n            display: flex;\n            justify-content: space-between;\n            font-size: 14px;\n            font-weight: 600;\n            padding: 6px 21px;\n            border-radius: 4px;\n            color: rgb(20, 20, 20);\n            cursor: pointer;\n            transition: all 0.2s ease-in-out 0s;\n            text-decoration: none;\n            text-transform: capitalize;\n            position: relative;\n            margin-bottom: 4px;\n      \n            &:after {\n              content: \"\";\n              position: absolute;\n              z-index: -1;\n              left: 0;\n              top: 0;\n              bottom: 0;\n              right: 0;\n              background: transparent;\n              opacity: 0.1;\n              transition: all 0.2s ease-in-out 0s;\n              border-radius: 4px;\n            }\n      \n            &:hover {\n              color: var(--main-color);\n              &:after {\n                background: var(--main-color);\n              }\n            }\n          }\n      \n          &[active] {\n            > a {\n              color: var(--main-color);\n              &:after {\n                background: var(--main-color);\n              }\n            }\n          }\n        }\n      }\n      \n      [content] {\n        padding: 20px;\n        flex: 1;\n        overflow: auto;\n      \n        a {\n          background: transparent;\n        }\n      \n        a:active,\n        a:hover {\n          outline: 0;\n        }\n      \n        strong {\n          font-weight: bold;\n        }\n      \n        h1 {\n          font-size: 2em;\n          margin: 0.67em 0;\n        }\n      \n        img {\n          border: 0;\n        }\n      \n        hr {\n          -moz-box-sizing: content-box;\n          box-sizing: content-box;\n          height: 0;\n        }\n      \n        pre {\n          overflow: auto;\n        }\n      \n        code,\n        kbd,\n        pre {\n          font-family: monospace, monospace;\n          font-size: 1em;\n        }\n      \n        input {\n          color: inherit;\n          font: inherit;\n          margin: 0;\n        }\n      \n        html input[disabled] {\n          cursor: default;\n        }\n      \n        input {\n          line-height: normal;\n        }\n      \n        input[type=\"checkbox\"] {\n          -moz-box-sizing: border-box;\n          box-sizing: border-box;\n          padding: 0;\n        }\n      \n        table {\n          border-collapse: collapse;\n          border-spacing: 0;\n        }\n      \n        td,\n        th {\n          padding: 0;\n        }\n      \n        * {\n          -moz-box-sizing: border-box;\n          box-sizing: border-box;\n        }\n      \n        a {\n          color: #4183c4;\n          text-decoration: none;\n        }\n      \n        a:hover,\n        a:focus,\n        a:active {\n          text-decoration: underline;\n        }\n      \n        hr {\n          height: 0;\n          margin: 15px 0;\n          overflow: hidden;\n          background: transparent;\n          border: 0;\n          border-bottom: 1px solid #ddd;\n        }\n      \n        hr:before {\n          display: table;\n          content: \"\";\n        }\n      \n        hr:after {\n          display: table;\n          clear: both;\n          content: \"\";\n        }\n      \n        h1,\n        h2,\n        h3,\n        h4,\n        h5,\n        h6 {\n          margin-top: 15px;\n          margin-bottom: 15px;\n          line-height: 1.1;\n        }\n      \n        h1 {\n          font-size: 30px;\n        }\n      \n        h2 {\n          font-size: 21px;\n        }\n      \n        h3 {\n          font-size: 16px;\n        }\n      \n        h4 {\n          font-size: 14px;\n        }\n      \n        h5 {\n          font-size: 12px;\n        }\n      \n        h6 {\n          font-size: 11px;\n        }\n      \n        blockquote {\n          margin: 0;\n        }\n      \n        ul,\n        ol {\n          padding: 0;\n          margin-top: 0;\n          margin-bottom: 0;\n        }\n      \n        ol ol,\n        ul ol {\n          list-style-type: lower-roman;\n        }\n      \n        ul ul ol,\n        ul ol ol,\n        ol ul ol,\n        ol ol ol {\n          list-style-type: lower-alpha;\n        }\n      \n        dd {\n          margin-left: 0;\n        }\n      \n        code {\n          font:\n            12px Consolas,\n            \"Liberation Mono\",\n            Menlo,\n            Courier,\n            monospace;\n        }\n      \n        pre {\n          margin-top: 0;\n          margin-bottom: 0;\n          font:\n            12px Consolas,\n            \"Liberation Mono\",\n            Menlo,\n            Courier,\n            monospace;\n        }\n      \n        .anchor {\n          position: absolute;\n          top: 0;\n          bottom: 0;\n          left: 0;\n          display: block;\n          padding-right: 6px;\n          padding-left: 30px;\n          margin-left: -30px;\n        }\n      \n        .anchor:focus {\n          outline: none;\n        }\n      \n        h1,\n        h2,\n        h3,\n        h4,\n        h5,\n        h6 {\n          position: relative;\n          margin-top: 1em;\n          margin-bottom: 16px;\n          font-weight: bold;\n          line-height: 1.4;\n        }\n      }`,\n  },\n];\n\nconsole.log(project);\n\nconst selectedTemp = temps.find((t) => t.src == project.templateSrc);\nState.init({\n  selected: selectedTemp ? temps.indexOf(selectedTemp) : project.templateSrc,\n});\n\nconst Wrapper = styled.div`\n  ul {\n    display: grid;\n    grid-template-columns: repeat(auto-fill, minmax(330px, 1fr));\n    grid-gap: 1rem;\n    list-style: none;\n    padding: 0;\n  }\n  li {\n    cursor: pointer;\n    border: 1px solid #ccc;\n    border-radius: 4px;\n    padding: 0.5rem;\n    overflow: hidden;\n\n    .img {\n      border-radius: 4px;\n      object-fit: cover;\n      width: 100%;\n      height: 160px;\n      background-color: #eee;\n      margin-bottom: 0.5rem;\n    }\n  }\n  li.active {\n    border-color: rgb(68, 152, 224) !important;\n  }\n`;\n\nfunction renderTemplate() {\n  return (\n    <Wrapper>\n      <h2>Select a template</h2>\n      <p>\n        Choose a template from the available options. You can also have a custom\n        template by entering the src of the template.\n      </p>\n      <p>\n        Template:\n        <input\n          type=\"text\"\n          value={\n            typeof state.selected === \"string\"\n              ? state.selected\n              : temps[state.selected].src\n          }\n          onChange={(e) => {\n            State.update({\n              selected: e.target.value,\n            });\n          }}\n        />\n      </p>\n      <ul>\n        {temps.map((t, i) => {\n          return (\n            <li\n              onClick={() => {\n                State.update({\n                  selected: i,\n                });\n              }}\n              className={state.selected == i ? \"active\" : \"\"}\n            >\n              {t.preview ? (\n                <img className=\"img\" src={t.preview} height={100} width={161} />\n              ) : (\n                <div className=\"img\"></div>\n              )}\n              {t.name}\n              <br />\n              <b>\n                <small>{t.src}</small>\n              </b>\n            </li>\n          );\n        })}\n      </ul>\n      <Widget\n        src=\"nearui.near/widget/Input.Button\"\n        props={{\n          variant: \"success\",\n          children: <>Save</>,\n          onClick: () => {\n            const temp =\n              typeof state.selected === \"string\"\n                ? { src: state.selected }\n                : temps[state.selected];\n            handle[\"project\"].update(project.id, {\n              template: {\n                src: temp.src,\n              },\n            });\n          },\n          disabled:\n            state.selected == temps.indexOf(selectedTemp) ||\n            state.selected == project.templateSrc,\n        }}\n      />\n    </Wrapper>\n  );\n}\n\nlet theme;\nif (project.theme) {\n  theme = project.theme;\n} else {\n  theme = selectedTemp.theme;\n}\n\nfunction renderTheme() {\n  if (theme === null) return \"\";\n\n  return (\n    <Wrapper className=\"mt-4\">\n      <h2>Theme</h2>\n      <p>Edit the theme of the template.</p>\n      <textarea\n        key={selectedTemp}\n        style={{ width: \"100%\", height: \"400px\" }}\n        defaultValue={theme}\n        onChange={(e) => {\n          State.update({\n            theme: e.target.value,\n          });\n        }}\n      />\n      <Widget\n        src=\"nearui.near/widget/Input.Button\"\n        props={{\n          variant: \"success\",\n          children: <>Save Theme</>,\n          disabled: !state.theme,\n          onClick: () => {\n            handle[\"project\"].update(project.id, {\n              template: {\n                theme: state.theme,\n              },\n            });\n          },\n        }}\n      />\n    </Wrapper>\n  );\n}\n\nreturn (\n  <>\n    {renderTemplate()}\n    {renderTheme()}\n  </>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/create.near/widget/project.template", "fact_widget_deployments_id": "c1d57d6608bf9731f1f4d48e72610b68", "inserted_timestamp": "2024-03-07T05:24:05.087Z", "modified_timestamp": "2024-03-07T05:24:05.087Z", "__row_index": 4}