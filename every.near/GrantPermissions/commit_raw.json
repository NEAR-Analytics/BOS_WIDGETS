{"tx_hash": "8K4W13nN8Tk1CV7N8V1kkWm77UR4jAizLvQ6wXZ57Asn", "action_id_social": "5Tvzuf8knsN7BLnG7p3vedNDLTnFpHscxCJFhmqkSQHX-0-widget", "block_id": 92320254, "block_timestamp": "2023-05-20T19:56:43.506Z", "signer_id": "every.near", "widget_name": "GrantPermissions", "source_code": "const connected_account = context.accountId;\n\nconst social_contract_id = \"social.near\";\n\nState.init({\n  account: \"\",\n});\n\nlet data = {\n  accountId: state.account,\n};\n\nconst handleGrantAccount = () => {\n  const account = data.accountId;\n\n  Near.call([\n    {\n      contractName: social_contract_id,\n      methodName: \"grant_write_permission\",\n      args: { predecessor_id: data.accountId, keys: [connected_account] },\n      deposit: \"1\",\n    },\n  ]);\n};\n\nreturn (\n  <div class=\"d-flex flex-column gap-2\">\n    <div>\n      <h4>Grant Permissions</h4>\n      {!!data.accountId && (\n        <p>\n          You are granting write permissions to{\" \"}\n          <span class=\"fw-bold\">{data.accountId}</span>\n        </p>\n      )}\n    </div>\n    <div class=\"w-100 d-flex gap-4\">\n      <input id=\"accountid\" type=\"text\" value={state.account}></input>\n      <button\n        onClick={() => {\n          handleGrantAccount();\n        }}\n      >\n        Grant\n      </button>\n    </div>\n  </div>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/every.near/widget/GrantPermissions", "fact_widget_deployments_id": "a86ed54f3f7eab95da47a63e02fc967f", "inserted_timestamp": "2024-03-07T05:24:05.087Z", "modified_timestamp": "2024-03-07T05:24:05.087Z", "__row_index": 0}