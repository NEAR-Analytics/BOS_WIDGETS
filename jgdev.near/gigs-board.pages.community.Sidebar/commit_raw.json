{"tx_hash": "BcYe9d89evL3vjVgdMnwpbvibpPbNXySho5zk1qFTWu8", "action_id_social": "8jUgEYkCNyTF1npBCbQmHvbFhY773i4jcLadCZxM2aWT-0-widget", "block_id": 94645739, "block_timestamp": "2023-06-20T22:27:53.588Z", "signer_id": "jgdev.near", "widget_name": "gigs-board.pages.community.Sidebar", "source_code": "/* INCLUDE: \"common.jsx\" */\r\nconst nearDevGovGigsContractAccountId =\r\n  props.nearDevGovGigsContractAccountId ||\r\n  (context.widgetSrc ?? \"devgovgigs.near\").split(\"/\", 1)[0];\r\n\r\nconst nearDevGovGigsWidgetsAccountId =\r\n  props.nearDevGovGigsWidgetsAccountId ||\r\n  (context.widgetSrc ?? \"devgovgigs.near\").split(\"/\", 1)[0];\r\n\r\nfunction widget(widgetName, widgetProps, key) {\r\n  widgetProps = {\r\n    ...widgetProps,\r\n    nearDevGovGigsContractAccountId: props.nearDevGovGigsContractAccountId,\r\n    nearDevGovGigsWidgetsAccountId: props.nearDevGovGigsWidgetsAccountId,\r\n    referral: props.referral,\r\n  };\r\n\r\n  return (\r\n    <Widget\r\n      src={`${nearDevGovGigsWidgetsAccountId}/widget/gigs-board.${widgetName}`}\r\n      props={widgetProps}\r\n      key={key}\r\n    />\r\n  );\r\n}\r\n\r\nfunction href(widgetName, linkProps) {\r\n  linkProps = { ...linkProps };\r\n\r\n  if (props.nearDevGovGigsContractAccountId) {\r\n    linkProps.nearDevGovGigsContractAccountId =\r\n      props.nearDevGovGigsContractAccountId;\r\n  }\r\n\r\n  if (props.nearDevGovGigsWidgetsAccountId) {\r\n    linkProps.nearDevGovGigsWidgetsAccountId =\r\n      props.nearDevGovGigsWidgetsAccountId;\r\n  }\r\n\r\n  if (props.referral) {\r\n    linkProps.referral = props.referral;\r\n  }\r\n\r\n  const linkPropsQuery = Object.entries(linkProps)\r\n    .filter(([_key, nullable]) => (nullable ?? null) !== null)\r\n    .map(([key, value]) => `${key}=${value}`)\r\n    .join(\"&\");\r\n\r\n  return `/#/${nearDevGovGigsWidgetsAccountId}/widget/gigs-board.pages.${widgetName}${\r\n    linkPropsQuery ? \"?\" : \"\"\r\n  }${linkPropsQuery}`;\r\n}\r\n/* END_INCLUDE: \"common.jsx\" */\r\n\r\n/* INCLUDE: \"communities.jsx\" */\r\nconst communities = {\r\n  \"zero-knowledge\": {\r\n    overviewId: 397,\r\n    eventsId: 401,\r\n    icon: \"https://ipfs.near.social/ipfs/bafkreiajwq6ep3n7veddozji2djv5vviyisabhycbweslvpwhsoyuzcwi4\",\r\n    cover:\r\n      \"https://ipfs.near.social/ipfs/bafkreihgxg5kwts2juldaeasveyuddkm6tcabmrat2aaq5u6uyljtyt7lu\",\r\n    title: \"Zero Knowledge\",\r\n    desc: \"Building a zero knowledge ecosystem on NEAR.\",\r\n  },\r\n  protocol: {\r\n    overviewId: 412,\r\n    eventsId: 413,\r\n    icon: \"https://ipfs.near.social/ipfs/bafkreidpitdafcnhkp4uyomacypdgqvxr35jtfnbxa5s6crby7qjk2nv5a\",\r\n    cover:\r\n      \"https://ipfs.near.social/ipfs/bafkreicg4svzfz5nvllomsahndgm7u62za4sib4mmbygxzhpcl4htqwr4a\",\r\n    title: \"Protocol\",\r\n    desc: \"Supporting the ongoing innovation of the NEAR Protocol.\",\r\n  },\r\n  tooling: {\r\n    overviewId: 416,\r\n    eventsId: 417,\r\n    icon: \"https://ipfs.near.social/ipfs/bafkreie2eaj5czmpfe6pe53kojzcspgozebdsonffwvbxtpuipnwahybvi\",\r\n    cover:\r\n      \"https://ipfs.near.social/ipfs/bafkreiehzr7z2fhoqqmkt3z667wubccbch6sqtsnvd6msodyzpnf72cszy\",\r\n    title: \"Tooling\",\r\n    desc: \"Supporting the ongoing innovation of tooling.\",\r\n  },\r\n  \"contract-standards\": {\r\n    overviewId: 414,\r\n    eventsId: 415,\r\n    icon: \"https://ipfs.near.social/ipfs/bafkreiepgdnu7soc6xgbyd4adicbf3eyxiiwqawn6tguaix6aklfpir634\",\r\n    cover:\r\n      \"https://ipfs.near.social/ipfs/bafkreiaowjqxds24fwcliyriintjd4ucciprii2rdxjmxgi7f5dmzuscey\",\r\n    title: \"Contract Standards\",\r\n    desc: \"Coordinating the contribution to the NEAR dapp standards.\",\r\n  },\r\n};\r\n/* END_INCLUDE: \"communities.jsx\" */\r\n\r\n/* INCLUDE: \"mockcommunity.jsx\" */\r\nconst socialLinks = [\r\n  {\r\n    href: \"#/mob.near/widget/ProfilePage?accountId=self.social.near\",\r\n    iconClass: \"bi bi-globe\",\r\n    label: community.title,\r\n  },\r\n\r\n  {\r\n    href: \"https://github.com/NearSocial\",\r\n    iconClass: \"bi bi-github\",\r\n    label: community.title,\r\n  },\r\n  {\r\n    href: \"https://twitter.com/NearSocial_\",\r\n    iconClass: \"bi bi-twitter\",\r\n    label: community.title,\r\n  },\r\n  {\r\n    href: \"https://t.me/NearSocial\",\r\n    iconClass: \"bi bi-telegram\",\r\n    label: community.title,\r\n  },\r\n];\r\n\r\n// TODO ADD AMIN MEMBERS HERE\r\n\r\nconst TeamMembers = [\r\n  {\r\n    id: \"\",\r\n    role: \"\",\r\n    avatar: \"\",\r\n    wallet: \"\",\r\n  },\r\n\r\n  {\r\n    id: \"js_joker\",\r\n    role: \"Admin\",\r\n    avatar:\r\n      \"https://paras.id/_next/image?url=https%3A%2F%2Fparas-cdn.imgix.net%2F6196b861da8a91415f23e551a5e88c0ac0671c0d%3Fw%3D400&w=1080&q=75\",\r\n    wallet: \"@js_joker.near\",\r\n  },\r\n];\r\n/* END_INCLUDE: \"mockcommunity.jsx\" */\r\n\r\nif (!props.label) {\r\n  return (\r\n    <div class=\"alert alert-danger\" role=\"alert\">\r\n      Error: label is required\r\n    </div>\r\n  );\r\n}\r\n\r\nconst label = props.label;\r\n\r\nconst discussionRequiredPosts =\r\n  Near.view(nearDevGovGigsContractAccountId, \"get_posts_by_label\", {\r\n    label,\r\n  }) ?? [];\r\n\r\nconst community = communities[props.label];\r\n\r\nconst onMention = (accountId) => (\r\n  <span key={accountId} className=\"d-inline-flex\" style={{ fontWeight: 500 }}>\r\n    <Widget\r\n      src=\"neardevgov.near/widget/ProfileLine\"\r\n      props={{\r\n        accountId: accountId.toLowerCase(),\r\n        hideAccountId: true,\r\n        tooltip: true,\r\n      }}\r\n    />\r\n  </span>\r\n);\r\n\r\n// START OF SIDEBAR\r\n// Social Links Master Styling\r\nconst SocialLink = ({ link, index }) => (\r\n  <a\r\n    className={`btn btn-outline-secondary border-0 d-flex align-items-center`}\r\n    href={link.href}\r\n    style={{ marginLeft: index !== 0 ? \"0px\" : \"0px\" }}\r\n  >\r\n    <i className={link.iconClass}></i>\r\n    <span className=\"ms-1\">{link.label || community.title}</span>\r\n  </a>\r\n);\r\n\r\n// Social Media Icons\r\nconst SocialMediaIcons = (\r\n  <div\r\n    className=\"mb-1 d-flex gap-2 flex-wrap flex-column\"\r\n    style={{ padding: \"0px\" }}\r\n  >\r\n    {socialLinks.map((link, index) => (\r\n      <SocialLink key={index} link={link} index={index} />\r\n    ))}\r\n  </div>\r\n);\r\n\r\nconst CommunitySummary = (\r\n  <div style={{ top: \"0\", left: \"0\" }}>\r\n    <Markdown text={community.desc} onMention={onMention} />\r\n    <h3 className=\"mt-2 mb-2\">{community.label}</h3>\r\n    <div className=\"row mb-2 align-items-center d-flex justify-content-between\">\r\n      <div className=\"col-auto\">\r\n        <div className=\"d-flex align-items-center\">\r\n          <a href={href(\"Feed\", { label })} key={label}>\r\n            <span\r\n              className=\"badge text-bg-grey ms-1\"\r\n              style={{\r\n                color: \"rgba(0, 0, 0, 0.7)\",\r\n                fontSize: \"1em\",\r\n                fontWeight: \"normal\",\r\n                boxShadow: \"0px 1px 3px rgba(0, 0, 0, 0.2)\",\r\n                padding: \"0.2em 0.5em\",\r\n              }}\r\n            >\r\n              <div>{label}</div>\r\n            </span>\r\n          </a>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <br></br>\r\n    <br></br>\r\n    {socialLinks.map((link, index) => (\r\n      <SocialLink key={index} link={link} index={index} />\r\n    ))}\r\n  </div>\r\n);\r\n\r\nconst Card = ({ content }) => (\r\n  <div\r\n    className=\"card\"\r\n    style={{\r\n      border: \"none\",\r\n    }}\r\n  >\r\n    <div className=\"card-body\">\r\n      <p className=\"card-text\">{content}</p>\r\n    </div>\r\n  </div>\r\n);\r\n\r\nconst CommunityOverview = (\r\n  <Card title={`${community.title} Overview`} content={CommunitySummary}></Card>\r\n);\r\n\r\nconst TeamMember = ({ member }) => (\r\n  <div className=\"d-flex align-items-start mb-1 justify-content-start\">\r\n    <img\r\n      src={member.avatar}\r\n      alt={member.id}\r\n      style={{\r\n        width: \"50px\",\r\n        height: \"50px\",\r\n        borderRadius: \"50%\",\r\n        marginRight: \"10px\",\r\n      }}\r\n    />\r\n    <div style={{ paddingTop: \"7px\" }}>\r\n      <h6 style={{ fontSize: \"110%\", fontWeight: \"bold\", marginBottom: \"0\" }}>\r\n        {member.id}\r\n      </h6>\r\n      <p style={{ fontSize: \"100%\" }}>{member.wallet}</p>\r\n    </div>\r\n  </div>\r\n);\r\n\r\n// Team Members List\r\nconst TeamMembersList = TeamMembers.map((member) => (\r\n  <TeamMember key={member.id} member={member} />\r\n));\r\n\r\n// More Info Button\r\nconst MoreInfoButton = (\r\n  <div className=\"d-flex justify-content-start\">\r\n    <button\r\n      type=\"button\"\r\n      class=\"btn\"\r\n      style={{\r\n        color: \"black\",\r\n        fontSize: \"0.8rem\",\r\n        fontWeight: \"bold\",\r\n      }}\r\n      href=\"#\"\r\n    >\r\n      See More\r\n    </button>\r\n  </div>\r\n);\r\n\r\n// Team Card\r\nconst TeamsCard = (\r\n  <div style={{ width: \"100%\" }}>\r\n    <Card\r\n      title={\"Team Members\"}\r\n      content={\r\n        <div>\r\n          <h5\r\n            style={{\r\n              fontSize: \"1.3rem\",\r\n              fontWeight: \"800\",\r\n              marginBottom: \"20px\",\r\n            }}\r\n          >\r\n            Group Moderators\r\n          </h5>\r\n          {TeamMembersList}\r\n          {MoreInfoButton}\r\n        </div>\r\n      }\r\n    ></Card>\r\n  </div>\r\n);\r\n\r\n// Define the Sidebar component\r\nconst Sidebar = () => (\r\n  <div class=\"col-md-12 d-flex flex-column align-items-end\">\r\n    {CommunityOverview}\r\n    <hr style={{ width: \"100%\", borderTop: \"4px solid #00000033\" }} />\r\n    {TeamsCard}\r\n  </div>\r\n);\r\n\r\n// Define the layout for the page\r\nconst PageLayout = () => (\r\n  <div class=\"container\">\r\n    <div class=\"row\">\r\n      <Sidebar />\r\n    </div>\r\n  </div>\r\n);\r\n\r\nreturn <PageLayout />;\r\n// END OF SIDEBAR\r\n\r\n// USAGE\r\n// copy and paste this into the return function of a page you want the sidebar on\r\n// make sure to add `col-mb-9` to the class of the div you want to\r\n// take up 2/3 of the screen to the left\r\n\r\n// then make sure to add `col-mb-3` to the class of the div you want to\r\n// take up 1/3 of the screen to the\r\n\r\n{\r\n  /* <div class=\"col-4 container-fluid\">\r\n  <Widget\r\n    src={`${nearDevGovGigsWidgetsAccountId}/widget/gigs-board.pages.community.Sidebar`}\r\n    props={{\r\n      metadata: metadata,\r\n      accountId: accountId,\r\n      widgetName: widgetName,\r\n      label: props.label,\r\n    }}\r\n  />\r\n</div> */\r\n}\r\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/jgdev.near/widget/gigs-board.pages.community.Sidebar", "fact_widget_deployments_id": "ffea09c31a3f758892074a1d43cfd937", "inserted_timestamp": "2024-03-07T05:24:05.087Z", "modified_timestamp": "2024-03-07T05:24:05.087Z", "__row_index": 5}