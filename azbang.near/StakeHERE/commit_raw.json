{"tx_hash": "EXSBKsexTgZk6f2cB1q4XgyX19JaXW6oRnBzsQfi87TE", "action_id_social": "E9WHqPJiWKgQYngYw2f1GZSm1bUDaPcb3y5jEQz1EZfQ-0-widget", "block_id": 86675485, "block_timestamp": "2023-03-06T09:12:03.438Z", "signer_id": "azbang.near", "widget_name": "StakeHERE", "source_code": "State.init({ link: null });\n\nconst Page = styled.div`\n    width: 100%;\n    height: 100%;\n    position: absolute;\n    top: 0px;\n    bottom: 0px;\n    background: #f4ebea8f;\n    justify-content: center;\n    align-items: center;\n    display: flex;\n`;\n\nconst BlurScreen = styled.div`\n    position: absolute;\n    top: 0px;\n    width: 100%;\n    height: 100%;\n    background: rgba(255, 255, 255, 0.3);\n    backdrop-filter: blur(10px);\n    display: flex;\n    justify-content: center;\n    align-items: center;\n`;\n\nif (context.accountId == null) {\n  return (\n    <Page>\n      <h2 style={{ width: \"100%\", textAlign: \"center\" }}>Sign in please</h2>\n    </Page>\n  );\n}\n\nconsole.log(state);\nreturn (\n  <Page>\n    <iframe\n      style={{ width: \"100%\", maxWidth: 460, height: \"100%\" }}\n      src=\"https://my.herewallet.app?stake\"\n      message={{\n        accountId: context.accountId,\n        localStorage: Storage.get(\"localStorage\"),\n      }}\n      onMessage={(e) => {\n        switch (e.action) {\n          case \"saveLocalStorage\":\n            Storage.set(\"localStorage\", e.data);\n            return;\n\n          case \"openLink\":\n            State.update({ link: e.data.link });\n            return;\n\n          case \"signAndSendTransaction\":\n            const call = e.data.actions[0].params;\n            Near.call(\n              e.data.receiverId,\n              call.methodName,\n              call.args,\n              call.gas,\n              call.deposit\n            );\n            return;\n        }\n      }}\n    />\n\n    {state.link && (\n      <BlurScreen>\n        <a\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n          href={state.link}\n          style={{ fontSize: 24 }}\n          onClick={() => State.update({ link: null })}\n        >\n          Open link\n        </a>\n      </BlurScreen>\n    )}\n  </Page>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/azbang.near/widget/StakeHERE", "fact_widget_deployments_id": "9805c35ce6b39993e9e6353394e2a232", "inserted_timestamp": "2000-01-01T00:00:00.000Z", "modified_timestamp": "2000-01-01T00:00:00.000Z", "__row_index": 7}