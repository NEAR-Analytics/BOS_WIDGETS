{"tx_hash": "FmpaunYXW8PkhFnuNcK4QTbktSm4BEsWxMxBWcHPMqu6", "action_id_social": "Eyhe4haBDAgahvFRQME6Qne2NPM2KjFWX5SfQPfiTgac-1-widget", "block_id": 86677667, "block_timestamp": "2023-03-06T09:53:19.629Z", "signer_id": "azbang.near", "widget_name": "StakeHERE", "source_code": "State.init({ link: null, parent: \"\" });\n\nconsole.log(state);\n\nconst Page = styled.div`\n    width: 100%;\n    height: 100%;\n    position: fixed;\n    top: 0px;\n    left: 0;\n    bottom: 0px;\n    background: rgba(244, 235, 234, 0.56);\n    justify-content: center;\n    align-items: center;\n    display: flex;\n`;\n\nconst BlurScreen = styled.div`\n    position: absolute;\n    top: 0px;\n    width: 100%;\n    height: 100%;\n    background: rgba(255, 255, 255, 0.3);\n    backdrop-filter: blur(10px);\n    display: flex;\n    justify-content: center;\n    align-items: center;\n`;\n\nif (context.accountId == null) {\n  return (\n    <Page>\n      <h2 style={{ width: \"100%\", textAlign: \"center\" }}>Sign in please</h2>\n    </Page>\n  );\n}\n\nconsole.log(state);\nreturn (\n  <Page\n    style={{\n      paddingTop: 68,\n      paddingBottom: state.parent.includes(\"alpha.near.org\") ? 68 : 0,\n    }}\n  >\n    <iframe\n      style={{ width: \"100%\", maxWidth: 460, height: \"100%\" }}\n      src=\"https://my.herewallet.app?stake\"\n      message={{\n        accountId: context.accountId,\n        localStorage: Storage.get(\"localStorage\"),\n      }}\n      onMessage={(e) => {\n        switch (e.action) {\n          case \"saveLocalStorage\":\n            Storage.set(\"localStorage\", e.data);\n            return;\n\n          case \"openLink\":\n            State.update({ link: e.data.link });\n            return;\n\n          case \"parentDomain\":\n            State.update({ parent: e.data });\n            return;\n\n          case \"signAndSendTransaction\":\n            const call = e.data.actions[0].params;\n            Near.call(\n              e.data.receiverId,\n              call.methodName,\n              call.args,\n              call.gas,\n              call.deposit\n            );\n            return;\n        }\n      }}\n    />\n\n    {state.link && (\n      <BlurScreen>\n        <a\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n          href={state.link}\n          style={{ fontSize: 24 }}\n          onClick={() => State.update({ link: null })}\n        >\n          Open link\n        </a>\n      </BlurScreen>\n    )}\n  </Page>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/azbang.near/widget/StakeHERE", "fact_widget_deployments_id": "7e541d2aa52fad4d3c6b6ec0b0cd17a9", "inserted_timestamp": "2000-01-01T00:00:00.000Z", "modified_timestamp": "2000-01-01T00:00:00.000Z", "__row_index": 9}