{"tx_hash": "9kb9aw8pVTD15kR4zfZWgys5oaY6f91vUDty7A8k4jLW", "action_id_social": "HQ1yXLsghSSUApwB3TR1bXigg9GyRhaLnEUQmfNPYR5y-0-widget", "block_id": 99502413, "block_timestamp": "2023-08-23T21:53:41.308Z", "signer_id": "paywall.near", "widget_name": "PaywallDapplet-Overlay", "source_code": "/**\n * We use buyerAccountId instead of accountId because it's reserved parameter in embeded pages\n * https://github.com/near/near-discovery/blob/dc58aa1c8ef5d4c0a5e19839230148009834088a/src/pages/embed/%5BaccountId%5D/widget/%5BcomponentName%5D.tsx#L16\n */\nconst { buyerAccountId } = props;\n\nif (!buyerAccountId) {\n  return <div>Connect your Wallet</div>;\n}\n\nconst purchases = buyerAccountId\n  ? Near.view(\n      \"app.paywall.near\",\n      \"purchases\",\n      {\n        account_id: buyerAccountId,\n      },\n      \"final\",\n      true\n    )\n  : false;\n\nconst Wrapper = styled.div`\n  .main-container {\n    padding: 10px;\n  }\n\n  .content-card {\n    margin-bottom: 20px;\n    width: 100%;\n  }\n`;\n\nif (purchases === null) {\n  return <div>Loading...</div>;\n}\n\nreturn (\n  <Wrapper>\n    <div className=\"main-container\">\n    {purchases.map((contentId) => (\n      <div className=\"content-card\">\n        <div>Tweet ID: {contentId}</div>\n        <Widget\n          key={contentId}\n          src={`paywall.near/widget/PaywallDapplet-Content`}\n          props={{ accountId: buyerAccountId, contentId: contentId }}\n        />\n      </div>\n    ))}\n    </div>\n  </Wrapper>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/paywall.near/widget/PaywallDapplet-Overlay", "fact_widget_deployments_id": "b58b29fc11bb44f754e8ecad416c50da", "inserted_timestamp": "2023-08-24T06:37:32.974Z", "modified_timestamp": "2023-08-24T06:37:32.974Z", "__row_index": 0}