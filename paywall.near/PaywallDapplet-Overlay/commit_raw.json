{"tx_hash": "GNFYXS2nUwijePGQpQgE5P6KHYaXyorxphqcidhppAdm", "action_id_social": "E5eiT41oE6NjYNjn22PpUg9qMRiHGPSGpMcqgQRYpqmg-0-widget", "block_id": 99502276, "block_timestamp": "2023-08-23T21:51:06.540Z", "signer_id": "paywall.near", "widget_name": "PaywallDapplet-Overlay", "source_code": "/**\n * We use buyerAccountId instead of accountId because it's reserved parameter in embeded pages\n * https://github.com/near/near-discovery/blob/dc58aa1c8ef5d4c0a5e19839230148009834088a/src/pages/embed/%5BaccountId%5D/widget/%5BcomponentName%5D.tsx#L16\n */\nconst { buyerAccountId } = props;\n\nif (!buyerAccountId) {\n  return <div>Connect your Wallet</div>;\n}\n\nconst purchases = buyerAccountId\n  ? Near.view(\n      \"app.paywall.near\",\n      \"purchases\",\n      {\n        account_id: buyerAccountId,\n      },\n      \"final\",\n      true\n    )\n  : false;\n\nconst Wrapper = styled.div``;\n\nif (purchases === null) {\n  return <div>Loading...</div>;\n}\n\nreturn (\n  <Wrapper>\n    {purchases.map((contentId) => (\n      <div>\n        <div>{contentId}</div>\n        <Widget\n          key={contentId}\n          src={`paywall.near/widget/PaywallDapplet-Content`}\n          props={{ accountId: buyerAccountId, contentId: contentId }}\n        />\n      </div>\n    ))}\n  </Wrapper>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/paywall.near/widget/PaywallDapplet-Overlay", "fact_widget_deployments_id": "2374a0cfba2f51263fefb4d9238d3bc2", "inserted_timestamp": "2023-08-24T06:36:29.910Z", "modified_timestamp": "2023-08-24T06:36:29.910Z", "__row_index": 2}