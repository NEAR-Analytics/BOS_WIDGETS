{"tx_hash": "FsXe2HK1BsjrWjqcDFA5UpaP65jHeJWBNpshtZtYjBPH", "action_id_social": "4xXCvJADGdGdaofE3zfuF48YBJRvwkotXieimMz6hjBu-0-widget", "block_id": 113918556, "block_timestamp": "2024-03-02T01:44:46.977Z", "signer_id": "ramgor.near", "widget_name": "NearStats", "source_code": "const data = fetch(\n  \"https://front.near-staking.com/api/near/avg_block_time,tps,block_time_low,block_time_high,top_accounts,highest_tps?block_time_days=1&tps_days=3\",\n  {\n    subscribe: true,\n    method: \"GET\",\n    headers: {\n      Accept: \"*/*\",\n    },\n  }\n);\n\nconst GridContainer = styled.div`\n  display: grid;\n  grid-template-columns: 1fr 1fr;\n  gap: 20px;\n`;\n\nconst StyledTable = styled.table`\n  width: 100%;\n  border-collapse: collapse;\n  margin-top: 2px;\n`;\n\nconst StyledThead = styled.thead`\n  background-color: #f1f1f1;\n`;\n\nconst StyledTh = styled.th`\n  border: 11px solid #aafa;\n  padding: 18px;\n  text-align: center;\n`;\n\nconst StyledTr = styled.tr`\n  &:nth-child(even) {\n    background-color: #f2f2f2;\n  }\n`;\n\nconst StyledTd = styled.td`\n  border: 1px solid #ddd;\n  padding: 4px;\n  text-align: left;\n`;\n\nconst StyledHr = styled.hr`\n  height: 1px;\n  border: none;\n  color: #000;\n  background-color: #000;\n  width: 100%;\n  text-align: left;\n  margin: 0 auto 0 0;\n`;\n\nconst specialAccounts = {\n  \"earn.kaiching\": \"https://cosmose.co\",\n  \"token.sweat\": \"https://sweateconomy.com\",\n  aurora: \"https://aurora.plus\",\n  \"app.nearcrowd.near\": \"https://nearcrowd.com\",\n  \"asset-manager.orderly-network.near\": \"https://orderly.network\",\n};\n\nif (data !== null && data.ok === false) {\n  return (\n    <div className=\"text-bg-light rounded-4 p-3 mb-3\">\n      <p>\n        The component is undergoing essential maintenance. We apologize for any\n        inconvenience this may cause and appreciate your understanding.\n      </p>\n    </div>\n  );\n} else {\n  return (\n    <div className=\"text-bg-light rounded-4 p-3 mb-3\">\n      {data !== null ? (\n        <p>\n          <div class=\"d-flex clearfix flex-wrap flex-column flex-sm-row\">\n            <div class=\"p-2\">\n              <div>TPS Now</div>\n              <StyledHr />\n              <span class=\"text-success h3\">\n                <b>{JSON.parse(data.body.tps).toFixed(0)}</b>\n              </span>\n              <small>in block: </small>\n              <b>{JSON.parse(data.body.tps_block)}</b>\n            </div>\n\n            <div class=\"p-2\">\n              <div>\n                TPS <b>3 Days</b> Peak\n              </div>\n              <StyledHr />\n              <span class=\"text-success h2\">\n                <b>{JSON.parse(data.body.highest_tps).toFixed(0)}</b>\n              </span>\n              <small>in block: </small>\n              <a\n                target=\"_blank\"\n                href={\n                  \"https://nearblocks.io/blocks/\" +\n                  data.body.highest_tps_block_hash\n                }\n              >\n                {JSON.parse(data.body.highest_tps_block)}\n              </a>\n            </div>\n            <div class=\"p-2\">\n              <div>\n                Avg Block Time <b>Now</b>\n              </div>\n              <StyledHr />\n              <small>last 30 seconds</small>\n              <span class=\"text-success h3\">\n                <b>{JSON.parse(data.body.avg_block_time).toFixed(2)}</b> sec\n              </span>\n              <StyledHr />\n              <GridContainer>\n                <div>\n                  <div>1 Day High</div>\n                  <span class=\"h5\">\n                    <b>{JSON.parse(data.body.block_time_high).toFixed(2)}</b>{\" \"}\n                    sec\n                  </span>\n                </div>\n                <div>\n                  <div>1 Day Low</div>\n                  <span class=\"h5\">\n                    <b>{JSON.parse(data.body.block_time_low).toFixed(2)}</b> sec\n                  </span>\n                </div>\n              </GridContainer>\n              <StyledHr />\n            </div>\n          </div>\n          <div class=\"p-2\">\n            Top 5 Accounts\n            <StyledTable>\n              <StyledThead>\n                <StyledTr>\n                  <StyledTh>account/app</StyledTh>\n                  <StyledTh>\n                    TX <small>last 30 mins </small>\n                  </StyledTh>\n                </StyledTr>\n              </StyledThead>\n              <tbody>\n                {data.body.topAccounts.map((account, index) => {\n                  const url = specialAccounts[account.receiver_account_id];\n                  return (\n                    <StyledTr key={index}>\n                      <StyledTd>\n                        {url ? (\n                          <a\n                            href={url}\n                            target=\"_blank\"\n                            rel=\"noopener noreferrer\"\n                            title={account.receiver_account_id}\n                          >\n                            {specialAccounts[account.receiver_account_id]\n                              ? new URL(\n                                  specialAccounts[account.receiver_account_id]\n                                ).hostname\n                              : account.receiver_account_id}{\" \"}\n                          </a>\n                        ) : (\n                          account.receiver_account_id\n                        )}\n                      </StyledTd>\n                      <StyledTd>{account.number_of_transactions}</StyledTd>\n                    </StyledTr>\n                  );\n                })}\n              </tbody>\n            </StyledTable>\n          </div>\n\n          <div class=\"p-2\">\n            <small>\n              widget sponsored by{\" \"}\n              <a\n                target=\"_blank\"\n                style={{ color: \"inherit\" }}\n                variant=\"caption\"\n                rel=\"nofollow\"\n                href=\"https://www.nearweek.com\"\n              >\n                <b>NEARWEEK</b>\n              </a>\n            </small>\n          </div>\n        </p>\n      ) : (\n        <div>Loading ...</div>\n      )}\n    </div>\n  );\n}\n", "metadata": {"fork_of": "denysk.near/widget/NearStats@103503990"}, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/ramgor.near/widget/NearStats", "fact_widget_deployments_id": "2981abf669642bfa073a4026a268c03d", "inserted_timestamp": "2024-03-07T05:24:05.087Z", "modified_timestamp": "2024-03-07T05:24:05.087Z", "__row_index": 0}