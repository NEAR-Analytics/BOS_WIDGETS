{"tx_hash": "9jBy4pRhbHvrF1PmEeL9kXYD7N6kNSEjjbdpehHD6rZ8", "action_id_social": "6cRGxtkKqi63R4LzehhGDDjQfcHR39XWmu9gb744hY8S-0-widget", "block_id": 100884148, "block_timestamp": "2023-09-11T12:38:10.253Z", "signer_id": "ciocan.near", "widget_name": "op-stack-mantle-bridge", "source_code": "const Container = styled.div`\n  display: flex;\n  gap: 8px;\n\n  .side {\n    margin-top: 20px;\n  }\n\n  .w3button button {\n    background-color: #854ce6;\n    color: white;\n    border: none;\n    border-radius: 30px;\n    padding: 12px 15px;\n  }\n`;\n\nconst Layout = styled.div`\n  display: flex;\n  flex-direction: column;\n  .title {\n    margin-left: 20px;\n    color: #666;\n  }\n`;\n\nconst tokens = [\n  // eth testnet assets\n  {\n    address: \"0x0000000000000000000000000000000000000000\",\n    chainId: 5,\n    symbol: \"ETH\",\n    decimals: 18,\n    logoURI: \"https://assets.coingecko.com/coins/images/279/small/ethereum.png\",\n    extensions: {\n      optimismBridgeAddress: \"0xc92470D7Ffa21473611ab6c6e2FcFB8637c8f330\",\n    },\n  },\n  {\n    chainId: 5,\n    address: \"0xc1dC2d65A2243c22344E725677A3E3BEBD26E604\",\n    symbol: \"MNT\",\n    decimals: 18,\n    logoURI: \"https://token-list.mantle.xyz/data/Mantle/logo.svg\",\n    extensions: {\n      optimismBridgeAddress: \"0xc92470D7Ffa21473611ab6c6e2FcFB8637c8f330\",\n    },\n  },\n  {\n    address: \"0x07865c6E87B9F70255377e024ace6630C1Eaa37F\",\n    chainId: 5,\n    symbol: \"USDC\",\n    decimals: 6,\n    logoURI:\n      \"https://assets.coingecko.com/coins/images/6319/small/USD_Coin_icon.png\",\n    extensions: {\n      optimismBridgeAddress: \"0xc92470D7Ffa21473611ab6c6e2FcFB8637c8f330\",\n    },\n  },\n  // eth mainnet assets\n  {\n    address: \"0x0000000000000000000000000000000000000000\",\n    chainId: 1,\n    symbol: \"ETH\",\n    decimals: 18,\n    logoURI: \"https://assets.coingecko.com/coins/images/279/small/ethereum.png\",\n    extensions: {\n      optimismBridgeAddress: \"0x95fC37A27a2f68e3A647CDc081F0A89bb47c3012\",\n    },\n  },\n  {\n    chainId: 1,\n    address: \"0x3c3a81e81dc49a522a592e7622a7e711c06bf354\",\n    name: \"Mantle\",\n    symbol: \"MNT\",\n    decimals: 18,\n    logoURI: \"https://token-list.mantle.xyz/data/Mantle/logo.svg\",\n    extensions: {\n      optimismBridgeAddress: \"0x95fC37A27a2f68e3A647CDc081F0A89bb47c3012\",\n    },\n  },\n  {\n    address: \"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48\",\n    chainId: 1,\n    symbol: \"USDC\",\n    decimals: 6,\n    logoURI:\n      \"https://assets.coingecko.com/coins/images/6319/small/USD_Coin_icon.png\",\n    extensions: {\n      optimismBridgeAddress: \"0x95fC37A27a2f68e3A647CDc081F0A89bb47c3012\",\n    },\n  },\n  // mantle testnet assets\n  {\n    chainId: 5001,\n    address: \"0xdEAddEaDdeadDEadDEADDEAddEADDEAddead1111\",\n    symbol: \"ETH\",\n    decimals: 18,\n    logoURI: \"https://token-list.mantle.xyz/data/ETH/logo.svg\",\n    extensions: {\n      optimismBridgeAddress: \"0x4200000000000000000000000000000000000010\",\n    },\n  },\n  {\n    chainId: 5001,\n    address: \"0xDeadDeAddeAddEAddeadDEaDDEAdDeaDDeAD0000\",\n    symbol: \"MNT\",\n    decimals: 18,\n    logoURI: \"https://token-list.mantle.xyz/data/Mantle/logo.svg\",\n    extensions: {\n      optimismBridgeAddress: \"0x4200000000000000000000000000000000000010\",\n    },\n  },\n  {\n    chainId: 5001,\n    address: \"0x2ED3c15eC59CE827c4aBBabfF76d37562558437D\",\n    name: \"USD Coin\",\n    symbol: \"USDC\",\n    decimals: 6,\n    logoURI: \"https://token-list.mantle.xyz/data/USDC/logo.png\",\n    extensions: {\n      optimismBridgeAddress: \"0x4200000000000000000000000000000000000010\",\n    },\n  },\n  // mantle assets\n  {\n    chainId: 5000,\n    address: \"0xdEAddEaDdeadDEadDEADDEAddEADDEAddead1111\",\n    name: \"Ether\",\n    symbol: \"ETH\",\n    decimals: 18,\n    logoURI: \"https://token-list.mantle.xyz/data/ETH/logo.svg\",\n    extensions: {\n      optimismBridgeAddress: \"0x4200000000000000000000000000000000000010\",\n    },\n  },\n  {\n    chainId: 5000,\n    address: \"0xDeadDeAddeAddEAddeadDEaDDEAdDeaDDeAD0000\",\n    name: \"Mantle\",\n    symbol: \"MNT\",\n    decimals: 18,\n    logoURI: \"https://token-list.mantle.xyz/data/Mantle/logo.svg\",\n    extensions: {\n      optimismBridgeAddress: \"0x4200000000000000000000000000000000000010\",\n    },\n  },\n  {\n    chainId: 5000,\n    address: \"0x09Bc4E0D864854c6aFB6eB9A9cdF58aC190D0dF9\",\n    symbol: \"USDC\",\n    decimals: 6,\n    logoURI: \"https://token-list.mantle.xyz/data/USDC/logo.png\",\n    extensions: {\n      optimismBridgeAddress: \"0x4200000000000000000000000000000000000010\",\n    },\n  },\n];\n\nconst MAX_AMOUNT =\n  \"0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff\";\n\nState.init({\n  gasLimit: ethers.BigNumber.from(\"300000\"),\n  isToastOpen: false,\n});\n\nconst {\n  chainId,\n  name,\n  isContractAllowedToSpendToken,\n  variant,\n  title,\n  description,\n  isToastOpen,\n} = state;\nconst isMainnet = chainId === 1 || chainId === 1101;\n\nconst onOpenChange = (v) => {\n  State.update({\n    isToastOpen: false,\n  });\n};\n\nconst provider = Ethers.provider();\nconst sender = Ethers.send(\"eth_requestAccounts\", [])[0];\n\nif (sender) {\n  Ethers.provider()\n    .getNetwork()\n    .then(({ chainId }) => {\n      State.update({ chainId });\n    });\n}\n\nconst handleBridge = (props) => {\n  console.log(\"handleBridge\", props);\n};\n\nconst onConfirm = (props) => {\n  console.log(\"onConfirm\", props);\n};\n\nconst onChangeAmount = (props) => {\n  console.log(\"onChangeAmount\", props);\n  setIsContractAllowedToSpendToken(props);\n};\n\nconst onUpdateToken = (props) => {\n  console.log(\"onUpdateToken\", props);\n  setIsContractAllowedToSpendToken(props);\n  setName(props.token);\n  setNonce(props);\n};\n\nif (!sender) {\n  return (\n    <Container>\n      <div className=\"w3button\">\n        <Web3Connect connectLabel=\"Connect to a wallet\" />\n      </div>\n    </Container>\n  );\n}\n\nreturn (\n  <Layout>\n    <div class=\"title\">\n      <h5>Mantle Bridge</h5>\n    </div>\n    <Container>\n      <Widget\n        src=\"ciocan.near/widget/op-stack-bridge-ui\"\n        props={{ onConfirm, onUpdateToken, onChangeAmount, tokens }}\n      />\n      <Widget\n        src=\"ciocan.near/widget/toast\"\n        props={{ open: isToastOpen, variant, title, description, onOpenChange }}\n      />\n    </Container>\n  </Layout>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/ciocan.near/widget/op-stack-mantle-bridge", "fact_widget_deployments_id": "24ba79a7294a42dbee640c001a63de0d", "inserted_timestamp": "2023-09-11T14:35:59.938Z", "modified_timestamp": "2023-09-11T14:35:59.938Z", "__row_index": 0}