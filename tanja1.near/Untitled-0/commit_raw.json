{"tx_hash": "AgAXVJUZyAfy2iZToMQHvH5vtmszJiDRrxT2J9FWNzrH", "action_id_social": "2Nx22aLqQy2b9yrx9kyBMKHXvjqsuMwcDqiGzQh9PFHt-0-widget", "block_id": 108492598, "block_timestamp": "2023-12-21T16:51:57.065Z", "signer_id": "tanja1.near", "widget_name": "Untitled-0", "source_code": null, "metadata": null, "branch": {"draft": {"": "https://codeshare.io/N3D83l\r\n\r\nconst accountId = props.accountId || context.accountId;\r\nconst contractId = \"wearedevs.near\";\r\n\r\nState.init({\r\n  messages: [],\r\n  status: null,\r\n});\r\n\r\nconst getMessages = () => {\r\n  const messages = Near.view(contractId, \"get_all_statuses\", null);\r\n  State.update({\r\n    messages,\r\n  });\r\n};\r\n\r\nconst postMessage = () => {\r\n  if (!accountId) return;\r\n\r\n  if (state.status === null || state.status == \"\") return;\r\n\r\n  Near.call(contractId, \"set_status\", {\r\n    message: state.status,\r\n  });\r\n\r\n  getMessages();\r\n};\r\n\r\ngetMessages();\r\n\r\nconst content = (\r\n  <div>\r\n    <div className=\"hero min-h-screen bg-base-200\">\r\n      <div className=\"hero-content text-center\">\r\n        <div className=\"max-w-md\">\r\n          <img\r\n            src=\"https://ipfs.near.social/ipfs/bafkreibws2ze7ozldmqqpg7762pj2rkssw4qplrfbo7qzay3o3npcxvneu\"\r\n            alt=\"Header logo\"\r\n            className=\"mb-4\"\r\n          />\r\n          <h1 className=\"text-5xl font-bold text-base-content\">BOS workshop</h1>\r\n          <p className=\"mb-4 text-base-content\">\r\n            Welcome to the status board, feel free to update your status for\r\n            others to see.\r\n          </p>\r\n          <p className=\"mb-4 text-base-content\">\r\n            You are logged in as <b>{accountId}</b>\r\n          </p>\r\n          <div className=\"my-2\">\r\n            <textarea\r\n              placeholder=\"Your status\"\r\n              className=\"textarea textarea-bordered textarea-lg w-full max-w-xs\"\r\n              value={state.status}\r\n              onChange={({ target: { value } }) =>\r\n                State.update({ status: value })\r\n              }\r\n            ></textarea>\r\n          </div>\r\n          <button className=\"btn btn-primary mb-4\" onClick={postMessage}>\r\n            Post status\r\n          </button>\r\n\r\n          <div className=\"my-4\">\r\n            {state.messages.map((status) => (\r\n              <div className=\"card bg-base-100 shadow-xl mb-4\">\r\n                <div className=\"card-body\">\r\n                  <h2 className=\"card-title text-base-content\">\r\n                    {status.message}\r\n                  </h2>\r\n                  <p className=\"text-left text-base-content\">\r\n                    {status.account_id}\r\n                  </p>\r\n                </div>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n);\r\n\r\nreturn (\r\n  <Widget\r\n    src=\"igris.near/widget/DaisyUIWrapper\"\r\n    props={{ children: content, daisyUiTheme: \"dark\" }}\r\n  />\r\n);\r\n\r\n"}}, "widget_modules_used": null, "widget_url": "https://near.social/#/tanja1.near/widget/Untitled-0", "fact_widget_deployments_id": "272f3b1a88c55401fd982c2ffea06654", "inserted_timestamp": "2024-03-07T05:24:05.087Z", "modified_timestamp": "2024-03-07T05:24:05.087Z", "__row_index": 6}