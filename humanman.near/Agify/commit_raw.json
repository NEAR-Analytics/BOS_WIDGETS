{"tx_hash": "GER5yA9FizNNo8Tidpcup4KcBVvC4QpRQ6bzXiTEYYb7", "action_id_social": "3faDEbiucFDnrmYUHVsmMRzzKofULouR5mzbAtpqNiH8-0-widget", "block_id": 81088984, "block_timestamp": "2022-12-20T17:21:20.070Z", "signer_id": "humanman.near", "widget_name": "Agify", "source_code": "const accountId = context.accountId;\nconst api = \"https://api.agify.io/?name=\";\nif (!accountId) {\n  return \"Please sign in with NEAR wallet to use this widget\";\n}\n\nfunction parseName(accountId) {\n  const name = accountId.split(/.near/)[0];\n  console.log(name);\n  return name;\n}\nconst nameParam = parseName(accountId);\nconst res = fetch(`${api}${nameParam}`);\nconst age = res.body.age;\n\nconst styles = {\n  h1: {\n    color: \"gray\",\n    \"text-align\": \"center\",\n    \"font-weight\": \"bold\",\n  },\n  h2: {\n    color: \"green\",\n    \"text-align\": \"center\",\n    \"font-weight\": \"bold\",\n  },\n  p: {\n    \"text-align\": \"center\",\n  },\n  sm: {\n    \"text-align\": \"center\",\n  },\n  span: {\n    \"text-decoration\": \"underline\",\n  },\n};\n\nif (context.loading) {\n  return \"Loading\";\n}\n\nreturn (\n  <div>\n    <h1 style={styles.h1}>Agify</h1>\n    <p style={styles.p}>\n      This widget guesses your age based on your account name\n    </p>\n    <br />\n    <h2 style={styles.h2}>\n      your age, {nameParam}, is: <span style={styles.span}>{age}!</span>\n    </h2>\n    <br />\n    <br />\n    <p style={styles.p}>\n      <small style={styles.sm}>powered by agify api</small>\n    </p>\n  </div>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/humanman.near/widget/Agify", "fact_widget_deployments_id": "05f9f0aa37a4636d506ce5e7d47cac28", "inserted_timestamp": "2000-01-01T00:00:00.000Z", "modified_timestamp": "2000-01-01T00:00:00.000Z", "__row_index": 0}