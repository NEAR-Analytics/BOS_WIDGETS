{"tx_hash": "4TzREXm1GPxxCdLPzgbYkFvjHLeSgse3sSVwzkydFhTq", "action_id_social": "2m8cKPGa4a1hPYA31SHDbfvk5s3jVkp3KmfRUU8bsBrJ-0-widget", "block_id": 107686493, "block_timestamp": "2023-12-11T14:58:30.182Z", "signer_id": "ahmadbug.near", "widget_name": "ExpenseForm", "source_code": "const [description, setDescription] = useState(\"\");\nconst [amount, setAmount] = useState(\"\");\nconst [category, setCategory] = useState(\"\");\n\n// Simple keyword-based categorization\nconst categorizeExpense = (description) => {\n  const keywordsToCategories = {\n    food: [\"groceries\", \"restaurant\", \"food\"],\n    utilities: [\"electricity\", \"water\", \"internet\", \"utilities\"],\n    entertainment: [\"movies\", \"books\", \"games\", \"entertainment\"],\n    travel: [\"airfare\", \"hotel\", \"transportation\", \"travel\"],\n    others: [\"miscellaneous\", \"others\"],\n  };\n\n  for (const [cat, keywords] of Object.entries(keywordsToCategories)) {\n    if (\n      keywords.some((keyword) => description.toLowerCase().includes(keyword))\n    ) {\n      return cat;\n    }\n  }\n\n  return \"others\"; // Default category if no match\n};\n\nconst handleSubmit = (e) => {\n  e.preventDefault();\n  if (!description || !amount) return;\n\n  // Categorize the expense based on the description\n  const expenseCategory = categorizeExpense(description);\n\n  const newExpense = {\n    id: Date.now(),\n    description,\n    amount: parseFloat(amount),\n    category: category || expenseCategory,\n  };\n\n  onAddExpense(newExpense);\n\n  // Reset form fields\n  setDescription(\"\");\n  setAmount(\"\");\n  setCategory(\"\");\n};\n\nreturn (\n  <div onSubmit={handleSubmit} className=\"form-ex\">\n    <br />\n    <div className=\"form-input\">\n      <label>\n        Description:\n        <textarea\n          type=\"text\"\n          value={description}\n          onChange={(e) => setDescription(e.target.value)}\n        />\n      </label>\n      <label>\n        Amount:\n        <input\n          type=\"number\"\n          value={amount}\n          onChange={(e) => setAmount(e.target.value)}\n        />\n      </label>\n      <label>\n        Category:\n        <input\n          type=\"text\"\n          value={category}\n          onChange={(e) => setCategory(e.target.value)}\n        />\n      </label>\n    </div>\n    <br />\n    <button type=\"submit\" className=\"btn-submit\">\n      Add Expense\n    </button>\n  </div>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/ahmadbug.near/widget/ExpenseForm", "fact_widget_deployments_id": "ac322ce8d3dfb7b4110c69e4b076edc8", "inserted_timestamp": "2024-03-07T05:24:05.087Z", "modified_timestamp": "2024-03-07T05:24:05.087Z", "__row_index": 0}