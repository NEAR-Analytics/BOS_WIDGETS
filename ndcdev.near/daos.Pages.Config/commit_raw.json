{"tx_hash": "ETgeRbpERjGR7eZDAMNMQKmhbVf4XEnEe7ZMDWNeBBcr", "action_id_social": "vbN4g3if7TVmuWovH177FeGxtp2WDMFSRBdYhqKxHaD-0-widget", "block_id": 115035038, "block_timestamp": "2024-03-19T17:24:17.688Z", "signer_id": "ndcdev.near", "widget_name": "daos.Pages.Config", "source_code": "const config = Social.get(`ndcdev.near/widget/daos.Config`);\n\nif (!config) return <Widget src=\"flashui.near/widget/Loading\" />;\nconst [user, widget, name] = `ndcdev.near/widget/daos.Config`.split(\"/\");\nconst [value, setValue] = useState(config);\n\nconst Container = styled.div`\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n`;\n\nconst Wrapper = styled.div`\n  width: 100%;\n  height: 65vh;\n  margin-bottom: 5rem;\n  display: flex;\n  gap: 1rem;\n  flex-direction: column;\n  justify-content: space-between;\n\n  textarea {\n    font-family: monospace;\n    font-size: 12px;\n  }\n`;\n\nconst handleSave = () => {\n  if (user !== context.accountId) return;\n\n  Social.set({\n    [widget]: {\n      [name]: {\n        \"\": value,\n      },\n    },\n  });\n};\n\nreturn (\n  <Container>\n    <Wrapper>\n      <h2>Global DAOs Config File</h2>\n\n      {user !== context.accountId && (\n        <small>\n          <i className=\"bi bi-info-circle\" />\n          <i>\n            Config editing available only for Admin account (<b>{user}</b>)\n          </i>\n        </small>\n      )}\n\n      <textarea\n        className=\"w-100 h-100\"\n        defaultValue={config}\n        value={value}\n        onChange={(e) => setValue(e.target.value)}\n      ></textarea>\n\n      <button\n        className=\"btn btn-primary\"\n        onClick={handleSave}\n        disabled={user !== context.accountId}\n      >\n        Edit Config\n        <i className=\"bi bi-pencil\" />\n      </button>\n    </Wrapper>\n  </Container>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/ndcdev.near/widget/daos.Pages.Config", "fact_widget_deployments_id": "b2176e57dbe8c5a85a7c747df0f0bf74", "inserted_timestamp": "2024-03-19T19:30:00.341Z", "modified_timestamp": "2024-03-19T19:30:00.341Z", "__row_index": 0}