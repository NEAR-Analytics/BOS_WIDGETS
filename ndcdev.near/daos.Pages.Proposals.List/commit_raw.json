{"tx_hash": "689BE8VC6HxbZmxoQgDNW9WoiNQp94PGxcPzmwE7AQSN", "action_id_social": "87EUu3eBuSx3ZVHJAY1akb7iq7bEaAD24WrRCm4zjSeC-0-widget", "block_id": 113168002, "block_timestamp": "2024-02-19T17:50:33.882Z", "signer_id": "ndcdev.near", "widget_name": "daos.Pages.Proposals.List", "source_code": "let { contractName } = VM.require(`ndcdev.near/widget/daos.Config`);\n\nif (!contractName) return <Widget src=\"flashui.near/widget/Loading\" />;\n\nlet { id, daoId, type } = props;\ndaoId = daoId ?? 1;\n\nconst Container = styled.div`\n  width: 100%;\n  height: max-content;\n  padding: 3rem;\n\n  @media screen and (max-width: 786px) {\n    padding: 1rem;\n  }\n`;\n\n// const items = Near.view(contractName, \"get_all_posts\", {\n//   page: 0,\n//   limit: 100,\n// });\n\nconst items = Near.view(contractName, \"get_dao_posts\", {\n  dao_id: parseInt(daoId),\n  status: \"InReview\",\n});\n\nif (!items) return <Widget src=\"flashui.near/widget/Loading\" />;\n\nreturn (\n  <Container>\n    {daoId && (\n      <>\n        <div className=\"mb-4\">\n          <a\n            style={{ background: \"#A4C2FD\" }}\n            className=\"btn-primary\"\n            href={`/ndcdev.near/widget/daos.App?page=create_proposal&daoId=${daoId}`}\n          >\n            <span style={{ fontSize: \"24px\", width: \"20%\", margin: \"auto\" }}>\n              CREATE POST\n            </span>\n          </a>\n        </div>\n        <div className=\"d-flex flex-column gap-4\">\n          {items &&\n            items\n              .filter((i) => i.post_type === type)\n              .map((item, index) => (\n                <Widget\n                  src=\"ndcdev.near/widget/daos.Components.Item\"\n                  props={{ item, index, type }}\n                />\n              ))}\n        </div>\n      </>\n    )}\n  </Container>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/ndcdev.near/widget/daos.Pages.Proposals.List", "fact_widget_deployments_id": "c81e14c15e569e0317b1773ccbc9172b", "inserted_timestamp": "2024-03-07T05:24:05.087Z", "modified_timestamp": "2024-03-07T05:24:05.087Z", "__row_index": 0}