{"tx_hash": "EHWcxW7ybZmdgnHgH3KLTogqYvmoAhL2AeAjUc7hmvc6", "action_id_social": "5EiyyiiPDkEhKRrn2e9XNQKEjAGsqxtLZVwGQfYVcUXv-0-widget", "block_id": 115714422, "block_timestamp": "2024-03-29T11:20:43.464Z", "signer_id": "ndcdev.near", "widget_name": "daos-staging.Components.Comment", "source_code": "const {\n  dao,\n  comment,\n  isLikedByMe,\n  showReply,\n  setShowReply,\n  handleLike,\n  handleSpam,\n  isPreview,\n  postId,\n} = props;\n\nconst Body = styled.div`\n  padding: 0rem 1rem;\n  @media screen and (max-width: 786px) {\n    padding-bottom: 50px;\n  }\n`;\n\nconst Content = styled.div`\n  .datetime {\n    font-style: italic;\n    font-size: 12px;\n  }\n`;\n\nconst Actions = styled.div`\n  display: flex;\n  align-items: center;\n  gap: 25px;\n  margin: -3px 0 10px 0;\n\n  a:hover {\n    text-decoration: none;\n  }\n\n  @media screen and (max-width: 786px) {\n    justify-content: space-between;\n    gap: 5px;\n  }\n`;\n\nconst Post = styled.div`\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  margin-left: 1rem;\n  padding-left: 1rem;\n  border-left: 2px solid rgb(241 241 241);\n`;\n\nconst Header = styled.div`\n  margin-bottom: 0;\n  display: inline-flex;\n  width: 100%;\n\n  a:hover {\n    text-decoration: none;\n  }\n`;\n\nconst formatDate = (timestamp) => {\n  const date = new Date(parseInt(timestamp) / 1000000);\n\n  return `${date.toLocaleDateString()}, ${date.getHours()}:${date.getMinutes()}`;\n};\n\nreturn (\n  <>\n    <Header>\n      <div className=\"mt-3 d-flex w-100 gap-3 align-items-center\">\n        <Widget\n          src=\"near/widget/AccountProfile\"\n          props={{\n            accountId: comment.author_id,\n            hideAccountId: true,\n          }}\n        />\n        {comment.author_id === context.accountId && (\n          <a\n            href={`https://near.org/ndcdev.near/widget/daos.App?page=comments&post_id=${postId}&comment_id=${comment.id}&edit=true`}\n          >\n            <i className=\"ph blue ph-pencil-simple\" />\n          </a>\n        )}\n      </div>\n    </Header>\n    <Post>\n      <Body>\n        <Content>\n          <div className=\"datetime d-flex gap-2 mb-2 mt-1 align-items-center justify-content-between text-secondary\">\n            Updated at: {formatDate(comment.snapshot.timestamp)}\n          </div>\n          <Widget\n            src={\"ndcdev.near/widget/daos-staging.Components.MarkdownViewer\"}\n            props={{ text: comment.snapshot.description }}\n          />\n          <Widget\n            src={\"ndcdev.near/widget/daos-staging.Components.Attachment\"}\n            props={{ attachments: comment.snapshot.attachments }}\n          />\n        </Content>\n\n        {!isPreview && (\n          <Actions>\n            <div\n              role=\"button\"\n              className=\"d-flex gap-1 align-items-center\"\n              onClick={() => {\n                if (isLikedByMe(comment)) return;\n                handleLike(comment.id);\n              }}\n            >\n              <i\n                className={`blue ph-heart fs-6 ${\n                  isLikedByMe(comment) ? \"ph-fill \" : \"ph\"\n                }`}\n              />\n              <small className=\"blue\">{comment.likes.length}</small>\n            </div>\n            <Link\n              className=\"d-flex gap-1 align-items-center\"\n              to={`/ndcdev.near/widget/daos-staging.App?page=comments&post_id=${postId}&comment_id=${comment.id}`}\n            >\n              <i className={\"blue ph ph-chat-circle fs-6\"} />\n              <small className=\"blue\">{comment.child_comments.length}</small>\n            </Link>\n\n            <Widget\n              src={\"ndcdev.near/widget/daos-staging.Components.Clipboard\"}\n              props={{\n                text: `https://near.org/ndcdev.near/widget/daos.App?page=comments&post_id=${postId}&comment_id=${comment.id}`,\n              }}\n            />\n            {dao.owners.includes(context.accountId) && (\n              <div role=\"button\" onClick={() => handleSpam(comment)}>\n                <i\n                  className={`ph-flag fs-6 ${\n                    comment.snapshot.is_spam ? \"red ph-fill\" : \"blue ph\"\n                  }`}\n                />\n              </div>\n            )}\n          </Actions>\n        )}\n      </Body>\n    </Post>\n  </>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/ndcdev.near/widget/daos-staging.Components.Comment", "fact_widget_deployments_id": "00ad1f1d9d5bab733d0b76d64553b9dd", "inserted_timestamp": "2024-03-29T12:35:00.532Z", "modified_timestamp": "2024-03-29T13:29:16.475Z", "__row_index": 1}