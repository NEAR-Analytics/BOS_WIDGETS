{"tx_hash": "b6Rwwgm1tVJMigqBKu4SeHjs9no1ChgUY538GCkkYWZ", "action_id_social": "3TvCq6GNBy8DFWtW7YVMbndJxaV4iyGhTq8VHL9HNG7n-0-widget", "block_id": 109187850, "block_timestamp": "2023-12-30T22:17:55.639Z", "signer_id": "ndcdev.near", "widget_name": "MDAO.Pages.Proposals.List", "source_code": "let { assets, content } = VM.require(`ndcdev.near/widget/MDAO.Config`);\nassets = assets.home;\ncontent = content.home;\n\nconst Container = styled.div`\n  width: 100%;\n  height: max-content;\n  padding: 3rem;\n\n  @media screen and (max-width: 786px) {\n    padding: 1rem;\n  }\n`;\n\nconst Card = styled.div`\n  border-radius: 10px;\n  background: #fff;\n  box-shadow: 0px 30px 80px 0px rgba(0, 0, 0, 0.1);\n  padding: 2rem 3rem;\n\n  h3 {\n    font-size: 24px;\n    font-style: normal;\n    font-weight: 600;\n    margin: 10px 0;\n  }\n\n  p {\n    font-size: 14px;\n  }\n\n  .metric {\n    border-radius: 10px;\n    height: 80px;\n    width: 120px;\n    background: linear-gradient(\n      258deg,\n      rgba(162, 195, 254, 0.5) 0%,\n      rgba(225, 197, 252, 0.5) 28.72%,\n      rgba(241, 220, 210, 0.5) 100%\n    );\n    @media screen and (max-width: 786px) {\n      width: 100%;\n    }\n  }\n\n  .info {\n    display: flex;\n    align-items: center;\n  }\n\n  .actions {\n    margin-top: 1rem;\n    gap: 3rem;\n\n    @media screen and (max-width: 786px) {\n      gap: 0;\n      justify-content: space-between;\n    }\n  }\n\n  .tag {\n    border-radius: 50px;\n    background: #a4c2fd;\n    width: 140px;\n    padding: 2px 0;\n    text-align: center;\n    color: white;\n  }\n\n  @media screen and (max-width: 786px) {\n    padding: 1.5rem;\n  }\n`;\n\nconst Button = styled.a`\n  border-radius: 10px;\n  background: #151718;\n  color: white !important;\n  text-decoration: none;\n  display: flex;\n  gap: 1rem;\n  box-shadow: 0px 20px 30px 0px rgba(0, 0, 0, 0.25);\n  padding: 10px 40px 10px 25px;\n\n  &:hover {\n    text-decoration: none;\n  }\n`;\n\nconst items = Social.index(\"graph\", \"ndc.mdao\", { order: \"desc\" });\nconst [showMore, setShowMore] = useState(null);\n\nconst CardItem = ({ item, index }) => (\n  <Card key={index} className=\"d-flex flex-column gap-3\">\n    <Widget\n      src=\"mob.near/widget/Profile\"\n      props={{\n        accountId: item.accountId,\n        tooltip: true,\n      }}\n    />\n    <div className=\"d-flex flex-column gap-1\">\n      <h3>{item.project_name}</h3>\n      <div className=\"d-flex flex-column gap-1\">\n        {item.type === \"proposal\" && (\n          <div className=\"info\">\n            <small style={{ width: \"150px\" }}>Requested amount:</small>\n            <small>{item.requested_amount ?? 0} NEAR</small>\n          </div>\n        )}\n        <div className=\"info\">\n          <small style={{ width: \"150px\" }}>Requested sponsor:</small>\n          <div className=\"d-flex align-items-center gap-1\">\n            <small>\n              <Widget\n                src=\"mob.near/widget/ProfileImage\"\n                props={{\n                  accountId: content.daoAccountId,\n                  style: { height: \"20px\", width: \"20px\" },\n                }}\n              />\n            </small>\n            <small>{content.dao}</small>\n          </div>\n        </div>\n        {item.attachments && (\n          <div className=\"info\">\n            <small style={{ width: \"150px\" }}>Attachments:</small>\n            <small>\n              <a href={item.attachments} download>\n                <i className=\"bi bi-download\" />\n                Download File\n              </a>\n            </small>\n          </div>\n        )}\n        {item.contact && (\n          <div className=\"info\">\n            <small style={{ width: \"150px\" }}>Contact telegram:</small>\n            <small>{item.contact}</small>\n          </div>\n        )}\n      </div>\n    </div>\n    <small>\n      <div\n        role=\"button\"\n        className=\"d-flex gap-2 align-items-center\"\n        onClick={() => setShowMore(showMore === index ? null : index)}\n      >\n        <i\n          className={`fs-5 bi ${\n            showMore === index ? \"bi-eye-slash\" : \"bi-eye\"\n          }`}\n        />\n        <b>See more</b>\n      </div>\n    </small>\n    {showMore === index && (\n      <>\n        {item.type === \"report\" ? (\n          <>\n            <div>\n              <small>\n                <b>Metrics</b>\n              </small>\n              <div className=\"d-flex flex-wrap gap-2\">\n                <div className=\"metric d-flex flex-column justify-content-center align-items-center\">\n                  <small>Audience</small>\n                  <b>{item[\"metric:audience\"]}%</b>\n                </div>\n                <div className=\"metric d-flex flex-column justify-content-center align-items-center\">\n                  <small>AER</small>\n                  <b>{item[\"metric:average_engagement_rate\"]}%</b>\n                </div>\n                <div className=\"metric d-flex flex-column justify-content-center align-items-center\">\n                  <small>Growth</small>\n                  <b>{item[\"metric:growth\"]}%</b>\n                </div>\n              </div>\n            </div>\n            <div>\n              <small>\n                <b>\n                  Performance Statement: What is the biggest win (most improved\n                  part of project) during this funding period vs. the previous\n                  one (if applicable)?\n                </b>\n              </small>\n              <Widget\n                src=\"mob.near/widget/SocialMarkdown\"\n                props={{ text: item[\"performance_statement:answer_1\"] }}\n              />\n            </div>\n            <div>\n              <small>\n                <b>\n                  Performance statement: What is the biggest challenge your\n                  project is facing? What did not improve during this funding\n                  period?\n                </b>\n              </small>\n              <Widget\n                src=\"mob.near/widget/SocialMarkdown\"\n                props={{ text: item[\"performance_statement:answer_2\"] }}\n              />\n            </div>\n          </>\n        ) : (\n          <div>\n            <Widget\n              src=\"mob.near/widget/SocialMarkdown\"\n              props={{ text: item.description }}\n            />\n          </div>\n        )}\n      </>\n    )}\n\n    {item.tag && (\n      <div className=\"d-flex flex-wrap gap-2\">\n        {item.tag?.map((tag) => (\n          <div className=\"tag\">{tag}</div>\n        ))}\n      </div>\n    )}\n    <div className=\"actions d-flex\">\n      <div className=\"d-flex gap-2\">\n        <i className=\"bi bi-heart\" /> Like\n      </div>\n      <div className=\"d-flex gap-2\">\n        <i className=\"bi bi-reply\" /> Reply\n      </div>\n      <div className=\"d-flex gap-2\">\n        <i className=\"bi bi-share\" /> Share\n      </div>\n    </div>\n  </Card>\n);\n\nreturn (\n  <Container>\n    <h1>{items[0].value.type === \"proposal\" ? \"Proposals\" : \"Reports\"} List</h1>\n    <div className=\"d-flex justify-content-end mb-4\">\n      <Button href=\"/ndcdev.near/widget/MDAO.App?page=createProposal\">\n        <i className=\"bi bi-plus-circle\" />\n        Post\n      </Button>\n    </div>\n    <div className=\"d-flex flex-column gap-4\">\n      {items &&\n        items\n          .filter((i) => i.value.type === props.type)\n          .map((item, index) => <CardItem item={item.value} index={index} />)}\n    </div>\n  </Container>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/ndcdev.near/widget/MDAO.Pages.Proposals.List", "fact_widget_deployments_id": "b5687ea8b36925ac124c03ce082ef623", "inserted_timestamp": "2024-03-07T05:24:05.087Z", "modified_timestamp": "2024-03-07T05:24:05.087Z", "__row_index": 8}