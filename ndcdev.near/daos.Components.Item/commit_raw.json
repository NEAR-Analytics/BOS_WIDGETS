{"tx_hash": "689BE8VC6HxbZmxoQgDNW9WoiNQp94PGxcPzmwE7AQSN", "action_id_social": "87EUu3eBuSx3ZVHJAY1akb7iq7bEaAD24WrRCm4zjSeC-0-widget", "block_id": 113168002, "block_timestamp": "2024-02-19T17:50:33.882Z", "signer_id": "ndcdev.near", "widget_name": "daos.Components.Item", "source_code": "const { item, index, showMoreDefault, showRepliesDefault } = props;\nlet { assets } = VM.require(`ndcdev.near/widget/daos.Config`);\nassets = assets.home;\n\nconst Container = styled.div`\n  width: 100%;\n  height: max-content;\n  padding: 3rem;\n\n  @media screen and (max-width: 786px) {\n    padding: 1rem;\n  }\n`;\n\nconst Card = styled.div`\n  border-radius: 10px;\n  background: #fff;\n  box-shadow: 0px 30px 80px 0px rgba(0, 0, 0, 0.1);\n  padding: 2rem 3rem;\n\n  h3 {\n    font-size: 24px;\n    font-style: normal;\n    font-weight: 600;\n    margin: 10px 0;\n  }\n\n  p {\n    font-size: 14px;\n  }\n\n  .metric {\n    border-radius: 10px;\n    height: 80px;\n    width: 120px;\n    background: linear-gradient(\n      258deg,\n      rgba(162, 195, 254, 0.5) 0%,\n      rgba(225, 197, 252, 0.5) 28.72%,\n      rgba(241, 220, 210, 0.5) 100%\n    );\n    @media screen and (max-width: 786px) {\n      width: 100%;\n    }\n  }\n\n  .info {\n    display: flex;\n    align-items: center;\n  }\n\n  .actions {\n    margin-top: 1rem;\n    gap: 3rem;\n\n    @media screen and (max-width: 786px) {\n      gap: 0;\n      justify-content: space-between;\n    }\n  }\n\n  .tag {\n    border-radius: 50px;\n    background: #a4c2fd;\n    min-width: 140px;\n    width: max-content;\n    padding: 4px 15px;\n    font-size: 14px;\n    text-align: center;\n    color: white;\n  }\n\n  @media screen and (max-width: 786px) {\n    padding: 1.5rem;\n  }\n\n  :hover {\n    background: #ffffff;\n  }\n`;\n\nconst Replies = styled.div`\n  border-top: 1px solid #efefef;\n  padding-top: 1rem;\n`;\n\nconst ProposalContent = styled.div`\n  display: flex;\n  justify-content: space-around;\n  align-items: center;\n  margin-left: auto;\n  height: 40px;\n  width: 180px;\n  padding: 10px;\n  background-color: #a4c2fd1a;\n  border-radius: 18px;\n  color: #686467;\n  span {\n    font-size: 14px;\n    font-style: normal;\n    font-weight: 400;\n    line-height: normal;\n  }\n`;\n\nconst CardContainer = styled.div`\n  padding: 3px;\n  :hover {\n    position: relative;\n    border-radius: 10px;\n    background: linear-gradient(\n      270deg,\n      #efdcd1 -1.69%,\n      #e0c6f7 43.78%,\n      #adc3fb 99.83%\n    );\n  }\n`;\n\nconst [showMore, setShowMore] = useState(showMoreDefault);\nconst [showReply, setShowReply] = useState(showRepliesDefault);\nconst [copiedShareUrl, setCopiedShareUrl] = useState(false);\nconst pageName = props.type === \"report\" ? \"reports\" : \"proposals\";\nconst [replies, setReplies] = useState([]);\n\nconst handleLike = () => {};\n\nconst CardItem = ({ item, index }) => (\n  <CardContainer>\n    <Card key={index} className=\"d-flex flex-column gap-3\">\n      <div className=\"d-flex justify-content-between\">\n        <Widget\n          src=\"mob.near/widget/Profile\"\n          props={{\n            accountId: item.editor_id,\n            tooltip: true,\n          }}\n        />\n        <div className=\"d-flex gap-3 align-items-center justify-content-between\">\n          <small>\n            {new Date(item.timestamp / 1000000).toLocaleDateString()}\n          </small>\n          <Widget\n            src={\"ndcdev.near/widget/daos.Components.Clipboard\"}\n            props={{\n              text: `https://near.org/ndcdev.near/widget/daos.App?page=${pageName}&id=${item.id}`,\n            }}\n          />\n        </div>\n      </div>\n      <div className=\"d-flex flex-column gap-1\">\n        <h3>{item.title}</h3>\n        <div className=\"d-flex flex-column gap-1\">\n          {item.post_type === \"Proposal\" && (\n            <div className=\"info\">\n              <small style={{ width: \"150px\" }}>Requested amount:</small>\n              <small>{item.requested_amount ?? 0} USD</small>\n            </div>\n          )}\n          <div className=\"info\">\n            <small style={{ width: \"150px\" }}>Requested sponsor:</small>\n            <div className=\"d-flex align-items-center gap-1\">\n              <small>\n                <Widget\n                  src=\"mob.near/widget/ProfileImage\"\n                  props={{\n                    accountId: item.editor_id,\n                    style: { height: \"20px\", width: \"20px\" },\n                  }}\n                />\n              </small>\n              <small>{item.editor_id}</small>\n            </div>\n          </div>\n        </div>\n      </div>\n      <small>\n        <div\n          role=\"button\"\n          className=\"d-flex gap-2 align-items-center\"\n          onClick={() => setShowMore(showMore === index ? null : index)}\n        >\n          <i\n            style={{ color: \"#A4C2FD\" }}\n            className={`fs-5 bi ${\n              showMore === index ? \"bi-eye-slash\" : \"bi-eye\"\n            }`}\n          />\n          <b>See more</b>\n        </div>\n      </small>\n\n      {showMore === index && (\n        <p>\n          <Widget\n            src=\"ndcdev.near/widget/daos.Components.MarkdownViewer\"\n            props={{ text: item.description }}\n          />\n        </p>\n      )}\n\n      {item.labels && (\n        <div className=\"d-flex flex-wrap gap-2\">\n          {item.labels?.map((tag) => (\n            <div className=\"tag\">{tag}</div>\n          ))}\n        </div>\n      )}\n      <div className=\"actions d-flex align-items-center justify-content-between\">\n        <div role=\"button\" className=\"d-flex gap-2\" onClick={handleLike}>\n          {item.likes.length}\n          <i\n            style={{ color: liked ? \"#EE9CBF\" : \"#303030\" }}\n            className=\"bi bi-heart-fill\"\n          />\n          Like\n        </div>\n\n        <div\n          role=\"button\"\n          className=\"d-flex gap-2\"\n          onClick={() => setShowReply(!showReply)}\n        >\n          <i style={{ color: \"#303030\" }} className=\"bi bi-chat-fill\" />\n          Reply\n        </div>\n        <div onClick={() => setShowReply(!showReply)}>\n          <i className=\"bi bi-chevron-down fs-5 mt-1\" />\n          Expand Replies\n          <small>({replies.length})</small>\n        </div>\n        <div></div>\n        <ProposalContent>\n          <span>{`Go to ${item.post_type}`}</span>\n          <Link\n            to={`/ndcdev.near/widget/daos.App?page=${item.post_type}&id=${item.id}`}\n          >\n            <i\n              style={{ color: \"#A4C2FD\" }}\n              class={\"bi bi-box-arrow-up-right\"}\n            />\n          </Link>\n        </ProposalContent>\n      </div>\n\n      <Replies>\n        {showReply && (\n          <Widget\n            src=\"ndcdev.near/widget/daos.Components.ReplyItem\"\n            props={{ item, showCreate: true }}\n          />\n        )}\n      </Replies>\n    </Card>\n  </CardContainer>\n);\n\nreturn <CardItem item={item} index={index} />;\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/ndcdev.near/widget/daos.Components.Item", "fact_widget_deployments_id": "92c37c3d241385b9da80d762c3020183", "inserted_timestamp": "2024-03-07T05:24:05.087Z", "modified_timestamp": "2024-03-07T05:24:05.087Z", "__row_index": 6}