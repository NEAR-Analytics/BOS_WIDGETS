{"tx_hash": "69b3yA2nqSYiC2WsM86EMYSFtBbYkaHciqAttiRh5F7i", "action_id_social": "3LHPe17sYLnkkbajjAnMHSge9F7J7gy5GmXb8ZvuTbXv-0-widget", "block_id": 115439522, "block_timestamp": "2024-03-25T11:23:56.910Z", "signer_id": "ndcdev.near", "widget_name": "daos.Components.Settings.Links", "source_code": "let { content } = VM.require(`ndcdev.near/widget/daos.Config`);\nif (!content) return <Widget src=\"flashui.near/widget/Loading\" />;\n\nconst { selectedDao } = props;\n\nconst Form = styled.div`\n  border-radius: 20px;\n  background: white;\n  padding: 3rem;\n\n  label {\n    font-size: 14px;\n    margin-bottom: 5px;\n  }\n\n  .form-control.error {\n    border: 1px solid red;\n  }\n\n  .title {\n    b {\n      font-weight: 600;\n    }\n    font-weight: 300;\n\n    a {\n      text-decoration: underline;\n    }\n  }\n`;\n\nconst [daoContactsName, setDaoContactsName] = useState(\"\");\nconst [daoContactsTg, setDaoContactsTg] = useState(\"\");\nconst [daoWebsite, setDaoWebsite] = useState(\"\");\nconst [daoContacts, setDaoContacts] = useState({});\n\nuseEffect(() => {\n  if (selectedDao) {\n    setDaoWebsite(content.daos[selectedDao.handle].customUrl);\n    setDaoContacts(content.daos[selectedDao.handle].sections.contacts);\n  }\n}, [selectedDao]);\n\nconst handleAddPOC = () => {\n  const poc = [\n    ...(daoContacts.poc ?? []),\n    ...[\n      {\n        name: daoContactsName,\n        tg: daoContactsTg,\n      },\n    ],\n  ];\n  console.log(content);\n  daoContacts.poc = poc;\n  setDaoContacts(daoContacts);\n};\n\nconst handleSave = () => {};\n\nreturn (\n  <Form className=\"d-flex flex-column gap-3\">\n    <div className=\"form-element\">\n      <label className=\"form-label\">Web Site</label>\n      <input\n        className=\"form-control\"\n        type=\"text\"\n        value={daoWebsite}\n        onChange={(e) => setDaoWebsite(e.target.value)}\n      />\n    </div>\n\n    <div className=\"form-element\">\n      <label className=\"form-label\">Admin wallet</label>\n      <input\n        className=\"form-control\"\n        type=\"text\"\n        value={daoContacts.admin}\n        onChange={(e) => {\n          daoContacts.admin = e.target.value;\n          setDaoContacts(daoContacts);\n        }}\n      />\n    </div>\n\n    <div className=\"form-element\">\n      <label className=\"form-label\">Dao Telegram</label>\n      <input\n        className=\"form-control\"\n        type=\"text\"\n        value={daoContacts.tg}\n        onChange={(e) => {\n          daoContacts.tg = e.target.value;\n          setDaoContacts(daoContacts);\n        }}\n      />\n    </div>\n\n    {daoContacts?.poc && daoContacts?.poc.length > 0 && (\n      <div className=\"form-element\">\n        <p>\n          <b>List of POCs:</b>\n        </p>\n        <div className=\"d-flex flex-column gap-2\">\n          {daoContacts.poc.map(({ name, tg }) => (\n            <div className=\"d-flex gap-3\">\n              {name}\n              <a\n                className=\"d-flex gap-1\"\n                href={`https://t.me/${tg.replace(\"@\", \"\")}`}\n              >\n                (<i className=\"ph ph-telegram-logo\" />\n                {tg.replace(\"@\", \"\")})\n              </a>\n            </div>\n          ))}\n        </div>\n      </div>\n    )}\n\n    <div>\n      <div className=\"d-flex gap-2\">\n        <div className=\"form-element\">\n          <label className=\"form-label\">Name</label>\n          <input\n            className=\"form-control\"\n            type=\"text\"\n            value={daoContactsName}\n            onChange={(e) => setDaoContactsName(e.target.value)}\n          />\n        </div>\n        <div className=\"form-element\">\n          <label className=\"form-label\">Telegram handle</label>\n          <input\n            className=\"form-control\"\n            placeholder=\"@tg_handle\"\n            type=\"text\"\n            value={daoContactsTg}\n            onChange={(e) => setDaoContactsTg(e.target.value)}\n          />\n        </div>\n        <div className=\"d-flex align-items-end\">\n          <button className=\"btn btn-primary\" onClick={handleAddPOC}>\n            <i className=\"ph ph-plus fs-5\" />\n            Add new POC\n          </button>\n        </div>\n      </div>\n    </div>\n\n    <button className=\"btn btn-primary\" onClick={handleSave}>\n      <i className=\"ph ph-pencil-simple fs-5\" />\n      Save\n    </button>\n  </Form>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/ndcdev.near/widget/daos.Components.Settings.Links", "fact_widget_deployments_id": "aa4bb32753c0170e4eac507bde0ddfc7", "inserted_timestamp": "2024-03-25T12:29:55.855Z", "modified_timestamp": "2024-03-25T13:30:08.065Z", "__row_index": 0}