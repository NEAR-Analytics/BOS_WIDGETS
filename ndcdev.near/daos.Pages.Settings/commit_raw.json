{"tx_hash": "69b3yA2nqSYiC2WsM86EMYSFtBbYkaHciqAttiRh5F7i", "action_id_social": "3LHPe17sYLnkkbajjAnMHSge9F7J7gy5GmXb8ZvuTbXv-0-widget", "block_id": 115439522, "block_timestamp": "2024-03-25T11:23:56.910Z", "signer_id": "ndcdev.near", "widget_name": "daos.Pages.Settings", "source_code": "let { contractName, content } = VM.require(\n  `ndcdev.near/widget/daos.Config`\n);\nif (!contractName) return <Widget src=\"flashui.near/widget/Loading\" />;\n\nconst Container = styled.div`\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n`;\n\nconst Wrapper = styled.div`\n  width: 100%;\n  margin-bottom: 5rem;\n  display: flex;\n  gap: 1rem;\n  flex-direction: column;\n\n  textarea {\n    font-family: monospace;\n    font-size: 12px;\n  }\n`;\n\nconst daos = Near.view(contractName, \"get_dao_list\", {});\n\nif (!daos) return <Widget src=\"flashui.near/widget/Loading\" />;\n\nconst myDAOs = daos.filter((dao) => dao.owners.includes(context.accountId));\n\nif (myDAOs.length === 0)\n  return (\n    <Container>\n      <Wrapper>\n        <h2>You're not allowed to make DAOs changes</h2>\n      </Wrapper>\n    </Container>\n  );\n\nconst [selectedDao, setSelectedDao] = useState(myDAOs[0]);\n\nconst handleSelectDao = (e) =>\n  setSelectedDao(myDAOs.find((dao) => dao.id === parseInt(e.target.value)));\n\nreturn (\n  <Container>\n    <Wrapper>\n      <h2>Settings</h2>\n\n      <div className=\"form-element\">\n        <label className=\"form-label\">Select DAO</label>\n        <select\n          className=\"form-control\"\n          value={selectedDao.id}\n          onChange={handleSelectDao}\n        >\n          {myDAOs.map((dao) => (\n            <option value={dao.id}>{dao.title}</option>\n          ))}\n        </select>\n      </div>\n\n      <Widget\n        src=\"near/widget/DIG.Tabs\"\n        props={{\n          variant: \"line\",\n          size: \"default\",\n          items: [\n            {\n              name: \"General\",\n              value: \"1\",\n              content: (\n                <Widget\n                  src=\"ndcdev.near/widget/daos.Components.Settings.General\"\n                  props={{ selectedDao }}\n                />\n              ),\n              icon: \"ph ph-gear\",\n            },\n            {\n              name: \"Members\",\n              value: \"2\",\n              content: (\n                <Widget\n                  src=\"ndcdev.near/widget/daos.Components.Settings.Members\"\n                  props={{ selectedDao }}\n                />\n              ),\n              icon: \"ph ph-users\",\n            },\n            {\n              name: \"Links\",\n              value: \"3\",\n              content: (\n                <Widget\n                  src=\"ndcdev.near/widget/daos.Components.Settings.Links\"\n                  props={{ selectedDao }}\n                />\n              ),\n              icon: \"ph ph-link\",\n            },\n            {\n              name: \"Content\",\n              value: \"4\",\n              content: (\n                <Widget\n                  src=\"ndcdev.near/widget/daos.Components.Settings.Content\"\n                  props={{ selectedDao }}\n                />\n              ),\n              icon: \"ph ph-clipboard-text\",\n            },\n          ],\n        }}\n      />\n    </Wrapper>\n  </Container>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/ndcdev.near/widget/daos.Pages.Settings", "fact_widget_deployments_id": "e39dd6b435540f6f330723f030f470d8", "inserted_timestamp": "2024-03-25T12:29:55.855Z", "modified_timestamp": "2024-03-25T13:30:08.065Z", "__row_index": 3}