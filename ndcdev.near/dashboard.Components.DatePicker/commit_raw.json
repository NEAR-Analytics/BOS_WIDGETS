{"tx_hash": "JA98kk4PxJeR8ZnrH8UvRRdu8HfwPFsCGX37u7sk3S1X", "action_id_social": "4AJYHGxsmnixCmFXBAegFqYm32VAMEzB4GTjE9gSPqkp-0-widget", "block_id": 117463026, "block_timestamp": "2024-04-23T17:02:35.871Z", "signer_id": "ndcdev.near", "widget_name": "dashboard.Components.DatePicker", "source_code": "const { handleChange, period, show, mobile } = props;\n\nconst Loading = () => <Widget src=\"flashui.near/widget/Loading\" />;\n\nconst code = `\n<html>\n  <head>\n    <script src=\"https://cdn.jsdelivr.net/npm/@easepick/bundle@1.2.1/dist/index.umd.min.js\"></script>\n    <style>\n      .preset-plugin-container{\n        background: #fff;\n      }\n    </style>\n  </head>\n\n  <body style=\"display:none\">\n  </body>\n\n  <script>\n    window.addEventListener('message', function(event) {\n      const {period, mobile} = event.data;\n\n      const picker = new easepick.create({\n        element: \"body\",\n        css: [\n            \"https://cdn.jsdelivr.net/npm/@easepick/bundle@1.2.1/dist/index.css\"\n        ],\n        calendars: mobile ? 1 : 2,\n        grid: mobile ? 1 : 2,\n        autoApply: true,\n        plugins: [\n          \"AmpPlugin\",\n          \"RangePlugin\",\n          \"PresetPlugin\"\n        ],\n        AmpPlugin: {\n            resetButton: true,\n            darkMode: false\n        },\n        PresetPlugin: {\n          position: \"top\"\n        },\n        setup(picker) {\n          picker.on('select', (e) => {\n            let startDate =  picker.getStartDate('DD MMM YYYY');\n            let endDate =  picker.getEndDate('DD MMM YYYY');\n            window.top.postMessage({ startDate, endDate }, \"*\");\n          });\n        }\n      });    \n\n      picker.show();\n\n    }, false);\n\n    \n  </script>\n</html>\n`;\n\nconst Container = styled.div`\n  position: relative;\n  width: 100%;\n\n  @media screen and (max-width: 768px) {\n    width: 100%;\n  }\n`;\n\nconst Wrapper = styled.div`\n  position: absolute;\n  width: 100%;\n  z-index: 1000;\n  top: ${mobile ? \"50px\" : \"10px\"};\n  right: ${mobile ? \"-85px\" : \"-150px\"};\n  width: ${mobile ? \"90vw\" : \"630px\"};\n  height: ${mobile ? \"361px\" : \"341px\"};\n  border: 1px solid #ebebeb;\n  background: var(--Primary-Base-White, #fff);\n  box-shadow:\n    0px 68px 19px 0px rgba(0, 0, 0, 0),\n    0px 43px 17px 0px rgba(0, 0, 0, 0.01),\n    0px 24px 15px 0px rgba(0, 0, 0, 0.04),\n    0px 11px 11px 0px rgba(0, 0, 0, 0.07),\n    0px 3px 6px 0px rgba(0, 0, 0, 0.08);\n\n  iframe {\n    width: 100%;\n    height: 100%;\n  }\n`;\n\nreturn (\n  <>\n    {show && (\n      <Container>\n        <Wrapper>\n          <iframe\n            srcDoc={code}\n            onMessage={handleChange}\n            message={{ period, mobile }}\n          />\n        </Wrapper>\n      </Container>\n    )}\n  </>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/ndcdev.near/widget/dashboard.Components.DatePicker", "fact_widget_deployments_id": "837163b90d0b63aef9bcb68a978898e0", "inserted_timestamp": "2024-04-23T18:43:16.795Z", "modified_timestamp": "2024-04-23T19:39:39.293Z", "__row_index": 1}