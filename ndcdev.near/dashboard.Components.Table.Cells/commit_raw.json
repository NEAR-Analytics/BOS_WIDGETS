{"tx_hash": "8jPQ3zdYs2rEgkjGJMjenAojrjhKTG4CsdjN7hqNCLFT", "action_id_social": "HMXH8y9vrmfvfLK31vCgxNNq4XET4LfD4H8fANYwUeS4-0-widget", "block_id": 116541404, "block_timestamp": "2024-04-10T13:04:54.486Z", "signer_id": "ndcdev.near", "widget_name": "dashboard.Components.Table.Cells", "source_code": "const Cell = styled.div`\n  min-width: 270px;\n  width: 100%;\n  height: 36px;\n  background: #e8ecf0;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  color: #1e1d22;\n  text-align: center;\n  font-size: 20px;\n  font-style: normal;\n  font-weight: 350;\n  line-height: 36px;\n  position: relative;\n\n  .dao-name {\n    display: block;\n    width: 90%;\n    text-align: center;\n    text-overflow: ellipsis;\n    overflow: hidden;\n    text-wrap: nowrap;\n  }\n`;\n\nconst Container = styled.div`\n  display: flex;\n  flex-direction: column;\n  gap: 1rem;\n  align-items: flex-start;\n  padding-top: 1rem;\n  -webkit-overflow-scrolling: touch;\n\n  @media screen and (max-width: 1341px) {\n    padding-bottom: 1rem;\n  }\n`;\n\nconst Colored = styled.div`\n  height: 100%;\n  position: absolute;\n  left: 0;\n  width: ${(props) => props.width}%;\n  background: ${(props) => props.color};\n  animation: slide 1s ease;\n\n  @keyframes slide {\n    from {\n      width: 0%;\n    }\n\n    to {\n      width: \"${props.width}%\";\n    }\n  }\n`;\n\nconst getPercentage = (start, end, divider) => {\n  const val = parseInt(((end / start) * 100) / (divider ?? 1));\n\n  return val > 100 ? 100 : val;\n};\n\nconst formatValue = (value) => {\n  const val = value ? parseFloat(value) : null;\n\n  if (!val) return \"n/a\";\n\n  return val >= 1000000000\n    ? `${parseFloat(val / 1000000000).toFixed(2)}B`\n    : val >= 1000000\n    ? `${parseFloat(val / 1000000).toFixed(2)}M`\n    : val >= 1000\n    ? `${parseFloat(val / 1000).toFixed(2)}K`\n    : Number.isInteger(val)\n    ? val\n    : val.toFixed(2);\n};\n\nconst { dataSet, daos } = props;\n\nconst TooltipContent = ({ key, value }) => (\n  <div className=\"justify-content-between w-100 d-flex gap-2\">\n    <div>{key}:</div> <div>{formatValue(value)}</div>\n  </div>\n);\n\nconst DaoName = styled.div`\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  max-width: 100%;\n`;\n\nreturn (\n  <Container>\n    {daos &&\n      daos.map((dao, index) => {\n        const { userRetentions, dappsUsed, acquisitionCost } = dataSet[dao.id];\n\n        return (\n          <div key={index} className=\"w-100 d-flex align-items-center gap-2\">\n            <Cell>\n              <DaoName className=\"dao-name\">{dao.title}</DaoName>\n            </Cell>\n            <Cell>\n              <Colored\n                width={getPercentage(userRetentions, 10, 2)}\n                color={userRetentions >= 1 ? \"#68D895\" : \"#EB9DBB\"}\n              />\n              <div className=\"position-relative\">\n                <Widget\n                  src={`ndcdev.near/widget/dashboard.Components.Tooltip`}\n                  props={{\n                    content: (\n                      <>\n                        <TooltipContent key=\"Start\" value={userRetentions} />\n                      </>\n                    ),\n                    minWidth: \"max-content\",\n                    icon: <i>{formatValue(userRetentions)}</i>,\n                  }}\n                />\n              </div>\n            </Cell>\n            <Cell>{formatValue(dappsUsed)}</Cell>\n            <Cell>\n              <Colored\n                width={10}\n                color={acquisitionCost < 1 ? \"#68D895\" : \"#EB9DBB\"}\n              />\n              <div className=\"position-relative\">\n                <Widget\n                  src={`ndcdev.near/widget/dashboard.Components.Tooltip`}\n                  props={{\n                    content: (\n                      <>\n                        <TooltipContent\n                          key=\"Accounts\"\n                          value={acquisitionCost}\n                        />\n                      </>\n                    ),\n                    minWidth: \"max-content\",\n                    icon: <i>{formatValue(acquisitionCost)}</i>,\n                  }}\n                />\n              </div>\n            </Cell>\n          </div>\n        );\n      })}\n  </Container>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/ndcdev.near/widget/dashboard.Components.Table.Cells", "fact_widget_deployments_id": "7d2585dd7dbe5eeb63612ba8677c8aa1", "inserted_timestamp": "2024-04-10T14:32:46.681Z", "modified_timestamp": "2024-04-10T14:32:46.681Z", "__row_index": 4}