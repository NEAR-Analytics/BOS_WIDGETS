{"tx_hash": "7aVQ33E8Rt5EwoXwxSf9zjDyTsxGzbKUTp2wJ3dac5pC", "action_id_social": "4E5pkLJGnAH3YwJTPv6stwqvHYjKunKNg7rTeBUaMRT1-0-widget", "block_id": 108889339, "block_timestamp": "2023-12-26T23:19:24.977Z", "signer_id": "ndcdev.near", "widget_name": "MDAO.Components.Communities", "source_code": "const maxLimit = props.limit || 1000;\nconst darkTheme = props.theme === \"dark\";\n\nconst STATUS = {\n  GOOD: [\"Yes\", \"Approved\", \"Yes, include in special request\"],\n  BAD: [\"No\"],\n};\n\nconst Item = styled.div`\n  width: 350px;\n  height: 280px;\n  border-radius: 10px;\n  border: none;\n  border-radius: 10px;\n  box-shadow: 0px 30px 80px 0px rgba(0, 0, 0, 0.1);\n\n  h4 {\n    color: #000\n    font-size: 24px;\n  }\n\n  &.dark {\n    position: relative;\n    background: linear-gradient(\n      270deg,\n      #efdcd1 -1.69%,\n      #e0c6f7 43.78%,\n      #adc3fb 99.83%\n    );\n    padding: 2px;\n\n    h4 {\n      background: linear-gradient(\n        270deg,\n        #efdcd1 -1.69%,\n        #e0c6f7 43.78%,\n        #adc3fb 99.83%\n      );\n      background-clip: text;\n      -webkit-background-clip: text;\n      -webkit-text-fill-color: transparent;\n    }\n\n    .inner {\n      height: 100%;\n      background: #151718;\n      border-radius: 10px;\n    }\n  }\n\n  .inner {\n    height: 100%;\n    background: white;\n    border-radius: 10px;\n  }\n\n  i {\n    color: ${(props) => (darkTheme ? \"#f0ddce\" : \"#d0d0d0\")};\n\n    &:hover {\n      color: ${(props) => (darkTheme ? \"#fff\" : \"#000\")};\n    }\n  }\n\n  p {\n    font-size: 16px;\n    font-weight: 300;\n    margin: 0;\n  }\n\n  @media screen and (max-width: 786px) {\n    width: 100%;\n  }\n`;\n\nconst Img = styled.img`\n  border-radius: 50%;\n  background: #eaeaea;\n  width: 100px !important;\n  height: 100px !important;\n`;\n\nconst [communities, setCommunities] = useState([]);\n\nconst fetchCommunities = () => {\n  const sheetId = \"1CxRHo8y6HYqWY7FuguTN8laUjNqeUjDhtnXb4mbV7V4\";\n  const base = `https://docs.google.com/spreadsheets/d/${sheetId}/gviz/tq?`;\n  const sheetName = \"Logo\";\n  const query = encodeURIComponent(\"Select *\");\n  const url = `${base}&sheet=${sheetName}&tq=${query}`;\n  const resp = fetch(url);\n\n  if (resp?.body) {\n    let jsonString = resp.body.match(/(?<=\"table\":).*(?=}\\);)/g)[0];\n    let json = JSON.parse(jsonString);\n\n    setCommunities(json.rows.map((item) => item.c));\n  }\n};\n\nfetchCommunities();\n\nif (communities.length === 0)\n  return (\n    <div className=\"d-flex justify-content-center align-items-center gap-2\">\n      <Widget src=\"flashui.near/widget/Loading\" /> <b>Loading communities...</b>\n    </div>\n  );\n\nconst Connect = ({ item }) => (\n  <Item className={`${darkTheme ? \"dark\" : \"\"} `}>\n    <div className=\"inner d-flex flex-column justify-content-center gap-3 align-items-center\">\n      <Img src={item[5].v} />\n      <h4 className=\"bold color-text px-3 mt-1 text-center\">{item[1].v}</h4>\n      <div className=\"d-flex gap-4\">\n        {item[3].v && (\n          <a href={item[3].v} target=\"_blank\">\n            <i className={`fs-4 bi bi-telegram`} />\n          </a>\n        )}\n        {item[4].v && (\n          <a href={item[4].v} target=\"_blank\">\n            <i className={`fs-4 bi bi-twitter-x`} />\n          </a>\n        )}\n      </div>\n    </div>\n  </Item>\n);\n\nreturn (\n  <div className=\"d-flex flex-wrap gap-5 justify-content-center\">\n    {communities.slice(0, maxLimit).map((item) => (\n      <Connect item={item} />\n    ))}\n  </div>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/ndcdev.near/widget/MDAO.Components.Communities", "fact_widget_deployments_id": "71dfc3585b51b54d0b85ebbc6219ea3d", "inserted_timestamp": "2024-03-07T05:24:05.087Z", "modified_timestamp": "2024-03-07T05:24:05.087Z", "__row_index": 1}