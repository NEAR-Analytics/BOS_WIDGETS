{"tx_hash": "G8a5EaM7Gnic6P1BmHbUWgyEKyEXMGdNj59dniSh28Lx", "action_id_social": "Dq44Ao8aTkyMszQkwuEEbEbUx8mDs2tR8U1RpeCHvJ8a-0-widget", "block_id": 112740381, "block_timestamp": "2024-02-13T10:34:19.831Z", "signer_id": "ndcdev.near", "widget_name": "Dashboard.Components.Select", "source_code": "const { assets } = VM.require(`ndcdev.near/widget/Dashboard.Config`);\n\nif (!assets) return <Widget src=\"flashui.near/widget/Loading\" />;\n\nconst Select = styled.div`\n  position: relative;\n  width: 100%;\n  cursor: pointer;\n\n  .selected-container {\n    color: white !important;\n    width: 100%;\n    border-radius: 10px;\n    background: #a39acd;\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    padding: 10px 25px;\n\n    &.black {\n      background: #1e1d22;\n    }\n\n    .selected {\n      border: 0;\n      width: 100%;\n      font-size: 20px;\n      font-style: normal;\n      font-weight: 400;\n      line-height: 24px;\n      text-transform: capitalize;\n      letter-spacing: 0.12px;\n    }\n  }\n\n  ul {\n    width: 100%;\n    max-height: 12rem;\n    overflow-y: scroll;\n    font-size: 18px;\n    background: #fff;\n    color: initial;\n    border-radius: 6px;\n    box-shadow: 0 2px 12px 0 rgba(0, 0, 0, 0.1);\n    display: flex;\n    flex-direction: column;\n    position: absolute;\n    padding: 0.5rem 0;\n    top: 50px;\n    z-index: 100;\n\n    li {\n      cursor: pointer;\n      display: flex;\n      align-items: center;\n      gap: 0.5rem;\n      padding: 0.5rem 1rem;\n\n      .truncate {\n        font-weight: normal;\n        white-space: nowrap;\n        overflow: hidden;\n        text-overflow: ellipsis;\n      }\n\n      &:hover {\n        color: black;\n        background: rgb(163 155 205 / 20%);\n      }\n    }\n  }\n\n  span {\n    color: white;\n    text-overflow: ellipsis;\n    display: block;\n    overflow: hidden;\n    text-wrap: nowrap;\n  }\n\n  .select-dao {\n    width: 50%;\n    @media screen and (max-width: 768px) {\n      width: 75%;\n      min-width: 150px;\n    }\n  }\n  .select-period {\n    width: 150px;\n  }\n`;\n\nconst Check = styled.div`\n  border-radius: 5px;\n  width: 100%;\n  max-width: 20px;\n  height: 20px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  border: 1px solid\n    ${(props) => (props.selected ? \"#a39acd\" : \"rgb(216 216 216)\")};\n  color: #a39acd;\n`;\n\nconst TooltipContainer = styled.div`\n  position: relative;\n  display: inline-block;\n  cursor: pointer;\n`;\n\nconst TooltipText = styled.span`\n  visibility: hidden;\n  min-width: 150px;\n  background-color: #ffffff;\n  text-align: justify;\n  border-radius: 5px;\n  padding: 5px;\n  position: absolute;\n  z-index: 1;\n  bottom: 120%;\n  left: 50%;\n  margin-left: -60px;\n  opacity: 0;\n  transition: opacity 0.3s;\n\n  &::after {\n    content: \"\";\n    position: absolute;\n    bottom: -10px;\n    left: 50%;\n    margin-left: -5px;\n    border-width: 5px;\n    border-style: solid;\n    border-color: transparent transparent white transparent;\n    transform: translateX(-50%);\n  }\n`;\n\nconst {\n  values,\n  multiple,\n  options,\n  onChange,\n  defaultValue,\n  isOpen,\n  onClear,\n  containerClass,\n  text,\n  isTooltipVisible,\n  hintText,\n  onFilterClick,\n  filterIsOpen,\n  id,\n} = props;\n\nconst [open, setOpen] = useState(false);\nconst selectOptions = defaultValue ? [defaultValue, ...options] : options;\nconst isOpenDropdown = !!filterIsOpen ? filterIsOpen : open;\n\nconst setTitle = () => {\n  if (text) return text;\n\n  if (Array.isArray(values)) {\n    return values.length ? `${values.length} Selected` : defaultValue;\n  } else {\n    return values;\n  }\n};\n\nconst handleOpen = () => {\n  if (onFilterClick) {\n    onFilterClick(id);\n  } else {\n    setOpen(!open);\n  }\n};\n\nreturn (\n  <Select onClick={() => !multiple && handleOpen()}>\n    <div className={containerClass}>\n      <div className=\"selected\" onClick={handleOpen}>\n        {setTitle()}\n        {isTooltipVisible && (\n          <Widget\n            src={`ndcdev.near/widget/Dashboard.Components.Tooltip`}\n            props={{\n              content: hintText,\n              icon: <i className=\"bi bi-info-circle-fill\" />,\n            }}\n          />\n        )}\n      </div>\n      <div className=\"d-flex gap-2\">\n        {multiple && values.length > 0 && (\n          <i\n            className=\"bi bi-x fs-5 mt-1 mr-1\"\n            onClick={() => onClear() && setOpen(false)}\n          />\n        )}\n        <i\n          onClick={handleOpen}\n          className={`bi bi-chevron-${\n            isOpenDropdown ? \"up\" : \"down\"\n          } fs-5 mt-1`}\n        />\n      </div>\n    </div>\n    {isOpenDropdown && (\n      <ul>\n        {selectOptions.map((option) => (\n          <li onClick={() => onChange(option)}>\n            {multiple && (\n              <Check selected={values.includes(option)}>\n                {values.includes(option) && (\n                  <i className=\"mt-1 bi bi-check-lg\" />\n                )}\n              </Check>\n            )}\n            <div className=\"truncate\">{option}</div>\n          </li>\n        ))}\n      </ul>\n    )}\n  </Select>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/ndcdev.near/widget/Dashboard.Components.Select", "fact_widget_deployments_id": "ba120deb94c4f89e1623e8659635a789", "inserted_timestamp": "2024-03-07T05:24:05.087Z", "modified_timestamp": "2024-03-07T05:24:05.087Z", "__row_index": 0}