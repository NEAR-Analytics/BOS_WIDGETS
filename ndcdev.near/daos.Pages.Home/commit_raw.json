{"tx_hash": "BciUasE11dLRvfXQbcJZ8ENmDgo3LVYWmsn29pj9Kvm1", "action_id_social": "HpjVRWoC5hfqmHLsjJamgs481G3igFxpvHfXEeqXWnUH-0-widget", "block_id": 117094329, "block_timestamp": "2024-04-18T08:48:30.934Z", "signer_id": "ndcdev.near", "widget_name": "daos.Pages.Home", "source_code": "let { assets, content, contractName } = VM.require(\n  `ndcdev.near/widget/daos.Config`,\n);\n\nassets = assets.home;\ncontent = content.home;\n\nconst Description = styled.div`\n  font-size: 20px;\n  font-weight: 400;\n  line-height: 2rem;\n  padding: 2rem 0 3rem 0;\n\n  a {\n    text-decoration: underline;\n  }\n`;\n\nconst Container = styled.div`\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  gap: 5rem;\n  align-items: center;\n`;\n\nconst Wrapper = styled.div`\n  width: 80%;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n`;\n\nconst CreateGrassrootContainer = styled.div`\n  display: flex;\n  justify-content: center;\n  width: 100%;\n  background: #1e1d22;\n  height: 650px;\n\n  @media screen and (max-width: 768px) {\n    height: auto;\n    padding-bottom: 20px;\n  }\n\n  .wrapper {\n    position: relative;\n    width: 80%;\n    display: flex;\n    flex-direction: row;\n    justify-content: space-between;\n\n    .circle {\n      width: 500px;\n      height: 500px;\n      position: absolute;\n      right: 0rem;\n      bottom: 0;\n      z-index: 1;\n      border-radius: 1007px;\n      background: linear-gradient(\n        180deg,\n        rgba(253, 202, 48, 0.5) 0%,\n        rgba(235, 157, 187, 0.5) 50%,\n        rgba(91, 153, 219, 0.5) 100%\n      );\n      filter: blur(100px);\n      animation: spin 4s linear infinite;\n\n      @keyframes spin {\n        0% {\n          transform: rotate(0deg);\n          scale: 90%;\n        }\n        50% {\n          scale: 100%;\n          transform: rotate(180deg);\n        }\n        100% {\n          scale: 90%;\n          transform: rotate(360deg);\n        }\n      }\n    }\n\n    .title {\n      color: #fff;\n      font-size: 48px;\n      font-weight: 700;\n      padding-top: 6rem;\n      z-index: 3;\n\n      @media screen and (max-width: 786px) {\n        padding-top: 3rem;\n      }\n    }\n\n    .description {\n      width: 50%;\n      color: #fff;\n      font-size: 26px;\n      font-weight: 300;\n      z-index: 3;\n\n      @media screen and (max-width: 786px) {\n        width: 100%;\n      }\n    }\n\n    a {\n      width: 50%;\n      z-index: 3;\n\n      @media screen and (max-width: 786px) {\n        width: 100%;\n      }\n    }\n\n    img {\n      width: 463px;\n      height: 580px;\n      position: absolute;\n      right: 0rem;\n      bottom: 0;\n      z-index: 2;\n\n      @media screen and (max-width: 786px) {\n        display: none;\n      }\n    }\n  }\n`;\n\nconst ParalaxImg = styled.div`\n  width: 100%;\n  background-image: url(${(p) => p.src});\n  min-height: 500px;\n  background-attachment: fixed;\n  background-position: center;\n  background-repeat: no-repeat;\n  background-size: cover;\n\n  @media screen and (max-width: 786px) {\n    display: none;\n  }\n`;\n\nconst [loading, setLoading] = useState(false);\n\nconst daos = Near.view(contractName, \"get_dao_list\");\nlet proposals = Near.view(contractName, \"get_all_posts\", {\n  page: 0,\n  limit: 100,\n});\n\nconst projects = Near.view(contractName, \"get_dao_communities\");\n\nif (!daos || !contractName || !content || !assets || !proposals || !projects)\n  return <Widget src=\"flashui.near/widget/Loading\" />;\n\nlet groupedDaos = daos\n  .map((element) => {\n    let result = {};\n    element.verticals.forEach((list) => {\n      if (!result[list]) {\n        result[list] = [];\n      }\n      result[list].push(element);\n    });\n\n    return result;\n  })\n  .filter((item) => Object.keys(item).length !== 0);\n\nproposals = proposals.map((proposal) => {\n  return {\n    proposal,\n    dao: daos.find((dao) => dao.id === proposal.dao_id),\n  };\n});\n\nlet types = new Set();\ngroupedDaos.forEach((item) => {\n  Object.keys(item).forEach((i) => types.add(i));\n});\n\nconst typeOfProject = Array.from(types).map((item) => {\n  return {\n    name: item.charAt(0).toUpperCase() + item.slice(1),\n    color: \"#68D895\",\n  };\n});\n\nreturn (\n  <Container>\n    <Widget\n      src={`ndcdev.near/widget/daos.Components.RunnerContainer`}\n      props={{ proposals }}\n    />\n    <Wrapper>\n      <Widget\n        src={`ndcdev.near/widget/daos.Components.Title`}\n        props={{\n          imgUrl: content.communityTreasury.image,\n          title: content.communityTreasury.title,\n        }}\n      />\n\n      <Widget\n        src={`ndcdev.near/widget/daos.Components.Metrics.index`}\n        props={{\n          daos,\n          totalTreasury: 3893275,\n          deliverTreasury: 362253,\n          typeOfProject,\n          loading,\n          text: content.communityTreasury.metrics,\n        }}\n      />\n    </Wrapper>\n    <Wrapper>\n      <Widget\n        src={`ndcdev.near/widget/daos.Components.Title`}\n        props={{\n          imgUrl: content.whatIsNDC.image,\n          title: content.whatIsNDC.title,\n        }}\n      />\n      <Description>{content.whatIsNDC.text}</Description>\n    </Wrapper>\n    <ParalaxImg\n      style={{ marginTop: \"-5rem\" }}\n      src=\"https://ipfs.near.social/ipfs/bafybeid2ckdorccexjqxnsi3kr4epif4xgqbagdykxtn7wacqk5ajujvy4\"\n    />\n    <Wrapper>\n      <Widget\n        src={`ndcdev.near/widget/daos.Components.Title`}\n        props={{\n          imgUrl: content.whatisGrassrootDAO.image,\n          title: content.whatisGrassrootDAO.title,\n        }}\n      />\n      <Description>{content.whatisGrassrootDAO.text}</Description>\n\n      <div className=\"d-flex flex-wrap justify-content-center gap-4\">\n        {daos\n          .sort((a, b) => a.title < b.title)\n          .map((dao) => (\n            <Widget\n              src={`ndcdev.near/widget/daos.Components.Dao.Card`}\n              props={{ dao, index }}\n            />\n          ))}\n      </div>\n    </Wrapper>\n\n    {projects?.length > 0 ? (\n      <Wrapper>\n        <Widget\n          src={`ndcdev.near/widget/daos.Components.Dao.Communities`}\n          props={{\n            title: content.featuredProducts.title,\n            projects: content.featuredProducts.projects.map((title) =>\n              projects.find((p) => p.title === title),\n            ),\n          }}\n        />\n      </Wrapper>\n    ) : (\n      <></>\n    )}\n\n    <CreateGrassrootContainer>\n      <div className=\"wrapper\">\n        <div className=\"d-flex flex-column gap-3\">\n          <h1 className=\"title\">{content.createyourGrassrootDAO.title}</h1>\n          <p className=\"description\">\n            <ul>\n              <li>{content.createyourGrassrootDAO.items.first}</li>\n              <li>{content.createyourGrassrootDAO.items.second}</li>\n            </ul>\n          </p>\n\n          <div className=\"d-flex flex-wrap gap-3\">\n            <a\n              className=\"btn-primary\"\n              href={`/ndcdev.near/widget/daos.App?page=create_post`}\n            >\n              <i className=\"ph ph-check fs-5\" />\n              Submit Proposal\n            </a>\n            <a\n              className=\"btn-secondary\"\n              href={`/ndcdev.near/widget/daos.App?page=proposals`}\n            >\n              <i className=\"ph ph-arrow-square-out fs-5\" />\n              See Examples\n            </a>\n          </div>\n        </div>\n        <div className=\"circle\" />\n        <img src=\"https://ipfs.near.social/ipfs/bafybeig2zwkn3lsogyekukxg3bvx5jxz6hsakfbc4zokzopexwksqo7xoe\" />\n      </div>\n    </CreateGrassrootContainer>\n    <Wrapper>\n      <Widget\n        src={`ndcdev.near/widget/daos.Components.Title`}\n        props={{\n          imgUrl: content.GetFundingForYourProject.image,\n          title: content.GetFundingForYourProject.title,\n        }}\n      />\n\n      <Description>{content.GetFundingForYourProject.text}</Description>\n      <Widget\n        src={`ndcdev.near/widget/daos.Components.DaosByVertical`}\n        props={{ daos }}\n      />\n    </Wrapper>\n  </Container>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/ndcdev.near/widget/daos.Pages.Home", "fact_widget_deployments_id": "a121e928533b8ad9bc4728ef5296dcb0", "inserted_timestamp": "2024-04-18T10:38:34.656Z", "modified_timestamp": "2024-04-18T10:38:34.656Z", "__row_index": 47}