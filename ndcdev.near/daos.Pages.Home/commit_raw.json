{"tx_hash": "2Hbpq4cfKq8zzXFc9qryJTJAShU7TYcH5wtCPwjXt2rK", "action_id_social": "7aEX6TtmHwJnNkdPWdTNK69QAkph6gyhH3EP8CrWuS8z-0-widget", "block_id": 113752707, "block_timestamp": "2024-02-28T13:10:39.064Z", "signer_id": "ndcdev.near", "widget_name": "daos.Pages.Home", "source_code": "let { assets, content, contractName } = VM.require(\n  `ndcdev.near/widget/daos.Config`,\n);\n\nassets = assets.home;\ncontent = content.home;\n\nconst Description = styled.div`\n  color: #1e1d22;\n  font-family: Montserrat;\n  font-size: 20px;\n  font-style: normal;\n  font-weight: 400;\n  line-height: 2rem;\n\n  a {\n    text-decoration-line: underline;\n  }\n\n  padding-bottom: 3rem;\n`;\n\nconst Container = styled.div`\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  gap: 5rem;\n  align-items: center;\n`;\n\nconst Wrapper = styled.div`\n  width: 80%;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n`;\n\nconst Item = styled.div`\n  width: 370px;\n  height: 400px;\n  border-radius: 10px;\n  border: none;\n  border-radius: 10px;\n  background: linear-gradient(270deg, #efdcd1 -1.69%, #e0c6f7 43.78%, #adc3fb 99.83%);\n  padding: 2px;\n  \n  span {\n    color: #ffffff;\n  }\n\n  .bi-plus-circle:hover {\n    color: rgb(164, 194, 253);\n    fill: rgb(164, 194, 253);\n  }\n\n  a.btn {\n    &:hover {\n      text-decoration: none;\n    }\n  }\n\n  h4 {\n    color: #000\n    font-size: 24px;\n  }\n\n  .inner {\n    height: 100%;\n    padding: 0 2rem;\n    background: white;\n    border-radius: 10px;\n    background: #ffffff;\n  }\n\n  svg {\n    margin: 7px;\n  }\n\n  i, svg {\n    color: ${darkTheme ? \"#f0ddce\" : \"#A4C2FD\"};\n    fill: ${darkTheme ? \"#f0ddce\" : \"#A4C2FD\"};\n\n    &:hover {\n      color: ${darkTheme ? \"#fff\" : \"#151718\"};\n      fill: ${darkTheme ? \"#fff\" : \"#151718\"};\n    }\n  }\n\n  p {\n    font-size: 16px;\n    font-weight: 300;\n    margin: 0;\n  }\n\n  @media screen and (max-width: 786px) {\n    width: 100%;\n  }\n`;\n\nconst DaoDesc = styled.div`\n  color: #1e1d22;\n  text-align: center;\n  font-size: 16px;\n  font-weight: 400;\n  display: -webkit-box;\n  -webkit-line-clamp: 4;\n  -webkit-box-orient: vertical;\n  overflow: hidden;\n  text-overflow: ellipsis;\n`;\n\nconst DaoLink = styled.a`\n  min-width: 200px;\n  box-shadow: 0px 20px 30px 0px rgba(0, 0, 0, 0.25);\n  background: black;\n  i {\n    padding-left: 30px;\n  }\n  span {\n    padding-right: 35px;\n  }\n  :hover {\n    background: black;\n  }\n`;\n\nconst CreateGrassrootContainer = styled.div`\n  display: flex;\n  justify-content: center;\n  width: 100%;\n  background: #1e1d22;\n  height: 650px;\n\n  @media screen and (max-width: 768px) {\n    height: auto;\n    padding-bottom: 20px;\n  }\n\n  .wrapper {\n    position: relative;\n    width: 80%;\n    display: flex;\n    flex-direction: row;\n    justify-content: space-between;\n\n    .circle {\n      width: 500px;\n      height: 500px;\n      position: absolute;\n      right: 0rem;\n      bottom: 0;\n      z-index: 1;\n      border-radius: 1007px;\n      background: linear-gradient(\n        180deg,\n        rgba(253, 202, 48, 0.5) 0%,\n        rgba(235, 157, 187, 0.5) 50%,\n        rgba(91, 153, 219, 0.5) 100%\n      );\n      filter: blur(100px);\n      animation: spin 4s linear infinite;\n\n      @keyframes spin {\n        0% {\n          transform: rotate(0deg);\n          scale: 90%;\n        }\n        50% {\n          scale: 100%;\n          transform: rotate(180deg);\n        }\n        100% {\n          scale: 90%;\n          transform: rotate(360deg);\n        }\n      }\n    }\n\n    .title {\n      color: #fff;\n      font-size: 48px;\n      font-weight: 700;\n      padding-top: 6rem;\n      z-index: 3;\n    }\n\n    .description {\n      width: 50%;\n      color: #fff;\n      font-size: 26px;\n      font-weight: 300;\n      z-index: 3;\n\n      @media screen and (max-width: 786px) {\n        width: 100%;\n      }\n    }\n\n    a {\n      width: 50%;\n      z-index: 3;\n\n      @media screen and (max-width: 786px) {\n        width: 100%;\n      }\n    }\n\n    img {\n      width: 463px;\n      height: 580px;\n      position: absolute;\n      right: 0rem;\n      bottom: 0;\n      z-index: 2;\n\n      @media screen and (max-width: 786px) {\n        display: none;\n      }\n    }\n  }\n`;\n\nconst ParalaxImg = styled.div`\n  width: 100%;\n  background-image: url(${(p) => p.src});\n  min-height: 500px;\n  background-attachment: fixed;\n  background-position: center;\n  background-repeat: no-repeat;\n  background-size: cover;\n`;\n\nconst SubmitProposal = styled.button`\n  background: linear-gradient(to right, #000000, #434343);\n  color: white;\n  border: 2px solid #ffd700;\n  border-radius: 25px;\n  padding: 15px 25px;\n  font-size: 18px;\n  font-weight: bold;\n  cursor: pointer;\n  outline: none;\n  transition: all 0.3s ease;\n`;\n\nconst [loading, setLoading] = useState(false);\n\nconst daos = Near.view(contractName, \"get_dao_list\");\nlet proposals = Near.view(contractName, \"get_all_posts\", {\n  page: 0,\n  limit: 100,\n});\n\nlet projects = Near.view(contractName, \"get_dao_communities\", {\n  dao_id: parseInt(2),\n});\n\nif (!daos || !contractName || !content || !assets || !proposals || !projects)\n  return <Widget src=\"flashui.near/widget/Loading\" />;\n\nlet groupedDaos = daos\n  .map((element) => {\n    let result = {};\n    element.verticals.forEach((list) => {\n      if (!result[list]) {\n        result[list] = [];\n      }\n      result[list].push(element);\n    });\n\n    return result;\n  })\n  .filter((item) => Object.keys(item).length !== 0);\n\nproposals = proposals.map((proposal) => {\n  return {\n    proposal,\n    dao: daos.find((dao) => dao.id === proposal.dao_id),\n  };\n});\n\nlet types = new Set();\ngroupedDaos.forEach((item) => types.add(...Object.keys(item)));\n\nconst typeOfProject = Array.from(types).map((item) => {\n  return {\n    name: item.charAt(0).toUpperCase() + item.slice(1),\n    color: \"#68D895\",\n  };\n});\n\nconst sorted = (a, b) => {\n  if (a.title < b.title) {\n    return -1;\n  }\n  if (a.title > b.title) {\n    return 1;\n  }\n  return 0;\n};\n\nreturn (\n  <Container>\n    <Widget\n      src={`ndcdev.near/widget/daos.Components.RunnerContainer`}\n      props={{ proposals }}\n    />\n    <Wrapper>\n      <Widget\n        src={`ndcdev.near/widget/daos.Components.Title`}\n        props={{\n          imgUrl: content.communityTreasury.image,\n          text: content.communityTreasury.title,\n        }}\n      />\n\n      <Widget\n        src={`ndcdev.near/widget/daos.Components.MetricsDisplay.index`}\n        props={{\n          daos,\n          deliverTreasury: 272482,\n          typeOfProject,\n          loading,\n          text: content.communityTreasury.metrics,\n        }}\n      />\n    </Wrapper>\n    <Wrapper>\n      <Widget\n        src={`ndcdev.near/widget/daos.Components.Title`}\n        props={{\n          imgUrl: content.whatIsNDC.image,\n          text: content.whatIsNDC.title,\n        }}\n      />\n      <Description>{content.whatIsNDC.text}</Description>\n    </Wrapper>\n    <ParalaxImg\n      style={{ marginTop: \"-5rem\" }}\n      src=\"https://ipfs.near.social/ipfs/bafybeid2ckdorccexjqxnsi3kr4epif4xgqbagdykxtn7wacqk5ajujvy4\"\n    />\n    <Wrapper>\n      <Widget\n        src={`ndcdev.near/widget/daos.Components.Title`}\n        props={{\n          imgUrl: content.whatisGrassrootDAO.image,\n          text: content.whatisGrassrootDAO.title,\n        }}\n      />\n      <Description>{content.whatisGrassrootDAO.text}</Description>\n\n      <div className=\"d-flex flex-wrap justify-content-center gap-3\">\n        {daos.sort(sorted).map((dao) => (\n          <Item>\n            <div className=\"inner d-flex flex-column justify-content-center gap-3 align-items-center\">\n              <Widget\n                src={`ndcdev.near/widget/daos.Components.CommunityImage`}\n                props={{ image: dao.logo_url, index }}\n              />\n              <h4 className=\"bold color-text px-3 mt-1 text-center\">\n                {dao.title}\n              </h4>\n              <DaoDesc>{dao.description}</DaoDesc>\n              <DaoLink\n                href={`/ndcdev.near/widget/daos.App?page=dao&id=${dao.id}`}\n                className=\"btn btn-secondary d-flex justify-content-between\"\n              >\n                <i class=\"bi bi-plus-circle\"></i>\n                <span>Join DAO</span>\n              </DaoLink>\n            </div>\n          </Item>\n        ))}\n      </div>\n    </Wrapper>\n\n    {projects?.length && (\n      <Wrapper>\n        <Widget\n          src={`ndcdev.near/widget/daos.Components.Dao.FeaturedProjects`}\n          props={{\n            section: { projects: { title: \"Featured Products\" } },\n            projects,\n          }}\n        />\n      </Wrapper>\n    )}\n\n    <CreateGrassrootContainer>\n      <div className=\"wrapper\">\n        <div className=\"d-flex flex-column gap-3\">\n          <h1 className=\"title\">{content.createyourGrassrootDAO.title}</h1>\n          <p className=\"description\">\n            <ul>\n              <li>{content.createyourGrassrootDAO.items.first}</li>\n              <li>{content.createyourGrassrootDAO.items.second}</li>\n              <li>{content.createyourGrassrootDAO.items.third}</li>\n            </ul>\n            <a href={`/ndcdev.near/widget/daos.App?page=create_proposal`}>\n              <SubmitProposal>Submit Proposal</SubmitProposal>\n            </a>\n          </p>\n        </div>\n        <div className=\"circle\" />\n        <img src=\"https://ipfs.near.social/ipfs/bafybeig2zwkn3lsogyekukxg3bvx5jxz6hsakfbc4zokzopexwksqo7xoe\" />\n      </div>\n    </CreateGrassrootContainer>\n    <Wrapper>\n      <Widget\n        src={`ndcdev.near/widget/daos.Components.Title`}\n        props={{\n          imgUrl: content.GetFundingForYourProject.image,\n          text: content.GetFundingForYourProject.title,\n        }}\n      />\n\n      <Description>{content.GetFundingForYourProject.text}</Description>\n      <Widget\n        src={`ndcdev.near/widget/daos.Components.DaosByVertical`}\n        props={{ daos }}\n      />\n    </Wrapper>\n  </Container>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/ndcdev.near/widget/daos.Pages.Home", "fact_widget_deployments_id": "b78a635d05a42e0c4da5f44fe8c5ce8b", "inserted_timestamp": "2024-03-07T05:24:05.087Z", "modified_timestamp": "2024-03-07T05:24:05.087Z", "__row_index": 14}