{"tx_hash": "4hqWXsoFimeoDh3mnSd2o6quGocy5azpuTFCghkLY1mT", "action_id_social": "3oKX6ksYPBvSC5esPU6L8TzfMF4KttXDm8s1G5WUyQ2t-0-widget", "block_id": 114163825, "block_timestamp": "2024-03-05T21:09:34.268Z", "signer_id": "ndcdev.near", "widget_name": "daos.Components.Comment", "source_code": "const {\n  comment,\n  isLikedByMe,\n  showReply,\n  setShowReply,\n  handleLike,\n  isPreview,\n  postId,\n} = props;\n\nconst Body = styled.div`\n  padding: 0rem 1rem;\n`;\n\nconst Content = styled.div`\n  .attachments {\n    margin: 10px 0 20px 0;\n    padding: 10px;\n    border: 1px solid rgb(222 235 255);\n    background: #f5f9ff;\n    border-radius: 10px;\n    display: flex;\n    flex-direction: column;\n    gap: 5px;\n    width: 300px;\n\n    a {\n      color: rgb(118 150 198);\n      font-size: 13px;\n      text-overflow: ellipsis;\n      text-wrap: nowrap;\n      overflow: hidden;\n    }\n  }\n`;\n\nconst Actions = styled.div`\n  display: flex;\n  align-items: center;\n  gap: 20px;\n  margin: -3px 0 10px 0;\n\n  a:hover {\n    text-decoration: none;\n  }\n`;\n\nconst Post = styled.div`\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  margin-left: 1rem;\n  padding-left: 1rem;\n  border-left: 2px solid rgb(241 241 241);\n`;\n\nconst Header = styled.div`\n  margin-bottom: 0;\n  display: inline-flex;\n  width: 100%;\n`;\n\nconst formatDate = (timestamp) => {\n  const date = new Date(parseInt(timestamp) / 1000000);\n\n  return `${date.toLocaleDateString()}, ${date.getHours()}:${date.getMinutes()}`;\n};\n\nreturn (\n  <>\n    <Header>\n      <div className=\"my-3 d-flex gap-3 align-items-center justify-content-between\">\n        <Widget\n          src=\"near/widget/AccountProfile\"\n          props={{\n            accountId: comment.author_id,\n            hideAccountId: true,\n          }}\n        />\n        <div className=\"d-flex gap-2 align-items-center justify-content-between\">\n          <i className=\"bi bi-clock\" />\n          <small>{formatDate(comment.snapshot.timestamp)}</small>\n        </div>\n        <Widget\n          src={\"ndcdev.near/widget/daos.Components.Clipboard\"}\n          props={{\n            text: `https://near.org/ndcdev.near/widget/daos.App?page=comments&post_id=${postId}&comment_id=${comment.id}`,\n          }}\n        />\n      </div>\n    </Header>\n    <Post>\n      <Body>\n        <Content>\n          <Widget\n            src={\"ndcdev.near/widget/daos.Components.MarkdownViewer\"}\n            props={{ text: comment.snapshot.description }}\n          />\n          {comment.snapshot.attachments.length > 0 && (\n            <div className=\"attachments\">\n              {comment.snapshot.attachments.map((src) => (\n                <a href={src}>\n                  <i className=\"bi bi-paperclip\" /> {src}\n                </a>\n              ))}\n            </div>\n          )}\n        </Content>\n\n        {!isPreview && (\n          <Actions>\n            <div role=\"button\" onClick={() => handleLike(comment.id)}>\n              <small className=\"blue\">{comment.likes.length}</small>\n              <i\n                className={`bi blue ${\n                  isLikedByMe(comment) ? \"bi-heart-fill\" : \"bi-heart\"\n                }`}\n              />\n            </div>\n            <div\n              role=\"button\"\n              onClick={() =>\n                setShowReply({ [comment.id]: !showReply[comment.id] })\n              }\n            >\n              <small className=\"blue\">{comment.child_comments.length}</small>\n              <i className=\"bi blue bi-chat\" />\n            </div>\n            <Link\n              to={`/ndcdev.near/widget/daos.App?page=comments&post_id=${postId}&comment_id=${comment.id}`}\n            >\n              <i className={\"bi blue bi-reply fs-5\"} />\n              <small className=\"blue\">Reply</small>\n            </Link>\n          </Actions>\n        )}\n      </Body>\n    </Post>\n  </>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/ndcdev.near/widget/daos.Components.Comment", "fact_widget_deployments_id": "b6ff7a3b8926f5684484814a351b29bb", "inserted_timestamp": "2024-03-07T05:24:05.087Z", "modified_timestamp": "2024-03-07T05:24:05.087Z", "__row_index": 6}