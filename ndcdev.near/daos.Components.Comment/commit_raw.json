{"tx_hash": "9WWjBd2Hdma1nVem3tR12r1Cam4i9uLB9joK1PMkrvBe", "action_id_social": "45fUZqub4ZyDpBFjn6xWYhA9wU5nqshm3iZdKG6A9E1p-0-widget", "block_id": 114286791, "block_timestamp": "2024-03-07T20:35:20.753Z", "signer_id": "ndcdev.near", "widget_name": "daos.Components.Comment", "source_code": "const {\n  comment,\n  isLikedByMe,\n  showReply,\n  setShowReply,\n  handleLike,\n  isPreview,\n  postId,\n} = props;\n\nconst Body = styled.div`\n  padding: 0rem 1rem;\n`;\n\nconst Content = styled.div`\n  .datetime {\n    font-style: italic;\n    font-size: 12px;\n  }\n`;\n\nconst Actions = styled.div`\n  display: flex;\n  align-items: center;\n  gap: 20px;\n  margin: -3px 0 10px 0;\n\n  a:hover {\n    text-decoration: none;\n  }\n`;\n\nconst Post = styled.div`\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  margin-left: 1rem;\n  padding-left: 1rem;\n  border-left: 2px solid rgb(241 241 241);\n`;\n\nconst Header = styled.div`\n  margin-bottom: 0;\n  display: inline-flex;\n  width: 100%;\n\n  a:hover {\n    text-decoration: none;\n  }\n`;\n\nconst formatDate = (timestamp) => {\n  const date = new Date(parseInt(timestamp) / 1000000);\n\n  return `${date.toLocaleDateString()}, ${date.getHours()}:${date.getMinutes()}`;\n};\n\nreturn (\n  <>\n    <Header>\n      <div className=\"mt-3 d-flex w-100 gap-3 align-items-center\">\n        <Widget\n          src=\"near/widget/AccountProfile\"\n          props={{\n            accountId: comment.author_id,\n            hideAccountId: true,\n          }}\n        />\n        <Widget\n          src={\"ndcdev.near/widget/daos.Components.Clipboard\"}\n          props={{\n            text: `https://near.org/ndcdev.near/widget/daos.App?page=comments&post_id=${postId}&comment_id=${comment.id}`,\n          }}\n        />\n        {comment.author_id === context.accountId && (\n          <a\n            href={`https://near.org/ndcdev.near/widget/daos.App?page=comments&post_id=${postId}&comment_id=${comment.id}&edit=true`}\n          >\n            <i className=\"bi blue bi-pencil\" />\n          </a>\n        )}\n      </div>\n    </Header>\n    <Post>\n      <Body>\n        <Content>\n          <div className=\"datetime d-flex gap-2 mb-2 mt-1 align-items-center justify-content-between text-secondary\">\n            {comment.snapshot_history.length > 0\n              ? \"Edited at: \"\n              : \"Created at: \"}\n            {formatDate(comment.snapshot.timestamp)}\n          </div>\n          <Widget\n            src={\"ndcdev.near/widget/daos.Components.MarkdownViewer\"}\n            props={{ text: comment.snapshot.description }}\n          />\n          <Widget\n            src={\"ndcdev.near/widget/daos.Components.Attachment\"}\n            props={{ attachments: comment.snapshot.attachments }}\n          />\n        </Content>\n\n        {!isPreview && (\n          <Actions>\n            <div role=\"button\" onClick={() => handleLike(comment.id)}>\n              <small className=\"blue\">{comment.likes.length}</small>\n              <i\n                className={`bi blue ${\n                  isLikedByMe(comment) ? \"bi-heart-fill\" : \"bi-heart\"\n                }`}\n              />\n            </div>\n            <div\n              role=\"button\"\n              onClick={() =>\n                setShowReply({ [comment.id]: !showReply[comment.id] })\n              }\n            >\n              <small className=\"blue\">{comment.child_comments.length}</small>\n              <i className=\"bi blue bi-chat\" />\n            </div>\n            <Link\n              to={`/ndcdev.near/widget/daos.App?page=comments&post_id=${postId}&comment_id=${comment.id}`}\n            >\n              <i className={\"bi blue bi-reply fs-5\"} />\n              <small className=\"blue\">Reply</small>\n            </Link>\n          </Actions>\n        )}\n      </Body>\n    </Post>\n  </>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/ndcdev.near/widget/daos.Components.Comment", "fact_widget_deployments_id": "b12ffea848623c91389bfd7f8363dbaa", "inserted_timestamp": "2024-03-07T22:28:07.870Z", "modified_timestamp": "2024-03-07T22:28:07.870Z", "__row_index": 9}