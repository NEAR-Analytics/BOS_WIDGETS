{"tx_hash": "DBJArr9jbzuJnNxRissTNrq9EdsG8VDDuLtBa8TNiXnv", "action_id_social": "5Dz6HAt4eNBz1YyRn48Afez13VdB1ZwoCpjpZoW42hBt-0-widget", "block_id": 112487562, "block_timestamp": "2024-02-09T19:58:38.039Z", "signer_id": "ndcdev.near", "widget_name": "Dashboard.Components.Select.index", "source_code": "const { Select, Check } = VM.require(\n  `ndcdev.near/widget/Dashboard.Components.Select.styled`,\n);\n\nconst { assets } = VM.require(`ndcdev.near/widget/Dashboard.Config`);\n\nif (!Select || !Check || !assets)\n  return <Widget src=\"flashui.near/widget/Loading\" />;\n\nconst {\n  values,\n  multiple,\n  options,\n  onChange,\n  defaultValue,\n  isOpen,\n  onClear,\n  containerClass,\n  text,\n  isTooltipVisible,\n  hintText,\n  onFilterClick,\n  filterIsOpen,\n  id,\n} = props;\n\nconst [open, setOpen] = useState(false);\nconst selectOptions = defaultValue ? [defaultValue, ...options] : options;\nconst isOpenDropdown = !!filterIsOpen ? filterIsOpen : open;\n\nconst setTitle = () => {\n  if (text) return text;\n\n  if (Array.isArray(values)) {\n    return values.length ? `${values.length} Selected` : defaultValue;\n  } else {\n    return values;\n  }\n};\n\nconst handleOpen = () => {\n  if (onFilterClick) {\n    onFilterClick(id);\n  } else {\n    setOpen(!open);\n  }\n};\n\nreturn (\n  <Select onClick={() => !multiple && handleOpen()}>\n    <div className={containerClass}>\n      <div className=\"selected\" onClick={handleOpen}>\n        {setTitle()}\n        {isTooltipVisible && (\n          <Widget\n            src={`ndcdev.near/widget/Dashboard.Components.Tooltip.index`}\n            props={{\n              content: hintText,\n              icon: <i className=\"bi bi-info-circle-fill\" />,\n            }}\n          />\n        )}\n      </div>\n      <div className=\"d-flex gap-2\">\n        {multiple && values.length > 0 && (\n          <i\n            className=\"bi bi-x fs-5 mt-1 mr-1\"\n            onClick={() => onClear() && setOpen(false)}\n          />\n        )}\n        <i\n          onClick={handleOpen}\n          className={`bi bi-chevron-${\n            isOpenDropdown ? \"up\" : \"down\"\n          } fs-5 mt-1`}\n        />\n      </div>\n    </div>\n    {isOpenDropdown && (\n      <ul>\n        {selectOptions.map((option) => (\n          <li onClick={() => onChange(option)}>\n            {multiple && (\n              <Check selected={values.includes(option)}>\n                {values.includes(option) && (\n                  <i className=\"mt-1 bi bi-check-lg\" />\n                )}\n              </Check>\n            )}\n            <div className=\"truncate\">{option}</div>\n          </li>\n        ))}\n      </ul>\n    )}\n  </Select>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/ndcdev.near/widget/Dashboard.Components.Select.index", "fact_widget_deployments_id": "e87788920e509b465a2bf64d7986c5a0", "inserted_timestamp": "2024-03-07T05:24:05.087Z", "modified_timestamp": "2024-03-07T05:24:05.087Z", "__row_index": 7}