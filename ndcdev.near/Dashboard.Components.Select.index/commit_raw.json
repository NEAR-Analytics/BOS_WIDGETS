{"tx_hash": "AfojqdziUdLgnBBXZnWpAN4a8VQuADTkx3Rgwfpfq1CG", "action_id_social": "FZWPdBXkUXnzLMEQhM9pPZq5hwuppeAyufJyD9QiWnGv-0-widget", "block_id": 112172181, "block_timestamp": "2024-02-05T16:57:56.186Z", "signer_id": "ndcdev.near", "widget_name": "Dashboard.Components.Select.index", "source_code": "const { Select, Check, TooltipContainer, TooltipText } = VM.require(\n  `ndcdev.near/widget/Dashboard.Components.Select.styled`,\n);\n\nconst { assets } = VM.require(`ndcdev.near/widget/Dashboard.Config`);\n\nif (!Select || !Check || !assets)\n  return <Widget src=\"flashui.near/widget/Loading\" />;\n\nconst {\n  values,\n  multiple,\n  options,\n  onChange,\n  defaultValue,\n  isOpen,\n  onClear,\n  containerClass,\n  text,\n  isTooltipVisible,\n  hintText,\n  onFilterClick,\n  filterIsOpen,\n  id,\n} = props;\n\nconst [open, setOpen] = useState(false);\nconst selectOptions = defaultValue ? [defaultValue, ...options] : options;\nconst isOpenDropdown = !!filterIsOpen ? filterIsOpen : open;\n\nconst setTitle = () => {\n  if (text) return text;\n\n  if (Array.isArray(values)) {\n    return values.length ? `${values.length} Selected` : defaultValue;\n  } else {\n    return values;\n  }\n};\n\nconst TooltipIcon = styled.i`\n  &:hover + ${TooltipText} {\n    visibility: visible;\n    opacity: 1;\n    white-space: pre-wrap;\n    color: #6b6c75;\n    font-size: 12px;\n    font-style: normal;\n    font-weight: 400;\n    line-height: 16px;\n    box-shadow: 50px 20px 50px 50px rgba(0, 0, 0, 0.05);\n  }\n`;\n\nconst handleOpen = () => {\n  if (onFilterClick) {\n    onFilterClick(id);\n  } else {\n    setOpen(!open);\n  }\n};\n\nreturn (\n  <Select onClick={() => !multiple && handleOpen()}>\n    <div className={containerClass}>\n      <div className=\"selected\" onClick={handleOpen}>\n        {setTitle()}\n        {isTooltipVisible && (\n          <TooltipContainer>\n            <TooltipIcon className=\"bi bi-info-circle-fill\"></TooltipIcon>\n            <TooltipText>{hintText}</TooltipText>\n          </TooltipContainer>\n        )}\n      </div>\n      <div className=\"d-flex gap-2\">\n        {multiple && values.length > 0 && (\n          <i\n            className=\"bi bi-x fs-5 mt-1 mr-1\"\n            onClick={() => onClear() && setOpen(false)}\n          />\n        )}\n        <i onClick={handleOpen} className=\"bi bi-chevron-down fs-5 mt-1\" />\n      </div>\n    </div>\n    {isOpenDropdown && (\n      <ul>\n        {selectOptions.map((option) => (\n          <li onClick={() => onChange(option)}>\n            {multiple && (\n              <Check selected={values.includes(option)}>\n                {values.includes(option) && (\n                  <i className=\"mt-1 bi bi-check-lg\" />\n                )}\n              </Check>\n            )}\n            <div className=\"truncate\">{option}</div>\n          </li>\n        ))}\n      </ul>\n    )}\n  </Select>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/ndcdev.near/widget/Dashboard.Components.Select.index", "fact_widget_deployments_id": "49eaa626f3f820b79e651859309e7111", "inserted_timestamp": "2024-03-07T05:24:05.087Z", "modified_timestamp": "2024-03-07T05:24:05.087Z", "__row_index": 3}