{"tx_hash": "65pRnmRzeRC53myqM7NmGn2rPKq3YC6HyA3NQQZ3YiM5", "action_id_social": "E7CRhGsGdHh91ChV45LmyoABz3gQjeX2sTZdNQnt8YQA-0-widget", "block_id": 122114121, "block_timestamp": "2024-06-27T15:36:57.421Z", "signer_id": "devhub.near", "widget_name": "devhub.entity.addon.blogv2.editor.form", "source_code": "const FormContainer = styled.div`\n  & > *:not(:last-child) {\n    margin-bottom: 1rem;\n  }\n`;\n\nconst {\n  title,\n  setTitle,\n  subtitle,\n  setSubtitle,\n  options,\n  category,\n  setCategory,\n  description,\n  setDescription,\n  debouncedUpdateState,\n  author,\n  setAuthor,\n  date,\n  setDate,\n  content,\n  setContent,\n  addonParameters,\n} = props;\n\nconst InputContainer = ({ heading, description, children }) => {\n  return (\n    <div className=\"d-flex flex-column gap-1 gap-sm-2 w-100\">\n      <b className=\"h6 mb-0\">{heading}</b>\n      {description && (\n        <div className=\"text-muted w-100 text-sm\">{description}</div>\n      )}\n      {children}\n    </div>\n  );\n};\n\nconst TitleComponent = useMemo(() => {\n  return (\n    <Widget\n      src=\"devhub.near/widget/devhub.components.molecule.Input\"\n      props={{\n        className: \"flex-grow-1\",\n        value: title,\n        placeholder: \"Title\",\n        onChange: (e) => setTitle(e.target.value),\n        skipPaddingGap: true,\n        inputProps: {\n          max: 80,\n          required: true,\n          name: \"title\",\n          className:\n            \"block w-full rounded-md border-0 px-1 py-2 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6\",\n        },\n      }}\n    />\n  );\n}, []);\n\nconst SubtitleComponent = useMemo(() => {\n  return (\n    <Widget\n      src=\"devhub.near/widget/devhub.components.molecule.Input\"\n      props={{\n        className: \"flex-grow-1\",\n        value: subtitle,\n        placeholder: \"Subtitle\",\n        onChange: (e) => setSubtitle(e.target.value),\n        skipPaddingGap: true,\n        inputProps: {\n          required: true,\n          max: 80,\n          name: \"subtitle\",\n          className:\n            \"block w-full rounded-md border-0 px-1 py-2 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6\",\n        },\n      }}\n    />\n  );\n}, []);\n\nconst CategorySelect = useMemo(() => {\n  return (\n    <Widget\n      src={\n        \"devhub.near/widget/devhub.entity.addon.blogv2.editor.CategoryDropdown\"\n      }\n      props={{\n        options,\n        selectedValue: category,\n        onChange: setCategory,\n      }}\n    />\n  );\n}, []);\n\nconst DescriptionInput = useMemo(() => {\n  return (\n    <Widget\n      src=\"devhub.near/widget/devhub.components.molecule.Input\"\n      props={{\n        className: \"flex-grow-1\",\n        onChange: (e) => setDescription(e.target.value),\n        value: description,\n        multiline: true,\n        placeholder: \"Description\",\n        inputProps: {\n          max: 500,\n          name: \"description\",\n          className:\n            \"block w-full rounded-md border-0 px-1 py-2 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6\",\n        },\n        skipPaddingGap: true,\n        key: \"description-input-field\",\n      }}\n    />\n  );\n}, []);\n\nconst AuthorInput = useMemo(() => {\n  return (\n    <Widget\n      src=\"devhub.near/widget/devhub.components.molecule.Input\"\n      props={{\n        className: \"flex-grow-1\",\n        onChange: (e) => setAuthor(e.target.value),\n        value: author,\n        placeholder: \"Author\",\n        inputProps: {\n          name: \"author\",\n          className:\n            \"block w-full rounded-md border-0 px-1 py-2 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6\",\n        },\n        skipPaddingGap: true,\n        key: \"author-input-field\",\n      }}\n    />\n  );\n}, []);\n\nconst DateInput = () => {\n  return (\n    <input\n      name=\"date\"\n      type=\"date\"\n      value={date}\n      className=\"block w-full rounded-md border-0 px-1 py-2 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6\"\n      onChange={(e) => setDate(e.target.value)}\n    />\n  );\n};\n\nconst ContentEditor = useMemo(() => {\n  return (\n    <Widget\n      src=\"devhub.near/widget/devhub.components.molecule.MarkdownEditor\"\n      props={{ data: { content }, onChange: setContent, autoFocus: false }}\n    />\n  );\n}, []);\n\nreturn (\n  <FormContainer id=\"blog-editor-form\">\n    <InputContainer\n      heading=\"Title\"\n      description=\"Highlight the essence of your blog in a few words. This will appear on your blog card and on the top of your blog.\"\n    >\n      {TitleComponent}\n    </InputContainer>\n    <InputContainer\n      heading=\"Subtitle\"\n      description=\"Provide a brief subtitle for the blog\"\n    >\n      {SubtitleComponent}\n    </InputContainer>\n    {addonParameters.categoriesEnabled === \"enabled\" ? (\n      <InputContainer\n        heading=\"Category\"\n        description={\n          <>\n            Choose the category that fits your blog best. Set up your categories\n            in the blog settings.\n          </>\n        }\n      >\n        {CategorySelect}\n      </InputContainer>\n    ) : (\n      <></>\n    )}\n\n    <InputContainer\n      heading=\"Description\"\n      description=\"Provide a brief description for the blog. This will appear on the blog card.\"\n    >\n      {DescriptionInput}\n    </InputContainer>\n    {addonParameters.authorEnabled === \"disabled\" ? (\n      <></>\n    ) : (\n      <InputContainer heading=\"Author\" description=\"Who wrote this blog?\">\n        {AuthorInput}\n      </InputContainer>\n    )}\n    <InputContainer\n      heading=\"Visible Publish Date\"\n      description=\"What date do you want to have the blog published under?\"\n    >\n      <DateInput />\n    </InputContainer>\n\n    <InputContainer\n      heading=\"Content\"\n      description=\"Write your blog here. Use Markdown to format your content.\"\n    >\n      {ContentEditor}\n    </InputContainer>\n  </FormContainer>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/devhub.near/widget/devhub.entity.addon.blogv2.editor.form", "fact_widget_deployments_id": "2632abd824bed93d8dba10b0cf6f911d", "inserted_timestamp": "2024-06-27T16:54:28.525Z", "modified_timestamp": "2024-06-27T16:54:28.525Z", "__row_index": 1}