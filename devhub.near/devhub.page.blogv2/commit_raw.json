{"tx_hash": "BJ4dMQ44SQF3fVQo2gz5wGx3rX7SfQDAESNVNovCGc9s", "action_id_social": "ds7ZDVbcQZNHsRLqSJAFzQubnvnTvRebqAyyuaTmtdK-0-widget", "block_id": 120483058, "block_timestamp": "2024-06-05T09:32:57.363Z", "signer_id": "devhub.near", "widget_name": "devhub.page.blogv2", "source_code": "const { id, community, communityAddonId } = props;\n\nconst { Page } =\n  VM.require(\"devhub.near/widget/devhub.entity.addon.blogv2.Page\") ||\n  (() => <></>);\n\nconst { getAccountCommunityPermissions } = VM.require(\n  \"devhub.near/widget/core.adapter.devhub-contract\"\n) || {\n  getAccountCommunityPermissions: () => {},\n};\n\nconst [showEditScreenData, setShowEditScreen] = useState(null);\n\nconst permissions = getAccountCommunityPermissions({\n  account_id: context.accountId,\n  community_handle: community,\n}) || {\n  can_configure: false,\n  can_delete: false,\n};\n\nif (id && !showEditScreenData) {\n  return (\n    <Widget\n      src=\"devhub.near/widget/devhub.entity.addon.blogv2.Blog\"\n      props={{\n        blogId: id,\n        handle: community,\n        template: (p) => (\n          <Page\n            {...(p || {})}\n            onEdit={() => {\n              setShowEditScreen({ ...p, data: { ...p.data, id: id } });\n            }}\n            accountId={context.accountId}\n            community={community}\n          />\n        ),\n      }}\n    />\n  );\n}\n\nconst HeaderContainer = styled.div`\n  display: flex;\n  width: 100%;\n  height: 60px;\n  padding: 1rem 3rem;\n  align-items: center;\n  flex-shrink: 0;\n  background-color: #f4f4f4;\n\n  @media screen and (max-width: 768px) {\n    padding: 1rem;\n  }\n`;\n\nconst Header = styled.h1`\n  color: #555555;\n  font-size: 24px;\n  font-style: normal;\n  font-weight: 500;\n  line-height: 120%; /* 28.8px */\n  letter-spacing: -0.24px;\n  margin: 0;\n`;\n\nconst BlogContainer = styled.div`\n  padding: 1rem 3rem;\n\n  @media screen and (max-width: 768px) {\n    padding: 1rem;\n  }\n`;\n\nconst EditorContainer = styled.div`\n  position: relative;\n  width: 100%;\n  padding: 20px;\n  padding-top: 40px;\n  .cancel-icon {\n    position: absolute;\n    top: 0px;\n    left: 30px;\n    font-size: 18px;\n    cursor: pointer;\n    display: flex;\n  }\n\n  .back-button {\n    font-size: 18px;\n    line-height: 25px;\n    margin-left: 10px;\n    justify-content: center;\n    align-items: center;\n  }\n`;\n\nif (showEditScreenData) {\n  return (\n    <EditorContainer>\n      <div className=\"cancel-icon\" onClick={() => setShowEditScreen(null)}>\n        <i class=\"bi bi-arrow-left\"></i> <p className=\"back-button\">Back</p>\n      </div>\n      <Widget\n        src=\"devhub.near/widget/devhub.entity.addon.blogv2.Blog\"\n        props={{\n          blogId: id,\n          handle: community,\n          template: (p) => {\n            return (\n              <Widget\n                src={`devhub.near/widget/devhub.entity.addon.blogv2.Configurator`}\n                props={{\n                  ...showEditScreenData,\n                  handle: community,\n                  communityAddonId: p.data.communityAddonId,\n                  selectedBlog: { ...p.data, id },\n                  permissions,\n                }}\n              />\n            );\n          },\n        }}\n      />\n    </EditorContainer>\n  );\n}\nreturn (\n  <div className=\"w-100\">\n    <Widget src={`devhub.near/widget/devhub.components.island.banner`} />\n    <HeaderContainer>\n      <Header>Blog</Header>\n    </HeaderContainer>\n    <BlogContainer>\n      <Widget\n        src={\"devhub.near/widget/devhub.entity.addon.blogv2.Viewer\"}\n        props={{\n          handle: community,\n          hideTitle: true,\n        }}\n      />\n    </BlogContainer>\n  </div>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/devhub.near/widget/devhub.page.blogv2", "fact_widget_deployments_id": "a5b9880ee73c558fdbcd2f8941e9597e", "inserted_timestamp": "2024-06-05T11:08:30.675Z", "modified_timestamp": "2024-06-05T11:08:30.675Z", "__row_index": 3}