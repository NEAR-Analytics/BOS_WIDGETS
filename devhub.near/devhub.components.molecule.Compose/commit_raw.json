{"tx_hash": "24e7p6mcaSJVHhNK1FLmKFFcAktsvNxhaHYtSvFcTA1a", "action_id_social": "FAZgKpMSyNT9h2XUxgNqDz4yUvgf3osaPhB15TiKm384-0-widget", "block_id": 117049604, "block_timestamp": "2024-04-17T17:03:30.392Z", "signer_id": "devhub.near", "widget_name": "devhub.components.molecule.Compose", "source_code": "const EmbeddCSS = `\n  .CodeMirror {\n   margin-inline:10px;\n   border-radius:5px;\n  }\n\n  .editor-toolbar {\n    border: none !important;\n  }\n`;\n\nconst Wrapper = styled.div`\n  .nav-link {\n    color: inherit !important;\n  }\n\n  .card-header {\n    padding-bottom: 0px !important;\n  }\n`;\n\nconst Compose = ({\n  data,\n  onChange,\n  autocompleteEnabled,\n  placeholder,\n  height,\n  embeddCSS,\n}) => {\n  State.init({\n    data: data,\n    selectedTab: \"editor\",\n  });\n\n  useEffect(() => {\n    onChange(state.data);\n  }, [state.data]);\n\n  useEffect(() => {\n    if (data !== state.data) {\n      State.update({ data: data, handler: \"autocompleteSelected\" });\n    }\n  }, [data]);\n\n  return (\n    <Wrapper>\n      <div className=\"card\">\n        <div className=\"card-header\" style={{ position: \"relative\" }}>\n          <div>\n            <ul class=\"nav nav-tabs\">\n              <li class=\"nav-item\">\n                <button\n                  class={`nav-link ${\n                    state.selectedTab === \"editor\" ? \"active\" : \"\"\n                  }`}\n                  onClick={() => State.update({ selectedTab: \"editor\" })}\n                >\n                  Write\n                </button>\n              </li>\n              <li class=\"nav-item\">\n                <button\n                  class={`nav-link ${\n                    state.selectedTab === \"preview\" ? \"active\" : \"\"\n                  }`}\n                  onClick={() => State.update({ selectedTab: \"preview\" })}\n                >\n                  Preview\n                </button>\n              </li>\n            </ul>\n          </div>\n        </div>\n\n        {state.selectedTab === \"editor\" ? (\n          <>\n            <Widget\n              src={\"devhub.near/widget/devhub.components.molecule.SimpleMDE\"}\n              props={{\n                data: { handler: state.handler, content: state.data },\n                onChange: (content) => {\n                  State.update({ data: content, handler: \"update\" });\n                },\n                placeholder: placeholder,\n                height,\n                embeddCSS: embeddCSS || EmbeddCSS,\n                showAutoComplete: autocompleteEnabled,\n              }}\n            />\n          </>\n        ) : (\n          <div className=\"card-body\">\n            <Widget\n              src={\n                \"devhub.near/widget/devhub.components.molecule.MarkdownViewer\"\n              }\n              props={{\n                text: data,\n              }}\n            />\n          </div>\n        )}\n      </div>\n    </Wrapper>\n  );\n};\n\nreturn Compose(props);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/devhub.near/widget/devhub.components.molecule.Compose", "fact_widget_deployments_id": "47b8172aa2f4ff25b60daa77d4e392bc", "inserted_timestamp": "2024-04-17T18:43:31.842Z", "modified_timestamp": "2024-04-17T18:43:31.842Z", "__row_index": 19}