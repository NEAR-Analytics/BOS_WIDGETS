{"tx_hash": "65pRnmRzeRC53myqM7NmGn2rPKq3YC6HyA3NQQZ3YiM5", "action_id_social": "E7CRhGsGdHh91ChV45LmyoABz3gQjeX2sTZdNQnt8YQA-0-widget", "block_id": 122114121, "block_timestamp": "2024-06-27T15:36:57.421Z", "signer_id": "devhub.near", "widget_name": "devhub.entity.addon.blogv2.editor.BlogOverview", "source_code": "// Pagination not necessary since it won't be too many blogs per community\n// a few hundred widgets per account are also not a problem\nconst { data, editPostId, handleItemClick, selectedItem } = props;\n\nconst options = { year: \"numeric\", month: \"short\", day: \"numeric\" };\nconst formattedDate = (date) => new Date(date).toLocaleString(\"en-US\", options);\n\nconst blogData = [\n  {\n    id: \"new\",\n    title: \"New Blog Post\",\n    status: \"DRAFT\",\n    createdAt: new Date().toISOString().slice(0, 10),\n    updatedAt: new Date().toISOString().slice(0, 10),\n    publishedAt: \"yyyy-MM-dd\",\n    content: \"\",\n    author: \"\",\n    description: \"\",\n    subtitle: \"\",\n  },\n  ...data,\n];\n\nreturn (\n  <table\n    id=\"manage-blog-table\"\n    className=\"w-full table-auto text-sm text-left overflow-y-scroll h-dvh\"\n  >\n    <thead className=\"bg-gray-50 text-gray-600 font-medium border-b\">\n      <tr>\n        <th scope=\"col\" className={`py-3 px-6 ${props.hideColumns && \"px-2\"}`}>\n          Name\n        </th>\n        {props.hideColumns ? null : (\n          <>\n            <th scope=\"col\" className=\"py-3 px-6\">\n              Status\n            </th>\n            <th scope=\"col\" className=\"py-3 px-6\" data-testid=\"createdAt\">\n              Created\n            </th>\n            <th scope=\"col\" className=\"py-3 px-6\" data-testid=\"updatedAt\">\n              Updated\n            </th>\n            <th scope=\"col\" className=\"py-3 px-6\" data-testid=\"publishedAt\">\n              Visible Publish Date\n            </th>\n          </>\n        )}\n      </tr>\n    </thead>\n    <tbody className=\"text-gray-600 divide-y\">\n      {(blogData || []).map((it) => {\n        // Hide the new blog post item unless selectedItem is new\n        if (it.id === \"new\" && selectedItem !== \"new\") {\n          return;\n        }\n\n        const isSelected =\n          it.id === selectedItem.id ||\n          (it.id === \"new\" && selectedItem === \"new\");\n\n        return (\n          <tr\n            id={`edit-blog-selector-${it.id}`}\n            data-testid=\"edit-blog-row\"\n            className={`cursor-pointer hover-bg-slate-300 ${\n              it.id === selectedItem.id ? \"bg-gray-100\" : \"\"\n            }`}\n            key={it.id}\n            onClick={() => handleItemClick(it)}\n          >\n            <td\n              scope=\"row\"\n              className={`px-6 py-4 ${props.hideColumns && \"px-2\"}`}\n            >\n              <div\n                className={`${isSelected && \"font-semibold text-secondary\"} ${\n                  props.hideColumns &&\n                  \"whitespace-nowrap truncate overflow-hidden w-40\"\n                } text-truncate`}\n              >\n                {it.title}\n              </div>\n            </td>\n\n            {props.hideColumns ? null : (\n              <>\n                <td className=\"px-6 py-4 \">\n                  <span\n                    className={`px-3 py-2 rounded-full font-semibold text-xs ${\n                      it.status == \"PUBLISH\"\n                        ? \"text-green-600 bg-green-50\"\n                        : \"text-blue-600 bg-blue-50\"\n                    }`}\n                  >\n                    {it.status == \"PUBLISH\" ? \"Published\" : \"Draft\"}\n                  </span>\n                </td>\n                <td className=\"px-6 py-4 \">{formattedDate(it.createdAt)}</td>\n                <td className=\"px-6 py-4  \">{formattedDate(it.updatedAt)}</td>\n                <td className=\"px-6 py-4  \">{formattedDate(it.publishedAt)}</td>\n              </>\n            )}\n          </tr>\n        );\n      })}\n    </tbody>\n  </table>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/devhub.near/widget/devhub.entity.addon.blogv2.editor.BlogOverview", "fact_widget_deployments_id": "77bc9d6194a885e9ab0738202ab0f672", "inserted_timestamp": "2024-06-27T16:54:28.525Z", "modified_timestamp": "2024-06-27T16:54:28.525Z", "__row_index": 1}