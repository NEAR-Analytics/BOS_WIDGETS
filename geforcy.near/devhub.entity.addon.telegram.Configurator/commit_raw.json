{"tx_hash": "6oW1u3F6rnFrrEwMSvryvPs5X4yhcSrFDCEeUVHJswfe", "action_id_social": "GEVwU6DKNeVjZUyK97hqm4GiNvgDGY5JBQndRzXBGK8z-0-widget", "block_id": 116350384, "block_timestamp": "2024-04-07T22:42:24.921Z", "signer_id": "geforcy.near", "widget_name": "devhub.entity.addon.telegram.Configurator", "source_code": "const { Tile } =\n  VM.require(\"geforcy.near/widget/devhub.components.molecule.Tile\") ||\n  (() => <></>);\n\nif (!Tile) {\n  return <div>Loading...</div>;\n}\n\nconst { data, onSubmit } = props;\n\nconst Container = styled.div`\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n`;\n\nconst Item = styled.div`\n  padding: 10px;\n  margin: 5px;\n  display: flex;\n  align-items: center;\n  flex-direction: row;\n  gap: 10px;\n`;\n\nconst EditableField = styled.input`\n  flex: 1;\n`;\nconst initialData = data.handles;\nconst [handles, setHandles] = useState(initialData || []);\nconst [newItem, setNewItem] = useState(\"\");\n\nconst handleAddItem = () => {\n  if (newItem) {\n    setHandles([...handles, newItem]);\n    setNewItem(\"\");\n  }\n};\n\nconst handleDeleteItem = (index) => {\n  const updatedData = [...handles];\n  updatedData.splice(index, 1);\n  setHandles(updatedData);\n};\n\nconst handleSubmit = () => {\n  onSubmit({ handles: handles.map((handle) => handle.trim()) });\n};\n\nreturn (\n  <Tile className=\"p-3\">\n    <Container>\n      {handles.map((item, index) => (\n        <Item key={index}>\n          <div className=\"flex-grow-1\">\n            <Widget\n              src=\"geforcy.near/widget/devhub.components.molecule.Input\"\n              props={{\n                className: \"flex-grow-1\",\n                value: item,\n                placeholder: \"Telegram Handle\",\n                inputProps: {\n                  prefix: \"https://t.me/\",\n                  disabled: true,\n                },\n              }}\n            />\n          </div>\n          <button\n            className=\"btn btn-outline-danger\"\n            onClick={() => handleDeleteItem(index)}\n          >\n            <i className=\"bi bi-trash-fill\" />\n          </button>\n        </Item>\n      ))}\n      <Item>\n        <div className=\"flex-grow-1\">\n          <Widget\n            src=\"geforcy.near/widget/devhub.components.molecule.Input\"\n            props={{\n              className: \"flex-grow-1\",\n              onChange: (e) => setNewItem(e.target.value),\n              value: newItem,\n              placeholder: \"Telegram Handle\",\n              inputProps: {\n                prefix: \"https://t.me/\",\n              },\n            }}\n          />\n        </div>\n        <button\n          className=\"btn btn-success\"\n          onClick={handleAddItem}\n          disabled={newItem === \"\"}\n        >\n          <i className=\"bi bi-plus\" />\n        </button>\n      </Item>\n      <div\n        className={\"d-flex align-items-center justify-content-end gap-3 mt-4\"}\n      >\n        <Widget\n          src={\"geforcy.near/widget/devhub.components.molecule.Button\"}\n          props={{\n            classNames: { root: \"btn-success\" },\n            disabled: initialData === handles,\n            icon: {\n              type: \"bootstrap_icon\",\n              variant: \"bi-check-circle-fill\",\n            },\n            label: \"Submit\",\n            onClick: handleSubmit,\n          }}\n        />\n      </div>\n    </Container>\n  </Tile>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/geforcy.near/widget/devhub.entity.addon.telegram.Configurator", "fact_widget_deployments_id": "0227b4f529b23da4d51b639ee3977422", "inserted_timestamp": "2024-04-08T00:45:59.861Z", "modified_timestamp": "2024-04-08T00:45:59.861Z", "__row_index": 60}