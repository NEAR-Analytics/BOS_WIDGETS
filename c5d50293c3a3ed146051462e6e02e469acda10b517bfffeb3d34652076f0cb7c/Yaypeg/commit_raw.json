{"tx_hash": "A2VbMPQibfaZZoWDu72Vqq5p2RBvHTdCpo3xnC6CrE9U", "action_id_social": "BzqAUK53Bkdqno8BuzWU4zaFQbgGD8CTzPF1bsk2Zy3k-0-widget", "block_id": 102846564, "block_timestamp": "2023-10-07T19:03:02.269Z", "signer_id": "c5d50293c3a3ed146051462e6e02e469acda10b517bfffeb3d34652076f0cb7c", "widget_name": "Yaypeg", "source_code": "const lookup = (id) =>\n  `https://firebasestorage.googleapis.com/v0/b/yaypegsnft.appspot.com/o/illustration%2F${id}.png`;\n\nconst getYaypeg = (address) => {\n  if (!ethers.utils.isAddress(address)) return null;\n  const id =\n    ethers.BigNumber.from(\n      ethers.utils.keccak256(ethers.utils.arrayify(address))\n    )\n      .mod(10000)\n      .toNumber() + 1;\n\n  return asyncFetch(lookup(id)).then(\n    ({ body: { downloadTokens } }) =>\n      `https://firebasestorage.googleapis.com/v0/b/yaypegsnft.appspot.com/o/illustration%2F${id}.png?alt=media&firebase=${downloadTokens}`\n  );\n};\n\nconst Yaypeg = ({ address, width, height }) => {\n  const [img, setImg] = useState(\"\");\n\n  useEffect(() => {\n    getYaypeg(address).then((y) => setImg(y));\n  }, []);\n\n  if (!img) {\n    return <p>Loading...</p>;\n  }\n\n  return <img src={img} width={width} height={height} />;\n};\n\nreturn <Yaypeg {...props} />;\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/c5d50293c3a3ed146051462e6e02e469acda10b517bfffeb3d34652076f0cb7c/widget/Yaypeg", "fact_widget_deployments_id": "2292ed9e8158a74ab8b77becf7ca0374", "inserted_timestamp": "2023-10-07T20:48:58.638Z", "modified_timestamp": "2023-10-07T20:48:58.638Z", "__row_index": 8}