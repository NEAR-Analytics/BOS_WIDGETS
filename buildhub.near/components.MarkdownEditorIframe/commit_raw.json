{"tx_hash": "CV8Cs7DdaXkJWPnjPMVt2nqmQUZXXQhHchrhRk52GCwj", "action_id_social": "CVemaBbpRuNAeYvqtXmzV7zVjATVeFeeK3dbU5uTZ18E-0-widget", "block_id": 117392570, "block_timestamp": "2024-04-22T16:24:25.287Z", "signer_id": "buildhub.near", "widget_name": "components.MarkdownEditorIframe", "source_code": "const data = props.data ?? \"# Hello World\\n\\n\";\nconst embedCss = props.embedCss || \"\";\nconst code = `\n<script src=\"https://unpkg.com/react@18/umd/react.development.js\" crossorigin></script>\n<script src=\"https://unpkg.com/react-dom@18/umd/react-dom.development.js\" crossorigin></script>\n<script src=\"https://unpkg.com/react-markdown-editor-lite@1.3.4/lib/index.js\" crossorigin></script>\n<link rel=\"stylesheet\" href=\"https://unpkg.com/react-markdown-editor-lite@1.3.4/lib/index.css\" />\n<style>\n${embedCss}\n</style>\n<div id=\"react-root\"></div>\n<script>\nlet isEditorInitialized = false;\nlet editorInstance = null;\nfunction MarkdownEditor(props) {\n  const [value, setValue] = React.useState(props.initialText || \"\");\n  const updateEditorState = (text) => {\n    setValue(text);\n    window.top.postMessage(text, \"*\");\n  };\n  editorInstance = { updateEditorState };\n  return React.createElement(ReactMarkdownEditorLite.default, {\n      value,\n      view: { menu: true, md: true, html: false },\n      canView: { menu: true, md: false, html: false, fullScreen: false, hideMenu: true },\n      onChange: ({ text }) => {\n        updateEditorState(text)\n      },\n      renderHTML: () => {},\n      className: \"full\",\n    }); \n}\nconst domContainer = document.querySelector('#react-root');\nconst root = ReactDOM.createRoot(domContainer);\nwindow.addEventListener(\"message\", (event) => {\n  if (!isEditorInitialized) {\n    root.render(React.createElement(MarkdownEditor, {\n        initialText: event.data.content }));\n        isEditorInitialized = true;\n  } else {\n    if (event.data.handler === 'autocompleteSelected') {\n      if (editorInstance) {\n        editorInstance.updateEditorState(event.data.content);\n      }\n    }\n  }\n});\n</script>\n`;\nreturn (\n  <iframe\n    className=\"w-100 h-100\"\n    srcDoc={code}\n    message={data}\n    onMessage={props.onChange}\n  />\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/buildhub.near/widget/components.MarkdownEditorIframe", "fact_widget_deployments_id": "f099e3a440c0777e6b1df5071ef5ec83", "inserted_timestamp": "2024-04-22T18:38:50.728Z", "modified_timestamp": "2024-04-22T18:38:50.728Z", "__row_index": 2}