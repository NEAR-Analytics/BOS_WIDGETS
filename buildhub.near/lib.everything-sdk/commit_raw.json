{"tx_hash": "CwEk2kWWK7SwrUzJqpnPkFhRq72UuwPqUj2diuoX5kZF", "action_id_social": "2bkGmYse1ovpoJczmqd8ghsZytPmv1SYJz8HPF9gMBs1-0-widget", "block_id": 112631448, "block_timestamp": "2024-02-11T20:01:22.985Z", "signer_id": "buildhub.near", "widget_name": "lib.everything-sdk", "source_code": "function flattenObject(data, app, type) {\n  let paths = [];\n\n  Object.entries(data).forEach(([accountName, accountData]) => {\n    if (accountData.hasOwnProperty(app)) {\n      const testData = accountData[app];\n      if (testData.hasOwnProperty(type)) {\n        const thingData = testData[type];\n        Object.entries(thingData).forEach(([key]) => {\n          paths.push(`${accountName}/${app}/${type}/${key}`);\n        });\n      }\n    }\n  });\n\n  return paths;\n}\n\nfunction fetchThings(app, type) {\n  const rawKeys = Social.keys(`*/${app}/${type}/*`, \"final\", {\n    return_type: \"BlockHeight\",\n  });\n\n  if (!rawKeys) {\n    return \"\";\n  }\n\n  const flattenedKeys = flattenObject(rawKeys, app, type);\n\n  let things = [];\n  flattenedKeys.forEach((key) =>\n    things.push(JSON.parse(Social.get(key, \"final\")))\n  );\n\n  return things;\n}\n\nreturn { fetchThings };\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/buildhub.near/widget/lib.everything-sdk", "fact_widget_deployments_id": "6fefd3fcf692a57fc4eb1f2c63c64ead", "inserted_timestamp": "2024-03-07T05:24:05.087Z", "modified_timestamp": "2024-03-07T05:24:05.087Z", "__row_index": 2}