{"tx_hash": "CV8Cs7DdaXkJWPnjPMVt2nqmQUZXXQhHchrhRk52GCwj", "action_id_social": "CVemaBbpRuNAeYvqtXmzV7zVjATVeFeeK3dbU5uTZ18E-0-widget", "block_id": 117392570, "block_timestamp": "2024-04-22T16:24:25.287Z", "signer_id": "buildhub.near", "widget_name": "lib.everything-sdk", "source_code": "function flattenObject(data, app, type) {\n  let paths = [];\n  Object.entries(data).forEach(([accountName, accountData]) => {\n    if (accountData.hasOwnProperty(app)) {\n      const testData = accountData[app];\n      if (testData.hasOwnProperty(type)) {\n        const thingData = testData[type];\n        Object.entries(thingData).forEach(([key]) => {\n          paths.push(`${accountName}/${app}/${type}/${key}`);\n        });\n      }\n    }\n  });\n  return paths;\n}\nfunction fetchThings(app, type) {\n  const rawKeys = Social.keys(`*/${app}/${type}/*`, \"final\", {\n    return_type: \"BlockHeight\",\n  });\n  if (!rawKeys) {\n    return \"\";\n  }\n  const flattenedKeys = flattenObject(rawKeys, app, type);\n  let things = [];\n  flattenedKeys.forEach((key) =>\n    things.push({\n      ...JSON.parse(Social.get(key, \"final\")),\n      key,\n    })\n  );\n  return things;\n}\nreturn { fetchThings };\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/buildhub.near/widget/lib.everything-sdk", "fact_widget_deployments_id": "3c07abe425b3afc9cff3f90c68757964", "inserted_timestamp": "2024-04-22T18:38:50.728Z", "modified_timestamp": "2024-04-22T18:38:50.728Z", "__row_index": 1}