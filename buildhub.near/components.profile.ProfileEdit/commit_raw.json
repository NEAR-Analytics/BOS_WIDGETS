{"tx_hash": "2D7DA7RvtMhdHsqMGj21pqt6J6gE8pon5ctj7CV1NhXB", "action_id_social": "2dednauqPtTaZ33Qu3oJ5j9agk7MFdgBmwrGRbXXNeBa-0-widget", "block_id": 111942190, "block_timestamp": "2024-02-02T15:47:46.313Z", "signer_id": "buildhub.near", "widget_name": "components.profile.ProfileEdit", "source_code": "const { Button, Avatar, InputField, TextEditor } = VM.require(\n  \"buildhub.near/widget/components\"\n) || {\n  Button: () => <></>,\n  Avatar: () => <></>,\n  InputField: () => <></>,\n  TextEditor: () => <></>,\n};\n\nconst accountId = context.accountId;\n\nif (!accountId) {\n  return \"\";\n}\n\nconst profile = Social.getr(`${accountId}/profile`);\n\nif (!profile) {\n  return \"\";\n}\n\nconst [name, setName] = useState(profile.name ?? \"\");\nconst [description, setDescription] = useState(profile.description ?? \"\");\nconst [location, setLocation] = useState(profile.location ?? \"\");\nconst [twitter, setTwitter] = useState(profile.linktree.twitter ?? \"\");\nconst [github, setGithub] = useState(profile.linktree.github ?? \"\");\nconst [telegram, setTelegram] = useState(profile.linktree.telegram ?? \"\");\nconst [website, setWebsite] = useState(profile.linktree.website ?? \"\");\nconst [image, setImage] = useState(profile.image ?? {});\n\nconst onNameChange = useCallback((e) => {\n  setName(e.target.value);\n}, []);\n\nconst onDescriptionChange = useCallback((e) => {\n  setDescription(e);\n}, []);\n\nconst onLocationChange = useCallback((e) => {\n  setLocation(e.target.value);\n}, []);\n\nconst onTwitterChange = useCallback((e) => {\n  setTwitter(e.target.value);\n}, []);\n\nconst onGithubChange = useCallback((e) => {\n  setGithub(e.target.value);\n}, []);\n\nconst onTelegramChange = useCallback((e) => {\n  setTelegram(e.target.value);\n}, []);\n\nconst onWebsiteChange = useCallback((e) => {\n  setWebsite(e.target.value);\n}, []);\n\nconst setEditMode = props.setEditMode || (() => {});\n\nconst SpanLabel = styled.span`\n  color: var(--White-100, #fff);\n\n  /* Body/14px */\n  font-size: 14px;\n  font-style: normal;\n  font-weight: 400;\n  line-height: 170%; /* 23.8px */\n`;\n\nconst ProfileImageContainer = styled.div`\n  display: flex;\n  flex-direction: row;\n  gap: 4px;\n  align-items: center;\n\n  img {\n    width: 64px;\n    height: 64px;\n    object-fit: cover;\n    border-radius: 100%;\n  }\n`;\n\nreturn (\n  <>\n    <div className=\"ms-auto\">\n      <Button\n        style={{ marginRight: 8 }}\n        variant=\"outline\"\n        onClick={() => {\n          Social.set(\n            {\n              profile: {\n                name,\n                image: image,\n                description,\n                location,\n                linktree: {\n                  twitter,\n                  github,\n                  telegram,\n                  website,\n                },\n              },\n            },\n            {\n              onCommit: () => {\n                setEditMode(false);\n              },\n            }\n          );\n        }}\n        id={\"save-profile\"}\n      >\n        Save Profile\n      </Button>\n      <Button\n        variant=\"outline\"\n        onClick={() => setEditMode(false)}\n        id={\"cancel-edit\"}\n      >\n        Cancel\n      </Button>\n    </div>\n    <div className=\"d-flex flex-column\" style={{ gap: 24 }}>\n      <ProfileImageContainer className=\"d-flex align-items-center gap-1\">\n        <Widget\n          src=\"buildhub.near/widget/components.profile.ImageUploader\"\n          loading=\"\"\n          props={{\n            image: profile.image,\n            setImage: setImage,\n          }}\n        />\n      </ProfileImageContainer>\n      <InputField\n        label=\"Name\"\n        value={name}\n        key={\"name\"}\n        onChange={onNameChange}\n        placeholder=\"Enter full name\"\n        maxWidth=\"100%\"\n      />\n      <TextEditor\n        value={description}\n        onChange={onDescriptionChange}\n        label=\"Description\"\n      />\n      <InputField\n        label=\"Location\"\n        value={location}\n        key={\"location\"}\n        onChange={onLocationChange}\n        placeholder=\"eg. United States\"\n        maxWidth=\"100%\"\n      />\n      <InputField\n        label=\"Twitter\"\n        value={twitter}\n        key={\"twitter\"}\n        onChange={onTwitterChange}\n        placeholder=\"twitter handle\"\n        maxWidth=\"100%\"\n      />\n      <InputField\n        label=\"Github\"\n        value={github}\n        key={\"github\"}\n        onChange={onGithubChange}\n        placeholder=\"github handle\"\n        maxWidth=\"100%\"\n      />\n      <InputField\n        value={telegram}\n        onChange={onTelegramChange}\n        key={\"telegram\"}\n        label=\"Telegram\"\n        placeholder=\"telegram handle\"\n        maxWidth=\"100%\"\n      />\n      <InputField\n        label=\"Website\"\n        value={website}\n        key={\"website\"}\n        onChange={onWebsiteChange}\n        placeholder=\"website link\"\n        maxWidth=\"100%\"\n      />\n    </div>\n  </>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/buildhub.near/widget/components.profile.ProfileEdit", "fact_widget_deployments_id": "7e74fe9f401ca87362cbbfb6b7dc6338", "inserted_timestamp": "2024-03-07T05:24:05.087Z", "modified_timestamp": "2024-03-07T05:24:05.087Z", "__row_index": 0}