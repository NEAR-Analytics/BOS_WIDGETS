{"tx_hash": "CV8Cs7DdaXkJWPnjPMVt2nqmQUZXXQhHchrhRk52GCwj", "action_id_social": "CVemaBbpRuNAeYvqtXmzV7zVjATVeFeeK3dbU5uTZ18E-0-widget", "block_id": 117392570, "block_timestamp": "2024-04-22T16:24:25.287Z", "signer_id": "buildhub.near", "widget_name": "components.post.Content", "source_code": "const content = props.content;\nconst noEmbed = !!props.noEmbed;\nconst [truncated, setTruncated] = useState(props.truncateContent ?? true);\nconst Wrapper = styled.div`\n  overflow: hidden;\n  .truncated-content {\n    max-height: 38em;\n    position: relative;\n    overflow: hidden;\n    .expand-post {\n      position: absolute;\n      z-index: 1;\n      top: 35em;\n      left: 0;\n      background-image: linear-gradient(\n        to bottom,\n        rgba(255, 255, 255, 0),\n        rgba(255, 255, 255, 1) 25%\n      );\n      width: 100%;\n      height: 3em;\n      > div {\n        position: relative;\n        width: 100%;\n        height: 100%;\n        vertical-align: bottom;\n        display: flex;\n        flex-direction: column;\n        justify-content: flex-end;\n        cursor: pointer;\n        > a {\n          margin: 0 0 0.7em 0.7em;\n        }\n      }\n    }\n    @media (max-width: 991px) {\n      max-height: 30em;\n      .expand-post {\n        top: 27em;\n      }\n    }\n  }\n  .full-content {\n    .expand-post {\n      display: none;\n    }\n  }\n`;\nconst currentPath = props.currentPath ?? \"/buildhub.near/widget/app?page=feed\";\nconst [onHashtag] = useState(() => (hashtag) => (\n  <span\n    key={hashtag}\n    className=\"d-inline-flex\"\n    style={{ color: \"var(--bs-link-color)\" }}\n  >\n    <Link href={`${currentPath}&hashtag=${hashtag}`}>#{hashtag}</Link>\n  </span>\n));\nconst [showLightbox, setShowLightbox] = useState(false);\nconst [onImage] = useState(\n  () => (props) =>\n    props.src && (\n      <Widget\n        key=\"content-img\"\n        src=\"mob.near/widget/MainPage.N.Post.Content.Image\"\n        loading={<div className=\"w-100\" style={{ height: \"24em\" }} />}\n        props={{\n          image: {\n            url: props.src,\n          },\n          alt: props.alt ?? \"inline image\",\n        }}\n      />\n    )\n);\nconst onLink = useCallback((props) => {\n  if (props.children[0] === \"EMBED\") {\n    // EMBED\n    return (\n      <Widget\n        src=\"buildhub.near/widget/components.post.Embed\"\n        loading=\"\"\n        props={props}\n      />\n    );\n  } else {\n    return <a {...props} />;\n  }\n}, []);\nreturn (\n  <Wrapper>\n    <div className={truncated ? \"truncated-content\" : \"full-content\"}>\n      <div key=\"text\" className=\"text-break\">\n        <Widget\n          key=\"content\"\n          loading={<div className=\"w-100\" style={{ height: \"100px\" }} />}\n          src=\"mob.near/widget/N.SocialMarkdown\"\n          props={{\n            text: content.text,\n            onHashtag,\n            onImage,\n            onLink: noEmbed ? undefined : onLink,\n          }}\n        />\n      </div>\n      {content.image && (\n        <div key=\"content-img\" className=\"mt-2\">\n          <Widget\n            src=\"mob.near/widget/MainPage.N.Post.Content.Image\"\n            loading={<div className=\"w-100\" style={{ height: \"24em\" }} />}\n            props={{ image: content.image, alt: \"attached image\" }}\n          />\n        </div>\n      )}\n      <div className=\"expand-post\">\n        <div>\n          <a className=\"stretched-link\" onClick={() => setTruncated(false)}>\n            Show more\n          </a>\n        </div>\n      </div>\n    </div>\n  </Wrapper>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/buildhub.near/widget/components.post.Content", "fact_widget_deployments_id": "27cf8e1814152bc1f87519d0128a5b76", "inserted_timestamp": "2024-04-22T18:38:50.728Z", "modified_timestamp": "2024-04-22T18:38:50.728Z", "__row_index": 0}