{"tx_hash": "CiF6L9QyXexTLAv3PDjifrTq47JRE5e1b6PFhWWADZwz", "action_id_social": "BKcB2UbvoZfnxzphqLRDnEGHWNXLkrWZRPiHaVggRENi-0-widget", "block_id": 109113164, "block_timestamp": "2023-12-29T22:39:35.850Z", "signer_id": "buildhub.near", "widget_name": "Feed", "source_code": "const { Feed } = VM.require(\"devs.near/widget/Module.Feed\");\n\nFeed = Feed || (() => <></>); // make sure you have this or else it can break\n\nconst Container = styled.div`\n  display: grid;\n  grid-template-columns: repeat(5, minmax(0, 1fr));\n  gap: 1rem;\n\n  @media screen and (max-width: 768px) {\n    display: flex;\n    flex-direction: column;\n  }\n`;\n\nconst Aside = styled.div`\n  grid-column: span 1 / span 1;\n`;\n\nconst MainContent = styled.div`\n  grid-column: span 4 / span 4;\n`;\n\nconst [currentFeed, setCurrentFeed] = useState(\"updates\");\nconst [template, setTemplate] = useState(\"What did you have in mind?\");\n\nconst CustomFeed = ({ name }) => {\n  name = !!name ? name : \"update\";\n  return (\n    <Feed\n      index={[\n        {\n          action: \"every\",\n          key: name,\n          options: {\n            limit: 10,\n            order: \"desc\",\n            accountId: props.accounts,\n          },\n          cacheOptions: {\n            ignoreCache: true,\n          },\n        },\n      ]}\n      Item={(p) => (\n        <Widget\n          loading={<div className=\"w-100\" style={{ height: \"200px\" }} />}\n          src=\"buildhub.near/widget/components.post.post\"\n          props={{\n            accountId: p.accountId,\n            blockHeight: p.blockHeight,\n            noBorder: true,\n          }}\n        />\n      )}\n    />\n  );\n};\n\nfunction formatDate(date) {\n  const options = { year: \"numeric\", month: \"short\", day: \"numeric\" };\n  return date.toLocaleDateString(\"en-US\", options);\n}\n\nconst feedsDict = {\n  updates: {\n    key: \"updates\",\n    name: \"update\",\n    template: `\ud83d\udd14 DAILY UPDATE:  ${formatDate(new Date())}\n\n\ud83d\udcc6 YESTERDAY:\n- yesterday I did this (hyperlink proof)\n- I also did this\n\n\ud83d\udcbb WHAT I AM DOING TODAY:\n- task 1\n\n\ud83d\uded1  BLOCKERS: \n- @anyone that is causing a blocker or outline any blockers in general`,\n  },\n};\n\nconst feeds = Object.keys(feedsDict);\n\nconst feed = () => {\n  if (!!feedsDict[currentFeed]) {\n    return CustomFeed(feedsDict[currentFeed]);\n  }\n};\n\nreturn (\n  <Container>\n    <Aside>\n      <Widget\n        src=\"buildhub.near/widget/aside\"\n        props={{\n          currentFeed: currentFeed,\n          setCurrentFeed: setCurrentFeed,\n          feeds,\n        }}\n      />\n    </Aside>\n    <MainContent>\n      {context.accountId && (\n        <Widget\n          src=\"buildhub.near/widget/Compose\"\n          props={{\n            key: feedsDict[currentFeed],\n            template: feedsDict[currentFeed].template,\n          }}\n        />\n      )}\n      {feed()}\n    </MainContent>\n  </Container>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/buildhub.near/widget/Feed", "fact_widget_deployments_id": "71b128fc6dd2e9a6e763dddcef8f6262", "inserted_timestamp": "2024-03-07T05:24:05.087Z", "modified_timestamp": "2024-03-07T05:24:05.087Z", "__row_index": 28}