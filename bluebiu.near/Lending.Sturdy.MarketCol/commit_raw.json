{"tx_hash": "FvpVM3YbFYbzbzJTRSKsYEhWcmnBTkZ61D26Mo4Jrzja", "action_id_social": "6yDeoXjSo6SbNJCHMTiWwbRR2HUZ9hCVCdngc124mZB1-0-widget", "block_id": 118953175, "block_timestamp": "2024-05-15T06:24:28.909Z", "signer_id": "bluebiu.near", "widget_name": "Lending.Sturdy.MarketCol", "source_code": "const Wrap = styled.div`\n  display: flex;\n  align-items: center;\n  gap: 4px;\n  color: white;\n`;\nconst Asset = styled.div`\n  display: flex;\n  align-items: center;\n  flex-direction: column;\n  color: white;\n`;\nconst UsdValue = styled.div`\n  font-size: 14px;\n  color: #b2b4bd;\n`;\nconst IconWrap = styled.div`\n  display: flex;\n  align-items: center;\n  gap: 5px;\n`;\nconst Icon = styled.img`\n  width: 26px;\n  height: 26px;\n  border-radius: 50%;\n`;\nconst Symbol = styled.div`\n  font-size: 16px;\n  font-weight: 500;\n  color: #fff;\n  display: flex;\n  align-items: center;\n`;\nconst StyledExpand = styled.div`\n  cursor: pointer;\n  transform-origin: center;\n  transform: rotate(-90deg);\n  transition: 0.3s;\n\n  &.expand {\n    transform: rotate(0deg);\n  }\n`;\n\nconst { key, expand, data, value, type, from, prices } = props;\n\nfunction formatAmount(number) {\n  if (typeof Number(number) !== \"number\") return \"-\";\n  if (isNaN(Number(number))) return \"-\";\n  if (Number(number) === 0) return \"0\";\n\n  let str_num;\n\n  if (number >= 1e3 && number < 1e6) {\n    str_num = number / 1e3;\n    return str_num.toFixed(2) + \"K\";\n  } else if (number >= 1e6) {\n    str_num = number / 1e6;\n    return str_num.toFixed(2) + \"M\";\n  } else {\n    return Big(number || 0).lt(0.01) ? \"< 0.01\" : Number(number).toFixed(2);\n  }\n}\nfunction formatValue(value, digits) {\n  if (isNaN(Number(value))) return \"\";\n  if (Number(value) === 0) return \"0\";\n  return Big(value || 0).lt(0.01)\n    ? \"< 0.01\"\n    : `${Number(value).toFixed(digits || 2)}`;\n}\nfunction renderDom() {\n  switch (type) {\n    case \"AMOUNT\":\n      if (key === \"totalSupplied\" || key === \"yourLends\") {\n        return (\n          <Asset>\n            <Symbol>\n              {formatAmount(value)} {data.TOKEN_B.symbol}\n            </Symbol>\n            <UsdValue>\n              ${\" \"}\n              {formatAmount(\n                Big(prices[data.TOKEN_B.symbol] || 0)\n                  .times(Big(value || 0))\n                  .toFixed(2)\n              )}\n            </UsdValue>\n          </Asset>\n        );\n      }\n      return <Wrap>{formatAmount(value)}</Wrap>;\n\n    case \"TEXT\":\n      return <Wrap>{value}</Wrap>;\n    case \"PERCENT\":\n      return (\n        <Wrap>\n          {Big(value || 0)\n            .times(100)\n            .toFixed(2)}\n          %\n        </Wrap>\n      );\n    case \"TOKEN_WITH_ICON\":\n      if (key === \"Collateral\") {\n        return (\n          <IconWrap>\n            <Icon src={data.TOKEN_A.icon} />\n            <Symbol>{data.TOKEN_A.symbol}</Symbol>\n          </IconWrap>\n        );\n      }\n      if (key === \"Borrow\") {\n        return (\n          <IconWrap>\n            <Icon src={data.TOKEN_B.icon} />\n            <Symbol>{data.TOKEN_B.symbol}</Symbol>\n          </IconWrap>\n        );\n      }\n\n    case \"HANDLER\":\n      return (\n        <StyledExpand className={expand ? \"expand\" : \"\"}>\n          <svg\n            xmlns=\"http://www.w3.org/2000/svg\"\n            width=\"11\"\n            height=\"8\"\n            viewBox=\"0 0 11 8\"\n            fill=\"none\"\n          >\n            <path\n              d=\"M5.94103 7.02391C5.5407 7.52432 4.77961 7.52432 4.37929 7.02391L0.459914 2.1247C-0.0638966 1.46993 0.402276 0.499999 1.24078 0.499999L9.07953 0.5C9.91804 0.5 10.3842 1.46993 9.8604 2.12469L5.94103 7.02391Z\"\n              fill=\"#979ABE\"\n            />\n          </svg>\n        </StyledExpand>\n      );\n    default:\n      return <Symbol>{value}</Symbol>;\n  }\n}\n\nreturn renderDom();\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/bluebiu.near/widget/Lending.Sturdy.MarketCol", "fact_widget_deployments_id": "0496ea56131d9e9e84674ff566312012", "inserted_timestamp": "2024-05-15T07:50:57.888Z", "modified_timestamp": "2024-05-15T08:51:40.294Z", "__row_index": 0}