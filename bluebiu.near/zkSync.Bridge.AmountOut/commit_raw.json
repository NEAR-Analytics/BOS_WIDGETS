{"tx_hash": "1pebwvzGk1SzeL8cWw9uX46P4X5X7EZnhZqhwHvVktD", "action_id_social": "9UfHdpBNEbmva3vAG4zHUHFaK6dXWKw622KF5NXRX8Ab-0-widget", "block_id": 115147818, "block_timestamp": "2024-03-21T06:08:22.652Z", "signer_id": "bluebiu.near", "widget_name": "zkSync.Bridge.AmountOut", "source_code": "const { loading, amount, routerAddress, target, onLoad } = props;\n\nuseEffect(() => {\n    if (!loading) return\n\n    asyncFetch('https://api.orbiter.finance/sdk/routers/cross-chain')\n        .then(routerRes => {\n            const result = routerRes.body.result\n\n            let line = ''\n            if (target.dstId === 1) {\n                line = `324/1-ETH/ETH`\n            } else {\n                line = `1/324-ETH/ETH`\n            }\n\n            const quote = result.find(item => item.line === line)\n            if (!quote) {\n                onLoad({\n                    received: 0,\n                    gasCost: 0,\n                    errorTips: 'No route',\n                });\n                return\n            }\n            const minBig = new Big(quote.minAmt)\n            const maxBig = new Big(quote.maxAmt)\n            const amountBig = new Big(amount)\n            const feeBig = new Big(quote.withholdingFee).plus(new Big(quote.tradeFee).div(Math.pow(10, 18)))\n            if (amountBig.gte(maxBig) || amountBig.lte(minBig)) {\n                onLoad({\n                    received: 0,\n                    gasCost: 0,\n                    errorTips: 'Invalid amount',\n                });\n                return\n            }\n\n            console.log('quote: ', quote)\n\n            onLoad({\n                received: amountBig.minus(feeBig).toString(),\n                gasCost: feeBig.toString(),\n                quote\n            });\n        }).catch(e => {\n            onLoad({\n                received: 0,\n                gasCost: 0,\n                errorTips: 'Invalid amount',\n            });\n        })\n\n\n}, [loading])\n\nreturn \"\";\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/bluebiu.near/widget/zkSync.Bridge.AmountOut", "fact_widget_deployments_id": "cc561d2e12e49d8e3c6cbfdd7a54a370", "inserted_timestamp": "2024-03-21T07:29:03.043Z", "modified_timestamp": "2024-03-21T07:29:03.043Z", "__row_index": 0}