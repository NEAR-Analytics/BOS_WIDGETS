{"tx_hash": "ANGGWVMZvCMuZSUdJ4ewDkrXZpqPZApE4SrxE3rZdAvV", "action_id_social": "DbDzK1F5wb8zTqbBJi3seCxoXZ5Yp8Z96CTzHz4xMNKf-0-widget", "block_id": 117493409, "block_timestamp": "2024-04-24T03:07:53.174Z", "signer_id": "bluebiu.near", "widget_name": "Lending.Orbit.Markets", "source_code": "const StyledContainer = styled.div``;\n\nconst COLUMNS = [\n  {\n    key: \"asset\",\n    label: \"Asset\",\n    width: \"30%\",\n  },\n  // {\n  //   key: \"totalSupply\",\n  //   label: \"Total supplied\",\n  //   width: \"14%\",\n  //   type: \"amount\",\n  // },\n  {\n    key: \"supplyApy\",\n    label: \"Supply APY\",\n    width: \"12%\",\n    type: \"apy\",\n  },\n  // {\n  //   key: \"totalBorrows\",\n  //   label: \"Total borrowed\",\n  //   width: \"15%\",\n  //   type: \"amount\",\n  // },\n  {\n    key: \"borrowApy\",\n    label: \"Borrow APY\",\n    width: \"12%\",\n    type: \"apy\",\n  },\n  {\n    key: \"poolSize\",\n    label: \"poolSize\",\n    width: \"15%\",\n    type: \"amount\",\n  },\n  {\n    key: \"handler\",\n    width: \"2%\",\n  },\n];\n\nconst data = Object.values(props.markets || {});\n\nconst {\n  totalCollateralUsd,\n  userTotalBorrowUsd,\n  addAction,\n  toast,\n  chainId,\n  nativeCurrency,\n  dexConfig,\n  onSuccess,\n  account,\n  prices,\n} = props;\nconsole.log(\"MARKETS--\", props);\nuseEffect(() => {\n  if (!totalCollateralUsd && !userTotalBorrowUsd) {\n    return;\n  }\n  State.update({\n    borrowLimit: Big(totalCollateralUsd || 0)\n      .minus(userTotalBorrowUsd || 0)\n      .toString(),\n  });\n}, [totalCollateralUsd, userTotalBorrowUsd]);\n\nreturn (\n  <StyledContainer>\n    <Widget\n      src=\"bluebiu.near/widget/Lending.MarketHeader\"\n      props={{\n        columns: COLUMNS,\n      }}\n    />\n    {data.map((record) => (\n      <Widget\n        key={record.address}\n        src=\"bluebiu.near/widget/Lending.Orbit.MarketRow\"\n        props={{\n          columns: COLUMNS,\n          data: record,\n          borrowLimit: state.borrowLimit,\n          addAction,\n          toast,\n          chainId,\n          nativeCurrency,\n          dexConfig,\n          onSuccess,\n          account,\n          prices,\n        }}\n      />\n    ))}\n  </StyledContainer>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/bluebiu.near/widget/Lending.Orbit.Markets", "fact_widget_deployments_id": "31df906fc4fabde9fe1b22a2e0912915", "inserted_timestamp": "2024-04-24T04:47:14.463Z", "modified_timestamp": "2024-04-24T05:38:45.726Z", "__row_index": 0}