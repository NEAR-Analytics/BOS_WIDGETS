{"tx_hash": "C8r5wizGFSGp3wLWE7JAyC7kUS1su5Zd8TJXv2rQ9kmR", "action_id_social": "DmnxJwESZyV9yKr5ykCjS88a8U3Px3zRnT7sXj3oX8vR-0-widget", "block_id": 101390110, "block_timestamp": "2023-09-18T08:36:09.801Z", "signer_id": "bluebiu.near", "widget_name": "Mantle.GAMMA.gamma-mantle-table", "source_code": "const proxy = \"0x66cd859053c458688044d816117d5bdf42a56813\";\n\nconst addresses = {\n  USDT: \"0x201eba5cc46d216ce6dc03f6a759e8e766e956ae\",\n  MINU: \"0x51cfe5b1e764dc253f4c8c1f19a081ff4c3517ed\",\n  WMNT: \"0x78c1b0c915c4faa5fffa6cabf0219da63d7f4cb8\",\n  WBTC: \"0xcabae6f6ea1ecab08ad02fe02ce9a44f09aebfa2\",\n  USDC: \"0x09bc4e0d864854c6afb6eb9a9cdf58ac190d0df9\",\n  WETH: \"0xdeaddeaddeaddeaddeaddeaddeaddeaddead1111\",\n\n  \"N USDT-WMNT-500\": \"0x6e9d701fb6478ed5972a37886c2ba6c82a4cbb4c\",\n  \"W USDT-WMNT-500\": \"0x1ee3ae551188661553882fdc75f8f62eaa6726ad\",\n\n  \"N MINU-WMNT-10000\": \"0xd6cc4a33da7557a629e819c68fb805ddb225f517\",\n  \"W MINU-WMNT-10000\": \"0xf8a02496bd84bd7f7ab9f1a000044fc482d729ca\",\n\n  \"N USDT-WETH-500\": \"0xde7421f870ffb2b99998d9ed07c4d9b22e783922\",\n  \"W USDT-WETH-500\": \"0xfe4bb996926aca85c9747bbec886ec2a3f510c66\",\n\n  \"N USDT-WBTC-500\": \"0x2e18b825b049c4994370b0db6c35d0100295b96c\",\n  \"W USDT-WBTC-500\": \"0xa18d3073441b0774a1efa45ba9d2e7da3441da2f\",\n\n  \"W USDC-USDT-100\": \"0x561f5cf838429586d1f8d3826526891b289270ee\",\n};\n\nconst pairs = [\n  {\n    id: \"N USDT-WMNT-500\",\n    strategy: \"Dynamic\",\n    strategy2: \"Narrow\",\n    token0: \"USDT\",\n    token1: \"WMNT\",\n    decimals0: 6,\n    decimals1: 18,\n  },\n  {\n    id: \"W USDT-WMNT-500\",\n    strategy: \"Dynamic\",\n    strategy2: \"Wide\",\n    token0: \"USDT\",\n    token1: \"WMNT\",\n    decimals0: 6,\n    decimals1: 18,\n  },\n  {\n    id: \"N MINU-WMNT-10000\",\n    strategy: \"Dynamic\",\n    strategy2: \"Narrow\",\n    token0: \"MINU\",\n    token1: \"WMNT\",\n    decimals0: 18,\n    decimals1: 18,\n  },\n  {\n    id: \"W MINU-WMNT-10000\",\n    strategy: \"Dynamic\",\n    strategy2: \"Wide\",\n    token0: \"MINU\",\n    token1: \"WMNT\",\n    decimals0: 18,\n    decimals1: 18,\n  },\n  {\n    id: \"N USDT-WETH-500\",\n    strategy: \"Dynamic\",\n    strategy2: \"Narrow\",\n    token0: \"USDT\",\n    token1: \"WETH\",\n    decimals0: 6,\n    decimals1: 18,\n  },\n\n  {\n    id: \"W USDT-WETH-500\",\n    strategy: \"Dynamic\",\n    strategy2: \"Wide\",\n    token0: \"USDT\",\n    token1: \"WETH\",\n    decimals0: 6,\n    decimals1: 18,\n  },\n\n  {\n    id: \"N USDT-WBTC-500\",\n    strategy: \"Dynamic\",\n    strategy2: \"Narrow\",\n    token0: \"USDT\",\n    token1: \"WBTC\",\n    decimals0: 6,\n    decimals1: 8,\n  },\n\n  {\n    id: \"W USDT-WBTC-500\",\n    strategy: \"Dynamic\",\n    strategy2: \"Wide\",\n    token0: \"USDT\",\n    token1: \"WBTC\",\n    decimals0: 6,\n    decimals1: 8,\n  },\n\n  {\n    id: \"W USDC-USDT-100\",\n    strategy: \"Dynamic\",\n    strategy2: \"Wide\",\n    token0: \"USDC\",\n    token1: \"USDT\",\n    decimals0: 6,\n    decimals1: 6,\n  },\n];\n\nconst Tag = styled.div`\n  border-radius: 16px;\n  background: #393b47;\n  display: inline-block;\n  padding: 4px 10px;\n  font-size: 12px;\n`;\n\nconst Container = styled.div`\n  border: 1px solid #332c4b;\n  background: #181a27;\n  border-radius: 16px;\n  overflow: hidden;\n  padding: 10px 0;\n\n  @media (max-width: 736px) {\n    border: none;\n    background: none;\n    width: 100%;\n    padding: 0 24px;\n  }\n`;\nconst Table = styled.table`\n  font-family: \"Inter\";\n  color: #fff;\n  min-width: 640px;\n  width: 100%;\n\n  th {\n    padding: 10px;\n  }\n  td {\n    padding: 10px 10px;\n    font-size: 16px;\n  }\n  tr {\n    cursor: pointer;\n    &:last-of-type {\n      border-bottom: none;\n    }\n    th:first-child,\n    td:first-child {\n      padding-left: 26px;\n    }\n  }\n\n  @media (max-width: 736px) {\n    width: auto;\n    min-width: auto;\n    max-width: 100%;\n\n    display: block;\n\n    width thead {\n      display: none;\n    }\n\n    tr {\n      display: none;\n    }\n  }\n\n  tbody tr:hover {\n    background: rgba(53, 55, 73, 0.5);\n  }\n`;\n\nconst MobileListItem = styled.div`\n  border: 1px solid #332c4b;\n  background: linear-gradient(0deg, #181a27, #181a27);\n  border-radius: 10px;\n  color: white;\n  font-size: 16px;\n  padding: 12px 0;\n\n  .pair-title {\n    border-bottom: 1px solid #2e3145;\n\n    padding: 0px 12px 16px;\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n\n    .type-box {\n      border-radius: 13px;\n      min-width: 61px;\n      height: 26px;\n      padding: 0px 6px;\n      font-size: 13px;\n      font-weight: 400;\n      line-height: 16px;\n      letter-spacing: 0em;\n      text-align: left;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      background: #d9d9d91a;\n    }\n  }\n\n  .info-line {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    padding: 12px;\n\n    .info-title {\n      font-size: 15px;\n      font-weight: 400;\n      line-height: 18px;\n      letter-spacing: 0em;\n      text-align: left;\n      color: #979abe;\n    }\n\n    .info-value {\n      font-size: 15px;\n      font-weight: 500;\n      line-height: 18px;\n      letter-spacing: 0em;\n      text-align: left;\n      color: #ffffff;\n    }\n  }\n\n  @media (min-width: 736px) {\n    display: none;\n  }\n`;\n\nconst MobileList = styled.div`\n  display: flex;\n  width: 100%;\n  flex-direction: column;\n  gap: 12px;\n  @media (min-width: 736px) {\n    display: none;\n  }\n`;\n\nconst formatFiat = (value) => {\n  const number = Number(value).toLocaleString(\"en\", {\n    currency: \"USD\",\n    style: \"currency\",\n    compactDisplay: \"short\",\n    notation: \"compact\",\n    maximumFractionDigits: 2,\n  });\n\n  return number;\n};\n\nconst formatPercent = (value) => {\n  return `${Number(value * 100).toLocaleString(\"en\", {\n    maximumFractionDigits: 2,\n  })}%`;\n};\n\nconst { poolsData, userPositions } = props;\n\nconst onPairClick = (pair) => {\n  const { handlePairClick } = props;\n\n  if (handlePairClick) handlePairClick(pair);\n};\n\nreturn (\n  <Container>\n    <Table>\n      <thead>\n        <tr>\n          <th>Gamma Position</th>\n          <th>Strategy</th>\n          <th>TVL</th>\n          <th>Balance</th>\n          <th>APR</th>\n        </tr>\n      </thead>\n      <tbody>\n        {poolsData &&\n          pairs.map((pair) => {\n            const poolData = poolsData[addresses[pair.id]];\n            const userBalance =\n              userPositions && addresses[pair.id] in userPositions\n                ? userPositions[addresses[pair.id]].balanceUSD\n                : undefined;\n\n            return (\n              <tr onClick={() => onPairClick(pair)} key={pair.id}>\n                <td>\n                  {pair.token0}-{pair.token1}\n                </td>\n                <td>\n                  <Tag>{pair.strategy2 ? pair.strategy2 : pair.strategy}</Tag>\n                </td>\n                <td>{formatFiat(poolData.tvlUSD)}</td>\n                <td>{userBalance ? `${formatFiat(userBalance)}` : \"-\"}</td>\n                <td>{formatPercent(poolData.returns.weekly.feeApr)}</td>\n              </tr>\n            );\n          })}\n      </tbody>\n    </Table>\n\n    {poolsData && (\n      <MobileList>\n        {pairs.map((pair) => {\n          const poolData = poolsData[addresses[pair.id]];\n          const userBalance =\n            userPositions && addresses[pair.id] in userPositions\n              ? userPositions[addresses[pair.id]].balanceUSD\n              : undefined;\n\n          return (\n            <MobileListItem onClick={() => onPairClick(pair)} key={pair.id}>\n              <div className=\"pair-title\">\n                <div>\n                  {pair.token0}-{pair.token1}\n                </div>\n                <div className=\"type-box\">\n                  {pair.strategy2 ? pair.strategy2 : pair.strategy}\n                </div>\n              </div>\n              <div className=\"info-line\">\n                <div\n                  className=\"info-title\"\n                  style={{\n                    paddingTop: \"14px\",\n                  }}\n                >\n                  TVL\n                </div>\n                <div className=\"info-value\">{formatFiat(poolData.tvlUSD)}</div>\n              </div>\n              <div className=\"info-line\">\n                <div className=\"info-title\">Balance</div>\n                <div className=\"info-value\">\n                  {userBalance ? `${formatFiat(userBalance)}` : \"-\"}\n                </div>\n              </div>\n              <div className=\"info-line\">\n                <div className=\"info-title\">APR</div>\n                <div className=\"info-value\">\n                  {formatPercent(poolData.returns.weekly.feeApr)}\n                </div>\n              </div>\n            </MobileListItem>\n          );\n        })}\n      </MobileList>\n    )}\n  </Container>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/bluebiu.near/widget/Mantle.GAMMA.gamma-mantle-table", "fact_widget_deployments_id": "c4ccb2dc589a83090f2140d7ab6f3a78", "inserted_timestamp": "2024-03-07T05:24:05.087Z", "modified_timestamp": "2024-03-07T05:24:05.087Z", "__row_index": 0}