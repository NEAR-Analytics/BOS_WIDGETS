{"tx_hash": "EazfZEdFuPSwAZPV9jbDwoikML8LD9uAGqAtuy3HxtmV", "action_id_social": "HJsxRPCDVnpZKJjPn3tHjPwbdBJSeSVunB63dPkmQCSM-0-widget", "block_id": 118348484, "block_timestamp": "2024-05-06T06:33:25.075Z", "signer_id": "bluebiu.near", "widget_name": "Liquidity.Bridge.JUICE.VaultDetail", "source_code": "const StyledContainer = styled.div`\n  width: 1000px;\n  display: flex;\n  flex-direction: column;\n  gap: 20px;\n`\nconst StyledContainerTop = styled.div`\n  width: 100%;\n`\nconst StyledBack = styled.div`\n  margin: 20px 0 24px;\n  display: flex;\n  align-items: center;\n  gap: 14px;\n  cursor: pointer;\n`\nconst StyledBackTxt = styled.div`\n  color: #979ABE;\n  font-family: Gantari;\n  font-size: 16px;\n  font-style: normal;\n  font-weight: 500;\n  line-height: normal;\n`\nconst StyledVault = styled.div`\n  border-radius: 16px;\n  border: 1px solid #373A53;\n  background: #262836;\n  overflow: hidden;\n`\nconst StyledVaultTop = styled.div`\n  display: flex;\n  height: 100px;\n  padding: 18px 16px 18px 30px;\n  background: #32364B;\n  border-bottom: 1px solid #373A53;\n`\nconst StyledVaultImageContainer = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 64px;\n  height: 64px;\n  border-radius: 12px;\n  border: 2px solid #262836;\n  background: #FFF;\n`\nconst StyledVaultImage = styled.img`\n  height: 44px;\n`\nconst StyledVaultInfo = styled.div`\n  flex: 1;\n  margin: 0 12px;\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n`\nconst StyledVaultName = styled.div`\n  color: #FFF;\n  font-family: Montserrat;\n  font-size: 18px;\n  font-style: normal;\n  font-weight: 700;\n  line-height: normal;\n`\nconst StyledVaultDesc = styled.div`\n  color: #979ABE;\n  font-family: Montserrat;\n  font-size: 14px;\n  font-style: normal;\n  font-weight: 400;\n  line-height: normal;\n`\nconst StyledVaultViewButton = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 130px;\n  height: 32px;\n  flex-shrink: 0;\n  border-radius: 8px;\n  border: 1px solid #5E617E;\n  cursor: pointer;\n\n  color: #979ABE;\n  font-family: Montserrat;\n  font-size: 14px;\n  font-style: normal;\n  font-weight: 400;\n  line-height: normal;\n`\nconst StyledVaultBottom = styled.div`\n  padding: 18px 33px;\n  display: flex;\n  flex-direction: column;\n  gap: 20px;\n  /* align-items: center;\n  flex-wrap: wrap; */\n`\nconst StyledVaultBottomRow = styled.div`\n  width: 100%;\n  display: flex;\n  align-items: center;\n`\nconst StyledVaulBottomMessage = styled.div`\n  width: 25%;\n  display: flex;\n  flex-direction: column;\n  gap: 3px;\n`\nconst StyledVaulBottomMessageLabel = styled.div`\n  color: #979ABE;\n  font-family: Montserrat;\n  font-size: 14px;\n  font-style: normal;\n  font-weight: 400;\n  line-height: normal;\n`\nconst StyledVaulBottomMessageValue = styled.div`\n  display: flex;\n  align-items: center;\n  color: #FFF;\n  font-family: Montserrat;\n  font-size: 14px;\n  font-style: normal;\n  font-weight: 600;\n  line-height: normal;\n`\nconst StyledContainerBottom = styled.div`\n  width: 100%;\n  display: flex;\n  gap: 20px;\n`\nconst StyledDepositOrWithdraw = styled.div`\n  width: 490px;\n  height: 387px;\n  border-radius: 16px;\n  border: 1px solid #373A53;\n  background: #262836;\n`\nconst StyledDepositOrWithdrawTop = styled.div`\n  border-bottom: 1px solid #373A53;\n  display: flex;\n  align-items: center;\n`\nconst StyledDepositOrWithdrawTopButton = styled.div`\n  position: relative;\n  flex: 1;\n  padding: 22px 0;\n  text-align: center;\n  color: #979ABE;\n  font-family: Montserrat;\n  font-size: 16px;\n  font-style: normal;\n  font-weight: 600;\n  line-height: normal;\n  cursor: pointer;\n  &.active {\n    color: #FFF;\n    &:after {\n      content: \"\";\n      position: absolute;\n      left: 0;\n      right: 0;\n      bottom: 0;\n      height: 4px;\n      background: #B968F3;\n    }\n  }\n`\nconst StyledDepositOrWithdrawBottom = styled.div`\n  \n`\nconst StyledEmptyContainer = styled.div`\n  padding: 44px 16px 31px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  gap: 21px;\n`\nconst StyledEmptyImage = styled.img`\n  width: 120px;\n`\nconst StyledEmptyTips = styled.div`\n  color: #FFF;\n  text-align: center;\n  font-family: Montserrat;\n  font-size: 14px;\n  font-style: normal;\n  font-weight: 400;\n  line-height: 150%; /* 21px */\n`\nconst StyledDepositContainer = styled.div`\n  padding: 20px;\n`\n\nconst StyledWithdrawContainer = styled.div`\n  padding: 20px;\n`\n\nconst StyledDepositOrWithdrawInput = styled.div`\n  padding: 12px 16px;\n  border-radius: 8px;\n  border: 1px solid #373A53;\n  background: #1B1E27;\n  height: 71px;\n`\nconst StyledDepositOrWithdrawInputTop = styled.div`\n  margin-bottom: 6px;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n`\nconst StyledDepositOrWithdrawInputBottom = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  gap: 30px;\n`\nconst StyledDepositOrWithdrawInputTopType = styled.div`\n  color: #979ABE;\n  font-family: Gantari;\n  font-size: 14px;\n  font-style: normal;\n  font-weight: 400;\n  line-height: normal;\n`\nconst StyledDepositOrWithdrawInputTopBalance = styled.div`\n  color: #979ABE;\n  font-family: Gantari;\n  font-size: 14px;\n  font-style: normal;\n  font-weight: 400;\n  line-height: normal;\n  span {\n    color: #FFF;\n    cursor: pointer;\n    text-decoration-line: underline;\n  }\n`\nconst StyledDepositOrWithdrawInputBottomInput = styled.input`\n  padding: 0;\n  border: none;\n  outline: none;\n  background: transparent;\n  flex: 1;\n  color: #FFF;\n  font-family: Gantari;\n  font-size: 20px;\n  font-style: normal;\n  font-weight: 500;\n  line-height: normal;\n\n  &[type=\"number\"]::-webkit-outer-spin-button,\n  &[type=\"number\"]::-webkit-inner-spin-button {\n    -webkit-appearance: none;\n    margin: 0;\n  }\n  &[type=\"number\"] {\n    -moz-appearance: textfield;\n  }\n`\nconst StyledDepositOrWithdrawInputBottomSymbol = styled.div`\n  display: flex;\n  align-items: center;\n  gap: 5px;\n`\nconst StyledDepositOrWithdrawInputBottomSymbolImageContainer = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 20px;\n  height: 20px;\n  border-radius: 50%;\n  overflow: hidden;\n`\nconst StyledDepositOrWithdrawInputBottomSymbolImage = styled.img`\n  width: 100%;\n  height: 100%;\n`\nconst StyledDepositOrWithdrawInputBottomSymbolTxt = styled.div`\n  color: #FFF;\n  font-family: Gantari;\n  font-size: 16px;\n  font-style: normal;\n  font-weight: 400;\n  line-height: normal;\n`\n// const StyledDepositOrWithdrawOutput = styled.div`\n//   padding: 12px 16px;\n//   border-radius: 8px;\n//   border: 1px solid #373A53;\n//   background: #2E3142;\n//   height: 71px;\n// `\nconst StyledDepositOrWithdrawInputBottomInputTxt = styled.div`\n  color: #5E617E;\n  font-family: Gantari;\n  font-size: 20px;\n  font-style: normal;\n  font-weight: 500;\n  line-height: normal;\n`\n\n\n\nconst StyledDepositOrWithdrawButton = styled.div`\n  width: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  height: 50px;\n  flex-shrink: 0;\n  border-radius: 8px;\n  cursor: pointer;\n  background: var(--button-color);\n\n  color: var(--button-text-color);\n  font-family: Gantari;\n  font-size: 18px;\n  font-style: normal;\n  font-weight: 600;\n  line-height: normal;\n  &[disabled] {\n    opacity: 0.3;\n    cursor: not-allowed;\n  }\n`\nconst StyledSlippage = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  margin: 14px 0 54px;\n`\nconst StyledSlippageL = styled.div`\n  position: relative;\n`\nconst StyledSlippageLBox = styled.div`\n  display: flex;\n  align-items: center;\n  gap: 4px;\n  cursor: pointer;\n`\nconst StyledSlippageTxt = styled.div`\n  color: #979ABE;\n  font-family: Montserrat;\n  font-size: 14px;\n  font-style: normal;\n  font-weight: 400;\n  line-height: normal;\n`\nconst StyledSlippageR = styled.div`\n  color: #FFF;\n  font-family: Montserrat;\n  font-size: 14px;\n  font-style: normal;\n  font-weight: 400;\n  line-height: normal;\n`\nconst StyledOverviewContainer = styled.div`\n  width: 490px;\n  height: 387px;\n  border-radius: 16px;\n  border: 1px solid #373A53;\n  background: #262836;\n`\nconst StyledPostionOverview = styled.div`\n  padding: 21px 20px 14px;\n  border-bottom: 1px solid #373A53;\n`\nconst StyledOverviewTitle = styled.div`\n  margin-bottom: 16px;\n  color: #FFF;\n  font-family: Montserrat;\n  font-size: 16px;\n  font-style: normal;\n  font-weight: 600;\n  line-height: normal;\n`\nconst StyledOverviewList = styled.div`\n  display: flex;\n  flex-direction: column;\n  gap: 16px;\n`\nconst StyledOverview = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n`\nconst StyledOverviewLabel = styled.div`\n  color: #979ABE;\n  font-family: Montserrat;\n  font-size: 14px;\n  font-style: normal;\n  font-weight: 400;\n  line-height: normal;\n`\nconst StyledOverviewValue = styled.div`\n  color: #FFF;\n  font-family: Montserrat;\n  font-size: 14px;\n  font-style: normal;\n  font-weight: 400;\n  line-height: normal;\n`\nconst StyledVaultOverview = styled.div`\n  padding: 16px 20px 0 20px;\n`\nconst StyledOverviewButtonContainer = styled.div`\n  margin-top: 30px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  gap: 14px;\n`\nconst StyledOverviewButton = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  gap: 9px;\n  width: 218px;\n  height: 50px;\n  flex-shrink: 0;\n  border-radius: 8px;\n  border: 1px solid #B968F3;\n  cursor: pointer;\n\n  color: #FFF;\n  font-family: Gantari;\n  font-size: 18px;\n  font-style: normal;\n  font-weight: 600;\n  line-height: normal;\n\n`\nconst StyledEarnImageContainer = styled.div`\n  position: relative;\n  width: 20px;\n  &:nth-of-type(n+2) {\n    margin-left: -4px;\n  }\n`\nconst StyledEarnCoverImage = styled.img`\n  position: absolute;\n  left: 50%;\n  top: 50%;\n  transform: translate(-50%, -50%);\n  width: 14px;\n`\nconst StyledEarnImage = styled.img`\n  /* width: 20px; */\n  width: 100%;\n`\nconst StyledMaxSlippageCover = styled.div`\n  position: fixed;\n  left: 0;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  z-index: 999;\n`\nconst StyledMaxSlippageContainer = styled.div`\n  position: absolute;\n  top: -6px;\n  right: -10px;\n  transform: translateX(100%);\n  width: 173px;\n  height: 91px;\n  flex-shrink: 0;\n  padding: 13px 16px;\n  border-radius: 8px;\n  border: 1px solid #454968;\n  background: #313447;\n  z-index: 9999;\n`\nconst StyledMaxSlippageTop = styled.div`\n  margin-bottom: 18px;\n  color: #979ABE;\n  font-family: Montserrat;\n  font-size: 14px;\n  font-style: normal;\n  font-weight: 400;\n  line-height: normal;\n`\nconst StyledMaxSlippageBottom = styled.div`\n  display: flex;\n  align-items: center;\n  gap: 10px;\n  \n`\nconst StyledMaxSlippageAutoButton = styled.div`\n  width: 42px;\n  height: 30px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  border-radius: 8px;\n  border: 1px solid #454968;\n  background: #313447;\n  cursor: pointer;\n  color: #979ABE;\n  font-family: Gantari;\n  font-size: 14px;\n  font-style: normal;\n  font-weight: 400;\n  line-height: normal;\n`\nconst StyledMaxSlippageInputContainer = styled.div`\n  width: 85px;\n  height: 30px;\n  flex-shrink: 0;\n  padding: 7px;\n  display: flex;\n  align-items: center;\n  border-radius: 6px;\n  border: 1px solid #373A53;\n  background: #1B1E27;\n  &.error {\n    background: rgb(153, 27, 27);\n    border-color: rgb(220, 38, 38);\n  }\n`\nconst StyledMaxSlippagePercentage = styled.div`\n  color: #FFF;\n  font-family: Gantari;\n  font-size: 14px;\n  font-style: normal;\n  font-weight: 400;\n  line-height: normal;\n`\nconst StyledMaxSlippageInput = styled.input`\n  /* width: ; */\n  /* flex: 1; */\n  width: 100%;\n  max-width: 100%;\n  height: 100%;\n  padding: 0;\n  border: none;\n  outline: none;\n  background: transparent;\n  \n  color: #FFF;\n  font-family: Gantari;\n  font-size: 14px;\n  font-style: normal;\n  font-weight: 500;\n  line-height: normal;\n\n  &[type=\"number\"]::-webkit-outer-spin-button,\n  &[type=\"number\"]::-webkit-inner-spin-button {\n    -webkit-appearance: none;\n    margin: 0;\n  }\n  &[type=\"number\"] {\n    -moz-appearance: textfield;\n  }\n`\n\nState.init({\n  positionOverview: null,\n  vaultOverview: null,\n  isDeposit: true,\n  inSlippageAmount: \"0.05\",\n  slippageError: false,\n  showSlippage: false,\n  depositBalance: \"\",\n  withdrawBalance: \"\",\n  depositData: \"\",\n  inDepositAmount: \"\",\n  outDepositAmount: \"\",\n  depositLoading: false,\n  inWithdrawAmount: \"\",\n  outWithdrawAmount: \"\",\n  withdrawLoading: false\n})\nconst {\n  toast,\n  sender,\n  chainId,\n  windowOpen,\n  addAction,\n  isCreatedAccount,\n  ICON_MAP,\n  PROXY_ADDRESS,\n  SYMBOL_ADDRESS,\n  multicall,\n  multicallAddress,\n  smartContractAddress,\n  onBack,\n  onChangeCategoryIndex,\n  checkedVault,\n} = props\n\nconst isDepositInSufficient = Number(state?.inDepositAmount ?? 0) > Number(state?.depositBalance ?? 0)\nconst isWithdrawInSufficient = Number(state?.inWithdrawAmount ?? 0) > Number(state?.withdrawBalance ?? 0)\nfunction isNotEmptyArray(value) {\n  return value && value[0]\n}\nfunction handleQueryPositionOverview() {\n  const calls = []\n  const abi = [{\n    \"inputs\": [\n      {\n        \"internalType\": \"address\",\n        \"name\": \"account\",\n        \"type\": \"address\"\n      }\n    ],\n    \"name\": \"getPositionValue\",\n    \"outputs\": [\n      {\n        \"internalType\": \"uint256\",\n        \"name\": \"value\",\n        \"type\": \"uint256\"\n      }\n    ],\n    \"stateMutability\": \"view\",\n    \"type\": \"function\"\n  }]\n  calls.push({\n    address: checkedVault.strategyAddress,\n    name: \"getPositionValue\",\n    params: [smartContractAddress]\n  })\n  multicall({\n    abi,\n    calls,\n    options: {},\n    multicallAddress,\n    provider: Ethers.provider(),\n  }).then(result => {\n    const [positionValueResult, balanceOfResult] = result\n    State.update({\n      positionOverview: {\n        positionValue: Big(positionValueResult ? ethers.utils.formatUnits(positionValueResult[0]) : 0).toFixed(6),\n      }\n    })\n\n  })\n}\nfunction handleQueryVaultOverview() {\n  const calls = []\n  const abi = [{\n    \"inputs\": [],\n    \"name\": \"getTotalDepositCap\",\n    \"outputs\": [\n      {\n        \"internalType\": \"uint256\",\n        \"name\": \"\",\n        \"type\": \"uint256\"\n      }\n    ],\n    \"stateMutability\": \"view\",\n    \"type\": \"function\"\n  }, {\n    \"inputs\": [],\n    \"name\": \"getTotalBaseDeposit\",\n    \"outputs\": [\n      {\n        \"internalType\": \"uint256\",\n        \"name\": \"\",\n        \"type\": \"uint256\"\n      }\n    ],\n    \"stateMutability\": \"view\",\n    \"type\": \"function\"\n  }, {\n    \"inputs\": [],\n    \"name\": \"getMaxDepositPerAccount\",\n    \"outputs\": [\n      {\n        \"internalType\": \"uint256\",\n        \"name\": \"\",\n        \"type\": \"uint256\"\n      }\n    ],\n    \"stateMutability\": \"view\",\n    \"type\": \"function\"\n  }]\n\n\n  calls.push({\n    address: checkedVault.strategyAddress,\n    name: \"getTotalDepositCap\",\n  })\n  calls.push({\n    address: checkedVault.strategyAddress,\n    name: \"getTotalBaseDeposit\",\n  })\n  calls.push({\n    address: checkedVault.strategyAddress,\n    name: \"getMaxDepositPerAccount\",\n  })\n\n  multicall({\n    abi,\n    calls,\n    options: {},\n    multicallAddress,\n    provider: Ethers.provider(),\n  }).then(result => {\n    console.log(\"=result\", result)\n    // const [totalDepositCapResult, getTotalBaseDepositResult, maxDepositPerAccountResult] = result\n    // State.update({\n    //   vaultOverview: {\n    //     totalDepositCap: Big(totalDepositCapResult).div(Big(10).pow(18)).toFixed(2),\n    //     maxDepositPerAccount: Big(maxDepositPerAccountResult).div(Big(10).pow(18)).toFixed(2)\n    //   }\n    // })\n  })\n}\nfunction handleGetDepositData(firstNumber, secondNumber) {\n  const firstNumberToEncode = ethers.BigNumber.from(firstNumber);\n  const secondNumberToEncode = ethers.BigNumber.from(secondNumber);\n  const encodedFirstNumber = ethers.utils.defaultAbiCoder.encode(\n    [\"uint256\"],\n    [firstNumberToEncode]\n  );\n  const encodedSecondNumber = ethers.utils.defaultAbiCoder.encode(\n    [\"uint256\"],\n    [secondNumberToEncode]\n  );\n  const encodedSecondNumberWithoutPrefix = encodedSecondNumber.slice(2);\n  const finalEncodedData = '0x' + encodedFirstNumber.slice(2) + encodedSecondNumberWithoutPrefix;\n  return finalEncodedData\n}\nfunction handleInAmountChange(amount) {\n  if (Number(amount) < 0) {\n    return\n  }\n  if (Number(amount) === 0) {\n    State.update({\n      [state.isDeposit ? \"inDepositAmount\" : \"inWithdrawAmount\"]: amount,\n      [state.isDeposit ? \"outDepositAmount\" : \"outWithdrawAmount\"]: \"\"\n    })\n    return\n  }\n  State.update({\n    [state.isDeposit ? \"inDepositAmount\" : \"inWithdrawAmount\"]: amount\n  })\n  const abi = [{\n    \"inputs\": [\n      {\n        \"internalType\": \"uint256\",\n        \"name\": \"amount\",\n        \"type\": \"uint256\"\n      }\n    ],\n    \"name\": \"previewDeposit\",\n    \"outputs\": [\n      {\n        \"internalType\": \"uint256\",\n        \"name\": \"\",\n        \"type\": \"uint256\"\n      },\n      {\n        \"internalType\": \"uint256\",\n        \"name\": \"\",\n        \"type\": \"uint256\"\n      }\n    ],\n    \"stateMutability\": \"nonpayable\",\n    \"type\": \"function\"\n  }, {\n    \"inputs\": [\n      {\n        \"internalType\": \"uint256\",\n        \"name\": \"amount\",\n        \"type\": \"uint256\"\n      }\n    ],\n    \"name\": \"previewDepositOffchain\",\n    \"outputs\": [\n      {\n        \"internalType\": \"uint256\",\n        \"name\": \"\",\n        \"type\": \"uint256\"\n      }\n    ],\n    \"stateMutability\": \"nonpayable\",\n    \"type\": \"function\"\n  }, {\n    \"inputs\": [\n      {\n        \"internalType\": \"uint256\",\n        \"name\": \"shares\",\n        \"type\": \"uint256\"\n      }\n    ],\n    \"name\": \"previewWithdrawOffchain\",\n    \"outputs\": [\n      {\n        \"internalType\": \"uint256\",\n        \"name\": \"\",\n        \"type\": \"uint256\"\n      }\n    ],\n    \"stateMutability\": \"nonpayable\",\n    \"type\": \"function\"\n  }]\n  const _amount = Big(amount)\n    .mul(Big(10).pow(18))\n    .toFixed(0)\n\n  if (state.isDeposit) {\n    const depositHelperAddressMap = {\n      \"EtherFi V3 LP\": \"0x0C7e2906f5cf0e6F6de47E9Fc8ECEd3E82ED405C\",\n      \"Kelp V3 LP V2\": \"0x7988EA56563a01907ff02f49a7739aB949905104\",\n      \"Renzo V3 LP\": \"0xfA4042e6777c6C66d71E9b288e756F8fde802130\"\n    }\n    if (depositHelperAddressMap[checkedVault.name]) {\n      const contract = new ethers.Contract(\n        ethers.utils.getAddress(depositHelperAddressMap[checkedVault.name]),\n        abi,\n        Ethers.provider()\n      );\n      con\n      contract\n        .callStatic\n        .previewDeposit(_amount).then((result) => {\n          State.update({\n            depositData: handleGetDepositData(result[0], result[1]),\n            outDepositAmount: ethers.utils.formatUnits(result[1])\n          })\n        });\n    } else {\n\n      const contract = new ethers.Contract(\n        ethers.utils.getAddress(checkedVault.strategyAddress),\n        abi,\n        Ethers.provider()\n      );\n      contract\n        .callStatic\n        .previewDepositOffchain(_amount).then((result) => {\n          State.update({\n            depositData: \"0x0000000000000000000000000000000000000000000000000000000000000000\",\n            outDepositAmount: ethers.utils.formatUnits(result)\n          })\n        });\n    }\n\n\n  } else {\n    const contract = new ethers.Contract(\n      ethers.utils.getAddress(checkedVault.strategyAddress),\n      abi,\n      Ethers.provider()\n    );\n    contract\n      .callStatic\n      .previewWithdrawOffchain(_amount).then((result) => {\n        State.update({\n          outWithdrawAmount: ethers.utils.formatUnits(result)\n        })\n      });\n  }\n\n}\nfunction handleQueryDepositBalance(callback) {\n  const abi = [{\n    \"inputs\": [\n      {\n        \"internalType\": \"address\",\n        \"name\": \"account\",\n        \"type\": \"address\"\n      }\n    ],\n    \"name\": \"balanceOf\",\n    \"outputs\": [\n      {\n        \"internalType\": \"uint256\",\n        \"name\": \"value\",\n        \"type\": \"uint256\"\n      }\n    ],\n    \"stateMutability\": \"view\",\n    \"type\": \"function\"\n  }]\n  const contract = new ethers.Contract(\n    ethers.utils.getAddress(SYMBOL_ADDRESS),\n    abi,\n    Ethers.provider()\n  );\n  contract\n    .balanceOf(smartContractAddress)\n    .then(result => {\n      const balance = Big(result ? ethers.utils.formatUnits(result) : 0).toFixed()\n      State.update({\n        depositBalance: balance\n      })\n      callback && callback(balance)\n    })\n}\nfunction handleQueryWithdrawBalance(callback) {\n  const abi = [{\n    \"inputs\": [\n      {\n        \"internalType\": \"address\",\n        \"name\": \"owner\",\n        \"type\": \"address\"\n      }\n    ],\n    \"name\": \"balanceOf\",\n    \"outputs\": [\n      {\n        \"internalType\": \"uint256\",\n        \"name\": \"result\",\n        \"type\": \"uint256\"\n      }\n    ],\n    \"stateMutability\": \"view\",\n    \"type\": \"function\"\n  }]\n  const contract = new ethers.Contract(\n    ethers.utils.getAddress(checkedVault.strategyAddress),\n    abi,\n    Ethers.provider()\n  );\n  contract\n    .balanceOf(smartContractAddress)\n    .then(result => {\n      const balance = Big(result ? ethers.utils.formatUnits(result) : 0).toFixed()\n      State.update({\n        withdrawBalance: balance\n      })\n      callback && callback(balance)\n    })\n}\nfunction getShares(_amount) {\n  return new Promise((resolve, reject) => {\n    const abi = [{\n      \"inputs\": [\n        {\n          \"internalType\": \"uint256\",\n          \"name\": \"assets\",\n          \"type\": \"uint256\"\n        }\n      ],\n      \"name\": \"previewDeposit\",\n      \"outputs\": [\n        {\n          \"internalType\": \"uint256\",\n          \"name\": \"updatedAssets\",\n          \"type\": \"uint256\"\n        },\n        {\n          \"internalType\": \"uint256\",\n          \"name\": \"shares\",\n          \"type\": \"uint256\"\n        }\n      ],\n      \"stateMutability\": \"view\",\n      \"type\": \"function\"\n    }]\n    const contract = new ethers.Contract(\n      ethers.utils.getAddress(PROXY_ADDRESS),\n      abi,\n      Ethers.provider().getSigner()\n    )\n    contract.previewDeposit(_amount)\n      .then(resolve)\n      .catch(reject)\n  })\n\n}\nfunction handleDeposit() {\n  State.update({\n    depositLoading: true\n  })\n  const toastId = toast?.loading({\n    title: `Deposit ${state.inDepositAmount} ${checkedVault.token0}`,\n  });\n  const abi = [{\n    \"inputs\": [\n      {\n        \"internalType\": \"address\",\n        \"name\": \"strategy\",\n        \"type\": \"address\"\n      },\n      {\n        \"internalType\": \"uint256\",\n        \"name\": \"amount\",\n        \"type\": \"uint256\"\n      },\n      {\n        \"internalType\": \"bytes\",\n        \"name\": \"data\",\n        \"type\": \"bytes\"\n      }\n    ],\n    \"name\": \"strategyDeposit\",\n    \"outputs\": [\n      {\n        \"internalType\": \"uint256\",\n        \"name\": \"receivedShares\",\n        \"type\": \"uint256\"\n      }\n    ],\n    \"stateMutability\": \"payable\",\n    \"type\": \"function\"\n  }]\n  const contract = new ethers.Contract(\n    ethers.utils.getAddress(smartContractAddress),\n    abi,\n    Ethers.provider().getSigner()\n  );\n\n  const _amount = Big(state?.inDepositAmount)\n    .mul(Big(10).pow(18))\n    .toFixed(0);\n  console.log('=_amount', _amount)\n  contract\n    .strategyDeposit(\n      checkedVault.strategyAddress,\n      _amount,\n      state.depositData,\n    )\n    .then(tx => tx.wait())\n    .then((result) => {\n      const { status, transactionHash } = result;\n      toast?.dismiss(toastId);\n      if (status !== 1) throw new Error(\"\");\n      State.update({\n        depositLoading: false\n      })\n      toast?.success({\n        title: \"Deposit Successfully!\",\n        text: `Deposit ${state.inDepositAmount} ${checkedVault.token0}`,\n        tx: transactionHash,\n        chainId,\n      });\n\n      if (status === 1) {\n        addAction?.({\n          type: \"Yield\",\n          action: \"Deposit\",\n          token0: checkedVault.token0,\n          token1: checkedVault.token1,\n          amount: state?.inDepositAmount,\n          template: \"Juice\",\n          add: true,\n          status,\n          transactionHash,\n        });\n        handleRefresh()\n      }\n    }).catch(error => {\n      console.log('=error', error)\n      State.update({\n        depositLoading: false\n      })\n      toast?.fail({\n        title: \"Deposit Failed!\",\n        text: error?.message?.includes(\"user rejected transaction\")\n          ? \"User rejected transaction\"\n          : `Deposit ${state.inDepositAmount} ${checkedVault.token0}`,\n      });\n    });\n}\nfunction handleWithdraw() {\n  State.update({\n    withdrawLoading: true\n  })\n  const toastId = toast?.loading({\n    title: `Withdraw ${state.inWithdrawAmount} ${checkedVault.token0}`,\n  });\n  const abi = [{\n    \"inputs\": [\n      {\n        \"internalType\": \"address\",\n        \"name\": \"strategy\",\n        \"type\": \"address\"\n      },\n      {\n        \"internalType\": \"uint256\",\n        \"name\": \"shares\",\n        \"type\": \"uint256\"\n      },\n      {\n        \"internalType\": \"bytes\",\n        \"name\": \"data\",\n        \"type\": \"bytes\"\n      }\n    ],\n    \"name\": \"strategyWithdraw\",\n    \"outputs\": [\n      {\n        \"internalType\": \"uint256\",\n        \"name\": \"receivedAssets\",\n        \"type\": \"uint256\"\n      }\n    ],\n    \"stateMutability\": \"payable\",\n    \"type\": \"function\"\n  }]\n  const contract = new ethers.Contract(\n    ethers.utils.getAddress(smartContractAddress),\n    abi,\n    Ethers.provider().getSigner()\n  );\n  const _amount = Big(state?.inWithdrawAmount)\n    .mul(Big(10).pow(18))\n    .toFixed(0);\n  getShares(_amount).then(sharesResult => {\n    const shares = sharesResult[1]\n    contract\n      .strategyWithdraw(\n        checkedVault.strategyAddress,\n        shares,\n        \"0x00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000\",\n      )\n      .then(tx => tx.wait())\n      .then((result) => {\n        const { status, transactionHash } = result;\n        toast?.dismiss(toastId);\n        if (status !== 1) throw new Error(\"\");\n        State.update({\n          withdrawLoading: false\n        })\n        toast?.success({\n          title: \"Withdraw Successfully!\",\n          text: `Withdraw ${state.inWithdrawAmount} ${checkedVault.token0}`,\n          tx: transactionHash,\n          chainId,\n        });\n        if (status === 1) {\n          addAction?.({\n            type: \"Yield\",\n            action: \"Withdraw\",\n            token0: checkedVault.token1,\n            token1: checkedVault.token0,\n            amount: state?.inWithdrawAmount,\n            template: \"Juice\",\n            add: false,\n            status,\n            transactionHash,\n          });\n          handleRefresh()\n        }\n      }).catch(error => {\n        State.update({\n          withdrawLoading: false\n        })\n        toast?.fail({\n          title: \"Withdraw Failed!\",\n          text: error?.message?.includes(\"user rejected transaction\")\n            ? \"User rejected transaction\"\n            : `Withdraw ${state.inWithdrawAmount} ${checkedVault.token0}`,\n        });\n      });\n  })\n\n}\nfunction handleExplore() {\n  windowOpen(\"https://blastexplorer.io/address/\" + checkedVault.vaultAddress, \"_blank\")\n}\nfunction handleChart() {\n  windowOpen(\"https://dexscreener.com/blast/\" + checkedVault.vaultAddress, \"_blank\")\n}\n\nfunction handleSlippageChange(amount) {\n  State.update({\n    slippageError: Number(amount) > 50 || Number(amount) < 0,\n    inSlippageAmount: amount\n  })\n}\nfunction handleGetSlippageOutAmount(amount, slippageAmount) {\n  const slippageOutAmount = amount === \"\" ? 0 : (state.slippageError ? Big(amount).toFixed(6) : Big(amount).times(1 - slippageAmount / 100).toFixed(6))\n  return Number(slippageOutAmount) > 0 ? slippageOutAmount : \"0.000000\"\n}\nfunction handleMax() {\n  const handleQueryBalance = state.isDeposit ? handleQueryDepositBalance : handleQueryWithdrawBalance\n  handleQueryBalance(balance => {\n    console.log('-balance', balance)\n    handleInAmountChange(Big(balance).eq(Big(10).pow(-18)) ? 0 : balance)\n  })\n\n}\nfunction handleAuto() {\n  handleSlippageChange(0.5)\n}\nfunction handleRefresh() {\n  handleQueryPositionOverview()\n  // handleQueryVaultOverview()\n  handleQueryDepositBalance()\n  handleQueryWithdrawBalance()\n}\nuseEffect(() => {\n  if (state.isDeposit) {\n    handleQueryDepositBalance()\n  } else {\n    handleQueryWithdrawBalance()\n  }\n}, [state.isDeposit])\n\nuseEffect(() => {\n  if (checkedVault) {\n    handleRefresh()\n  }\n}, [checkedVault])\nreturn (\n  <StyledContainer>\n    <StyledContainerTop>\n      <StyledBack onClick={onBack}>\n        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"9\" height=\"13\" viewBox=\"0 0 9 13\" fill=\"none\">\n          <path d=\"M7.5 1L2 6.49992L7.5 12\" stroke=\"#979ABE\" stroke-width=\"2\" stroke-linecap=\"round\" />\n        </svg>\n        <StyledBackTxt>Back to vaults</StyledBackTxt>\n      </StyledBack>\n      <StyledVault>\n        <StyledVaultTop>\n          <StyledVaultImageContainer\n            style={{\n              background: checkedVault.iconBgColor\n            }}\n          >\n            <StyledVaultImage src={checkedVault.icon} />\n          </StyledVaultImageContainer>\n          <StyledVaultInfo>\n            <StyledVaultName>{checkedVault.name}</StyledVaultName>\n            <StyledVaultDesc>This vault manages a single ERC721 LP position in the WETH/weETH V3 pool (0.05%). The LP position is staked in Hyperlock to earn Hyperlock Points and Thruster Points.</StyledVaultDesc>\n          </StyledVaultInfo>\n          <StyledVaultViewButton\n            onClick={() => {\n              windowOpen(\"https://blastexplorer.io/address/\" + checkedVault.strategyAddress, \"_blank\")\n            }}\n          >View Blastscan</StyledVaultViewButton>\n\n        </StyledVaultTop>\n        <StyledVaultBottom>\n          <StyledVaultBottomRow>\n            <StyledVaulBottomMessage>\n              <StyledVaulBottomMessageLabel>Protocol</StyledVaulBottomMessageLabel>\n              <StyledVaulBottomMessageValue>{checkedVault.protocol}</StyledVaulBottomMessageValue>\n            </StyledVaulBottomMessage>\n            <StyledVaulBottomMessage>\n              <StyledVaulBottomMessageLabel>Type</StyledVaulBottomMessageLabel>\n              <StyledVaulBottomMessageValue>{checkedVault.type}</StyledVaulBottomMessageValue>\n            </StyledVaulBottomMessage>\n            <StyledVaulBottomMessage>\n              <StyledVaulBottomMessageLabel>Total Deposited</StyledVaulBottomMessageLabel>\n              <StyledVaulBottomMessageValue>{Big(checkedVault.pointList[0]?.value ?? 0).toFixed(2)} WETH</StyledVaulBottomMessageValue>\n            </StyledVaulBottomMessage>\n            <StyledVaulBottomMessage>\n              <StyledVaulBottomMessageLabel>Accepted Asset</StyledVaulBottomMessageLabel>\n              <StyledVaulBottomMessageValue>WETH</StyledVaulBottomMessageValue>\n            </StyledVaulBottomMessage>\n          </StyledVaultBottomRow>\n          <StyledVaultBottomRow>\n            <StyledVaulBottomMessage>\n              <StyledVaulBottomMessageLabel>Earns</StyledVaulBottomMessageLabel>\n              <StyledVaulBottomMessageValue>\n                <StyledEarnImageContainer>\n                  <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"22\" height=\"22\" viewBox=\"0 0 22 22\" fill=\"none\">\n                    <circle cx=\"11\" cy=\"11\" r=\"10.5\" fill=\"#2A135D\" stroke=\"black\" />\n                  </svg>\n                  <StyledEarnCoverImage src={checkedVault.icon} />\n                </StyledEarnImageContainer>\n                <StyledEarnImageContainer>\n                  <StyledEarnImage src=\"https://ipfs.near.social/ipfs/bafkreif5l4sfmwpqzpe7gr4res6lv3orsm7wxtovfr3n36wznbybeiy2ku\" />\n                </StyledEarnImageContainer>\n                <StyledEarnImageContainer>\n                  <StyledEarnImage src=\"https://ipfs.near.social/ipfs/bafkreiczl353jhnbfkdc2atubwbmscagx4tar4mxmua3ehtknvx2xbjdoq\" />\n                </StyledEarnImageContainer>\n                <StyledEarnImageContainer>\n                  <StyledEarnImage src=\"https://ipfs.near.social/ipfs/bafkreif3crbizpmljlpvfwfkhx5la54asfj5uizmyzjcnlhppvngcebl7e\" />\n                </StyledEarnImageContainer>\n                <StyledEarnImageContainer>\n                  <StyledEarnImage src=\"https://ipfs.near.social/ipfs/bafkreibmykmcqzkp4fsqvqhiy7wbcz4wht2qezgv4bzpduaeiup6xnsvii\" />\n                </StyledEarnImageContainer>\n                <StyledEarnImageContainer>\n                  <StyledEarnImage src=\"https://ipfs.near.social/ipfs/bafkreia2ihu3szpxrtc4ewtkqxef4dvnvvnouymplexi3dbjw425dvfoey\" />\n                </StyledEarnImageContainer>\n                <StyledEarnImageContainer>\n                  <StyledEarnImage src=\"https://ipfs.near.social/ipfs/bafkreibeotwrmejkr4r2hdjjfhia6nv2ok6wsgvu2z7tvqjcxia3fquvyu\" />\n                </StyledEarnImageContainer>\n              </StyledVaulBottomMessageValue>\n            </StyledVaulBottomMessage>\n          </StyledVaultBottomRow>\n        </StyledVaultBottom>\n      </StyledVault>\n    </StyledContainerTop>\n    <StyledContainerBottom>\n      <StyledDepositOrWithdraw>\n        <StyledDepositOrWithdrawTop>\n          <StyledDepositOrWithdrawTopButton\n            className={state.isDeposit ? \"active\" : \"\"}\n            onClick={() => {\n              State.update({\n                isDeposit: true\n              })\n            }}\n          >Deposit</StyledDepositOrWithdrawTopButton>\n          <StyledDepositOrWithdrawTopButton\n            className={!state.isDeposit ? \"active\" : \"\"}\n            onClick={() => {\n              State.update({\n                isDeposit: false\n              })\n            }}\n          >Withdraw</StyledDepositOrWithdrawTopButton>\n        </StyledDepositOrWithdrawTop>\n        <StyledDepositOrWithdrawBottom>\n          {\n            !state.isDeposit ? (\n              <StyledWithdrawContainer>\n                <StyledDepositOrWithdrawInput>\n                  <StyledDepositOrWithdrawInputTop>\n                    <StyledDepositOrWithdrawInputTopType>Withdraw</StyledDepositOrWithdrawInputTopType>\n                    <StyledDepositOrWithdrawInputTopBalance>\n                      Available: <span onClick={handleMax}>{Big(state?.withdrawBalance).toFixed(6)}</span>\n                    </StyledDepositOrWithdrawInputTopBalance>\n                  </StyledDepositOrWithdrawInputTop>\n                  <StyledDepositOrWithdrawInputBottom>\n                    <StyledDepositOrWithdrawInputBottomInput type=\"number\" placeholder=\"0.0\" value={state.inWithdrawAmount} onChange={event => handleInAmountChange(event.target.value)} />\n                    <StyledDepositOrWithdrawInputBottomSymbol>\n                      <StyledDepositOrWithdrawInputBottomSymbolImageContainer>\n                        <StyledDepositOrWithdrawInputBottomSymbolImage src={ICON_MAP[checkedVault.token1]} />\n                      </StyledDepositOrWithdrawInputBottomSymbolImageContainer>\n                      <StyledDepositOrWithdrawInputBottomSymbolTxt>{checkedVault.token1}</StyledDepositOrWithdrawInputBottomSymbolTxt>\n                    </StyledDepositOrWithdrawInputBottomSymbol>\n                  </StyledDepositOrWithdrawInputBottom>\n                </StyledDepositOrWithdrawInput>\n                <StyledDepositOrWithdrawInput\n                  style={{\n                    marginTop: 12,\n                    background: \"#2E3142\"\n                  }}\n                >\n                  <StyledDepositOrWithdrawInputTop>\n                    <StyledDepositOrWithdrawInputTopType>Expected</StyledDepositOrWithdrawInputTopType>\n                  </StyledDepositOrWithdrawInputTop>\n                  <StyledDepositOrWithdrawInputBottom>\n                    <StyledDepositOrWithdrawInputBottomInputTxt>{handleGetSlippageOutAmount(state?.outWithdrawAmount, state.inSlippageAmount)}</StyledDepositOrWithdrawInputBottomInputTxt>\n                    <StyledDepositOrWithdrawInputBottomSymbol>\n                      <StyledDepositOrWithdrawInputBottomSymbolImageContainer>\n                        <StyledDepositOrWithdrawInputBottomSymbolImage src={ICON_MAP[checkedVault.token0]} />\n                      </StyledDepositOrWithdrawInputBottomSymbolImageContainer>\n                      <StyledDepositOrWithdrawInputBottomSymbolTxt>{checkedVault.token0}</StyledDepositOrWithdrawInputBottomSymbolTxt>\n                    </StyledDepositOrWithdrawInputBottomSymbol>\n                  </StyledDepositOrWithdrawInputBottom>\n                </StyledDepositOrWithdrawInput>\n                <StyledSlippage>\n                  <StyledSlippageL>\n                    <StyledSlippageLBox\n                      onClick={() => {\n                        State.update({\n                          showSlippage: true\n                        })\n                      }}>\n                      <StyledSlippageTxt>Slippage</StyledSlippageTxt>\n                      <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"13\" height=\"14\" viewBox=\"0 0 13 14\" fill=\"none\">\n                        <path d=\"M5.5781 0.172943C5.77394 0.059646 5.99609 0 6.22222 0C6.44836 0 6.67051 0.059646 6.86634 0.172943L11.8003 3.02769C11.9962 3.14098 12.1588 3.30393 12.2718 3.50016C12.3849 3.69639 12.4444 3.91899 12.4444 4.14558V9.85442C12.4444 10.081 12.3849 10.3036 12.2718 10.4998C12.1588 10.6961 11.9962 10.859 11.8003 10.9723L6.86634 13.8271C6.67051 13.9404 6.44836 14 6.22222 14C5.99609 14 5.77394 13.9404 5.5781 13.8271L0.644122 10.9723C0.448289 10.859 0.285667 10.6961 0.1726 10.4998C0.0595335 10.3036 5.74368e-06 10.081 0 9.85442V4.14558C5.74368e-06 3.91899 0.0595335 3.69639 0.1726 3.50016C0.285667 3.30393 0.448289 3.14098 0.644122 3.02769L5.5781 0.172943ZM6.22222 1.29083L1.28824 4.14558V9.85442L6.22222 12.7092L11.1562 9.85442V4.14558L6.22222 1.29083ZM6.22222 4.41827C6.90555 4.41827 7.56089 4.69027 8.04408 5.17444C8.52726 5.65861 8.79871 6.31528 8.79871 7C8.79871 7.68472 8.52726 8.34139 8.04408 8.82556C7.56089 9.30973 6.90555 9.58173 6.22222 9.58173C5.5389 9.58173 4.88355 9.30973 4.40037 8.82556C3.91718 8.34139 3.64573 7.68472 3.64573 7C3.64573 6.31528 3.91718 5.65861 4.40037 5.17444C4.88355 4.69027 5.5389 4.41827 6.22222 4.41827ZM6.22222 5.70914C6.05305 5.70914 5.88553 5.74253 5.72923 5.8074C5.57294 5.87227 5.43092 5.96735 5.3113 6.08722C5.19167 6.20709 5.09678 6.34939 5.03204 6.50601C4.9673 6.66262 4.93398 6.83048 4.93398 7C4.93398 7.16952 4.9673 7.33738 5.03204 7.49399C5.09678 7.65061 5.19167 7.79291 5.3113 7.91278C5.43092 8.03265 5.57294 8.12773 5.72923 8.1926C5.88553 8.25748 6.05305 8.29086 6.22222 8.29086C6.56389 8.29086 6.89156 8.15486 7.13315 7.91278C7.37474 7.6707 7.51047 7.34236 7.51047 7C7.51047 6.65764 7.37474 6.32931 7.13315 6.08722C6.89156 5.84514 6.56389 5.70914 6.22222 5.70914Z\" fill=\"#979ABE\" />\n                      </svg>\n                    </StyledSlippageLBox>\n                    {\n                      state.showSlippage && (\n                        <>\n                          <StyledMaxSlippageContainer>\n                            <StyledMaxSlippageTop>Max. Slippage</StyledMaxSlippageTop>\n                            <StyledMaxSlippageBottom>\n                              <StyledMaxSlippageAutoButton onClick={handleAuto}>Auto</StyledMaxSlippageAutoButton>\n                              <StyledMaxSlippageInputContainer className={state.slippageError ? \"error\" : \"\"}>\n                                <StyledMaxSlippageInput type=\"number\" value={state.inSlippageAmount} onChange={event => handleSlippageChange(event.target.value)} />\n                                <StyledMaxSlippagePercentage>%</StyledMaxSlippagePercentage>\n                              </StyledMaxSlippageInputContainer>\n                            </StyledMaxSlippageBottom>\n                          </StyledMaxSlippageContainer>\n                          <StyledMaxSlippageCover onClick={() => {\n                            State.update({\n                              showSlippage: false\n                            })\n                          }} />\n                        </>\n                      )\n                    }\n                  </StyledSlippageL>\n                  <StyledSlippageR>{state.inSlippageAmount}%</StyledSlippageR>\n                </StyledSlippage>\n                {\n                  isWithdrawInSufficient ? (\n                    <StyledDepositOrWithdrawButton disabled>InSufficient Balance</StyledDepositOrWithdrawButton>\n                  ) : state.withdrawLoading ? (\n                    <StyledDepositOrWithdrawButton disabled>\n                      <Widget src={\"bluebiu.near/widget/Liquidity.Bridge.Loading\"} />\n                    </StyledDepositOrWithdrawButton>\n                  ) : state.inWithdrawAmount > 0 ? (\n                    <StyledDepositOrWithdrawButton onClick={handleWithdraw}>Widthdraw</StyledDepositOrWithdrawButton>\n                  ) : (\n                    <StyledDepositOrWithdrawButton disabled>Widthdraw</StyledDepositOrWithdrawButton>\n                  )\n                }\n              </StyledWithdrawContainer>\n            ) : (!isCreatedAccount || Number(state?.depositBalance) === 0) ? (\n              <StyledEmptyContainer>\n                <StyledEmptyImage src=\"https://ipfs.near.social/ipfs/bafkreicbbj3fufcper54zhf3g5siznyfsb3lry2f74vhyejzj2qd2qcory\" />\n                <StyledEmptyTips>\n                  No WETH available to deposit.<br />Create an Account and borrow WETH to deposit into the vault.\n                </StyledEmptyTips>\n                <StyledDepositOrWithdrawButton onClick={() => {\n                  onChangeCategoryIndex(1)\n                }}>Manage Account</StyledDepositOrWithdrawButton>\n              </StyledEmptyContainer>\n            ) : (\n              <StyledDepositContainer>\n                <StyledDepositOrWithdrawInput>\n                  <StyledDepositOrWithdrawInputTop>\n                    <StyledDepositOrWithdrawInputTopType>Deposit</StyledDepositOrWithdrawInputTopType>\n                    <StyledDepositOrWithdrawInputTopBalance>\n                      Available: <span onClick={handleMax}>{Big(state?.depositBalance).toFixed(6)}</span>\n                    </StyledDepositOrWithdrawInputTopBalance>\n                  </StyledDepositOrWithdrawInputTop>\n                  <StyledDepositOrWithdrawInputBottom>\n                    <StyledDepositOrWithdrawInputBottomInput type=\"number\" placeholder=\"0.0\" value={state.inDepositAmount} onChange={event => handleInAmountChange(event.target.value)} />\n                    <StyledDepositOrWithdrawInputBottomSymbol>\n                      <StyledDepositOrWithdrawInputBottomSymbolImageContainer>\n                        <StyledDepositOrWithdrawInputBottomSymbolImage src={ICON_MAP[checkedVault.token0]} />\n                      </StyledDepositOrWithdrawInputBottomSymbolImageContainer>\n                      <StyledDepositOrWithdrawInputBottomSymbolTxt>{checkedVault.token0}</StyledDepositOrWithdrawInputBottomSymbolTxt>\n                    </StyledDepositOrWithdrawInputBottomSymbol>\n                  </StyledDepositOrWithdrawInputBottom>\n                </StyledDepositOrWithdrawInput>\n                <StyledDepositOrWithdrawInput\n                  style={{\n                    marginTop: 12,\n                    background: \"#2E3142\"\n                  }}\n                >\n                  <StyledDepositOrWithdrawInputTop>\n                    <StyledDepositOrWithdrawInputTopType>Expected</StyledDepositOrWithdrawInputTopType>\n                  </StyledDepositOrWithdrawInputTop>\n                  <StyledDepositOrWithdrawInputBottom>\n                    <StyledDepositOrWithdrawInputBottomInputTxt>{handleGetSlippageOutAmount(state?.outDepositAmount, state?.inSlippageAmount)}</StyledDepositOrWithdrawInputBottomInputTxt>\n                    <StyledDepositOrWithdrawInputBottomSymbol>\n                      <StyledDepositOrWithdrawInputBottomSymbolImageContainer>\n                        <StyledDepositOrWithdrawInputBottomSymbolImage src={ICON_MAP[checkedVault.token1]} />\n                      </StyledDepositOrWithdrawInputBottomSymbolImageContainer>\n                      <StyledDepositOrWithdrawInputBottomSymbolTxt>{checkedVault.token1}</StyledDepositOrWithdrawInputBottomSymbolTxt>\n                    </StyledDepositOrWithdrawInputBottomSymbol>\n                  </StyledDepositOrWithdrawInputBottom>\n                </StyledDepositOrWithdrawInput>\n                <StyledSlippage>\n                  <StyledSlippageL>\n                    <StyledSlippageLBox\n                      onClick={() => {\n                        State.update({\n                          showSlippage: true\n                        })\n                      }}>\n                      <StyledSlippageTxt>Slippage</StyledSlippageTxt>\n                      <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"13\" height=\"14\" viewBox=\"0 0 13 14\" fill=\"none\">\n                        <path d=\"M5.5781 0.172943C5.77394 0.059646 5.99609 0 6.22222 0C6.44836 0 6.67051 0.059646 6.86634 0.172943L11.8003 3.02769C11.9962 3.14098 12.1588 3.30393 12.2718 3.50016C12.3849 3.69639 12.4444 3.91899 12.4444 4.14558V9.85442C12.4444 10.081 12.3849 10.3036 12.2718 10.4998C12.1588 10.6961 11.9962 10.859 11.8003 10.9723L6.86634 13.8271C6.67051 13.9404 6.44836 14 6.22222 14C5.99609 14 5.77394 13.9404 5.5781 13.8271L0.644122 10.9723C0.448289 10.859 0.285667 10.6961 0.1726 10.4998C0.0595335 10.3036 5.74368e-06 10.081 0 9.85442V4.14558C5.74368e-06 3.91899 0.0595335 3.69639 0.1726 3.50016C0.285667 3.30393 0.448289 3.14098 0.644122 3.02769L5.5781 0.172943ZM6.22222 1.29083L1.28824 4.14558V9.85442L6.22222 12.7092L11.1562 9.85442V4.14558L6.22222 1.29083ZM6.22222 4.41827C6.90555 4.41827 7.56089 4.69027 8.04408 5.17444C8.52726 5.65861 8.79871 6.31528 8.79871 7C8.79871 7.68472 8.52726 8.34139 8.04408 8.82556C7.56089 9.30973 6.90555 9.58173 6.22222 9.58173C5.5389 9.58173 4.88355 9.30973 4.40037 8.82556C3.91718 8.34139 3.64573 7.68472 3.64573 7C3.64573 6.31528 3.91718 5.65861 4.40037 5.17444C4.88355 4.69027 5.5389 4.41827 6.22222 4.41827ZM6.22222 5.70914C6.05305 5.70914 5.88553 5.74253 5.72923 5.8074C5.57294 5.87227 5.43092 5.96735 5.3113 6.08722C5.19167 6.20709 5.09678 6.34939 5.03204 6.50601C4.9673 6.66262 4.93398 6.83048 4.93398 7C4.93398 7.16952 4.9673 7.33738 5.03204 7.49399C5.09678 7.65061 5.19167 7.79291 5.3113 7.91278C5.43092 8.03265 5.57294 8.12773 5.72923 8.1926C5.88553 8.25748 6.05305 8.29086 6.22222 8.29086C6.56389 8.29086 6.89156 8.15486 7.13315 7.91278C7.37474 7.6707 7.51047 7.34236 7.51047 7C7.51047 6.65764 7.37474 6.32931 7.13315 6.08722C6.89156 5.84514 6.56389 5.70914 6.22222 5.70914Z\" fill=\"#979ABE\" />\n                      </svg>\n                    </StyledSlippageLBox>\n                    {\n                      state.showSlippage && (\n                        <>\n                          <StyledMaxSlippageContainer>\n                            <StyledMaxSlippageTop>Max. Slippage</StyledMaxSlippageTop>\n                            <StyledMaxSlippageBottom>\n                              <StyledMaxSlippageAutoButton onClick={handleAuto}>Auto</StyledMaxSlippageAutoButton>\n                              <StyledMaxSlippageInputContainer className={state.slippageError ? \"error\" : \"\"}>\n                                <StyledMaxSlippageInput type=\"number\" value={state.inSlippageAmount} onChange={event => handleSlippageChange(event.target.value)} />\n                                <StyledMaxSlippagePercentage>%</StyledMaxSlippagePercentage>\n                              </StyledMaxSlippageInputContainer>\n                            </StyledMaxSlippageBottom>\n                          </StyledMaxSlippageContainer>\n                          <StyledMaxSlippageCover onClick={() => {\n                            State.update({\n                              showSlippage: false\n                            })\n                          }} />\n                        </>\n                      )\n                    }\n                  </StyledSlippageL>\n                  <StyledSlippageR>{state.inSlippageAmount}%</StyledSlippageR>\n                </StyledSlippage>\n                {\n                  isDepositInSufficient ? (\n                    <StyledDepositOrWithdrawButton disabled>InSufficient Balance</StyledDepositOrWithdrawButton>\n                  ) : state.depositLoading ? (\n                    <StyledDepositOrWithdrawButton disabled>\n                      <Widget src={\"bluebiu.near/widget/Liquidity.Bridge.Loading\"} />\n                    </StyledDepositOrWithdrawButton>\n                  ) : state.inDepositAmount > 0 ? (\n                    <StyledDepositOrWithdrawButton onClick={handleDeposit}>Deposit</StyledDepositOrWithdrawButton>\n                  ) : (\n                    <StyledDepositOrWithdrawButton disabled>Deposit</StyledDepositOrWithdrawButton>\n                  )\n                }\n              </StyledDepositContainer>\n            )\n          }\n\n        </StyledDepositOrWithdrawBottom>\n      </StyledDepositOrWithdraw>\n      <StyledOverviewContainer>\n        <StyledPostionOverview>\n          <StyledOverviewTitle>Position Overview</StyledOverviewTitle>\n          <StyledOverviewList>\n            <StyledOverview>\n              <StyledOverviewLabel>Deposited WETH</StyledOverviewLabel>\n              <StyledOverviewValue>{state.positionOverview?.positionValue}</StyledOverviewValue>\n            </StyledOverview>\n            <StyledOverview>\n              <StyledOverviewLabel>Available LP Poistion</StyledOverviewLabel>\n              <StyledOverviewValue>{state?.withdrawBalance}</StyledOverviewValue>\n            </StyledOverview>\n          </StyledOverviewList>\n        </StyledPostionOverview>\n        <StyledVaultOverview>\n          <StyledOverviewTitle>Vault Overview</StyledOverviewTitle>\n          <StyledOverviewList>\n            <StyledOverview>\n              <StyledOverviewLabel>Deposit Fee</StyledOverviewLabel>\n              <StyledOverviewValue>1.00%</StyledOverviewValue>\n            </StyledOverview>\n            <StyledOverview>\n              <StyledOverviewLabel>Available Vault Space (WETH)</StyledOverviewLabel>\n              <StyledOverviewValue>{state?.vaultOverview?.totalDepositCap}</StyledOverviewValue>\n            </StyledOverview>\n            <StyledOverview>\n              <StyledOverviewLabel>Total Deposit Cap (WETH)</StyledOverviewLabel>\n              <StyledOverviewValue>{state?.vaultOverview?.totalDepositCap}</StyledOverviewValue>\n            </StyledOverview>\n            <StyledOverview>\n              <StyledOverviewLabel>Max Deposit Size per Account (WETH)</StyledOverviewLabel>\n              <StyledOverviewValue>{state?.vaultOverview?.maxDepositPerAccount}</StyledOverviewValue>\n            </StyledOverview>\n          </StyledOverviewList>\n        </StyledVaultOverview>\n        <StyledOverviewButtonContainer>\n          {\n            checkedVault.vaultAddress && (\n              <>\n                <StyledOverviewButton onClick={handleExplore}>Explore\n                  <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"13\" height=\"13\" viewBox=\"0 0 13 13\" fill=\"none\">\n                    <path d=\"M1 12L12 1M12 1H3M12 1V9.5\" stroke=\"white\" />\n                  </svg>\n                </StyledOverviewButton>\n                <StyledOverviewButton onClick={handleChart}>Chart\n                  <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"13\" height=\"13\" viewBox=\"0 0 13 13\" fill=\"none\">\n                    <path d=\"M1 12L12 1M12 1H3M12 1V9.5\" stroke=\"white\" />\n                  </svg>\n                </StyledOverviewButton>\n              </>\n            )\n          }\n        </StyledOverviewButtonContainer>\n      </StyledOverviewContainer>\n    </StyledContainerBottom>\n  </StyledContainer>\n)", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/bluebiu.near/widget/Liquidity.Bridge.JUICE.VaultDetail", "fact_widget_deployments_id": "b40531f67424e2c46c3b1647379203e4", "inserted_timestamp": "2024-05-06T07:39:47.028Z", "modified_timestamp": "2024-05-06T08:40:34.078Z", "__row_index": 7}