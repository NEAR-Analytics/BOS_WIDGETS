{"tx_hash": "552L5k6UhfAR6byptJrXCSXDQ8BGsfff9TMkU1m1W8eX", "action_id_social": "7FspVhBHj2wy8GYAuH3ehthjHKztdopf5BaC7e8Mh3oi-0-widget", "block_id": 99899856, "block_timestamp": "2023-08-29T03:38:01.156Z", "signer_id": "bluebiu.near", "widget_name": "RainbowBridge.TokenItem", "source_code": "const {\n  token,\n  sender,\n  onSelectToken,\n  onlyShowHasBalance,\n  sourceBridge,\n  bothConnected,\n  selectToken,\n  forceReload,\n} = props;\n\nconst TokenDark = styled.div`\n  opacity: ${(p) => (p.haveBalance ? \"1\" : \"0.5\")};\n  width: max-content;\n  height: 36px;\n  color: white;\n  border-radius: 23px;\n  background: #373a53;\n  display: flex;\n  align-items: center;\n  border: 1px solid transparent;\n  gap: 4px;\n  padding-left: 2px;\n  padding-right: 8px;\n\n  .token-icon {\n    width: 30px;\n    height: 30px;\n    border-radius: 100%;\n    background: white;\n  }\n`;\n\nconst TokenLight = styled.div`\n  width: max-content;\n  height: 36px;\n  color: white;\n  border-radius: 23px;\n  background: #373a53;\n  display: flex;\n  align-items: center;\n  gap: 4px;\n  padding-left: 2px;\n  cursor: pointer;\n  padding-right: 8px;\n  border: 1px solid transparent;\n  :hover {\n    background: #1e202f;\n    border: 1px solid #00ffa3;\n  }\n  .token-icon {\n    width: 30px;\n    height: 30px;\n    border-radius: 100%;\n    background: white;\n  }\n`;\n\nconst chainBalance =\n  sourceBridge === \"near\"\n    ? Number(state.nearBalance)\n    : Number(state.ethBalance);\n\nconsole.log(\"chainBalance: \", chainBalance);\n\nconst showToken = !onlyShowHasBalance || (!!state.loadDone && chainBalance > 0);\n\nconst StyledToken =\n  !bothConnected || chainBalance == 0 ? TokenDark : TokenLight;\n\nconsole.log({\n  state,\n  symbol: token.symbol,\n});\n\nreturn (\n  <>\n    <Widget\n      src=\"bluebiu.near/widget/RainbowBridge.getBalanceOnToken\"\n      props={{\n        token: token,\n        sender: sender,\n        onLoad: (data) => {\n          State.update({\n            nearBalance: data.nearBalance,\n            ethBalance: data.ethBalance,\n            loadDone: true,\n          });\n        },\n      }}\n    />\n\n    {showToken && (\n      <StyledToken\n        onClick={() => {\n          if (!bothConnected || chainBalance === 0) {\n            return;\n          }\n          onSelectToken({\n            token,\n            nearBalance: state.nearBalance,\n            ethBalance: state.ethBalance,\n          });\n        }}\n        style={{\n          background:\n            !(!bothConnected || Number(chainBalance) === 0) &&\n            selectToken.symbol === token.symbol\n              ? \"#1e202f\"\n              : \"\",\n          border:\n            !(!bothConnected || Number(chainBalance) === 0) &&\n            selectToken.symbol === token.symbol\n              ? \"1px solid #00ffa3\"\n              : \"\",\n        }}\n      >\n        <img className=\"token-icon\" src={token.icon} />\n\n        <span>{token.symbol}</span>\n      </StyledToken>\n    )}\n  </>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/bluebiu.near/widget/RainbowBridge.TokenItem", "fact_widget_deployments_id": "ef506fbf0eb242292a5a77bc32570881", "inserted_timestamp": "2024-03-07T05:24:05.087Z", "modified_timestamp": "2024-03-07T05:24:05.087Z", "__row_index": 0}