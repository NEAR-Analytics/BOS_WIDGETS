{"tx_hash": "41P4NzKfHDvkssuUVYdscgkLyK8NBfy8b6B4dWs956ng", "action_id_social": "EWuthYT8HHeHwcvbd1J4TZ2LYrjanSq7NWnMDctnM6C8-0-widget", "block_id": 101600580, "block_timestamp": "2023-09-21T04:44:05.306Z", "signer_id": "bluebiu.near", "widget_name": "Linea.Liquidity.GAMMA.gamma-table", "source_code": "const { addresses, pairs } = props;\n\nconst Tag = styled.div`\n  border-radius: 16px;\n  background: #393b47;\n  display: inline-block;\n  padding: 4px 10px;\n  font-size: 12px;\n`;\n\nconst Container = styled.div`\n  border: 1px solid #332c4b;\n  background: #181a27;\n  border-radius: 16px;\n  overflow: hidden;\n  padding: 10px 0;\n\n  @media (max-width: 736px) {\n    border: none;\n    background: none;\n    width: 100%;\n  }\n`;\nconst Table = styled.table`\n  font-family: \"Inter\";\n  color: #fff;\n  min-width: 640px;\n\n  th {\n    padding: 10px;\n  }\n  td {\n    padding: 10px 10px;\n    font-size: 16px;\n  }\n  tr {\n    cursor: pointer;\n    &:last-of-type {\n      border-bottom: none;\n    }\n    th:first-child,\n    td:first-child {\n      padding-left: 26px;\n    }\n  }\n\n  @media (max-width: 736px) {\n    min-width: none;\n\n    max-width: 100%;\n\n    display: block;\n\n    width thead {\n      display: none;\n    }\n\n    tr {\n      display: none;\n    }\n  }\n\n  tbody tr:hover {\n    background: rgba(53, 55, 73, 0.5);\n  }\n`;\n\nconst MobileListItem = styled.div`\n  border: 1px solid #332c4b;\n  background: linear-gradient(0deg, #181a27, #181a27);\n  border-radius: 10px;\n  color: white;\n  font-size: 16px;\n  padding: 12px 0;\n\n  .pair-title {\n    border-bottom: 1px solid #2e3145;\n\n    padding: 0px 12px 16px;\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n\n    .type-box {\n      border-radius: 13px;\n      min-width: 61px;\n      height: 26px;\n      padding: 0px 6px;\n      font-size: 13px;\n      font-weight: 400;\n      line-height: 16px;\n      letter-spacing: 0em;\n      text-align: left;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      background: #d9d9d91a;\n    }\n  }\n\n  .info-line {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    padding: 12px;\n\n    .info-title {\n      font-size: 15px;\n      font-weight: 400;\n      line-height: 18px;\n      letter-spacing: 0em;\n      text-align: left;\n      color: #979abe;\n    }\n\n    .info-value {\n      font-size: 15px;\n      font-weight: 500;\n      line-height: 18px;\n      letter-spacing: 0em;\n      text-align: left;\n      color: #ffffff;\n    }\n  }\n\n  @media (min-width: 736px) {\n    display: none;\n  }\n`;\n\nconst MobileList = styled.div`\n  display: flex;\n  width: 100%;\n  flex-direction: column;\n  gap: 12px;\n  @media (min-width: 736px) {\n    display: none;\n  }\n`;\n\nconst formatFiat = (value) => {\n  const number = Number(value).toLocaleString(\"en\", {\n    currency: \"USD\",\n    style: \"currency\",\n    compactDisplay: \"short\",\n    notation: \"compact\",\n    maximumFractionDigits: 2,\n  });\n\n  return number;\n};\n\nconst formatPercent = (value) => {\n  return `${Number(value * 100).toLocaleString(\"en\", {\n    maximumFractionDigits: 2,\n  })}%`;\n};\n\nconst { poolsData, userPositions } = props;\n\nconst onPairClick = (pair) => {\n  const { handlePairClick } = props;\n\n  if (handlePairClick) handlePairClick(pair);\n};\n\nreturn (\n  <Container>\n    <Table>\n      <thead>\n        <tr>\n          <th>Gamma Position</th>\n          <th>Strategy</th>\n          <th>TVL</th>\n          <th>Balance</th>\n          <th>APR</th>\n        </tr>\n      </thead>\n      <tbody>\n        {poolsData &&\n          pairs.map((pair) => {\n            const poolData = poolsData[addresses[pair.id]];\n            const userBalance =\n              userPositions && addresses[pair.id] in userPositions\n                ? userPositions[addresses[pair.id]].balanceUSD\n                : undefined;\n\n            return (\n              <tr onClick={() => onPairClick(pair)} key={pair.id}>\n                <td>\n                  {pair.token0}-{pair.token1}\n                </td>\n                <td>\n                  <Tag>{pair.strategy2 ? pair.strategy2 : pair.strategy}</Tag>\n                </td>\n                <td>{formatFiat(poolData.tvlUSD)}</td>\n                <td>{userBalance ? `${formatFiat(userBalance)}` : \"-\"}</td>\n                <td>{formatPercent(poolData.returns.weekly.feeApr)}</td>\n              </tr>\n            );\n          })}\n      </tbody>\n    </Table>\n\n    {poolsData && (\n      <MobileList>\n        {pairs.map((pair) => {\n          const poolData = poolsData[addresses[pair.id]];\n          const userBalance =\n            userPositions && addresses[pair.id] in userPositions\n              ? userPositions[addresses[pair.id]].balanceUSD\n              : undefined;\n\n          return (\n            <MobileListItem onClick={() => onPairClick(pair)} key={pair.id}>\n              <div className=\"pair-title\">\n                <div>\n                  {pair.token0}-{pair.token1}\n                </div>\n                <div className=\"type-box\">\n                  {pair.strategy2 ? pair.strategy2 : pair.strategy}\n                </div>\n              </div>\n              <div className=\"info-line\">\n                <div\n                  className=\"info-title\"\n                  style={{\n                    paddingTop: \"14px\",\n                  }}\n                >\n                  TVL\n                </div>\n                <div className=\"info-value\">{formatFiat(poolData.tvlUSD)}</div>\n              </div>\n              <div className=\"info-line\">\n                <div className=\"info-title\">Balance</div>\n                <div className=\"info-value\">\n                  {userBalance ? `${formatFiat(userBalance)}` : \"-\"}\n                </div>\n              </div>\n              <div className=\"info-line\">\n                <div className=\"info-title\">APR</div>\n                <div className=\"info-value\">\n                  {formatPercent(poolData.returns.weekly.feeApr)}\n                </div>\n              </div>\n            </MobileListItem>\n          );\n        })}\n      </MobileList>\n    )}\n  </Container>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/bluebiu.near/widget/Linea.Liquidity.GAMMA.gamma-table", "fact_widget_deployments_id": "9e3a008f067282e1329e167c04025972", "inserted_timestamp": "2024-03-07T05:24:05.087Z", "modified_timestamp": "2024-03-07T05:24:05.087Z", "__row_index": 1}