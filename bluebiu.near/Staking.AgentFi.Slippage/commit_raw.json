{"tx_hash": "DSbAVdTtUy8dLNcneUE4tHgLThbSxAmAwH3ZmZgNTxSt", "action_id_social": "FcuzZhSq5JibVdJ7XwsCTH4NQVrhG37fu6qDPr53CHQ-0-widget", "block_id": 120859283, "block_timestamp": "2024-06-10T14:04:13.984Z", "signer_id": "bluebiu.near", "widget_name": "Staking.AgentFi.Slippage", "source_code": "const StyledSlippage = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n`;\nconst StyledSlippageL = styled.div`\n  position: relative;\n`;\nconst StyledSlippageLBox = styled.div`\n  display: flex;\n  align-items: center;\n  gap: 4px;\n  cursor: pointer;\n`;\nconst StyledSlippageTxt = styled.div`\n  color: #979ABE;\n  font-size: 14px;\n  font-style: normal;\n  font-weight: 400;\n  line-height: normal;\n`;\nconst StyledSlippageR = styled.div`\n  color: #FFF;\n  font-size: 14px;\n  font-style: normal;\n  font-weight: 400;\n  line-height: normal;\n`;\nconst StyledMaxSlippageCover = styled.div`\n  position: fixed;\n  left: 0;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  z-index: 999;\n`;\nconst StyledMaxSlippageContainer = styled.div`\n  position: absolute;\n  top: -6px;\n  right: -10px;\n  transform: translateX(100%);\n  width: 173px;\n  height: 91px;\n  flex-shrink: 0;\n  padding: 13px 16px;\n  border-radius: 8px;\n  border: 1px solid #454968;\n  background: #313447;\n  z-index: 9999;\n`;\nconst StyledMaxSlippageTop = styled.div`\n  margin-bottom: 18px;\n  color: #979ABE;\n  font-size: 14px;\n  font-style: normal;\n  font-weight: 400;\n  line-height: normal;\n`;\nconst StyledMaxSlippageBottom = styled.div`\n  display: flex;\n  align-items: center;\n  gap: 10px;\n`;\nconst StyledMaxSlippageAutoButton = styled.div`\n  width: 42px;\n  height: 30px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  border-radius: 8px;\n  border: 1px solid #454968;\n  background: #313447;\n  cursor: pointer;\n  color: #979ABE;\n  font-size: 14px;\n  font-style: normal;\n  font-weight: 400;\n  line-height: normal;\n`;\nconst StyledMaxSlippageInputContainer = styled.div`\n  width: 85px;\n  height: 30px;\n  flex-shrink: 0;\n  padding: 7px;\n  display: flex;\n  align-items: center;\n  border-radius: 6px;\n  border: 1px solid #373A53;\n  background: #1B1E27;\n\n  &.error {\n    background: rgb(153, 27, 27);\n    border-color: rgb(220, 38, 38);\n  }\n`;\nconst StyledMaxSlippagePercentage = styled.div`\n  color: #FFF;\n  font-size: 14px;\n  font-style: normal;\n  font-weight: 400;\n  line-height: normal;\n`;\nconst StyledMaxSlippageInput = styled.input`\n  width: 100%;\n  max-width: 100%;\n  height: 100%;\n  padding: 0;\n  border: none;\n  outline: none;\n  background: transparent;\n  color: #FFF;\n  font-size: 14px;\n  font-style: normal;\n  font-weight: 500;\n  line-height: normal;\n\n  &[type=\"number\"]::-webkit-outer-spin-button,\n  &[type=\"number\"]::-webkit-inner-spin-button {\n    -webkit-appearance: none;\n    margin: 0;\n  }\n\n  &[type=\"number\"] {\n    -moz-appearance: textfield;\n  }\n`;\n\nconst {\n  value,\n  onChange,\n} = props;\n\nState.init({\n  visible: false,\n  value: value,\n});\n\nconst formatValue = (_value) => {\n  if (isNaN(Number(_value))) return 0;\n  let val = _value.replace(/\\s+/g, \"\");\n  if (Big(val).gt(50)) {\n    val = 50;\n  }\n  if (Big(val).lt(0.01)) {\n    val = 0.01;\n  }\n  return Big(val).toFixed(2);\n};\n\nconst handleChange = (ev) => {\n  State.update({\n    value: ev.target.value,\n  });\n};\n\nconst handleBlur = (ev) => {\n  onChange(formatValue(ev.target.value));\n};\n\nconst handleVisible = (_visible) => {\n  State.update({\n    visible: _visible,\n  });\n};\n\nconst handleAuto = () => {\n  onChange(formatValue('50'));\n};\n\nconst {\n  visible,\n} = state;\n\nuseEffect(() => {\n  State.update({\n    value: value,\n  });\n}, [value]);\n\nreturn (\n  <StyledSlippage>\n    <StyledSlippageL>\n      <StyledSlippageLBox\n        onClick={() => handleVisible(true)}>\n        <StyledSlippageTxt>Slippage</StyledSlippageTxt>\n        <svg\n          xmlns=\"http://www.w3.org/2000/svg\"\n          width=\"13\"\n          height=\"14\"\n          viewBox=\"0 0 13 14\"\n          fill=\"none\"\n        >\n          <path\n            d=\"M5.5781 0.172943C5.77394 0.059646 5.99609 0 6.22222 0C6.44836 0 6.67051 0.059646 6.86634 0.172943L11.8003 3.02769C11.9962 3.14098 12.1588 3.30393 12.2718 3.50016C12.3849 3.69639 12.4444 3.91899 12.4444 4.14558V9.85442C12.4444 10.081 12.3849 10.3036 12.2718 10.4998C12.1588 10.6961 11.9962 10.859 11.8003 10.9723L6.86634 13.8271C6.67051 13.9404 6.44836 14 6.22222 14C5.99609 14 5.77394 13.9404 5.5781 13.8271L0.644122 10.9723C0.448289 10.859 0.285667 10.6961 0.1726 10.4998C0.0595335 10.3036 5.74368e-06 10.081 0 9.85442V4.14558C5.74368e-06 3.91899 0.0595335 3.69639 0.1726 3.50016C0.285667 3.30393 0.448289 3.14098 0.644122 3.02769L5.5781 0.172943ZM6.22222 1.29083L1.28824 4.14558V9.85442L6.22222 12.7092L11.1562 9.85442V4.14558L6.22222 1.29083ZM6.22222 4.41827C6.90555 4.41827 7.56089 4.69027 8.04408 5.17444C8.52726 5.65861 8.79871 6.31528 8.79871 7C8.79871 7.68472 8.52726 8.34139 8.04408 8.82556C7.56089 9.30973 6.90555 9.58173 6.22222 9.58173C5.5389 9.58173 4.88355 9.30973 4.40037 8.82556C3.91718 8.34139 3.64573 7.68472 3.64573 7C3.64573 6.31528 3.91718 5.65861 4.40037 5.17444C4.88355 4.69027 5.5389 4.41827 6.22222 4.41827ZM6.22222 5.70914C6.05305 5.70914 5.88553 5.74253 5.72923 5.8074C5.57294 5.87227 5.43092 5.96735 5.3113 6.08722C5.19167 6.20709 5.09678 6.34939 5.03204 6.50601C4.9673 6.66262 4.93398 6.83048 4.93398 7C4.93398 7.16952 4.9673 7.33738 5.03204 7.49399C5.09678 7.65061 5.19167 7.79291 5.3113 7.91278C5.43092 8.03265 5.57294 8.12773 5.72923 8.1926C5.88553 8.25748 6.05305 8.29086 6.22222 8.29086C6.56389 8.29086 6.89156 8.15486 7.13315 7.91278C7.37474 7.6707 7.51047 7.34236 7.51047 7C7.51047 6.65764 7.37474 6.32931 7.13315 6.08722C6.89156 5.84514 6.56389 5.70914 6.22222 5.70914Z\"\n            fill=\"#979ABE\"\n          />\n        </svg>\n      </StyledSlippageLBox>\n      {\n        visible && (\n          <>\n            <StyledMaxSlippageContainer>\n              <StyledMaxSlippageTop>Max. Slippage</StyledMaxSlippageTop>\n              <StyledMaxSlippageBottom>\n                <StyledMaxSlippageAutoButton\n                  onClick={handleAuto}\n                >\n                  Auto\n                </StyledMaxSlippageAutoButton>\n                <StyledMaxSlippageInputContainer>\n                  <StyledMaxSlippageInput\n                    type=\"number\"\n                    value={state.value}\n                    onChange={handleChange}\n                    onBlur={handleBlur}\n                  />\n                  <StyledMaxSlippagePercentage>%</StyledMaxSlippagePercentage>\n                </StyledMaxSlippageInputContainer>\n              </StyledMaxSlippageBottom>\n            </StyledMaxSlippageContainer>\n            <StyledMaxSlippageCover onClick={() => handleVisible(false)} />\n          </>\n        )\n      }\n    </StyledSlippageL>\n    <StyledSlippageR>{state.value}%</StyledSlippageR>\n  </StyledSlippage>\n);", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/bluebiu.near/widget/Staking.AgentFi.Slippage", "fact_widget_deployments_id": "bfb917901f76104bf5577c83e82f0980", "inserted_timestamp": "2024-06-10T16:05:32.153Z", "modified_timestamp": "2024-06-10T16:05:32.153Z", "__row_index": 0}