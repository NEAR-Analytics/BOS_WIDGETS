{"tx_hash": "APYH1FmWcL9SpFqNjPD1B62jcPQwTZ3R4V1XZwAb3ZMV", "action_id_social": "BGqPYwfu8c22uUCzax5pwUpGsWVJh7egAeXgLQxCBaMp-0-widget", "block_id": 115392436, "block_timestamp": "2024-03-24T19:35:13.737Z", "signer_id": "bluebiu.near", "widget_name": "Lending.RewardClaim.Zerolend", "source_code": "const {\n  account,\n  loading,\n\n  markets,\n  rewardAddress,\n  onSuccess,\n  onError,\n} = props;\n\nif (!loading || !rewardAddress) return \"\";\n\nconst arr = markets\n  .map((item) => [\n    item.aTokenAddress,\n    // item.stableDebtTokenAddress,\n    item.variableDebtTokenAddress,\n  ])\n  .flat();\nconst addrs = [...new Set(arr)];\n\nconst claimProvider = new ethers.Contract(\n  rewardAddress,\n  [\n    {\n      inputs: [\n        { internalType: \"address[]\", name: \"assets\", type: \"address[]\" },\n        { internalType: \"address\", name: \"to\", type: \"address\" },\n      ],\n      name: \"claimAllRewards\",\n      outputs: [\n        {\n          internalType: \"address[]\",\n          name: \"rewardsList\",\n          type: \"address[]\",\n        },\n        {\n          internalType: \"uint256[]\",\n          name: \"claimedAmounts\",\n          type: \"uint256[]\",\n        },\n      ],\n      stateMutability: \"nonpayable\",\n      type: \"function\",\n    },\n  ],\n  Ethers.provider().getSigner()\n);\n\nclaimProvider\n  .claimAllRewards(addrs, account)\n  .then((tx) => {\n    tx.wait().then((res) => {\n      onSuccess(res);\n    });\n  })\n  .catch((err) => {\n    onError(err);\n  });\n\nreturn \"\";\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/bluebiu.near/widget/Lending.RewardClaim.Zerolend", "fact_widget_deployments_id": "9a23a0ea954bd718711cdb2004032510", "inserted_timestamp": "2024-03-24T21:26:43.760Z", "modified_timestamp": "2024-03-24T21:26:43.760Z", "__row_index": 0}