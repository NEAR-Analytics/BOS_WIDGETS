{"tx_hash": "CowAkHUXMGi42gf76fJXevYTVu6bBrxkvPT6UYhusrfJ", "action_id_social": "4JWQyKsn8L2szq3QgRpkz5fkTB2XdkRkyMU7GKgJPo65-0-widget", "block_id": 116887357, "block_timestamp": "2024-04-15T09:22:28.116Z", "signer_id": "bluebiu.near", "widget_name": "Lending.Cog.MarketCol", "source_code": "const Asset = styled.div`\n  display: flex;\n  align-items: center;\n  gap: 4px;\n  color: white;\n`;\nconst IconWrap = styled.div`\n  position: relative;\n  display: flex;\n  align-items: center;\n  width: 44px;\n`;\nconst Icon = styled.img`\n  position: absolute;\n  width: 26px;\n  height: 26px;\n  border-radius: 50%;\n  left: 0;\n`;\nconst Symbol = styled.div`\n  font-size: 16px;\n  font-weight: 500;\n  color: #fff;\n  display: flex;\n  align-items: center;\n`;\nconst StyledExpand = styled.div`\n  cursor: pointer;\n  transform-origin: center;\n  transform: rotate(-90deg);\n  transition: 0.3s;\n\n  &.expand {\n    transform: rotate(0deg);\n  }\n`;\n\nconst Badge = styled.div`\n  color: white;\n  background-color: ${(props) =>\n    props.type === \"ACTIVE\" ? \"#28a745\" : \"#6c757d\"};\n  display: inline-block;\n  padding: 0.25em 0.4em;\n  font-size: 75%;\n  font-weight: 700;\n  line-height: 1;\n  text-align: center;\n  white-space: nowrap;\n  vertical-align: baseline;\n  border-radius: 0.25rem;\n  transition: color 0.15s ease-in-out, background-color 0.15s ease-in-out,\n    border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;\n`;\n\nconst { key, expand, data, amount, from } = props;\n\nfunction formatAmount(number) {\n  if (typeof Number(number) !== \"number\") return \"-\";\n  if (isNaN(Number(number))) return \"-\";\n\n  let str_num;\n\n  if (number >= 1e3 && number < 1e6) {\n    str_num = number / 1e3;\n    return str_num.toFixed(2) + \"K\";\n  } else if (number >= 1e6) {\n    str_num = number / 1e6;\n    return str_num.toFixed(2) + \"M\";\n  } else {\n    return Number(str_num).toFixed(2);\n  }\n}\nfunction formatValue(value, digits) {\n  if (isNaN(Number(value))) return \"\";\n  if (Number(value) === 0) return \"0\";\n  return Big(value || 0).lt(0.01)\n    ? \"< 0.01\"\n    : `${Number(value).toFixed(digits || 2)}`;\n}\nfunction renderDom() {\n  switch (key) {\n    case \"POOL_NAME\":\n      return (\n        <Asset>\n          <IconWrap>\n            <Icon src={data.TOKEN_A.icon} />\n            <Icon src={data.TOKEN_B.icon} style={{ left: 14 }} />\n          </IconWrap>\n          <Symbol>{data.POOL_NAME}</Symbol>\n        </Asset>\n      );\n    case \"YourDeposited\":\n      return (\n        <Asset>\n          {formatValue(data.yourDeposited, 2)}\n          {data.depositSymbol}\n        </Asset>\n      );\n    case \"TotalDeposits\":\n      return (\n        <Asset>\n          {formatValue(data.totalAssets, 2)}\n          {data.depositSymbol}\n        </Asset>\n      );\n\n    case \"Debt\":\n      return (\n        <Asset>\n          {formatValue(data.yourBorrowed, 2)}\n          {data.borrowSymbol}\n        </Asset>\n      );\n    case \"Rate\":\n      return <Asset>{Big(data.Rate).times(100).toFixed(2)}%</Asset>;\n    case \"APY\":\n      return <Asset>{Big(data.Rate).times(100).toFixed(2)}%</Asset>;\n    case \"AvailableBorrow\":\n      return (\n        <Asset>\n          {formatValue(data.availableBorrow, 2)}\n          {data.borrowSymbol}\n        </Asset>\n      );\n\n    case \"TotalCollateral\":\n      return (\n        <Asset>\n          {formatValue(data.totalCollateral, 2)}\n          {data.collateralSymbol}\n        </Asset>\n      );\n\n    case \"Utilization\":\n      return (\n        <Asset>\n          {data.utilization ? `${Big(data.utilization).toFixed(2)}%` : \"\"}\n        </Asset>\n      );\n    //\n    ///\n    case \"BORROW\":\n      return (\n        <Asset>\n          <Icon src={data.BORROW_URL} />\n          <Symbol>{data.BORROW_TOKEN}</Symbol>\n        </Asset>\n      );\n    case \"MAX_LTV\":\n      return <Symbol>{Big(amount).mul(100).toFixed(2)}%</Symbol>;\n    case \"MCR\":\n      return <Symbol>{Big(amount).mul(100).toFixed(2)}%</Symbol>;\n    case \"ONE_TIME_FEE\":\n      return <Symbol>{Big(amount).toFixed(2)}% or less</Symbol>;\n    case \"MIN_DEBT\":\n      return (\n        <Asset>\n          <Icon src={data.BORROW_URL} />\n          <Symbol>{amount}</Symbol>\n        </Asset>\n      );\n    case \"MINTED_CAP\":\n      return (\n        <Symbol>\n          {formatAmount(data[\"MINTED\"])}/{formatAmount(amount)}\n        </Symbol>\n      );\n    case \"LOAN_STATUS\":\n      return <Badge type={data.vesselStatus}>{data.vesselStatus}</Badge>;\n    case \"handler\":\n      return (\n        <StyledExpand className={expand ? \"expand\" : \"\"}>\n          <svg\n            xmlns=\"http://www.w3.org/2000/svg\"\n            width=\"11\"\n            height=\"8\"\n            viewBox=\"0 0 11 8\"\n            fill=\"none\"\n          >\n            <path\n              d=\"M5.94103 7.02391C5.5407 7.52432 4.77961 7.52432 4.37929 7.02391L0.459914 2.1247C-0.0638966 1.46993 0.402276 0.499999 1.24078 0.499999L9.07953 0.5C9.91804 0.5 10.3842 1.46993 9.8604 2.12469L5.94103 7.02391Z\"\n              fill=\"#979ABE\"\n            />\n          </svg>\n        </StyledExpand>\n      );\n    default:\n      return <Symbol>{amount}</Symbol>;\n  }\n}\n\nreturn renderDom();\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/bluebiu.near/widget/Lending.Cog.MarketCol", "fact_widget_deployments_id": "6a7548d9412aee08414dc570a29d66fe", "inserted_timestamp": "2024-04-15T10:41:06.800Z", "modified_timestamp": "2024-04-15T11:36:07.490Z", "__row_index": 2}