{"tx_hash": "2JVgy1DNiXtSqMXUwPho1FAQzxGzmQkA9hD24bywSEHf", "action_id_social": "FYq2iS241eGaeNBdx7Yi3bZ4isxDv4Bgp8zf5rp2176G-0-widget", "block_id": 115160650, "block_timestamp": "2024-03-21T11:44:07.864Z", "signer_id": "bluebiu.near", "widget_name": "Arbitrum.Swap.CurrencyBalance", "source_code": "const { address, updateTokenBalance } = props;\n\nconst _account = Ethers.send(\"eth_requestAccounts\", [])[0]\n\nuseEffect(() => {\n  if (!address || !updateTokenBalance) return;\n  const account = props.account || _account;\n\n  if (!account) return;\n\n  if (address === \"native\") {\n    const provider = Ethers.provider();\n    provider.getBalance(account).then((rawBalance) => {\n      props?.onLoad(rawBalance._hex);\n    });\n    return;\n  }\n  const TokenContract = new ethers.Contract(\n    address,\n    [\n      {\n        constant: true,\n        inputs: [\n          {\n            name: \"_owner\",\n            type: \"address\",\n          },\n        ],\n        name: \"balanceOf\",\n        outputs: [\n          {\n            name: \"balance\",\n            type: \"uint256\",\n          },\n        ],\n        payable: false,\n        stateMutability: \"view\",\n        type: \"function\",\n      },\n    ],\n    Ethers.provider().getSigner()\n  );\n\n  TokenContract.balanceOf(account)\n    .then((rawBalance) => {\n      props?.onLoad(rawBalance._hex);\n    })\n    .catch((err) => {\n      console.log(err);\n    });\n}, [address, updateTokenBalance]);\n\nreturn \"\";\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/bluebiu.near/widget/Arbitrum.Swap.CurrencyBalance", "fact_widget_deployments_id": "0e2a7b814e679f1e387f8b8bb57616ec", "inserted_timestamp": "2024-03-21T13:26:58.548Z", "modified_timestamp": "2024-03-21T13:26:58.548Z", "__row_index": 0}