{"tx_hash": "DaNiij8XQE1rLQgkCCeyfr8PCj1hDyQp74ucYRqZMn2Z", "action_id_social": "DdBdNZbeTrVUNp2DvrRZobUuo6AVmpZxR3QzFy9Wrxnv-0-widget", "block_id": 114629452, "block_timestamp": "2024-03-13T12:57:55.307Z", "signer_id": "bluebiu.near", "widget_name": "Base.Bridge.Index", "source_code": "const Wrapper = styled.div`\n  width: 560px;\n  margin: 0px auto 0px;\n  display: flex;\n  flex-direction: column;\n  gap: 10px;\n`;\nconst Panel = styled.div`\n  width: 100%;\n  border: 1px solid var(--border-color);\n  border-radius: 16px;\n  background-color: var(--bg-color);\n  padding: 20px;\n`;\n\nconst { connectProps, chain, mainnet, account, prices, currentChainId } = props;\n\nif (!account) {\n  return (\n    <Widget\n      src=\"bluebiu.near/widget/Arbitrum.Swap.ConnectButton\"\n      props={{\n        ...connectProps,\n        chainId: chain.id,\n        chainName: chain.name,\n        isWrongNetwork: false,\n        account,\n      }}\n    />\n  );\n}\n\nif (currentChainId !== chain.id && currentChainId !== mainnet.id) {\n  return (\n    <Widget\n      src=\"bluebiu.near/widget/Arbitrum.Swap.ConnectButton\"\n      props={{\n        ...connectProps,\n        chainId: chain.id,\n        chainName: chain.name,\n        isWrongNetwork: true,\n        account,\n      }}\n    />\n  );\n}\n\nuseEffect(() => {\n  State.init({\n    displayNetwork: false,\n  });\n}, []);\n\nconst { tokens, amountOutFn, handlerSwap } = props;\n\nconst handleStargateTx = ({ hash, amount, price, from, to, currency }) => {\n  const txs = Storage.privateGet(\"stargate_txs\") || {};\n  txs[hash] = {\n    amount,\n    symbol: currency.symbol,\n    price,\n    fromLogo: from.logo,\n    toLogo: to.logo,\n    time: Date.now(),\n    link: from.explorer + \"/tx/\" + hash,\n    hash: hash,\n    tokenLogo: currency.icon,\n    fromChainId: from.id,\n    toChainId: to.id,\n  };\n  Storage.privateSet(\"stargate_txs\", txs);\n};\n\nreturn (\n  <Wrapper>\n    <Panel>\n      <Widget\n        src=\"bluebiu.near/widget/Base.Bridge.Swap\"\n        props={{\n          chain,\n          mainnet,\n          tokens,\n          amountOutFn,\n          chainId: currentChainId,\n          handlerSwap,\n          addAction: props.addAction,\n          toast: props.toast,\n          account,\n          prices,\n          handleStargateTx,\n          showNetwrokDialog: (_chainId) => {\n            State.update({\n              currentChainId: _chainId,\n              displayNetwork: true,\n            });\n          },\n        }}\n      />\n    </Panel>\n    <Panel>\n      <Widget\n        src=\"bluebiu.near/widget/Base.Bridge.Transactions\"\n        props={{\n          txs: Storage.privateGet(\"stargate_txs\"),\n          chainId: currentChainId,\n          onDelete: (hash) => {\n            setTimeout(() => {\n              const txs = Storage.privateGet(\"stargate_txs\") || {};\n              delete txs[hash];\n              Storage.privateSet(\"stargate_txs\", txs);\n            }, 10000);\n          },\n        }}\n      />\n    </Panel>\n    <Widget\n      src=\"bluebiu.near/widget/Base.Bridge.NetwrokDialog\"\n      props={{\n        chain,\n        mainnet,\n        display: state.displayNetwork,\n        currentChainId: state.currentChainId || props.defaultChainId,\n        onClose: () => {\n          State.update({\n            displayNetwork: false,\n          });\n        },\n      }}\n    />\n  </Wrapper>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/bluebiu.near/widget/Base.Bridge.Index", "fact_widget_deployments_id": "54b52fd71609833de1f6124929e0a97b", "inserted_timestamp": "2024-03-13T14:28:53.036Z", "modified_timestamp": "2024-03-13T14:28:53.036Z", "__row_index": 18}