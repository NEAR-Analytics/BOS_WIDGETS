{"tx_hash": "A75tj5b9T4ZnU2JkbuZWJLaYB3XJGmX8NdgDiYEJQsiv", "action_id_social": "HNuzbU1b3xrBRD4uF2iQbxXSmNcG8LG3MjrcaW12HQDm-0-widget", "block_id": 102379579, "block_timestamp": "2023-10-01T14:40:03.261Z", "signer_id": "bluebiu.near", "widget_name": "Avalanche.Lending.YoursTable", "source_code": "const Table = styled.div``;\nconst Header = styled.div`\n  font-size: 14px;\n  font-weight: 400;\n  padding: 10px 20px 0px;\n  display: flex;\n  color: #7c7f96;\n  @media (max-width: 640px) {\n    display: none;\n  }\n`;\nconst Body = styled.div`\n  min-height: 50px;\n`;\nconst Column = styled.div``;\nconst Row = styled.div`\n  display: flex;\n  padding: 0px 20px;\n  transition: 0.5s;\n  height: 56px;\n  align-items: center;\n  &:last-child {\n    border-radius: 0px 0px 12px 12px;\n  }\n  &:hover {\n    background-color: rgba(53, 55, 73, 0.5);\n  }\n  @media (max-width: 640px) {\n    background-color: #181a27;\n    border: 1px solid #332c4b;\n    border-radius: 10px;\n    flex-direction: column;\n    height: auto;\n    padding: 20px 0px;\n    margin-top: 10px;\n    .special-key {\n      display: none;\n    }\n\n    &:last-child {\n      border-radius: 10px;\n    }\n  }\n`;\nconst RowHeader = styled.div`\n  display: flex;\n  @media (max-width: 640px) {\n    justify-content: space-between;\n    padding: 0px 20px 10px;\n    border-bottom: 1px solid #2e3145;\n  }\n  @media (min-width: 640px) {\n    .special-total {\n      display: none;\n    }\n  }\n`;\nconst NormalCell = styled.div`\n  display: flex;\n  align-items: center;\n  .column-name {\n    display: none;\n    color: #7c7f96;\n    font-size: 13px;\n  }\n  @media (max-width: 640px) {\n    justify-content: space-between;\n    padding: 10px 20px 5px;\n    align-items: flex-start;\n    .column-name {\n      display: block;\n    }\n    .row-value {\n      color: #fff;\n      font-size: 15px;\n    }\n  }\n`;\nconst Cell = styled.div`\n  color: #fff;\n  font-size: 14px;\n  font-weight: 400;\n  @media (max-width: 640px) {\n    width: 100% !important;\n    &:first-child {\n      margin-bottom: 10px;\n    }\n  }\n`;\nconst Total = styled.div`\n  color: #fff;\n  font-size: 14px;\n  font-weight: 400;\n  @media (max-width: 640px) {\n    text-align: right;\n  }\n`;\nconst TotalValue = styled.div`\n  color: rgba(255, 255, 255, 0.5);\n  font-size: 12px;\n  font-weight: 400;\n  @media (max-width: 640px) {\n    text-align: right;\n  }\n`;\nconst Buttons = styled.div`\n  display: flex;\n  justify-content: flex-end;\n  gap: 10px;\n  @media (max-width: 640px) {\n    justify-content: center;\n    width: 100%;\n    padding: 10px 20px 0px;\n  }\n`;\n\nconst { columns, data, buttons, totalReverse, onButtonClick } = props;\n\nconst renderTotal = (record, key, isSpecialKey) => {\n  return (\n    <div className={`${isSpecialKey && \"special-total\"}`}>\n      <Total>\n        $\n        <Widget\n          src=\"bluebiu.near/widget/Avalanche.Lending.Total\"\n          props={{\n            total: totalReverse ? record[key] : record[`${key}_value`],\n            digit: 2,\n          }}\n        />\n      </Total>\n      <TotalValue>\n        <Widget\n          src=\"bluebiu.near/widget/Avalanche.Lending.Total\"\n          props={{\n            total: totalReverse ? record[`${key}_value`] : record[key],\n            digit: 2,\n          }}\n        />\n      </TotalValue>\n    </div>\n  );\n};\nconst renderAssetName = (market) => {\n  return (\n    <RowHeader>\n      <Widget\n        src=\"bluebiu.near/widget/Avalanche.Lending.Asset\"\n        props={{\n          icon: market.icon,\n          symbol: market.symbol,\n          dappIcon: market.dappIcon,\n          dappName: market.dappName,\n        }}\n      />\n    </RowHeader>\n  );\n};\n\nconst renderCollateral = (record) => {\n  return (\n    <Widget\n      src=\"bluebiu.near/widget/Avalanche.Lending.Switch\"\n      props={{\n        onChange: () => {\n          onButtonClick?.(\n            record.address,\n            record.isCollateral\n              ? \"Disable as Collateral\"\n              : \"Enable as Collateral\"\n          );\n        },\n        active: record.isCollateral,\n      }}\n    />\n  );\n};\nconst renderApy = (record) => <div className=\"apy\">{record.apy}</div>;\n\nreturn (\n  <Table>\n    <Header>\n      {columns?.map((column) => (\n        <Column key={column.key || column.type} style={{ width: column.width }}>\n          {column.name}\n        </Column>\n      ))}\n    </Header>\n    <Body>\n      {data?.map((record) => (\n        <Row key={record.address}>\n          {columns?.map((column) => (\n            <Cell\n              key={column.key || column.type}\n              style={{\n                width: column.width,\n                textAlign: column.type === \"button\" ? \"right\" : \"left\",\n              }}\n            >\n              {column.type === \"name\" && renderAssetName(record)}\n              {column.type === \"button\" && (\n                <Buttons>\n                  {buttons?.map((button, j) => (\n                    <Widget\n                      src=\"bluebiu.near/widget/Avalanche.Lending.TableButton\"\n                      key={j}\n                      props={{\n                        onClick: () => {\n                          onButtonClick?.(record.address, button.text);\n                        },\n                        text: button.text,\n                        loading: button.loading,\n                      }}\n                    />\n                  ))}\n                </Buttons>\n              )}\n              {![\"name\", \"button\"].includes(column.type) && (\n                <NormalCell>\n                  <div className=\"column-name\">{column.name}</div>\n                  <div className=\"row-value\">\n                    {column.type === \"total\" && renderTotal(record, column.key)}\n                    {column.type === \"apy\" && renderApy(record)}\n                    {column.type === \"collateral\" && renderCollateral(record)}\n                    {![\"total\", \"apy\", \"collateral\"].includes(column.type) &&\n                      record[column.key]}\n                  </div>\n                </NormalCell>\n              )}\n            </Cell>\n          ))}\n        </Row>\n      ))}\n    </Body>\n  </Table>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/bluebiu.near/widget/Avalanche.Lending.YoursTable", "fact_widget_deployments_id": "38fac28e2466de5cce8dcd4ce259ae7e", "inserted_timestamp": "2024-03-07T05:24:05.087Z", "modified_timestamp": "2024-03-07T05:24:05.087Z", "__row_index": 0}