{"tx_hash": "HWT3b6JRpGg9j8vSfuv5casafDyVQ3AiNADjqBeSmYBP", "action_id_social": "67FY2UtdDvUcfATk5eDPsUPfJSp3psSjKfX9kcBspj26-0-widget", "block_id": 115682315, "block_timestamp": "2024-03-28T23:57:28.871Z", "signer_id": "bluebiu.near", "widget_name": "Scroll.Bridge.AmountOut", "source_code": "const { loading, amount, routerAddress, target, onLoad } = props;\n\nuseEffect(() => {\n    if (!loading) return\n\n    asyncFetch('https://api.orbiter.finance/sdk/routers/cross-chain')\n        .then(routerRes => {\n            const result = routerRes.body.result\n\n            let line = ''\n            if (target.dstId === 1) {\n                line = `534352/1-ETH/ETH`\n            } else {\n                line = `1/534352-ETH/ETH`\n            }\n\n            const quote = result.find(item => item.line === line)\n            if (!quote) {\n                onLoad({\n                    received: 0,\n                    gasCost: 0,\n                    errorTips: 'No route',\n                });\n                return\n            }\n            const minBig = new Big(quote.minAmt)\n            const maxBig = new Big(quote.maxAmt)\n            const amountBig = new Big(amount)\n            const feeBig = new Big(quote.withholdingFee).plus(new Big(quote.tradeFee).div(Math.pow(10, 18)))\n            if (amountBig.gte(maxBig) || amountBig.lte(minBig)) {\n                onLoad({\n                    received: 0,\n                    gasCost: 0,\n                    errorTips: 'Invalid amount',\n                });\n                return\n            }\n\n            onLoad({\n                received: amountBig.minus(feeBig).toString(),\n                gasCost: feeBig.toString(),\n                quote\n            });\n        }).catch(e => {\n            onLoad({\n                received: 0,\n                gasCost: 0,\n                errorTips: 'Invalid amount',\n            });\n        })\n\n\n}, [loading])\n\nreturn \"\";\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/bluebiu.near/widget/Scroll.Bridge.AmountOut", "fact_widget_deployments_id": "2ef15cf328da73ad6afafa09b2a9a52b", "inserted_timestamp": "2024-03-29T01:52:27.111Z", "modified_timestamp": "2024-03-29T01:52:27.111Z", "__row_index": 0}