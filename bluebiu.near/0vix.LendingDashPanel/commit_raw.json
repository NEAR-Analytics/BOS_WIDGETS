{"tx_hash": "2KhUtbcjJXKRaij8iZraGtky23qK79hAyffkPt6FF3or", "action_id_social": "nhdXdM5xcDX49N3o5rLCkvBxyKjvfT5a25hZaC3chVf-0-widget", "block_id": 100579680, "block_timestamp": "2023-09-07T09:16:53.214Z", "signer_id": "bluebiu.near", "widget_name": "0vix.LendingDashPanel", "source_code": "const DashPanel = styled.div`\n  width: 100%;\n  display: flex;\n  align-items: center;\n  background-color: #181a27;\n  border: 1px solid #332c4b;\n  box-sizing: border-box;\n  border-radius: 12px;\n  height: 90px;\n  padding: 30px;\n  margin-top: 30px;\n  @media (max-width: 768px) {\n    border-radius: 10px;\n    height: 158px;\n    padding: 0px 20px;\n    margin-top: 20px;\n    flex-direction: column;\n    background-color: #222436;\n  }\n`;\nconst SupplyBorrow = styled.div`\n  display: flex;\n  width: 40%;\n  .panel-item {\n    flex-grow: 1;\n  }\n  @media (max-width: 768px) {\n    width: 100%;\n    height: 50%;\n    border-bottom: 1px dashed rgba(124, 127, 150, 0.26);\n    align-items: center;\n    .panel-item {\n      display: flex;\n      flex-direction: column;\n      align-items: center;\n    }\n  }\n`;\nconst Factors = styled.div`\n  display: flex;\n  width: 60%;\n  .panel-item {\n    flex-grow: 1;\n  }\n  @media (max-width: 768px) {\n    width: 100%;\n    height: 50%;\n    align-items: center;\n  }\n`;\n\nconst Line = styled.div`\n  height: 68px;\n  width: 1px;\n  background-color: #332c4b;\n  margin-right: 20px;\n  @media (max-width: 768px) {\n    display: none;\n  }\n`;\nconst Label = styled.div`\n  color: #7c7f96;\n  font-size: 14px;\n  font-weight: 400;\n  padding-bottom: 4px;\n  @media (max-width: 768px) {\n    font-size: 12px;\n  }\n`;\nconst Value = styled.div`\n  color: #fff;\n  font-size: 18px;\n  font-weight: 500;\n  @media (max-width: 768px) {\n    font-size: 14px;\n  }\n`;\n\nconst { userSupply, userBorrow, accountLiquidity, healthFactor } = props;\n\nconst calculateBorrowLimitUsed = () => {\n  if (Big(accountLiquidity || 0).eq(0) || Big(userBorrow || 0).eq(0))\n    return \"0%\";\n  const userBorrowLimit = Big(userBorrow).plus(accountLiquidity);\n  return (\n    Big(userBorrow)\n      .div(userBorrowLimit.eq(0) ? 1 : userBorrowLimit)\n      .mul(100)\n      .toFixed(2) + \"%\"\n  );\n};\nconst formatAmount = (amount) => {\n  if (!amount) return \"0\";\n  return Big(amount).toFixed(4);\n};\nconst formatHealthFactor = () => {\n  if (!healthFactor) return \"0.00\";\n  if (Big(healthFactor).gt(2)) return \"2.00\";\n  return Big(healthFactor).toFixed(2);\n};\nconst formatRisk = () => {\n  if (Big(userBorrow || 0).eq(0) || !healthFactor) return \"N/A\";\n  if (Big(healthFactor).lt(1)) return \"VERY HIGH RISK\";\n  return \"LOW RISK\";\n};\n\nreturn (\n  <DashPanel>\n    <SupplyBorrow>\n      <div className=\"panel-item\">\n        <Label>Your Supplied</Label>\n        <Widget\n          src=\"bluebiu.near/widget/0vix.LendingBalance\"\n          props={{ balance: formatAmount(userSupply) }}\n        />\n      </div>\n      <div className=\"panel-item\">\n        <Label>Your Borrows</Label>\n        <Widget\n          src=\"bluebiu.near/widget/0vix.LendingBalance\"\n          props={{ balance: formatAmount(userBorrow) }}\n        />\n      </div>\n    </SupplyBorrow>\n    <Line />\n    <Factors>\n      <div className=\"panel-item\">\n        <Label>Borrow Limit Used</Label>\n        <Value>{calculateBorrowLimitUsed()}</Value>\n      </div>\n      <div className=\"panel-item\">\n        <Label>Health Factor</Label>\n        <Value>{formatHealthFactor()}</Value>\n      </div>\n      <div className=\"panel-item\">\n        <Label>Liquidation Risk</Label>\n        <Value>{formatRisk()}</Value>\n      </div>\n    </Factors>\n  </DashPanel>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/bluebiu.near/widget/0vix.LendingDashPanel", "fact_widget_deployments_id": "4ecb21e0137db34773a5d1331e099450", "inserted_timestamp": "2024-03-07T05:24:05.087Z", "modified_timestamp": "2024-03-07T05:24:05.087Z", "__row_index": 0}