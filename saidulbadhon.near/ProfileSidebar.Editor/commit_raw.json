{"tx_hash": "4eX6E319bFrxkcDB61iCvfs5CaJkstZf4qnEdj6pyans", "action_id_social": "3z3BLGuMnNMG3KaLLg6HZNYEySRyg1QPiJQhajMRB6uL-0-widget", "block_id": 102144199, "block_timestamp": "2023-09-28T11:28:15.999Z", "signer_id": "saidulbadhon.near", "widget_name": "ProfileSidebar.Editor", "source_code": "const accountId = props.accountId || context.accountId;\nconst theme = props.theme;\n\nif (!accountId) return \"Login or send accountId in the props\";\n\nconst profile = Social.getr(`${accountId}/profile`);\n\nconst name = profile?.name;\nconst image = profile?.image;\n\nconst url =\n  (image.ipfs_cid\n    ? `https://ipfs.near.social/ipfs/${image?.ipfs_cid}`\n    : image?.url) || \"https://thewiki.io/static/media/sasha_anon.6ba19561.png\";\n\nif (profile === null) {\n  return \"Loading\";\n}\n\ninitState({\n  profile: profile ?? {},\n  linktree: profile.linktree ?? {},\n  img: { cid: profile.image.ipfs_cid },\n  description: profile.description ?? \"\",\n  location: profile.location ?? \"\",\n});\n\nprofile = {\n  name: state.profile.name,\n  image: {},\n  linktree: state.linktree,\n  description: state.description,\n  location: state.location,\n};\n\nif (state.img.cid) {\n  profile.image.ipfs_cid = state.img.cid;\n} else if (state.profile.image.url) {\n  profile.image.url = state.profile.image.url;\n}\n\nconst styles = {\n  inputContainer: {\n    width: \"100%\",\n    display: \"flex\",\n    flexDirection: \"column\",\n    gap: 4,\n  },\n  inputLabel: {\n    padding: 0,\n    margin: 0,\n    color: theme.textColor3,\n  },\n  input: {\n    width: \"100%\",\n    backgroundColor: \"transparent\",\n    minHeight: 30,\n    border: `1px solid ${theme.borderColor}`,\n    borderRadius: 4,\n    resize: \"vertical\",\n    paddingInline: 8,\n    color: theme.textColor2,\n  },\n\n  buttonSuccess: {\n    fontWeight: 500,\n    // border: \"1px solid #d0d7de\",\n    width: \"100%\",\n    height: 40,\n    borderRadius: 4,\n    cursor: \"pointer\",\n    transition: \"all 0.2s ease-in-out\",\n    backgroundColor: \"#2ea043\",\n    color: theme.buttonTextColor,\n  },\n};\n\nreturn (\n  <div\n    style={{\n      display: \"flex\",\n      flexDirection: \"column\",\n      gap: 8,\n      width: \"100%\",\n    }}\n  >\n    <div style={styles.inputContainer}>\n      <p style={styles.inputLabel}>Profile Picture:</p>\n\n      <IpfsImageUpload\n        image={state.img}\n        style={{\n          fontWeight: 500,\n          // border: \"1px solid #d0d7de\",\n          width: \"100%\",\n          cursor: \"pointer\",\n          height: 40,\n          padding: 0,\n          borderRadius: 4,\n          backgroundColor: theme.buttonColor,\n          color: theme.buttonTextColor,\n          display: \"flex\",\n          justifyContent: \"center\",\n          alignItems: \"center\",\n        }}\n      />\n    </div>\n\n    <div style={styles.inputContainer}>\n      <p style={styles.inputLabel}>Name:</p>\n\n      <input style={styles.input} type=\"text\" value={state.profile.name} />\n    </div>\n\n    <div style={styles.inputContainer}>\n      <p style={styles.inputLabel}>Description:</p>\n      <textarea\n        className=\"form-control\"\n        rows=\"7\"\n        style={styles.input}\n        type=\"text\"\n        onInput={(event) => {\n          State.update({ description: event.target.value });\n        }}\n        value={state.description}\n        // {state.description}\n\n        //           <textarea\n        //             placeholder=\"#ABC @borderlesscommunity.near\"\n\n        //             function textareaInputHandler(value) {\n        //   const showAccountAutocomplete = /@[\\w][^\\s]*$/.test(value);\n        //   State.update({ text: value, showAccountAutocomplete });\n        // }\n\n        //             onInput={(event) => textareaInputHandler(event.target.value)}\n        //             onKeyUp={(event) => {\n        //               if (event.key === \"Escape\") {\n        //                 State.update({ showAccountAutocomplete: false });\n        //               }\n        //             }}\n        //             value={state.text}\n        //           />\n      />\n      {/*<Widget\n        src=\"saidulbadhon.near/widget/ProfileSidebar.MarkdownEditor\"\n        props={{\n          message: state.description,\n          setMessage: (e) => {\n            console.log(\"E : \", e);\n            state.description = e;\n          },\n          //   setMessage: (e) => {\n          //     console.log(\"E : \", e);\n          //     state.description = e;\n          //   },\n        }}\n      />*/}\n    </div>\n\n    <div style={styles.inputContainer}>\n      <p style={styles.inputLabel}>Location:</p>\n      <input style={styles.input} type=\"text\" value={state.location} />\n    </div>\n\n    <div\n      style={{\n        paddingTop: 40,\n        display: \"flex\",\n        gap: 10,\n        flexDirection: \"column\",\n      }}\n    >\n      <h3 style={{ color: theme.textColor }}>Social accounts</h3>\n      <div style={styles.inputContainer}>\n        <p style={styles.inputLabel}>Twitter:</p>\n\n        <input\n          style={styles.input}\n          type=\"text\"\n          value={state.linktree.twitter}\n        />\n      </div>\n\n      <div style={styles.inputContainer}>\n        <p style={styles.inputLabel}>Github:</p>\n        <input style={styles.input} type=\"text\" value={state.linktree.github} />\n      </div>\n\n      <div style={styles.inputContainer}>\n        <p style={styles.inputLabel}>Telegram:</p>\n        <input\n          style={styles.input}\n          type=\"text\"\n          value={state.linktree.telegram}\n        />\n      </div>\n\n      <div style={styles.inputContainer}>\n        <p style={styles.inputLabel}>Website:</p>\n        <input\n          style={styles.input}\n          type=\"text\"\n          value={state.linktree.website}\n        />\n      </div>\n    </div>\n\n    <div\n      style={{\n        display: \"flex\",\n        gap: 20,\n        marginTop: 20,\n        width: \"100%\",\n      }}\n    >\n      <CommitButton style={styles.buttonSuccess} data={{ profile }}>\n        Save profile\n      </CommitButton>\n    </div>\n  </div>\n);\n", "metadata": {"platform": "jutsu.ai"}, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/saidulbadhon.near/widget/ProfileSidebar.Editor", "fact_widget_deployments_id": "416b20291334b186124ceb656431f1f9", "inserted_timestamp": "2024-03-07T05:24:05.087Z", "modified_timestamp": "2024-03-07T05:24:05.087Z", "__row_index": 0}