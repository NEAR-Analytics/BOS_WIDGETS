{"tx_hash": "Hffv7ExfuLSP4pXkhC5qioB46qP4intk8QSF9aMjHazG", "action_id_social": "HcWai26tBF4KzRXhZYG3teMsZfP2g7SU4pZ9L4uoGsrp-0-widget", "block_id": 106067709, "block_timestamp": "2023-11-19T17:16:07.251Z", "signer_id": "marketplacebos.near", "widget_name": "Form.Form0004", "source_code": "props.fileType ||\n  initState({\n    json: \"upload json to ipfs\",\n  });\nconst Wrapper = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n`;\nconst ipfsUrl = (cid) => `https://ipfs.near.social/ipfs/${cid}`;\nconst Input = styled.input`\n  width: 300px;\n  height: 50px;\n  border-radius:13px;\n`;\n\nconst Toggle = styled.button`\n  width: 100px;\n  height: 50px;\n  background-color: #000;\n  color: #fff;\n  font-size: 16px;\n  cursor: pointer;\n`;\n\nconst UploadJson = () => {\n  if (state.json.length) {\n    const body = new Blob([state.json], { type: \"application/json\" });\n    asyncFetch(\"https://ipfs.near.social/add\", {\n      method: \"POST\",\n      headers: {\n        Accept: \"application/json\",\n      },\n      body,\n    }).then((res) => {\n      const cid = res.body.cid;\n      State.update({\n        file: {\n          cid,\n        },\n      });\n    });\n  } else {\n    State.update({\n      file: null,\n    });\n  }\n};\n\nconst props = {\n  copyBtn:\n    \"const Wrapper = styled.div`\\n\" +\n    `  width: 300px;\n  height: 50px;\n  border-radius:13px;\n` +\n    \"\\n`;\" +\n    \"\\nconst Input = styled.input`\\n\" +\n    `  width: 300px;\n  height: 50px;\n  border-radius:13px;\n` +\n    \"\\n`;\" +\n    \"\\nconst Toggle = styled.button`\\n\" +\n    `    width: 100px;\n  height: 50px;\n  background-color: #000;\n  color: #fff;\n  font-size: 16px;\n  cursor: pointer;\n` +\n    \"\\n`;\" +\n    `props.fileType ||\n  initState({\n    json: \"json\" ,\n  });\\n` +\n    \"\\nconst ipfsUrl = (cid) => `https://ipfs.near.social/ipfs/${cid}`;\\n\" +\n    `\\n const UploadJson = () => {\n  if (state.json.length) {\n    const body = new Blob([state.json], { type: \"application/json\" });\n    console.log(body);\n    asyncFetch(\"https://ipfs.near.social/add\", {\n      method: \"POST\",\n      headers: {\n        Accept: \"application/json\",\n      },\n      body,\n    }).then((res) => {\n      const cid = res.body.cid;\n      console.log(\"CID\", cid);\n      State.update({\n        file: {\n          cid,\n        },\n      });\n    });\n  } else {\n    State.update({\n      file: null,\n    });\n  }\n};\n  ` +\n    `\\n return(\n           <Wrapper>\n    <Input\n      type=\"text\"\n      class=\"form-control mb-2\"\n      rows={5}\n      value={state.json}\n      onChange={(e) => {\n        state.json = e.target.value;\n        State.update();\n      }}\n    />\n    <br />\n    Your file:\n    {state.file && (\n      <div>\n        <a href={ipfsUrl(state.file.cid)}>{state.file.cid}</a>\n      </div>\n    )}\n    <Toggle onClick={() => UploadJson()}>Save</Toggle>\n  </Wrapper>\n  )`,\n  component: (\n    <Wrapper>\n      <Input\n        type=\"text\"\n        class=\"form-control mb-2\"\n        rows={5}\n        value={state.json}\n        onChange={(e) => {\n          state.json = e.target.value;\n          State.update();\n        }}\n      />\n      <Toggle onClick={() => UploadJson()}>Save</Toggle>\n      <br />\n      <br />\n      Your file:\n      {state.file && (\n        <div>\n          <a href={ipfsUrl(state.file.cid)}>{state.file.cid}</a>\n        </div>\n      )}\n    </Wrapper>\n  ),\n  detailLink: \"https://near.org/marketplacebos.near/widget/Detail.FP.F0004\",\n};\n\nreturn (\n  <>\n    <Widget src=\"marketplacebos.near/widget/CardMain.CardForm\" props={props} />\n  </>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/marketplacebos.near/widget/Form.Form0004", "fact_widget_deployments_id": "16b250932ffcbc60af3b29b80d97a3b3", "inserted_timestamp": "2024-03-07T05:24:05.087Z", "modified_timestamp": "2024-03-07T05:24:05.087Z", "__row_index": 0}