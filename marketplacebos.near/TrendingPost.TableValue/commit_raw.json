{"tx_hash": "33ZJ1ujhzHfotUrkt9U7edNoF52ekaBiqg8LxrmmMSfS", "action_id_social": "HhgWnUHbgoTea4Qe4RKDJmr5ES2HpUk5rDCmztWpcA1-0-widget", "block_id": 106744959, "block_timestamp": "2023-11-28T16:26:13.306Z", "signer_id": "marketplacebos.near", "widget_name": "TrendingPost.TableValue", "source_code": "const allPost = Social.get(\"*/post/main/\", \"final\");\n\nfunction findHashtags(str) {\n  const regexp = /\\B\\#\\w\\w+\\b/g;\n  let match;\n  let tags = [];\n  while ((match = regexp.exec(str)) !== null) {\n    tags.push(match[0]);\n  }\n  return tags;\n}\n\nconst tagCount = {};\nObject.keys(allPost).forEach((item) => {\n  const tags = findHashtags(JSON.parse(allPost[item].post.main).text);\n  if (tags.length > 0) {\n    tags.forEach((tag) => {\n      tagCount[tag] = tagCount[tag] + 1 || 1;\n    });\n  }\n});\n\nlet entries = Object.entries(tagCount);\n\nlet sorted = entries.sort((b, a) => a[1] - b[1]);\n\nlet totalItems = 0;\n\n// Sum the values in the sorted array\nfor (let i = 0; i < sorted.length; i++) {\n  totalItems += sorted[i][1];\n}\n\nconst StyledTable = styled.table`\n  width: 100%;\n  border-collapse: collapse;\n  margin-bottom: 20px;\n  border: none;\n  @media (max-width: 968px) {\n    font-size: 8px;\n  }\n  @media (max-width: 768px) {\n    font-size: 8px;\n  }\n`;\n\nconst StyledTh = styled.th`\n  padding: 12px;\n  text-align: left;\n  background-color: #f2f2f2;\n  border: none;\n  text-align: center;\n`;\n\nconst StyledTd = styled.td`\n  padding: 12px;\n  border: none;\n  text-align: center;\n`;\n\nconst StyledContainer = styled.div`\n  display: flex;\n  justify-content: space-around;\n  margin-top: 20px;\n    border: 4px solid blue;\n\n`;\n\nconst StyledTotalContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n`;\n\nconst StyledTotalLabel = styled.div`\n  font-weight: bold;\n  font-size: 18px;\n`;\n\nconst StyledTotalValue = styled.div`\n  font-weight: bold;\n  font-size: 24px;\n  margin-top: 8px;\n`;\n\nconst Table = () => {\n  return (\n    <>\n      <StyledContainer>\n        <StyledTotalContainer>\n          <StyledTotalLabel>Total Posts</StyledTotalLabel>\n          <StyledTotalValue>{totalItems}</StyledTotalValue>\n        </StyledTotalContainer>\n        <StyledTotalContainer>\n          <StyledTotalLabel>Total Account Posts</StyledTotalLabel>\n          <StyledTotalValue>Account Posts</StyledTotalValue>\n        </StyledTotalContainer>\n        <StyledTotalContainer>\n          <StyledTotalLabel>Total Likes</StyledTotalLabel>\n          <StyledTotalValue>Likes</StyledTotalValue>\n        </StyledTotalContainer>\n        <StyledTotalContainer>\n          <StyledTotalLabel>Total Comments</StyledTotalLabel>\n          <StyledTotalValue>Comments</StyledTotalValue>\n        </StyledTotalContainer>\n        <StyledTotalContainer>\n          <StyledTotalLabel>Total Reposts</StyledTotalLabel>\n          <StyledTotalValue>Repost</StyledTotalValue>\n        </StyledTotalContainer>\n      </StyledContainer>\n      <br />\n      <br />\n      <br />\n      <br />\n\n      <StyledTable>\n        <thead>\n          <tr>\n            <StyledTh>POST ID</StyledTh>\n            <StyledTh>TOTAL POSTED</StyledTh>\n            <StyledTh>TOTAL COMMENTS</StyledTh>\n            <StyledTh>TOTAL LIKES</StyledTh>\n            <StyledTh>TOTAL REPOSTS</StyledTh>\n          </tr>\n        </thead>\n        <tbody>\n          <tr>\n            <StyledTd>1</StyledTd>\n            <StyledTd>2</StyledTd>\n            <StyledTd>1</StyledTd>\n            <StyledTd>2</StyledTd>\n            <StyledTd>1</StyledTd>\n          </tr>\n        </tbody>\n      </StyledTable>\n    </>\n  );\n};\nreturn (\n  <>\n    <Table />\n  </>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/marketplacebos.near/widget/TrendingPost.TableValue", "fact_widget_deployments_id": "318d7f6e7e1a1eec03673b06b229b1f0", "inserted_timestamp": "2023-11-28T18:27:34.267Z", "modified_timestamp": "2023-11-28T18:27:34.267Z", "__row_index": 7}