{"tx_hash": "CKYs9qmvY1vRovnXMqwg6aLKNyzYQGkb6mZwxhMRu71t", "action_id_social": "7RUZ92QvdPAra5QqBMYKAmMu3uuMT3gmDPTsNYubkUtc-0-widget", "block_id": 106733929, "block_timestamp": "2023-11-28T12:58:13.954Z", "signer_id": "marketplacebos.near", "widget_name": "TrendingPost.ChartPost", "source_code": "const dataP =\n  props.dataP && Array.isArray(props.dataP)\n    ? props.dataP.map((item) => parseFloat(item) || 0)\n    : [1, 2, 3, 4, 5, 5, 6, 6, 6, 6, 4, 5, 4, 4, 5];\n\nconst backgroundcolorP = props.backgroundcolorP || [\n  \"blue\",\n  \"blue\",\n  \"blue\",\n  \"blue\",\n  \"blue\",\n  \"blue\",\n  \"blue\",\n  \"blue\",\n  \"blue\",\n  \"blue\",\n  \"blue\",\n  \"blue\",\n  \"blue\",\n  \"blue\",\n  \"blue\",\n  \"blue\",\n];\n\nconst borderColorP = props.bordercolorP || [\n  \"#00e592\",\n  \"#00e592\",\n  \"#00e592\",\n  \"#00e592\",\n  \"#00e592\",\n  \"#00e592\",\n  \"#00e592\",\n  \"#00e592\",\n  \"#00e592\",\n  \"#00e592\",\n  \"#00e592\",\n  \"#00e592\",\n  \"#00e592\",\n  \"#00e592\",\n  \"#00e592\",\n];\n\nconst labelP = props.labelP || [\n  \"Jan\",\n  \"Feb\",\n  \"Mar\",\n  \"April\",\n  \"May\",\n  \"Jun\",\n  \"Jul\",\n  \"Aug\",\n  \"Sep\",\n  \"Oct\",\n  \"Nov\",\n  \"Dec\",\n  \"d\u00e1\",\n  \"dsa\",\n  \"dsa\",\n];\n\nconst data = {\n  labels: labelP,\n  datasets: [\n    {\n      label: \"Top 20 trending tags on BOS NEAR\",\n      data: dataP,\n      backgroundColor: backgroundcolorP,\n      borderColor: bordercolorP,\n      borderWidth: 1,\n    },\n  ],\n};\n\nconst config = {\n  type: \"bar\",\n  data: data,\n  options: {\n    scales: {\n      y: {\n        beginAtZero: true,\n      },\n    },\n  },\n};\n\nconst chartData = props.chartData ?? data; // Use your data or fall back to default data\nconst chartOptions = props.chartOptions ?? config; // Use your config or fall back to default config\n\nconst code = `\n<html>\n<head>\n<script src=\"https://unpkg.com/chart.js@4.3.0/dist/chart.umd.js\"></script>\n<script type=\"text/javascript\" src=\"https://cdnjs.cloudflare.com/ajax/libs/iframe-resizer/4.3.6/iframeResizer.contentWindow.js\"></script>\n</head>\n<body>\n<canvas id=\"myChart\"></canvas>\n</body>\n<script>\n    function createChart(ctx, data, options) {\n        new Chart(ctx, {\n            type: options.type,\n            data: data,\n            options: options.options\n        });\n    }\n\n    window.addEventListener('message', function(event) {\n    }, false);\n\n    const handleMessage = (m) => {\n        const { data, options } = m;\n        const ctx = document.getElementById('myChart').getContext('2d');\n        createChart(ctx, data, options);\n    };\n\n    window.iFrameResizer = {\n        onMessage: handleMessage\n    }\n</script>\n</html>\n\n`;\nreturn (\n  <>\n    <iframe\n      iframeResizer\n      className=\"w-100\"\n      srcDoc={code}\n      message={{ data: chartData, options: chartOptions }}\n    />\n  </>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/marketplacebos.near/widget/TrendingPost.ChartPost", "fact_widget_deployments_id": "7c0efb81426cb456a28407ab139021c7", "inserted_timestamp": "2023-11-28T14:48:17.468Z", "modified_timestamp": "2023-11-28T14:48:17.468Z", "__row_index": 4}