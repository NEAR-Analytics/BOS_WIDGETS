{"tx_hash": "6kpPFRrkMy8CUrbJ3NF2THVsRvSuzwq5KHgQBwDha3pP", "action_id_social": "E5YN2DfnPRSX5ck1s3ncAgsZAC54bSSMtdAUnPzWcr3N-0-widget", "block_id": 91402657, "block_timestamp": "2023-05-08T19:48:12.649Z", "signer_id": "mob.near", "widget_name": "DAO.Proposals", "source_code": "const daoId = props.daoId;\nconst limit = parseInt(props.limit) || 10;\n\nif (!daoId) {\n  return \"\";\n}\n\nconst daoVersion = Near.view(daoId, \"version\");\nif (!daoVersion) {\n  return \"\";\n}\n\nconst config = Near.view(daoId, \"get_config\");\nconst policy = Near.view(daoId, \"get_policy\");\nconst lastProposalId = Near.view(daoId, \"get_last_proposal_id\");\n\nlet proposals = [];\n\nif (lastProposalId) {\n  proposals =\n    Near.view(daoId, \"get_proposals\", {\n      from_index: Math.max(0, lastProposalId - limit),\n      limit,\n    }) || [];\n}\n\nreturn (\n  <div>\n    <h3>{config.name}</h3>\n    <div>{config.purpose}</div>\n    <div className=\"mt-3\">\n      <h5>Proposals</h5>\n      {proposals.map((proposal, i) => (\n        <div key={proposal.id}>\n          <Widget\n            src=\"mob.near/widget/DAO.Proposal\"\n            props={{ daoId, proposal, policy }}\n          />\n        </div>\n      ))}\n    </div>\n  </div>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/mob.near/widget/DAO.Proposals", "fact_widget_deployments_id": "aeb6c3a44f145eb2a9dca04142d31c24", "inserted_timestamp": "2024-03-07T05:24:05.087Z", "modified_timestamp": "2024-03-07T05:24:05.087Z", "__row_index": 8}