{"tx_hash": "AuMSMDRKwowLRpVcC8fgbP5tsPqbRjyZwATNYNRqoU98", "action_id_social": "CTMvzBCdhzaSjNCx1NQ3cAJgYvuuD1fzFZecFLrRSNnB-0-widget", "block_id": 91403350, "block_timestamp": "2023-05-08T20:01:32.077Z", "signer_id": "mob.near", "widget_name": "DAO.Proposals", "source_code": "const daoId = props.daoId;\nconst limit = parseInt(props.limit) || 10;\n\nif (!daoId) {\n  return \"\";\n}\n\nconst daoVersion = Near.view(daoId, \"version\");\nif (!daoVersion) {\n  return \"\";\n}\n\nconst config = Near.view(daoId, \"get_config\");\nconst policy = Near.view(daoId, \"get_policy\");\nconst lastProposalId = Near.view(daoId, \"get_last_proposal_id\");\n\nlet proposals = [];\n\nif (lastProposalId) {\n  proposals =\n    Near.view(daoId, \"get_proposals\", {\n      from_index: Math.max(0, lastProposalId - limit),\n      limit,\n    }) || [];\n  proposals.reverse();\n}\n\nreturn (\n  <div>\n    <h3>{config.name}</h3>\n    <div>{config.purpose}</div>\n    <div className=\"mt-3\">\n      <h5>Proposals</h5>\n      {proposals.map((proposal, i) => (\n        <div key={proposal.id} className=\"mb-3\">\n          <Widget\n            src=\"mob.near/widget/DAO.Proposal\"\n            props={{ daoId, proposal, policy }}\n          />\n        </div>\n      ))}\n    </div>\n  </div>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/mob.near/widget/DAO.Proposals", "fact_widget_deployments_id": "3fcb1d5179183426fae1de7094d3cfc1", "inserted_timestamp": "2000-01-01T00:00:00.000Z", "modified_timestamp": "2000-01-01T00:00:00.000Z", "__row_index": 1}