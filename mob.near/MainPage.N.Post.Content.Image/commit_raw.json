{"tx_hash": "6qLTkyG1CzyLiZ7FYBkNawU3nsNAMvtSkJpVFUpCRJcK", "action_id_social": "AxJ3QJ7wMMP5MGFqJHqmzeFQtqZXoVv49ceASdys9vMi-0-widget", "block_id": 105226053, "block_timestamp": "2023-11-08T14:06:14.380Z", "signer_id": "mob.near", "widget_name": "MainPage.N.Post.Content.Image", "source_code": "const image = props.image;\n\nconst Wrapper = styled.div`\n  white-space: normal;\n  .lightbox {\n    backdrop-filter: blur(5px);\n\n    img {\n      width: 100vw;\n      height: 100vh;\n      max-width: 100%;\n      max-height: 100%;\n      object-fit: contain;\n    }\n  }\n\n  .img-wrapper {\n    width: 100%;\n    border-radius: 0.5em;\n    text-align: center;\n    overflow: hidden;\n    display: flex;\n    flex-wrap: wrap;\n    flex-direction: row;\n    align-content: center;\n    max-height: 24em;\n    @media(max-width: 991px) {\n      max-height: 20em;\n    }\n    cursor: pointer;\n    .img-box {\n      flex-grow: 1;\n      overflow: hidden;\n      img {\n        max-height: 24em;\n        @media(max-width: 991px) {\n          max-height: 20em;\n        }\n        width: 100%;\n        object-fit: contain;\n        border-radius: 0.5em;\n      }\n    }\n    \n  }\n`;\n\nconst [showLightbox, setShowLightbox] = useState(false);\n\nconst imageUrl =\n  image.nft.contractId && image.nft.tokenId\n    ? `https://i.near.social/magic/large/https://near.social/magic/img/nft/${image.nft.contractId}/${image.nft.tokenId}`\n    : image.ipfs_cid\n    ? `https://ipfs.near.social/ipfs/${image.ipfs_cid}`\n    : image.url;\n\nconst innerImage = (\n  <div className=\"img-box\">\n    <img src={imageUrl} alt={props.alt} loading=\"lazy\" />\n  </div>\n);\n\nreturn (\n  <Wrapper>\n    <div\n      key=\"c-img\"\n      className=\"img-wrapper\"\n      onClick={(e) => {\n        e?.preventDefault && e.preventDefault();\n        setShowLightbox(true);\n      }}\n    >\n      {innerImage}\n    </div>\n    <Widget\n      key=\"img-lightbox\"\n      src=\"mob.near/widget/N.Lightbox\"\n      loading=\"\"\n      props={{\n        show: showLightbox,\n        onHide: () => {\n          setShowLightbox(false);\n        },\n        children: innerImage,\n      }}\n    />\n  </Wrapper>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/mob.near/widget/MainPage.N.Post.Content.Image", "fact_widget_deployments_id": "b87f61fb558ee714466c231a48cbb04d", "inserted_timestamp": "2024-03-07T05:24:05.087Z", "modified_timestamp": "2024-03-07T05:24:05.087Z", "__row_index": 0}