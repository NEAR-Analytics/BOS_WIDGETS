{"tx_hash": "9f1QcVXM6djrGi9EqtZg7J1urFdWc78May2dT9ZpxJkf", "action_id_social": "7SirHwXtUYXzR5DriEKKfgG7toGXu9mUxP8NKB7fe9nw-0-widget", "block_id": 102555839, "block_timestamp": "2023-10-03T23:01:43.492Z", "signer_id": "mob.near", "widget_name": "MainPage.N.Post.Content", "source_code": "const content = props.content;\n\nconst [truncated, setTruncated] = useState(props.truncateContent ?? true);\n\nconst Wrapper = styled.div`\n  overflow: hidden;\n  .truncated-content {\n    max-height: 18em;\n    position: relative;\n    overflow: hidden;\n\n    .expand-post {\n      position : absolute;\n      z-index  : 1;\n      top   : 15em;\n      left     : 0;\n      background-image : linear-gradient(to bottom, \n                        rgba(255,255,255, 0), \n                        rgba(255,255,255, 1) 25%);\n      width    : 100%;\n      height   : 3em;\n\n      > div {\n        position: relative;\n        width: 100%;\n        height: 100%;\n        veritcal-align: bottom;\n        display: flex;\n        flex-direction: column;\n        justify-content: flex-end;\n        cursor: pointer;\n        > a {\n          margin: 0 0 0.7em 0.7em;\n        }\n      }\n    }\n\n    @media(max-width: 991px) {\n      max-height: 23em;\n      .expand-post {\n        top: 20em;\n      }\n    }\n  }\n\n  .full-content {\n    .expand-post {\n      display: none;\n    }\n  }\n\n  .lightbox {\n    img {\n      width: 100vw;\n      height: 100vh;\n      max-width: 100%;\n      max-height: 100%;\n      object-fit: contain;\n    }\n  }\n\n  .img-wrapper {\n    width: 100%;\n    border-radius: 0.5em;\n    text-align: center;\n    margin-top: 0.5rem;\n    overflow: hidden;\n    height: 20em;\n    cursor: pointer;\n\n    img {\n      width: 100%;\n      height: 100%;\n      object-fit: cover;\n    }\n  }\n`;\n\nconst [onHashtag] = useState(() => (hashtag) => (\n  <span\n    key={hashtag}\n    className=\"d-inline-flex\"\n    style={{ color: \"var(--bs-link-color)\" }}\n  >\n    <a href={`/?hashtag=${hashtag}`}>#{hashtag}</a>\n  </span>\n));\n\nconst [showLightbox, setShowLightbox] = useState(false);\n\nlet image = \"\";\nif (content.image) {\n  const innerImage = (\n    <div className=\"h-100\">\n      <Widget\n        key=\"img-widget\"\n        loading={<div className=\"img-fluid rounded-3 placeholder\" />}\n        src=\"mob.near/widget/Image\"\n        props={{\n          image: content.image,\n          className: \"rounded-3\",\n          style: {},\n        }}\n      />\n    </div>\n  );\n  image = (\n    <>\n      <div\n        key=\"c-img\"\n        className=\"img-wrapper\"\n        onClick={() => setShowLightbox(true)}\n      >\n        {innerImage}\n      </div>\n      <Widget\n        key=\"img-lightbox\"\n        src=\"mob.near/widget/N.Lightbox\"\n        loading=\"\"\n        props={{\n          show: showLightbox,\n          onHide: () => {\n            setShowLightbox(false);\n          },\n          children: innerImage,\n        }}\n      />\n    </>\n  );\n}\n\nreturn (\n  <Wrapper>\n    <div className={truncated ? \"truncated-content\" : \"full-content\"}>\n      <div key=\"text\" className=\"text-break\">\n        <Widget\n          key=\"content\"\n          loading={\n            <div\n              className=\"w-100 placeholder-glow\"\n              style={{ minHeight: \"100px\" }}\n            />\n          }\n          src=\"mob.near/widget/N.SocialMarkdown\"\n          props={{\n            text: content.text,\n            onHashtag,\n          }}\n        />\n      </div>\n      <div className=\"expand-post\">\n        <div>\n          <a className=\"stretched-link\" onClick={() => setTruncated(false)}>\n            Show more\n          </a>\n        </div>\n      </div>\n    </div>\n    {image}\n  </Wrapper>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/mob.near/widget/MainPage.N.Post.Content", "fact_widget_deployments_id": "3d21753a6519a80693e43ef078108dd1", "inserted_timestamp": "2023-10-04T00:48:55.884Z", "modified_timestamp": "2023-10-04T00:48:55.884Z", "__row_index": 34}