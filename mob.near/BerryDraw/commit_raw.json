{"tx_hash": "Gg6swi8fmHCTUc9yerCifumSskhuPAUrmnK4H6zBiW8f", "action_id_social": "Dt2uaodKazsvdCrtYjvsrnaYDuYX3G14t9jzpoJiemeM-0-widget", "block_id": 113724256, "block_timestamp": "2024-02-28T02:44:53.495Z", "signer_id": "mob.near", "widget_name": "BerryDraw", "source_code": "const img = `\n..XX.XX..\n.X##X##X.\nX#######X\nX#######X\n.X#####X.\n..X###X..\n...X#X...\n....X....\n`.trim();\n\nconst rgb = (r, g, b) => r * 65536 + g * 256 + b;\n\nfunction draw() {\n  const lines = img.split(\"\\n\");\n  const w = lines[0].length;\n  const h = lines.length;\n\n  const x = Math.floor(Math.random() * (50 - w));\n  const y = Math.floor(Math.random() * (50 - h));\n  const pixels = [];\n  for (let i = 0; i < h; ++i) {\n    for (let j = 0; j < w; ++j) {\n      const c = lines[i].charAt(j);\n      if (c == \".\") {\n        continue;\n      }\n      const color =\n        c == \"#\"\n          ? rgb(\n              Math.floor(Math.random() * 64 + 192),\n              Math.floor(Math.random() * 32),\n              Math.floor(Math.random() * 32)\n            )\n          : rgb(\n              Math.floor(Math.random() * 32),\n              Math.floor(Math.random() * 32),\n              Math.floor(Math.random() * 32)\n            );\n      pixels.push({\n        x: x + j,\n        y: y + i,\n        color,\n      });\n    }\n  }\n  Near.call(\"berryclub.ek.near\", \"draw\", { pixels }, \"100000000000000\");\n}\n\nreturn (\n  <div>\n    <div className=\"d-flex \">\n      <button\n        className=\"btn btn-outline-danger mb-1 flex-grow-1\"\n        onClick={() => draw()}\n      >\n        DRAW \u2764\ufe0f\n      </button>\n    </div>\n    <Widget src=\"mob.near/widget/BerryclubBoard\" props={{}} />\n  </div>\n);\n", "metadata": {"image": {"ipfs_cid": "bafkreibhtacwpnvdigbt2czo6gzksort4jleh7pd3avn73lyv4cv7zqnt4"}, "name": "Draw a \u2764\ufe0f", "tags": {"app": "", "berryclub": ""}}, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/mob.near/widget/BerryDraw", "fact_widget_deployments_id": "405ac321dcef355bb591d0ddce1ee183", "inserted_timestamp": "2024-03-07T05:24:05.087Z", "modified_timestamp": "2024-03-07T05:24:05.087Z", "__row_index": 1}