{"tx_hash": "GGQ1p9VfVrtQ2NqdpzncF8wyJBgZn9uJUJ5XSRbxhSNN", "action_id_social": "Bj1R6Le1feeeXte7jUt6JQuqb85bCGryT4kXKqzgQFyt-0-widget", "block_id": 101649666, "block_timestamp": "2023-09-21T20:25:50.782Z", "signer_id": "mob.near", "widget_name": "N.SocialMarkdown", "source_code": "const [mentions, setMentions] = useState({});\n\nconst makeRenderMention = (mentions) => (accountId) => {\n  if (accountId in mentions) {\n    return mentions[accountId];\n  }\n  const mention = (\n    <span\n      key={accountId}\n      className=\"d-inline-flex\"\n      style={{ color: \"var(--bs-link-color)\" }}\n    >\n      <Widget\n        key=\"w\"\n        loading={<div>{accountId.toLowerCase()}</div>}\n        src=\"mob.near/widget/N.ProfileLine\"\n        props={{\n          accountId: accountId.toLowerCase(),\n          fast: true,\n          hideAccountId: true,\n          tooltip: true,\n          gray: true,\n          hideCheckmark: true,\n          onRender: (res) => {\n            setMentions((mentions) => {\n              mentions[accountId] = (\n                <span\n                  key={accountId}\n                  className=\"d-inline-flex\"\n                  style={{ color: \"var(--bs-link-color)\" }}\n                >\n                  {res}\n                </span>\n              );\n              return mentions;\n            });\n          },\n        }}\n      />\n    </span>\n  );\n  mentions[accountId] = mention;\n  setMentions(mentions);\n  return mention;\n};\n\nconst [localRenderMention, setLocalRenderMention] = useState(() =>\n  makeRenderMention(mentions)\n);\n\nuseEffect(() => {\n  setLocalRenderMention(() => makeRenderMention(mentions));\n}, [mentions]);\n\nconst renderMention =\n  props.renderMention ?? props.onMention ?? localRenderMention;\n\nconst onHashtag = props.onHashtag;\n\nconst Wrapper = styled.div`\n  word-break: break-word;\n  p {\n    white-space: pre-line;\n  }\n  > :last-child {\n    margin-bottom: 0 !important;\n  }\n`;\n\nreturn (\n  <Wrapper>\n    <Markdown\n      text={props.text}\n      onMention={renderMention}\n      onHashtag={onHashtag}\n    />\n  </Wrapper>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/mob.near/widget/N.SocialMarkdown", "fact_widget_deployments_id": "70ecadc5eea4dde9bf60fef00dff17ba", "inserted_timestamp": "2023-09-21T22:26:41.258Z", "modified_timestamp": "2023-09-21T22:26:41.258Z", "__row_index": 9}