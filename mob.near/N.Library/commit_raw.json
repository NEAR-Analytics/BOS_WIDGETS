{"tx_hash": "8kTwUtRU2XZCr69N2iDhkeyNBX5vwdfXMXHZ3CrESCHy", "action_id_social": "2PWA8MGKbeZ9v7BZY4cYefpdZedWbRga493cJVX2bXFv-0-widget", "block_id": 104718418, "block_timestamp": "2023-11-01T22:20:51.581Z", "signer_id": "mob.near", "widget_name": "N.Library", "source_code": "const accountId = context.accountId || \"root.near\";\nconst authorId = \"mob.near\";\n\nconst components = [\n  {\n    title: \"Profile Block\",\n    widgetName: \"Profile.InlineBlock\",\n    demoProps: { accountId },\n    requiredProps: {\n      accountId: \"The account ID of the profile\",\n    },\n    optionalProps: {\n      profile: \"Object that holds profile information to display\",\n      fast: \"Render profile picture faster using external cache, default false\",\n    },\n  },\n  {\n    title: \"Profile Inline\",\n    widgetName: \"N.ProfileLine\",\n    demoProps: { accountId },\n    requiredProps: {\n      accountId: \"The account ID of the profile\",\n    },\n    optionalProps: {\n      profile: \"Object that holds profile information to display\",\n      fast: \"Render profile picture faster using external cache, default false\",\n    },\n  },\n];\n\nconst renderProps = (props, optional) => {\n  return Object.entries(props || {}).map(([key, desc]) => {\n    return (\n      <tr key={key}>\n        <td>\n          <span className={`code prop-key${optional ? \" optional\" : \"\"}`}>\n            {key}\n          </span>\n        </td>\n        <td className=\"prop-desc\">{desc}</td>\n      </tr>\n    );\n  });\n};\n\nconst renderComponent = (c, i) => {\n  const widgetSrc = `${authorId}/widget/${c.widgetName}`;\n  const embedCode = `<Widget\\n  src=\"${widgetSrc}\"\\n  props={{${JSON.stringify(\n    c.demoProps,\n    undefined,\n    4\n  ).slice(1, -1)}  }}\\n/>\\n`;\n  const id = c.title.toLowerCase().replace(\" \", \"-\");\n  return (\n    <div className=\"component\" key={i}>\n      <a href={`#${id}`} id={id}>\n        <h3>{c.title}</h3>\n      </a>\n      <label>Preview</label>\n      <div className=\"preview mb-3\" style={c.previewStyle}>\n        <Widget src={widgetSrc} props={c.demoProps} />\n      </div>\n      <label>Component</label>\n      <div className=\"d-flex flex-row justify-content-between mb-3\">\n        <div className=\"path font-monospace\">\n          <Widget\n            src=\"mob.near/widget/CopyButton\"\n            props={{\n              text: widgetSrc,\n              label: widgetSrc,\n            }}\n          />\n        </div>\n        <div className=\"source\">\n          <a\n            href={`/mob.near/widget/WidgetSource?src=${widgetSrc}`}\n            target=\"_blank\"\n            className=\"btn btn-outline-primary border-0\"\n          >\n            Source\n          </a>\n        </div>\n      </div>\n      <label>Props</label>\n      <table className=\"props table table-bordered mb-3\">\n        <thead>\n          <tr>\n            <th>Key</th>\n            <th>Description</th>\n          </tr>\n        </thead>\n        <tbody>\n          {renderProps(c.requiredProps)}\n          {renderProps(c.optionalProps, true)}\n        </tbody>\n      </table>\n      <label>Example</label>\n      <div className=\"embed-code mb-3\">\n        <Markdown text={`\\`\\`\\`jsx\\n${embedCode}\\n\\`\\`\\``} />\n        <div className=\"embed-copy\">\n          <Widget\n            src=\"mob.near/widget/CopyButton\"\n            props={{ text: embedCode, className: \"btn btn-outline-light\" }}\n          />\n        </div>\n      </div>\n      <div></div>\n    </div>\n  );\n};\n\nconst Wrapper = styled.div`\n  .component {\n    label {\n      font-size: 20px;\n    }\n\n    .code {\n      display: inline-flex;\n      line-height: normal;\n      border-radius: 0.3em;\n      padding: 0 4px;\n      border: 1px solid #ddd;\n      background: rgba(0, 0, 0, 0.03);\n      font-family: var(--bs-font-monospace);\n    }\n    .path {\n\n    }\n    .preview {\n      padding: 12px;\n      border: 1px solid #eee;\n      border-radius: 12px;\n    }\n    .props {\n      .prop-key {\n        font-weight: 600;\n        &.optional {\n          font-weight: normal;\n        }\n      }\n    }\n    .embed-code {\n      position: relative;\n\n      .embed-copy {\n        position: absolute;\n        top: 18px;\n        right: 10px;\n      }\n    }\n  }\n`;\n\nreturn (\n  <Wrapper>\n    <h3>Social Components Library</h3>\n    <div className=\"mb-3\">\n      This library contains common social components used by near.social\n    </div>\n    <div>{components.map(renderComponent)}</div>\n  </Wrapper>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/mob.near/widget/N.Library", "fact_widget_deployments_id": "90fead56b511467edc0d45f8b0198de3", "inserted_timestamp": "2023-11-02T00:26:28.802Z", "modified_timestamp": "2023-11-02T00:26:28.802Z", "__row_index": 7}