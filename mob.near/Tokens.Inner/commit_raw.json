{"tx_hash": "FgLDTiQq8CLq72J1j8vAnQwAYxzKSeW9yVq9o4uzJVou", "action_id_social": "A8XVynSy8wiEAdhLJtPihyM5dB4VjUezBvQks7mPcdUQ-0-widget", "block_id": 113916183, "block_timestamp": "2024-03-02T00:54:46.458Z", "signer_id": "mob.near", "widget_name": "Tokens.Inner", "source_code": "const accountId = props.accountId;\nif (!accountId) {\n  return \"\";\n}\nconst [tokens, setTokens] = useState(false);\nconst [loading, setLoading] = useState(true);\n\nuseEffect(() => {\n  setTokens(false);\n  setLoading(true);\n  asyncFetch(\n    `https://api.fastnear.com/v0/account/${accountId}/ft_with_balances`\n  )\n    .then((res) => {\n      if (!res.ok) {\n        console.error(\"Failed to fetch ft_with_balances\", res);\n        return;\n      }\n      setTokens(res.body.tokens);\n    })\n    .finally(() => setLoading(false));\n}, [accountId]);\n\nconst Wrapper = styled.div`\n.header {\n  margin-bottom: 1em;\n}\n.token {\n  margin-bottom: 1em;\n  overflow: hidden;\n}\n`;\n\nconst renderToken = (tokenId, balance) => {\n  return (\n    <Widget\n      loading=\"\"\n      src=\"mob.near/widget/Tokens.TokenWithBalance\"\n      props={{ tokenId, balance }}\n    />\n  );\n};\n\nreturn (\n  <Wrapper>\n    <div className=\"header\">\n      Fungible Tokens of\n      <Widget src=\"mob.near/widget/N.ProfileLine\" props={{ accountId }} />\n    </div>\n    <div className=\"actions\">\n      {tokens\n        ? Object.entries(tokens).map(([tokenId, balance]) => (\n            <div key={tokenId} className=\"token\">\n              {renderToken(tokenId, balance)}\n            </div>\n          ))\n        : \"Loading\"}\n    </div>\n  </Wrapper>\n);\n", "metadata": {"fork_of": "mob.near/widget/ActionsInner@113257441"}, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/mob.near/widget/Tokens.Inner", "fact_widget_deployments_id": "af1fc790ef934cfad7779048f4dd966f", "inserted_timestamp": "2024-03-07T05:24:05.087Z", "modified_timestamp": "2024-03-07T05:24:05.087Z", "__row_index": 4}