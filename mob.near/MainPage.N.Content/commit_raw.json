{"tx_hash": "6X5pTuCrDX3PAvdotUg4wN2paMdYQ6XuZecVLHmA43mG", "action_id_social": "9b35a9GYqt5TkAJbQzQ8gH2HNN8XN1PFTHgJV6QaeiTf-0-widget", "block_id": 98967532, "block_timestamp": "2023-08-16T22:08:37.236Z", "signer_id": "mob.near", "widget_name": "MainPage.N.Content", "source_code": "const hashtag = props.hashtag;\n\nif (!state || state.hashtag !== hashtag) {\n  State.update({\n    feedIndex: hashtag ? \"hashtag\" : context.accountId ? \"following\" : \"all\",\n    hashtag,\n  });\n}\n\nconst options = [\n  {\n    id: \"following\",\n    title: \"Following\",\n    disabled: !context.accountId,\n  },\n  {\n    id: \"all\",\n    title: \"All Posts\",\n  },\n  {\n    id: \"menu\",\n    title: \"Menu\",\n    mobileOnly: true,\n  },\n];\n\nif (hashtag) {\n  options.splice(2, 0, {\n    id: \"hashtag\",\n    title: `#${hashtag}`,\n  });\n}\n\nlet accounts = undefined;\n\nif (state.feedIndex === \"following\") {\n  const graph = Social.keys(`${context.accountId}/graph/follow/*`, \"final\");\n  if (graph !== null) {\n    accounts = Object.keys(graph[context.accountId].graph.follow || {});\n    accounts.push(context.accountId);\n  } else {\n    accounts = [];\n  }\n}\n\nconst Nav = styled.div`\n  .nav-pills {\n    font-weight: 500;\n    --bs-nav-pills-border-radius: 0;\n    --bs-nav-pills-link-active-color: var(--bs-nav-link-color);\n    --bs-nav-pills-link-active-bg: rgba(13, 110, 253, 0.1);\n  }\n  .nav-item:not(:has(> .disabled)):hover {\n    background: rgba(13, 110, 253, 0.15);\n  }\n  .nav-link.active {\n    border-bottom: 2px solid rgb(13, 110, 253);\n  }\n\n  margin: 0 -12px;\n  border-bottom: 1px solid #eee;\n`;\n\nreturn (\n  <div className=\"row\">\n    <Nav className=\"d-lg-block col-lg-8\">\n      <ul className=\"nav nav-pills nav-fill\">\n        {options.map((option, i) => (\n          <li\n            className={`nav-item ${option.mobileOnly ? \"d-lg-none\" : \"\"}`}\n            key={i}\n          >\n            <button\n              className={`nav-link ${\n                state.feedIndex === option.id ? \"active\" : \"\"\n              } ${option.disabled ? \"disabled\" : \"\"}`}\n              aria-disabled={!!option.disabled}\n              onClick={() =>\n                !option.disabled && State.update({ feedIndex: option.id })\n              }\n            >\n              {option.title}\n            </button>\n          </li>\n        ))}\n      </ul>\n    </Nav>\n    <div\n      className={`${\n        state.feedIndex === \"menu\" ? \"d-none\" : \"\"\n      } d-lg-block col-lg-8`}\n    >\n      {context.accountId && (\n        <Widget\n          key=\"compose\"\n          src=\"mob.near/widget/MainPage.N.Compose\"\n          props={{}}\n        />\n      )}\n      {state.feedIndex === \"hashtag\" ? (\n        <Widget\n          key=\"hash-feed\"\n          src=\"mob.near/widget/Hashtag.N.Feed\"\n          props={{ hashtag }}\n        />\n      ) : (\n        <Widget\n          key=\"reg-feed\"\n          src=\"mob.near/widget/MainPage.N.Feed\"\n          props={{ accounts }}\n        />\n      )}\n    </div>\n    <div\n      className={`${\n        state.feedIndex !== \"menu\" ? \"d-none\" : \"\"\n      } d-lg-block col-lg-4`}\n    >\n      <Widget src=\"mob.near/widget/Welcome.RHS\" props={props} />\n    </div>\n  </div>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/mob.near/widget/MainPage.N.Content", "fact_widget_deployments_id": "e028f2796c263be5eb4f0309ec478606", "inserted_timestamp": "2023-08-16T23:52:53.368Z", "modified_timestamp": "2023-08-16T23:52:53.368Z", "__row_index": 8}