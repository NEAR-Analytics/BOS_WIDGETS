{"tx_hash": "BKVQdkHnrvDtqoscGr7zQkJTS47AHYERN4XQNsM3P39v", "action_id_social": "D1wgCdZB9EJMLLUsNz6bc3Rviquc2VfbCS3ctnAHvKQq-0-widget", "block_id": 108492825, "block_timestamp": "2023-12-21T16:56:39.490Z", "signer_id": "devhub.efiz.near", "widget_name": "devhub.feature.post-search.panel", "source_code": "const { href } = VM.require(\"devhub.efiz.near/widget/core.lib.url\");\n\nhref || (href = () => {});\n\nState.init({\n  tag: props.tag,\n  author: props.author,\n  term: \"\",\n});\n\nconst updateInput = (term) => {\n  State.update({\n    term: term,\n  });\n};\n\nconst buttonStyle = {\n  backgroundColor: \"#0C7283\",\n  color: \"#f3f3f3\",\n};\n\nconst PageTitle = styled.h1`\n  color: #555555;\n  font-size: 24px;\n  font-style: normal;\n  font-weight: 500;\n  line-height: 120%; /* 28.8px */\n  letter-spacing: -0.24px;\n\n  margin: 0;\n  margin-bottom: 1rem;\n`;\n\nconst Container = styled.div`\n  padding: 24px;\n  width: 100%;\n`;\n\nconst PostContainer = styled.div`\n  margin: 0 1rem;\n`;\n\nconst InputContainer = styled.div`\n  display: flex;\n  flex-direction: row;\n  position: relative;\n  width: 25%;\n\n  @media screen and (max-width: 768px) {\n    width: 100%;\n  }\n`;\n\nreturn (\n  <>\n    {!props.hideHeader && (\n      <Container>\n        <div className=\"w-100\">\n          <PageTitle>Activity Feed</PageTitle>\n          <div>\n            <div className=\"d-flex flex-column flex-lg-row gap-4\">\n              <InputContainer>\n                <div className=\"position-absolute d-flex ps-3 flex-column h-100 justify-center\">\n                  <i class=\"bi bi-search m-auto\"></i>\n                </div>\n                <input\n                  type=\"search\"\n                  className=\"ps-5 form-control border border-0\"\n                  value={state.term ?? \"\"}\n                  onChange={(e) => updateInput(e.target.value)}\n                  onKeyDown={(e) => e.key == \"Enter\" && search()}\n                  placeholder={props.placeholder ?? `Search by content`}\n                />\n              </InputContainer>\n              <div class=\"dropdown\">\n                <button\n                  class=\"btn dropdown-toggle bg-white\"\n                  type=\"button\"\n                  data-bs-toggle=\"dropdown\"\n                  aria-expanded=\"false\"\n                >\n                  Sort{props.recency === \"all\" ? \": All replies\" : \": Latest\"}\n                </button>\n                <ul class=\"dropdown-menu px-2 shadow\">\n                  <li>\n                    <a\n                      style={{ borderRadius: \"5px\" }}\n                      class=\"dropdown-item link-underline link-underline-opacity-0\"\n                      href={href({\n                        widgetSrc: \"devhub.efiz.near/widget/app\",\n                        params: { page: \"feed\" },\n                      })}\n                    >\n                      Latest\n                    </a>\n                  </li>\n                  <li>\n                    <a\n                      style={{ borderRadius: \"5px\" }}\n                      class=\"dropdown-item link-underline link-underline-opacity-0\"\n                      href={href({\n                        widgetSrc: \"devhub.efiz.near/widget/app\",\n                        params: { page: \"feed\", recency: \"all\" },\n                      })}\n                    >\n                      All replies\n                    </a>\n                  </li>\n                </ul>\n              </div>\n              <div class=\"dropdown\">\n                <Widget\n                  src=\"devhub.efiz.near/widget/devhub.feature.post-search.by-author\"\n                  props={{\n                    author: state.author,\n                    onAuthorSearch: (author) => {\n                      State.update({ author });\n                    },\n                  }}\n                />\n              </div>\n              <div>\n                <Widget\n                  src=\"devhub.efiz.near/widget/devhub.feature.post-search.by-tag\"\n                  props={{\n                    tag: state.tag,\n                    onTagSearch: (tag) => {\n                      State.update({ tag });\n                    },\n                  }}\n                />\n              </div>\n              <div className=\"d-flex flex-row-reverse flex-grow-1\">\n                {props.children}\n              </div>\n            </div>\n          </div>\n        </div>\n      </Container>\n    )}\n    <PostContainer>\n      <Widget\n        src=\"devhub.efiz.near/widget/devhub.entity.post.List\"\n        props={{\n          author: state.author,\n          tag: state.tag,\n          term: state.term,\n          recency: props.recency,\n          transactionHashes: props.transactionHashes,\n          updateTagInput: (tag) => State.update({ tag }),\n        }}\n      />\n    </PostContainer>\n  </>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/devhub.efiz.near/widget/devhub.feature.post-search.panel", "fact_widget_deployments_id": "3cd8f4b6dccb35d6419d30110303fb89", "inserted_timestamp": "2024-03-07T05:24:05.087Z", "modified_timestamp": "2024-03-07T05:24:05.087Z", "__row_index": 33}