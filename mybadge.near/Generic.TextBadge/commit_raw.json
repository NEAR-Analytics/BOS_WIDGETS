{"tx_hash": "8aJyugFvziWs64Gfddhkee87SpWYowxVi5D5nxLDecv1", "action_id_social": "HxM9sRMePiXhx54GadFoAy2VGmLwd62FWt4GFs1ffdGe-0-widget", "block_id": 103387071, "block_timestamp": "2023-10-14T21:58:54.041Z", "signer_id": "mybadge.near", "widget_name": "Generic.TextBadge", "source_code": "const { label, iconSrc, color } = props;\n\nfunction randomIntFromInterval(min, max) {\n  return Math.floor(Math.random() * (max - min + 1) + min);\n}\n\nState.init({ liked: false, likes: randomIntFromInterval(0, 100) });\n\nfunction handleClick() {\n  State.update({\n    liked: !state.liked,\n    likes: state.liked ? state.likes - 1 : state.likes + 1,\n  });\n}\n\nconst DEFAULT_COLOR = \"gray\";\n\nconst palette = {\n  red: {\n    iconBackground: \"#DB504A\",\n    textBackground: \"#E7ECEF\",\n    text: \"#222\",\n    icon: \"#fff\",\n  },\n  green: {\n    iconBackground: \"#16AD38\",\n    textBackground: \"#E7ECEF\",\n    text: \"#222\",\n    icon: \"#fff\",\n  },\n  blue: {\n    iconBackground: \"#4A73DB\",\n    textBackground: \"#E7ECEF\",\n    text: \"#222\",\n    icon: \"#fff\",\n  },\n  gray: {\n    iconBackground: \"#222\",\n    textBackground: \"#E7ECEF\",\n    text: \"#222\",\n    icon: \"#fff\",\n  },\n};\n\nconst colors = palette[color ?? DEFAULT_COLOR];\n\nconst Chip = styled.div`\n  font-family: sans-serif;\n  display: flex;\n  align-items: center;\n  border-radius: 4px;\n  overflow: hidden;\n  background: ${colors.textBackground};\n  cursor: pointer;\n  width: 88px;\n  height: 16px;\n  overflow: hidden;\n\n  &:hover {\n    > div:nth-child(1) {\n      background: ${state.liked ? \"#fff\" : colors.iconBackground};\n      transition: top 0.3s 0s;\n      top: -8px;\n\n      svg:nth-child(1) {\n        opacity: 0;\n      }\n\n      svg:nth-child(2) {\n        display: block;\n\n        * {\n          fill: ${state.liked ? \"#DB504A\" : colors.icon};\n        }\n      }\n    }\n\n    > div:nth-child(2) {\n      transition: top 0.3s 0s;\n      top: -5px;\n\n      > span:nth-child(1) {\n        opacity: 0;\n      }\n    }\n  }\n`;\n\nconst LabelText = styled.div`\n  padding: 0 4px;\n  color: ${colors.text};\n  text-align: center;\n  width: 100%;\n  font-size: 10px;\n  font-style: normal;\n  font-weight: 500;\n  line-height: 100%; /* 10px */\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-direction: column;\n  position: relative;\n  top: 11px;\n  transition: top 0.3s 1s;\n\n  > span {\n    height: 16px;\n  }\n`;\n\nconst IconWrapper = styled.div`\n  display: flex;\n  width: 18px;\n  justify-content: center;\n  align-items: center;\n  padding: 2px 4px;\n  background: ${colors.iconBackground};\n  flex-direction: column;\n  position: relative;\n  top: 8px;\n  transition: top 0.3s 1s;\n\n  * {\n    fill: ${colors.icon};\n  }\n\n  > * {\n    height: 16px;\n  }\n`;\n\nreturn (\n  <Chip onClick={handleClick}>\n    <IconWrapper>\n      <Widget src={iconSrc} />\n      <Widget src={\"mybadge.near/widget/Generic.HeartIcon\"} />\n    </IconWrapper>\n    <LabelText>\n      <span>{label}</span>\n      <span>{state.likes}</span>\n    </LabelText>\n  </Chip>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/mybadge.near/widget/Generic.TextBadge", "fact_widget_deployments_id": "a1d0fe64e72767b523ea2b744f710d31", "inserted_timestamp": "2024-03-07T05:24:05.087Z", "modified_timestamp": "2024-03-07T05:24:05.087Z", "__row_index": 0}