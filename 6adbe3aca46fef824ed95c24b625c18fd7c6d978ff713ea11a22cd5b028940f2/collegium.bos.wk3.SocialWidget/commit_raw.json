{"tx_hash": "86a1geFvsqXZSGi3RtwHB3t3Z7gJe3vm1pAvkyehpT25", "action_id_social": "9NBa8HaBKy2W2xsEMJgoZeSkownEMXKzaFXdcfc8GPKz-0-widget", "block_id": 101521864, "block_timestamp": "2023-09-20T03:22:28.553Z", "signer_id": "6adbe3aca46fef824ed95c24b625c18fd7c6d978ff713ea11a22cd5b028940f2", "widget_name": "collegium.bos.wk3.SocialWidget", "source_code": "const style = {\n  //\n  wrapper: {\n    // border: \"3px solid black\",\n    padding: \"20px\",\n    width: \"100%\",\n  },\n  profileBackgroundImage: {\n    backgroundRepeat: \"no-repeat\",\n    backgroundPosition: \"center\",\n    // border: \"3px solid black\",\n    backgroundSize: \"cover\",\n    marginBottom: \"20px\",\n    lineHeight: \"200px\",\n    textAlign: \"center\",\n    height: \"200px\",\n    color: \"white\",\n  },\n  profileMiniWrapper: {\n    // border: \"3px solid black\",\n    flexDirection: \"row\",\n    marginBottom: \"50px\",\n    display: \"flex\",\n    height: \"150px\",\n    width: \"100%\",\n  },\n  profileImage: {\n    backgroundRepeat: \"no-repeat\",\n    backgroundPosition: \"center\",\n    // border: \"3px solid black\",\n    backgroundSize: \"cover\",\n    borderRadius: \"50%\",\n    textAlign: \"center\",\n    lineHeight: \"150px\",\n    minWidth: \"150px\",\n    width: \"150px\",\n    color: \"white\",\n  },\n  profileTextWrapper: {\n    // border: \"3px solid black\",\n    paddingTop: \"20px\",\n    minWidth: \"100px\",\n    margin: \"10px\",\n  },\n  profileName: {\n    //\n  },\n  accountId: {\n    overflow: \"auto\",\n  },\n  widgetCount: {\n    overflow: \"auto hidden\",\n    paddingBottom: \"10px\",\n    minWidth: \"100px\",\n  },\n  widgets: {\n    flexDirection: \"column\",\n    overflow: \"auto hidden\",\n    minWidth: \"100px\",\n    display: \"flex\",\n  },\n};\n\n// \u315c \ub85c\uadf8\uc778\ud55c \ub2c8\uc5b4 \uacc4\uc815 \uac00\uc838\uc624\uae30\n// \u315c context.accountId\uc774 \ub110\uc774\uac70\ub098 \uc5b8\ub514\ud30c\uc778\uc774\uba74 props.accountId\nconst accountId = context.accountId ?? props.accountId;\n\n// \u315c [\"loading\", \"accountId\", \"widgetSrc\", \"networkId\"]\n// console.log(Object.keys(context));\n\nconst profileData = Social.getr(`${accountId}/profile`);\n\n// \u315c [\"image\", \"name\", \"backgroundImage\"]\nconsole.log(Object.keys(profileData));\n\n// \u315c \ub85c\uadf8\uc778\ud55c \ub2c8\uc5b4 \uacc4\uc815\uc758 \ud504\ub85c\ud544 \uc5d8\ub9ac\uba3c\ud2b8\nconst profileElements = () => {\n  return (\n    <>\n      {/** \u315c \ud504\ub85c\ud544 \ubc30\uacbd \uc774\ubbf8\uc9c0 */}\n      <div\n        style={{\n          ...style.profileBackgroundImage,\n          backgroundImage: `url(https://ipfs.near.social/ipfs/${profileData.backgroundImage.ipfs_cid})`,\n        }}\n      >\n        backgroundImage\n      </div>\n      {/**  */}\n      <div style={style.profileMiniWrapper}>\n        {/** \u315c \ud504\ub85c\ud544 \uc774\ubbf8\uc9c0 */}\n        <div\n          style={{\n            ...style.profileImage,\n            backgroundImage: `url(https://ipfs.near.social/ipfs/${profileData.image.ipfs_cid})`,\n          }}\n        >\n          profileImage\n        </div>\n        {/** */}\n        <div style={style.profileTextWrapper}>\n          {/** \u315c \ud504\ub85c\ud544 \uc774\ub984 */}\n          <h3 style={style.profileName}>{profileData.name}</h3>\n          {/** \u315c \uc9c0\uac11 \uc8fc\uc18c */}\n          <div style={style.accountId}>{accountId}</div>\n        </div>\n      </div>\n    </>\n  );\n};\n\n// \u315c \ub85c\uadf8\uc778\ud55c \ub2c8\uc5b4 \uacc4\uc815\uc758 \uc704\uc82f \ubaa9\ub85d \uac00\uc838\uc624\uae30\nconst widgetData = Social.getr(\n  `${accountId}/widget/*`,\n  // \u315c finality: final or \uc22b\uc790\n  \"final\",\n  {\n    // \u315c subscribe: true\uc774\uba74 \ub370\uc774\ud130\uac00 5\ucd08\ub9c8\ub2e4 \uc0c8\ub85c \uace0\uccd0\uc9d1\ub2c8\ub2e4.\n    subscribe: true,\n  }\n);\n\n// \u315c [\"slide\", \"GreeterGaenchanaa\", \"collegium.bos.wk2.LiquityOpenTroveSepoliaExample\"]\n// console.log(Object.keys(data));\n\n// \u315c [Object, Object, Object]\n// console.log(Object.values(data));\n\n// \u315c [\"\", \"metadata\"]\n// console.log(Object.keys(Object.values(data)[1]));\n\n// \u315c [\"\ucf54\ub4dc\", Object]\n// console.log(Object.values(Object.values(data)[1]));\n\nconst widgetEntries =\n  widgetData === undefined || widgetData === null\n    ? []\n    : Object.entries(widgetData);\n\n// \u315c \ub85c\uadf8\uc778\ud55c \ub2c8\uc5b4 \uacc4\uc815\uc758 \uc704\uc82f \uc5d8\ub9ac\uba3c\ud2b8\n// \u315c map() \ud568\uc218\uc5d0 \uc758\ud574 \uc704\uc82f \uac1c\uc218\uc5d0 \ub530\ub77c \ubc18\ubcf5\ub428\nconst widgetElements = widgetEntries.map(([title]) => {\n  //\n  // \u315c slide, GreeterGaenchanaa, collegium.bos.wk2.LiquityOpenTroveSepoliaExample\n  console.log(title);\n\n  return (\n    <div\n      style={{\n        padding: \"15px 15px 15px 15px\",\n        width: \"100%\",\n      }}\n    >\n      <div\n        style={{\n          display: \"flex\",\n        }}\n      >\n        <a\n          href={`/near/widget/ComponentDetailsPage?src=${accountId}/widget/${title}`}\n          style={{\n            padding: \"15px\",\n            border: \"solid 2px #bbb\",\n            backgroundColor: \"#fff\",\n            color: \"#0d6efd\",\n            fontSize: \"2rem\",\n            fontWeight: \"bold\",\n          }}\n        >\n          &lt;&nbsp;&gt;\n        </a>\n        <div style={{ display: \"flex\", flexDirection: \"column\" }}>\n          <a\n            href={`/${accountId}/widget/${title}`}\n            style={{\n              padding: \"0 0 0 15px\",\n              overflow: \"hidden\",\n              whiteSpace: \"nowrap\",\n              textOverflow: \"ellipsis\",\n              fontSize: \"2em\",\n              fontWeight: \"bold\",\n              color: \"#000\",\n              wordBreak: \"break-all\",\n            }}\n          >\n            {title}\n          </a>\n          <a\n            href={`/near/widget/ProfilePage?accountId=${accountId}`}\n            style={{\n              padding: \"0 0 0 14px\",\n              overflow: \"hidden\",\n              whiteSpace: \"nowrap\",\n              textOverflow: \"ellipsis\",\n              fontSize: \"1.3em\",\n              color: \"#888\",\n              wordBreak: \"break-all\",\n            }}\n          >\n            @{accountId}\n          </a>\n        </div>\n      </div>\n      <hr />\n    </div>\n  );\n});\n\nreturn (\n  <>\n    <div style={style.wrapper}>\n      {/** \u315c \ub85c\uadf8\uc778\ud55c \ub2c8\uc5b4 \uacc4\uc815\uc758 \ud504\ub85c\ud544 \uc5d8\ub9ac\uba3c\ud2b8 */}\n      <profileElements />\n      {/** */}\n      {/** \u315c \uc218\ud3c9 \uac00\ub85c\uc120 */}\n      <hr />\n      {/** \u315c \ub85c\uadf8\uc778\ud55c \ub2c8\uc5b4 \uacc4\uc815\uc758 \uac8c\uc2dc\ubb3c \uc5d8\ub9ac\uba3c\ud2b8 */}\n      <Widget\n        src={`idknwhoru.near/widget/collegium.bos.wk3.MyPosts`}\n        props={props}\n      />\n      {/** */}\n      {/** \u315c \ub85c\uadf8\uc778\ud55c \ub2c8\uc5b4 \uacc4\uc815\uc758 \uc704\uc82f \uc5d8\ub9ac\uba3c\ud2b8 */}\n      <h1 style={style.widgetCount}>\n        Your(\"{accountId}\") Widgets: {widgetEntries.length}\n      </h1>\n      <hr />\n      <div style={style.widgets}>\n        {widgetElements}\n        {/** */}\n      </div>\n    </div>\n  </>\n);\n", "metadata": null, "branch": {"draft": null}, "widget_modules_used": null, "widget_url": "https://near.social/#/6adbe3aca46fef824ed95c24b625c18fd7c6d978ff713ea11a22cd5b028940f2/widget/collegium.bos.wk3.SocialWidget", "fact_widget_deployments_id": "cbe3bdbd53aca3803c01c63552771f3b", "inserted_timestamp": "2024-03-07T05:24:05.087Z", "modified_timestamp": "2024-03-07T05:24:05.087Z", "__row_index": 1}