{"tx_hash": "7aFSxsoeRzqHb6k5Hd3dDAXdH3k7TxmWpTh8gzHRH4K8", "action_id_social": "DXRdKpyniZfc9pvQZnJrHW8r4Mn3bAWiuC9wFUqwh2V4-0-widget", "block_id": 118488304, "block_timestamp": "2024-05-08T06:54:45.577Z", "signer_id": "buildcommons.near", "widget_name": "page.main", "source_code": "const [accountId, setAccountId] = useState(null);\nconst [attestorId, setAttestorId] = useState(context.accountId || \"every.near\");\n\nconst [highlightIndex, setHighlightIndex] = useState(null);\nconst words = [\"Social\", \"Network\", \"States\", \"SN\", \"NS\"];\n\nconst [activeContent, setActiveContent] = useState(null);\nconst [activeWord, setActiveWord] = useState(null);\n\nconst contentMap = {\n  social: (\n    <div>\n      <Widget src=\"buildcommons.near/widget/profile.builder\" />\n    </div>\n  ),\n  network: (\n    <div>\n      <Widget src=\"hack.near/widget/commons.builders\" />\n    </div>\n  ),\n  states: (\n    <div>\n      <Widget src=\"hack.near/widget/commons\" />\n    </div>\n  ),\n};\n\nconst Wrapper = styled.div`\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  padding: 19px;\n  margin: auto;\n  background: #fff;\n`;\n\nconst H1 = styled.h1`\n  font-family: \"Courier\", sans-serif;\n  font-style: normal;\n  font-weight: 555;\n  font-size: 55px;\n  line-height: 1;\n  text-align: center;\n  color: #212428;\n  margin: 8px;\n  max-width: 700px;\n\n  span {\n    display: inline-block;\n    background: #EDFF00;\n    border-radius: 12px;\n    position: relative;\n    padding: 0.2em 0.3em 0.1em;\n    margin: 0.1em;\n    text-align: center;\n\n    svg {\n      position: absolute;\n      left: 50%;\n      top: 50%;\n      transform: translate(-50%, -50%);\n      width: 50px;\n      height: auto;\n    }\n  }\n\n  @media (max-width: 900px) {\n    font-size: 39px;\n\n    span {\n      border-radius: 12px;\n\n      svg {\n        width: 18px;\n        left: 50%;\n        top: 50%;\n        transform: translate(-50%, -50%);\n      }\n    }\n  }\n`;\n\nconst Word = styled.span`\n  font-family: \"Courier\", sans-serif;\n  font-size: 23px;\n  font-style: bold;\n  font-weight: 555;\n  color: #212428;\n  padding: 0.2em 0.6em;\n  display: inline-block;\n  background-color: ${(props) => (props.highlight ? \"#EDFF00\" : \"transparent\")};\n  border-radius: 8px;\n  transition: background-color 0.3s;\n  cursor: pointer;\n\n    @media (max-width: 900px) {\n    font-size: 18px;\n\n    span {\n      border-radius: 5px;\n    }\n  }\n`;\n\nconst Space = styled.span`\n  width: 19px;\n  height: 30px;\n  display: inline-block;\n  cursor: pointer;\n`;\n\nconst handleWordClick = (word) => {\n  setActiveWord(word);\n  setActiveContent(contentMap[word]);\n  setAccountId(null);\n};\n\nconst handleSpaceClick = (newAccountId) => {\n  setAccountId(newAccountId);\n  setActiveContent(null);\n  setActiveWord(null);\n};\n\nreturn (\n  <Wrapper>\n    <H1>\n      <span>\n        Build\n        <svg viewBox=\"0 0 25 23\" fill=\"none\" aria-hidden=\"true\"></svg>\n      </span>\n      Commons\n    </H1>\n    <div\n      className=\"mt-3 align-items-center\"\n      style={{\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n      }}\n    >\n      <Word\n        highlight={\n          highlightIndex === 0 ||\n          highlightIndex === 3 ||\n          activeWord === \"social\" ||\n          accountId === context.accountId\n        }\n        onMouseEnter={() => setHighlightIndex(0)}\n        onMouseLeave={() => setHighlightIndex(-1)}\n        onClick={() => handleWordClick(\"social\")}\n      >\n        Social\n      </Word>\n      <Space\n        onMouseEnter={() => setHighlightIndex(3)}\n        onMouseLeave={() => setHighlightIndex(-1)}\n        onClick={() => handleSpaceClick(context.accountId || \"hack.near\")}\n      />\n      <Word\n        highlight={\n          highlightIndex === 1 ||\n          highlightIndex === 3 ||\n          highlightIndex === 4 ||\n          activeWord === \"network\" ||\n          accountId === \"buildcommons.near\" ||\n          accountId === context.accountId\n        }\n        onMouseEnter={() => setHighlightIndex(1)}\n        onMouseLeave={() => setHighlightIndex(-1)}\n        onClick={() => handleWordClick(\"network\")}\n      >\n        Network\n      </Word>\n      <Space\n        onMouseEnter={() => setHighlightIndex(4)}\n        onMouseLeave={() => setHighlightIndex(-1)}\n        onClick={() => handleSpaceClick(\"buildcommons.near\")}\n      />\n      <Word\n        highlight={\n          highlightIndex === 2 ||\n          highlightIndex === 4 ||\n          activeWord === \"states\" ||\n          accountId === \"buildcommons.near\"\n        }\n        onMouseEnter={() => setHighlightIndex(2)}\n        onMouseLeave={() => setHighlightIndex(-1)}\n        onClick={() => handleWordClick(\"states\")}\n      >\n        States\n      </Word>\n    </div>\n    {activeWord ? (\n      contentMap[activeWord]\n    ) : (\n      <>\n        {!context.loading && (\n          <Widget\n            key={accountId}\n            src=\"buildcommons.near/widget/SocialGraph\"\n            props={{\n              accountIds: [`${accountId || \"buildcommons.near\"}`],\n              height: 300,\n            }}\n          />\n        )}\n        {!context.loading && (\n          <div>\n            {context.accountId ? (\n              <div className=\"m-3 mt-4 d-flex flex-row justify-content-center\">\n                <div className=\"m-1 me-3\">\n                  <Widget\n                    src=\"buildcommons.near/widget/profile.builder\"\n                    props={{ accountId: context.accountId }}\n                  />\n                </div>\n                <div className=\"m-2 ms-2\">\n                  <Widget\n                    src=\"buildcommons.near/widget/graph.join\"\n                    props={{\n                      attestorId,\n                      accountId,\n                      defaultBuilder,\n                    }}\n                  />\n                </div>\n              </div>\n            ) : (\n              <div className=\"m-3\">\n                <Widget src=\"buildcommons.near/widget/connect\" />\n              </div>\n            )}\n          </div>\n        )}\n      </>\n    )}\n  </Wrapper>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/buildcommons.near/widget/page.main", "fact_widget_deployments_id": "c3e894158410a22a41553bcb37a020b9", "inserted_timestamp": "2024-05-08T08:39:27.021Z", "modified_timestamp": "2024-05-08T08:39:27.021Z", "__row_index": 31}