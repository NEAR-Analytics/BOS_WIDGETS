{"tx_hash": "Hg83JyjniC9bXJxyqcppAPZp6ivDpZxmGEihMaL5xWfY", "action_id_social": "5VapEXqZkngJLZUuiGjRjN9GqMBLKFwySofPUsTBWjsE-0-widget", "block_id": 124163023, "block_timestamp": "2024-07-24T17:38:30.779Z", "signer_id": "infrastructure-committee.near", "widget_name": "components.molecule.LinkedProposals", "source_code": "const { href } = VM.require(`devhub.near/widget/core.lib.url`) || {\n  href: () => {},\n};\nconst { readableDate } = VM.require(`devhub.near/widget/core.lib.common`) || {\n  readableDate: () => {},\n};\nconst linkedProposalIds = props.linkedProposalIds ?? [];\nconst linkedProposalsData = [];\nconst showStatus = props.showStatus ?? false;\n// using contract instead of indexer, since indexer doesn't return timestamp\nlinkedProposalIds.map((item) => {\n  const data = Near.view(\"infrastructure-committee.near\", \"get_proposal\", {\n    proposal_id: item,\n  });\n  if (data !== null) {\n    linkedProposalsData.push(data);\n  }\n});\nconst Container = styled.div`\n  a {\n    &:hover {\n      text-decoration: none !important;\n    }\n  }\n`;\nreturn (\n  <Container className=\"d-flex flex-column gap-3\">\n    {linkedProposalsData.map((item) => {\n      return (\n        <a\n          href={href({\n            widgetSrc: `infrastructure-committee.near/widget/app`,\n            params: {\n              page: \"proposal\",\n              id: item.id,\n            },\n          })}\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n        >\n          <div className=\"d-flex gap-2\">\n            <Widget\n              src={`devhub.near/widget/devhub.entity.proposal.Profile`}\n              props={{\n                accountId: item.snapshot.editor_id,\n              }}\n            />\n            <div className=\"d-flex flex-column\" style={{ maxWidth: 250 }}>\n              <b className=\"text-truncate\">{item.snapshot.name}</b>\n              <div className=\"text-sm text-muted\">\n                created on {readableDate(item.snapshot.timestamp / 1000000)}\n              </div>\n              {showStatus && (\n                <div style={{ width: \"fit-content\" }} className=\"mt-1\">\n                  <Widget\n                    src={`devhub.near/widget/devhub.entity.proposal.StatusTag`}\n                    props={{\n                      timelineStatus: item.snapshot.timeline.status,\n                    }}\n                  />\n                </div>\n              )}\n            </div>\n          </div>\n        </a>\n      );\n    })}\n  </Container>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/infrastructure-committee.near/widget/components.molecule.LinkedProposals", "fact_widget_deployments_id": "6568c1e7c3b4447ac89fadf59083b364", "inserted_timestamp": "2024-07-24T18:56:26.724Z", "modified_timestamp": "2024-07-24T18:56:26.724Z", "__row_index": 0}