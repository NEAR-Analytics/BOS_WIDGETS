{"tx_hash": "4bLtPNYgEFux3pgLr5NnYN4oUMkPzGXfw4JkpM6WVqp3", "action_id_social": "DkihHRZ2n85c2WmHPyG6mkFXFwL9h6ksfxahfBpSSEWB-0-widget", "block_id": 109671233, "block_timestamp": "2024-01-05T17:54:09.867Z", "signer_id": "memelol.near", "widget_name": "lol.Components.Leaderboard", "source_code": "const { format, Token } = VM.require(`memelol.near/widget/lol.Utils`);\nconst { contractName, assets } = props;\n\nconst WinnerCard = styled.div`\n  display: flex;\n  background: #fff;\n  justify-content: center;\n  font-size: 18px;\n  flex-direction: column;\n  padding: 1.5rem;\n  gap: 1.5rem;\n  border: 3px solid black;\n  border-radius: 20px;\n  width: 45%;\n  box-shadow: 0px 20px 30px 0px rgba(0, 0, 0, 0.25);\n  position: relative;\n\n  .profile {\n    justify-content: start;\n  }\n\n  .trophy {\n    position: absolute;\n    top: 10px;\n    right: 10px;\n    font-size: 30px;\n\n    @keyframes jump-shaking {\n      0% {\n        transform: translateX(0);\n      }\n      25% {\n        transform: translateY(-2px);\n      }\n      35% {\n        transform: translateY(-2px) rotate(10deg);\n      }\n      55% {\n        transform: translateY(-2px) rotate(-10deg);\n      }\n      65% {\n        transform: translateY(-2px) rotate(5deg);\n      }\n      75% {\n        transform: translateY(-2px) rotate(-5deg);\n      }\n      100% {\n        transform: translateY(0) rotate(0);\n      }\n    }\n\n    animation: jump-shaking 0.83s infinite;\n  }\n\n  @media screen and (max-width: 786px) {\n    width: 100%;\n  }\n`;\n\nconst [winners, setWinners] = useState({\n  near: [],\n  lol: [],\n});\nconst [winnerType, setWinnerType] = useState(\"near\");\n\nconst fetchWinners = async () => {\n  Near.asyncView(contractName, \"get_leaderboards\").then(\n    ([nearWinners, lolWinners]) =>\n      setWinners({\n        near: nearWinners,\n        lol: lolWinners,\n      }),\n  );\n};\n\nfetchWinners();\n\nconst Winner = ({ winner, index, token }) => (\n  <WinnerCard>\n    {index === 0 && <div className=\"trophy\">\ud83c\udfc6</div>}\n    <Widget\n      src=\"mob.near/widget/Profile.ShortInlineBlock\"\n      props={{\n        accountId: winner.account_id,\n        tooltip: true,\n      }}\n    />\n    <div className=\"d-flex justify-content-center align-items-center gap-4\">\n      <div>\n        <Token near={token === \"near\"} size={22}>\n          <h4>{format(winner.amount, 24)}</h4>\n        </Token>\n      </div>\n    </div>\n  </WinnerCard>\n);\n\nreturn (\n  <>\n    <div\n      className=\"d-flex gap-3 mt-4 align-items-center\"\n      onClick={() => setWinnerType(winnerType === \"near\" ? \"lol\" : \"near\")}\n    >\n      <div>\n        <b>NEAR</b>\n      </div>\n      <Widget src={`memelol.near/widget/lol.Components.Switch`} />\n      <div>\n        <b>LOL</b>\n      </div>\n    </div>\n    <div className=\"winners-list d-flex flex-wrap justify-content-center gap-4 \">\n      {winners[winnerType].length ? (\n        winners[winnerType].map((winner, index) => (\n          <Winner winner={winner} index={index} token={winnerType} />\n        ))\n      ) : (\n        <></>\n      )}\n    </div>\n  </>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/memelol.near/widget/lol.Components.Leaderboard", "fact_widget_deployments_id": "37b6f0778a1964e797f3ac4319062eaf", "inserted_timestamp": "2024-03-07T05:24:05.087Z", "modified_timestamp": "2024-03-07T05:24:05.087Z", "__row_index": 1}