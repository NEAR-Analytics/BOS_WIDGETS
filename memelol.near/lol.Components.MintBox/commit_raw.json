{"tx_hash": "CmDFuQmD5B1cL8F4hBauXrdYB7qN8eeChLtfAc34sjNa", "action_id_social": "9WSgyM2vbdKoWfwyzGBQafEYrmDETEQiNue61BPj7Lam-0-widget", "block_id": 109604354, "block_timestamp": "2024-01-04T22:32:11.312Z", "signer_id": "memelol.near", "widget_name": "lol.Components.MintBox", "source_code": "const { contractName, canMint } = props;\nconst { Button } = VM.require(`memelol.near/widget/lol.Components.Button`);\n\nconst OneNear = Big(10).pow(24);\nconst TGas = Big(10).pow(12);\n\nconst [boxAmount, setBoxAmount] = useState(1);\n\nconst handleMint = () => {\n  if (handleError() || !context.accountId || !canMint) return;\n\n  const data = {\n    contractName,\n    methodName: \"open_box\",\n    deposit: OneNear.mul(0.05),\n    gas: TGas.mul(250),\n  };\n\n  Near.call(Array(parseInt(boxAmount)).fill(data));\n};\n\nconst handleError = () => {\n  let err = null;\n\n  if (\n    !boxAmount ||\n    isNaN(boxAmount) ||\n    parseInt(boxAmount) < 1 ||\n    parseInt(boxAmount) > 100\n  )\n    err = \"Value should be > 0 and <= 100\";\n\n  return err;\n};\n\nconst MintSection = styled.div`\n  .wrapper {\n    flex-direction: row;\n\n    .button.disabled {\n      opacity: 0.5;\n    }\n\n    input[type=\"number\"] {\n      border-radius: 10px;\n      border: 3px solid;\n      display: flex;\n      justify-content: space-between;\n      align-items: center;\n      box-shadow: 0px 20px 30px 0px rgba(0, 0, 0, 0.25);\n      font-size: 24px;\n      font-weight: 800;\n      padding: 15px;\n      width: 100px;\n\n      &:disabled {\n        opacity: 0.5;\n      }\n\n      @media screen and (max-width: 786px) {\n        width: 100%;\n        text-align: center;\n      }\n    }\n\n    @media screen and (max-width: 786px) {\n      width: 100%;\n      flex-direction: column;\n    }\n  }\n\n  .error {\n    margin: 10px 0;\n    font-size: 16px;\n    color: red;\n  }\n`;\n\nreturn (\n  <MintSection className=\"d-flex gap-2 flex-column align-items-center\">\n    <div className=\"wrapper d-flex gap-2 justify-content-center\">\n      <input\n        type=\"number\"\n        disabled={!context.accountId || !canMint}\n        onInput={(e) => setBoxAmount(e.target.value)}\n        value={boxAmount}\n      />\n      <Button\n        className={`button ${\n          !canMint || handleError() || !context.accountId ? \"disabled\" : \"\"\n        }`}\n        onClick={handleMint}\n      >\n        <span>Mint Box{boxAmount > 1 ? \"es\" : \"\"}</span>\n        <i className=\"bi bi-chevron-right\" />\n      </Button>\n    </div>\n    <div className=\"error\">{handleError()}</div>\n  </MintSection>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/memelol.near/widget/lol.Components.MintBox", "fact_widget_deployments_id": "1fd5dd2f3d08a15468bdf64d6c399876", "inserted_timestamp": "2024-03-07T05:24:05.087Z", "modified_timestamp": "2024-03-07T05:24:05.087Z", "__row_index": 1}