{"tx_hash": "3bXwKWYTTXVsWoRmpyQKahKRkLKKe9bE1QRz3eWX1sJE", "action_id_social": "B33p6HnqmvqGrrRrVkBKkiX5dLqWrCbJJdDCcKJ5Ljvk-0-widget", "block_id": 110486768, "block_timestamp": "2024-01-15T18:24:19.765Z", "signer_id": "memelol.near", "widget_name": "lol.Components.MintBox", "source_code": "const { contractName, canMint, type, methodName, title } = props;\nconst { Button } = VM.require(`memelol.near/widget/lol.Components.Button`);\n\nconst OneNear = Big(10).pow(24);\nconst TGas = Big(10).pow(12);\n\nconst [amount, setAmount] = useState(1);\n\nconst handleMint = () => {\n  if (handleError() || !context.accountId || !canMint) return;\n\n  const data = {\n    contractName,\n    methodName,\n    deposit: OneNear.mul(0.075),\n    gas: TGas.mul(250),\n  };\n\n  Near.call(Array(parseInt(amount)).fill(data));\n};\n\nconst handleError = () => {\n  let err = null;\n\n  if (\n    !amount ||\n    isNaN(amount) ||\n    parseInt(amount) < 1 ||\n    parseInt(amount) > 100\n  )\n    err = \"Value should be > 0 and <= 100\";\n\n  return err;\n};\n\nconst MintSection = styled.div`\n  .wrapper {\n    flex-direction: row;\n\n    .button.disabled {\n      opacity: 0.5;\n    }\n\n    input[type=\"number\"] {\n      border-radius: 10px;\n      border: 3px solid;\n      display: flex;\n      justify-content: space-between;\n      align-items: center;\n      box-shadow: 0px 20px 30px 0px rgba(0, 0, 0, 0.25);\n      font-size: 24px;\n      font-weight: 800;\n      padding: 15px;\n      width: 100px;\n\n      &:disabled {\n        opacity: 0.5;\n      }\n\n      @media screen and (max-width: 786px) {\n        width: 100%;\n        text-align: center;\n      }\n    }\n\n    @media screen and (max-width: 786px) {\n      width: 100%;\n      flex-direction: column;\n    }\n  }\n\n  .error {\n    margin: 10px 0;\n    font-size: 16px;\n    color: red;\n  }\n`;\n\nreturn (\n  <MintSection className=\"d-flex gap-2 flex-column align-items-center\">\n    <div className=\"wrapper d-flex gap-2 justify-content-center\">\n      <input\n        type=\"number\"\n        disabled={!context.accountId || !canMint}\n        onInput={(e) => setAmount(e.target.value)}\n        value={amount}\n      />\n      <Button\n        className={`button ${\n          !canMint || handleError() || !context.accountId ? \"disabled\" : \"\"\n        }`}\n        onClick={handleMint}\n      >\n        <span>\n          {title}\n          {amount > 1 ? \"es\" : \"\"}\n        </span>\n        <i className=\"bi bi-chevron-right\" />\n      </Button>\n    </div>\n    <div className=\"error\">{handleError()}</div>\n  </MintSection>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/memelol.near/widget/lol.Components.MintBox", "fact_widget_deployments_id": "65f8c35e1676cb92af54a30b71f1e3e8", "inserted_timestamp": "2024-03-07T05:24:05.087Z", "modified_timestamp": "2024-03-07T05:24:05.087Z", "__row_index": 0}