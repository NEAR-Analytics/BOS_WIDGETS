{"tx_hash": "3rmX7FKP7jnURPdwQJHAhEKMgdkjQG2bzMGuzeUppaT6", "action_id_social": "CBpWhZyrC1wsjnLfM9JMgG9PQMonC7neJcBwPeBj8UtZ-0-widget", "block_id": 93566893, "block_timestamp": "2023-06-06T06:23:32.129Z", "signer_id": "sking.near", "widget_name": "IAH.Common.ReferredList", "source_code": "const accountId = props.accountId ?? context.accountId;\nconst NFT_CONTRACT = props.NFT_CONTRACT;\n\nconst userlist = Near.view(\n  NFT_CONTRACT,\n  \"users_by_referrer\",\n  {\n    account_id: accountId,\n  },\n  undefined,\n  false\n);\nconsole.log(\"userlist\", userlist, NFT_CONTRACT);\n\nconst RowWrapper = styled.div`\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  padding: 10px;\n  border-bottom: 1px solid #08cc86;\n  &:last-child {\n    border-bottom: none;\n  }\n\n  .rank {\n    width: 30px;\n  }\n  .user {\n    flex: 1;\n    text-align: left;\n    margin: 0 16px;\n    color: #08cc86;\n    text-decoration: none;\n  }\n`;\n\nconst Row = ({ accountId }) => (\n  <RowWrapper>\n    <a\n      className=\"user\"\n      href={`#/near/widget/ProfilePage?accountId=${accountId}`}\n    >\n      {accountId}\n    </a>\n  </RowWrapper>\n);\n\nconst Wrapper = styled.div`\n  border: 2px solid #08cc86;\n  color: #08cc86;\n  display: flex;\n  flex-direction: column;\n  padding: 28px;\n  margin: 0 10px auto;\n  width: 100%;\n  max-width: 500px;\n  border-radius: 18px;\n  flex: 1;\n`;\n\nreturn (\n  <Wrapper>\n    <h3 className=\"text-center mb-3\">Your Referral List</h3>\n    {userlist.map((row, i) => (\n      <Row key={i} accountId={row} />\n    ))}\n    {userlist.length === 0 && (\n      <div className=\"text-center\">No referrals yet</div>\n    )}\n  </Wrapper>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/sking.near/widget/IAH.Common.ReferredList", "fact_widget_deployments_id": "f6ed245fce9e6231325cb6fc094a17ee", "inserted_timestamp": "2024-03-07T05:24:05.087Z", "modified_timestamp": "2024-03-07T05:24:05.087Z", "__row_index": 0}