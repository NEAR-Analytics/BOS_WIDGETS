{"tx_hash": "8gWc4qFk8yUpDVJgcFLYUJqBv9Bt1h5B45ck3rS3pYTa", "action_id_social": "FWxUFmb4wkZNknugPWbokazC5vXXD1tSmMtheKbKhPSj-0-widget", "block_id": 91530814, "block_timestamp": "2023-05-10T12:38:06.077Z", "signer_id": "sking.near", "widget_name": "Bounties.Details", "source_code": "// Config\nconst WIDGET_AUTHOR = \"sking.near\";\nconst WHITELISTED_ACCOUNTS = [\"sking.near\", \"samora.near\"];\nconst UIKingWidgetAuthor = \"sking.near\";\nconst currentUserId = \"sking.near\";\nconst MAIN_DB_KEY = `${WIDGET_AUTHOR}-bounties-vALPHA`;\n\n// Props\nconst { id, blockHeight } = props;\n\nif (!id) {\n  throw {\n    message:\n      \"Invalid bounty id, please provide a valid id in this format: '?id=[authorId]@[bountyId]'\",\n  };\n}\n\n// if (!WHITELISTED_ACCOUNTS.includes(accountId)) {\n//   return \"The bounty author is not whitelisted to show bounties in this widget\";\n// }\n\n// get data\nconst authorId = id.split(\"@\")[0];\nconst bountyId = id.split(\"@\")[1];\nconst result = Social.getr(\n  `${authorId}/${MAIN_DB_KEY}.Bounties/${bountyId}`,\n  blockHeight || undefined\n);\nconst bounty = {\n  ...result,\n  skills: JSON.parse(result.skills),\n  blockHeight,\n  author: authorId,\n  createdAt: bountyId,\n};\n\n// Styles\nconst Wrapper = styled.div`\n  display: flex;\n  align-items: stretch;\n  justify-content: center;\n  flex-direction: column;\n  max-width: 100%;\n  border-bottom-left-radius: 2rem;\n  border-bottom-right-radius: 2rem;\n  overflow: hidden;\n  background: #fff;\n  margin-bottom: 2rem;\n\n  @media (min-width: 768px) {\n    flex-direction: row;\n  }\n`;\n\n// Renderer\nreturn (\n  <>\n    <Widget src={`${WIDGET_AUTHOR}/widget/Bounties.Components.Background`} />\n    <Widget src={`${WIDGET_AUTHOR}/widget/Bounties.Components.DetailsHeader`} />\n    <Widget\n      src={`${WIDGET_AUTHOR}/widget/Bounties.Components.Card`}\n      props={{\n        is_expanded: true,\n        widgetAuthor: WIDGET_AUTHOR,\n        title: bounty.title,\n        status: bounty.status,\n        creator: bounty.author,\n        createdAt: bounty.createdAt,\n        deadline: bounty.deadline,\n        description: bounty.description,\n        bounty: bounty.reward,\n        skills: bounty.skills,\n        experienceLevel: bounty.experienceLevel,\n      }}\n    />\n    <Widget\n      src={`${WIDGET_AUTHOR}/widget/Bounties.Components.Proposals`}\n      props={{\n        widgetAuthor: WIDGET_AUTHOR,\n        proposals: [\n          {\n            authorId: \"achraf.near\",\n            createdAt: 1683227928,\n            description: \"I will do it\",\n            status: \"Waiting\",\n          },\n          {\n            authorId: \"sking.near\",\n            createdAt: 1683227928,\n            description: \"I will do it\",\n            status: \"Waiting\",\n          },\n        ],\n      }}\n    />\n  </>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/sking.near/widget/Bounties.Details", "fact_widget_deployments_id": "01192e55cafef8a35d72937ef6e51dc6", "inserted_timestamp": "2024-03-07T05:24:05.087Z", "modified_timestamp": "2024-03-07T05:24:05.087Z", "__row_index": 0}