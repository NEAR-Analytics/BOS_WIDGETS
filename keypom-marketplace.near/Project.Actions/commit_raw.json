{"tx_hash": "6kdYLdgNVjLeXmBHmnxz8RYzyAGsXiDrqhcVN5umHxc5", "action_id_social": "FRqZMUxDr6KkY2uPcnj4TfQv5oRDFZyYSxfUtySDxk2c-0-widget", "block_id": 108019342, "block_timestamp": "2023-12-15T16:32:06.766Z", "signer_id": "keypom-marketplace.near", "widget_name": "Project.Actions", "source_code": "const ownerId = \"a_liutiev.near\";\n\nconst Container = styled.div`\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: space-between';\n  width: 100%;\n`;\n\nconst SubRow = styled.div`\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  gap: 40px;\n`;\n\nconst eventRegistryId = 'dev-1699521073288-13420165222235'\nconst tickets = Near.view(eventRegistryId, \"view_keypom_contract\", { account_id: \"minqi.testnet\" })\n\n// function generateKey = () => {\n//   const str = ''\n// }\n\nconst Actions = () => (\n  <Widget\n    src={`${ownerId}/widget/Project.Actions`}\n    props={{\n      ...props,\n      drop_ids,\n      event_id\n    }}\n  />\n);\n\n\nreturn (\n  <Container className=\"gx-0\">\n    <SubRow className=\"col-12\">\n      <div>Purchase Options</div>\n      {props.drop_ids.map((drop, index) => (\n        <Widget\n          src={`${ownerId}/widget/Buttons.ActionButton`}\n          props={{\n            type: \"tertiary\",\n            // Use a template literal and a ternary operator to change the text based on the index\n            text: `Buy ${index === 0 ? 'Premium' : index === 1 ? 'Regular' : 'Discount'} Ticket`,\n            onClick: () => {\n              const attachedDeposit = \"20000000000000000000000000\"\n              const key = 'testtesttest'\n              console.log('action button pressed', index);\n              try {\n                console.log('props ', props.event_id)\n                const buyNew = Near.call(eventRegistryId, \"buy_initial_sale\", {\n                  event_id: props.event_id,\n                  new_key_info: key,\n                  ticket_tier: 0,\n                  attachedDeposit\n                });\n              } catch (error) {\n                console.log(`Error purchasing ticket: `, error);\n              }\n            },\n          }}\n        />\n      ))}\n\n\n    </SubRow>\n\n  </Container>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/keypom-marketplace.near/widget/Project.Actions", "fact_widget_deployments_id": "1d98478a3efbdfcb557cfd9d4bd8c9bf", "inserted_timestamp": "2024-03-07T05:24:05.087Z", "modified_timestamp": "2024-03-07T05:24:05.087Z", "__row_index": 14}