{"tx_hash": "EXEPjLX91UWNweobM7xLgfcAKNTsdcuSoF5q24gFMtyJ", "action_id_social": "Ch1GU1ZbNEL5a4TmmhxKed6rZHDpZSKkhL9fQLceY1JX-0-widget", "block_id": 108020512, "block_timestamp": "2023-12-15T16:52:42.579Z", "signer_id": "keypom-marketplace.near", "widget_name": "Project.CardEvent", "source_code": "const ownerId = \"keypom-marketplace.near\";\nconst donationContractId = \"donate.potlock.near\";\nconst registryContractId = \"registry.potlock.near\";\n\nconst TOKEN_DECIMALS = 24;\n\nconst Card = styled.a`\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n  max-width: 30%;\n  min-width: 320px;\n  border-radius: 7px;\n  background: white;\n  box-shadow: 0px -2px 0px #dbdbdb inset;\n  border: 1px solid #dbdbdb;\n  &:hover {\n    text-decoration: none;\n    cursor: pointer;\n    .description {\n      display: block; // or flex, inline, inline-block, etc. depending on your design\n      visibility: visible;\n    }\n    \n  }\n\n`;\n\nconst Description = styled.div`\n  visibility: hidden;\n  opacity: 0;\n  transition: opacity 0.3s, visibility 0.3s;\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  background: rgba(0, 0, 0, 0.7); \n  color: white; \n  padding: 10px; \n  border-radius: 0 0 7px 7px; \n`;\n\nconst Info = styled.div`\n  display: flex;\n  flex-direction: column;\n  margin-top: 0px; // playing\n  padding: 16px 24px;\n  gap: 16px;\n  flex: 1;\n`;\n\nconst Title = styled.div`\n  font-size: 16px;\n  font-weight: 600;\n  color: #2e2e2e;\n`;\n\nconst SubTitle = styled.div`\n  font-size: 16px;\n  font-weight: 400;\n  color: #2e2e2e;\n  word-wrap: break-word;\n`;\n\nconst Tags = styled.div`\n  display: flex;\n  gap: 8px;\n`;\n\nconst Tag = styled.span`\n  box-shadow: 0px -0.699999988079071px 0px rgba(123, 123, 123, 0.36) inset;\n  padding: 4px 8px;\n  border-radius: 4px;\n  border: 1px solid rgba(123, 123, 123, 0.36);\n  color: #2e2e2e;\n`;\n\nconst DonationsInfoContainer = styled.div`\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  align-items: center;\n  padding: 16px 24px;\n  width: 100%;\n  border-top: 1px #f0f0f0 solid;\n`;\nconst InfoContainer = styled.div`\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n  align-items: center;\n  padding: 16px 24px;\n  width: 100%;\n  margin-bottom: 16px;\n`;\n\nconst DonationsInfoItem = styled.div`\n  display: flex;\n  flex-direction: row;\n  gap: 8px;\n  align-items: center;\n`;\n\nconst MAX_DESCRIPTION_LENGTH = 120;\n\nconst EVENT_STATUS = [\n  \"UPCOMING\",\n  \"HAPPENNING\",\n  \"ENDED\",\n  \"SOLD_OUT\",\n];\n\nconst { name, description, drop_ids, price_by_drop_id, max_tickets, max_markup, event_id } = props.events;\nlet display_price = (price_by_drop_id[drop_ids[0]] / (Math.pow(10, TOKEN_DECIMALS))).toFixed(0);\n\nreturn (\n  <>\n    <Card href={`?tab=project&projectId=${event_id}`} key={event_id}>\n      <Info>\n        <Title>{name}</Title>\n        <SubTitle>\n          {description.length > MAX_DESCRIPTION_LENGTH\n            ? description.slice(0, MAX_DESCRIPTION_LENGTH) + \"...\"\n            : description}\n        </SubTitle>\n        <Description className=\"description\">\n          {description}\n        </Description>\n      </Info>\n      <DonationsInfoContainer>\n        <DonationsInfoItem>\n          <Title>{`Drops`}</Title>\n          <SubTitle>{`${drop_ids.length}`}</SubTitle>\n        </DonationsInfoItem>\n        <DonationsInfoItem>\n          <Title>{`Price`}</Title>\n          <SubTitle>{`${display_price} N`}</SubTitle>\n        </DonationsInfoItem>\n      </DonationsInfoContainer>\n      <InfoContainer>\n        <Widget\n          src={`${ownerId}/widget/Buttons.NavigationButton`}\n          props={{\n            type: \"tertiary\",\n            text: 'View Event',\n            href: `?tab=project&projectId=${event_id}`, // If the Widget can handle the href prop\n            onClick: (e) => {\n              // Prevent default action if it's not an anchor tag\n              e.preventDefault();\n              window.location.href = `?tab=project&projectId=${event_id}`;\n            },\n          }}\n          key={drop_id}\n        />\n      </InfoContainer>\n    </Card>\n  </>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/keypom-marketplace.near/widget/Project.CardEvent", "fact_widget_deployments_id": "2be48b9b4f4632bbbfee3426b596c180", "inserted_timestamp": "2024-03-07T05:24:05.087Z", "modified_timestamp": "2024-03-07T05:24:05.087Z", "__row_index": 1}