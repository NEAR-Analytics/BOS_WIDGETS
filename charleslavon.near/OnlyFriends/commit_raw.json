{"tx_hash": "D83vTQY9HwBQgj2REhoeYC6rhEmT13W5xZ7HofYnS4Rs", "action_id_social": "78ZxsbSF2BebxJxK2RksmouLUzEutUCCJCMrX37eGdFU-0-widget", "block_id": 112112130, "block_timestamp": "2024-02-04T21:06:59.929Z", "signer_id": "charleslavon.near", "widget_name": "OnlyFriends", "source_code": "const { videoId, cdnAccount } = props;\nif (!videoId || !cdnAccount) return \"missing required props\";\n\nState.init({\n  token: undefined,\n  message: \"Loading...\",\n});\n\nconst p = asyncFetch(\n  `https://neardotorg.ngrok.io/api/video?videoId=${videoId}`\n);\np.then((res) => {\n  const { token } = res.body;\n  if (token) {\n    State.update({ token });\n  } else {\n    State.update({ message: \"This content is no longer available.\" });\n  }\n});\n\nconst LoaderContainer = styled.div`\n  display: flex;\n  justify-content: center;\n  align-tems: center;\n`;\n\nconst Loader = () => {\n  return (\n    <LoaderContainer className=\"loader\">\n      <span\n        className=\"spinner-grow spinner-grow-sm me-1\"\n        role=\"status\"\n        aria-hidden=\"true\"\n      />\n      {state.message}\n    </LoaderContainer>\n  );\n};\n\nreturn (\n  <>\n    {!state.token && <Loader />}\n    {state.token && (\n      <iframe\n        src={`https://customer-${cdnAccount}.cloudflarestream.com/${state.token}/iframe`}\n        iframeResizer\n        border=\"none\"\n        allow=\"accelerometer; gyroscope; autoplay; encrypted-media; picture-in-picture;\"\n        allowfullscreen=\"true\"\n      ></iframe>\n    )}\n  </>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/charleslavon.near/widget/OnlyFriends", "fact_widget_deployments_id": "ab3010d4c377664a58b72fc6d0f44e39", "inserted_timestamp": "2024-03-07T05:24:05.087Z", "modified_timestamp": "2024-03-07T05:24:05.087Z", "__row_index": 7}