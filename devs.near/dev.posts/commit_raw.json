{"tx_hash": "DvwU3N7skZhKRYCUgiUifWWCPrv4A64xGjcZ16CwRdEx", "action_id_social": "ApaGvLjp4v164Ne8k5GEzrFF1bo2pFjqNQdiJZfRoq6P-0-widget", "block_id": 94053399, "block_timestamp": "2023-06-12T17:05:07.140Z", "signer_id": "devs.near", "widget_name": "dev.posts", "source_code": "const accountId = context.accountId;\nconst daoId = \"build.sputnik-dao.near\";\nconst groupId = props.groupId ?? \"community\";\n\nconst policy = Near.view(daoId, \"get_policy\");\n\nif (policy === null) {\n  return \"\";\n}\n\nconst groups = policy.roles\n  .filter((role) => role.name === groupId)\n  .map((role) => {\n    const group = role.kind.Group;\n\n    return group;\n  });\n\nconst isMember = groups.map((group) => {\n  return !group\n    ? false\n    : group.filter((address) => address === accountId).length > 0;\n})?.[1];\n\nconst hashtags = [\n  { name: \"dev\", required: true },\n  { name: \"bos\", required: true },\n];\nreturn (\n  <>\n    <p>{group}</p>\n    <Widget\n      src=\"efiz.near/widget/Community.Posts.Compose\"\n      props={{\n        embedHashtags: hashtags,\n        communityDomain: \"devs.near\",\n        isMember,\n        exclusive: true,\n        allowPublicPosting: true,\n        key: \"devs\",\n      }}\n    />\n    <Widget\n      src=\"efiz.near/widget/Community.Posts\"\n      props={{\n        communityHashtags: hashtags,\n        communityDomain: \"devs.near\",\n        communityMembers: group[1],\n        exclusive: true,\n        allowPublicPosting: true,\n      }}\n    />\n  </>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/devs.near/widget/dev.posts", "fact_widget_deployments_id": "091a5a1fd898327a2ff76ba27dfcecf5", "inserted_timestamp": "2024-03-07T05:24:05.087Z", "modified_timestamp": "2024-03-07T05:24:05.087Z", "__row_index": 0}