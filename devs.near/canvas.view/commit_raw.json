{"tx_hash": "AeKLXue5HKghyAy7pEePUcurENZVcZSg6Vpw4TuXske", "action_id_social": "4HqQFNVH4s44W53SyzAww8kKAaKHhrxmDS2mDidHMyv8-0-widget", "block_id": 110364745, "block_timestamp": "2024-01-14T06:37:45.330Z", "signer_id": "devs.near", "widget_name": "canvas.view", "source_code": "const { value } = props;\n\nconst [storeEvents, setStoreEvents] = useState([]);\nconst [uiEvents, setUiEvents] = useState([]);\nconst [viewMode, setViewMode] = useState(\"ui\");\n\nfunction handleChangeEvent(event) {\n  function logChangeEvent(eventName) {\n    setStoreEvents((events) => [...events, eventName]);\n  }\n\n  // Process added records\n  for (const record of Object.values(event.changes.added)) {\n    logChangeEvent(\n      `Added: ${record.typeName} (ID: ${record.id}, X: ${record.x}, Y: ${record.y})`\n    );\n  }\n\n  // Process updated records\n  for (const [from, to] of Object.values(event.changes.updated)) {\n    logChangeEvent(\n      `Updated: ${from.typeName} (ID: ${from.id}, X: ${from.x} -> ${to.x}, Y: ${from.y} -> ${to.y})`\n    );\n  }\n\n  // Process removed records\n  for (const record of Object.values(event.changes.removed)) {\n    logChangeEvent(\n      `Removed: ${record.typeName} (ID: ${record.id}, X: ${record.x}, Y: ${record.y})`\n    );\n  }\n}\n\nfunction handleUiEvent(name, data) {\n  setUiEvents((events) => [...events, `${name} ${JSON.stringify(data)}`]);\n}\n\nfunction EventLog({ changeEvents, uiEvents }) {\n  let eventsToShow = [];\n  if (viewMode === \"ui\") {\n    eventsToShow = uiEvents;\n  } else if (viewMode === \"change\") {\n    eventsToShow = changeEvents;\n  }\n\n  return (\n    <div>\n      <ul>\n        {eventsToShow.map((eventName, index) => (\n          <li key={index}>{eventName}</li>\n        ))}\n      </ul>\n    </div>\n  );\n}\n\nconsole.log(\"props\", props);\n\nreturn (\n  <div style={{ display: \"flex\" }}>\n    <div style={{ width: \"60vw\", height: \"80vh\" }}>\n      <Canvas persistanceKey={\"hello\"} />\n    </div>\n  </div>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/devs.near/widget/canvas.view", "fact_widget_deployments_id": "8dc5ea8f50be3789874da40a9a1fd0b8", "inserted_timestamp": "2024-03-07T05:24:05.087Z", "modified_timestamp": "2024-03-07T05:24:05.087Z", "__row_index": 4}