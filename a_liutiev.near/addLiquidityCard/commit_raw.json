{"tx_hash": "FzfuQbAh44Ai9uvtXHEe9vvcXrbT2JnxopNPazJYnPSW", "action_id_social": "3KynLaL6byWicLp68G3k3rSojJWW6PqGEffn68349959-0-widget", "block_id": 103407131, "block_timestamp": "2023-10-15T04:28:15.978Z", "signer_id": "a_liutiev.near", "widget_name": "addLiquidityCard", "source_code": "const liquidityProps = props.liquidityProps || {\n  tokenDecimals: 18,\n};\nconst addLiquidityUni = () => {\n  const tokenAcontract = new ethers.Contract(\n    tokenAContractAddress,\n    tokenAabi,\n    provider.getSigner()\n  );\n\n  tokenAcontract\n    .approve(uniswapV2RouterContract, amountADesired)\n    .then((response) => {\n      console.log(\"response token A GOOD --------\", response);\n    })\n    .catch((error) => {\n      console.log(\"Error A:\", error);\n    });\n\n  const tokenBcontract = new ethers.Contract(\n    tokenBContractAddress,\n    tokenBabi,\n    provider.getSigner()\n  );\n  tokenBcontract\n    .approve(uniswapV2RouterContract, amountBDesired, gas)\n    .then((response) => {\n      console.log(\"response token B GOOD --------\", response);\n      uniContract\n        .addLiquidity(\n          tokenAContractAddress,\n          tokenBContractAddress,\n          amountADesired,\n          amountBDesired,\n          amountAMin,\n          amountBMin,\n          to,\n          getDeadline(),\n          gas\n        )\n        .then((response) => {\n          console.log(\"response UNI is \" + JSON.stringify(response));\n        })\n        .catch((error) => {\n          console.log(\"Error:\", error);\n        });\n    })\n    .catch((error) => {\n      console.log(\"Error B:\", error);\n    });\n  return;\n};\n\nreturn (\n  <div>\n    {liquidityProps.tokenDecimals}\n    {liquidityProps.options[0].name}\n  </div>\n);\n\nreturn (\n  <div>\n    <div>\n      <button onClick={addLiquidityUni}>Add Liquidity</button>\n\n      {state.liquidityResult && <div>{state.liquidityResult}</div>}\n      {state.liquidityError && (\n        <div style={{ color: \"red\" }}>{state.liquidityError}</div>\n      )}\n    </div>\n  </div>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/a_liutiev.near/widget/addLiquidityCard", "fact_widget_deployments_id": "d5e02f71cd8e76caf9f9d4187be4abf6", "inserted_timestamp": "2024-03-07T05:24:05.087Z", "modified_timestamp": "2024-03-07T05:24:05.087Z", "__row_index": 0}