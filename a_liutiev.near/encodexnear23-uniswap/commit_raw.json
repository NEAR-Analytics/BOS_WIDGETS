{"tx_hash": "GHUMZiph5jzsAF9WiJPityshvZE2Detr3YiryoAnJ11v", "action_id_social": "GBzWc2cvcQ1rfgN47PGGzt5ucgxBmfvurwsCRY2haUpZ-0-widget", "block_id": 103103339, "block_timestamp": "2023-10-11T05:11:54.101Z", "signer_id": "a_liutiev.near", "widget_name": "encodexnear23-uniswap", "source_code": "const uniswapV2RouterContract = \"0x7a250d5630B4cF539739dF2C5dAcb4c659F2488D\";\nconst uniswapABI = fetch(\n  \"http://api.etherscan.io/api?module=contract&action=getabi&address=0x7a250d5630B4cF539739dF2C5dAcb4c659F2488D&format=raw\"\n);\n\nconst iface = new ethers.utils.Interface(uniswapABI.body);\nconst tokenDecimals = 18;\nconst options = [\n  { name: \"APPLE\", price: 5 },\n  { name: \"BANANA\", price: 0 },\n];\n\nState.init({\n  options: options,\n  fruitSelection1: options[0],\n  fruitSelection2: options[1],\n  feeTier: 0.05,\n  showButtons: false,\n  priceLow: 0,\n  priceHigh: 0,\n  web3connectLabel: \"Connect Wallet\",\n});\n\nif (!state.theme) {\n  State.update({\n    theme: styled.div`\n        font-family: Manrope, -apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Oxygen, Ubuntu, Cantarell, Fira Sans, Droid Sans, Helvetica Neue, sans-serif;\n        ${cssFont}\n        ${css}\n\n        .container {\n            display: flex;\n            justify-content: space-between; \n            align-items: center;\n            margin-bottom: 10px;\n          }\n\n          .centered-container {\n            display: flex;\n            justify-content: center; /* Centers horizontally */\n            align-items: center;     /* Centers vertically */\n            margin-top: 10px;\n            margin-bottom: 10px;\n          }\n          \n    `,\n  });\n}\n\nconst Theme = state.theme;\nconst web3connectLabel = state.web3connectLabel || \"n/a\";\n\nconst handleMaxClick = () => {\n  console.log(\"MAX clicked!\");\n  // Add functionality for max click here\n};\n\nconst handleApprove = () => {\n  console.log(\"Approve clicked!\");\n  // Add functionality for approve here\n};\n\nconst toggleShowButtons = () => {\n  State.update({ showButtons: !state.showButtons });\n};\n\nreturn (\n  <Theme>\n    <div>\n      <div className=\"container\">\n        <div></div>\n        <div>\n          <Widget\n            src=\"a_liutiev.near/widget/button_web3connect\"\n            props={{ web3connectLabel }}\n          />\n        </div>\n      </div>\n      <div>\n        <br></br>\n      </div>\n\n      <div class=\"card\">\n        <div class=\"card-header\">\n          <div className=\"container\">\n            <div>\n              <p>Pools</p>\n            </div>\n            <div>\n              <button class=\"btn btn-primary m-0 p-1\">\n                <p>New Position</p>\n              </button>\n            </div>\n          </div>\n        </div>\n\n        <div>\n          <div className=\"centered-container\">\n            <div>\n              <p>Your active V3 liquidity positions will appear here.</p>\n            </div>\n          </div>\n        </div>\n        <div class=\"card-footer\">\n          <div className=\"centered-container\">\n            <p>{}</p>\n          </div>\n        </div>\n      </div>\n\n      <div>\n        <br></br>\n      </div>\n\n      <div class=\"card\">\n        {/* First div */}\n        <div class=\"card-header p-3\">\n          <div className=\"container\">\n            <div>\n              <a href=\"#\">\u2190</a>\n              <span>Add Liquidity</span>\n            </div>\n            <div>\n              <a href=\"#\">Clear All</a>\n              <span>\n                <a href=\"#\">\u2699\ufe0f</a>\n              </span>\n            </div>\n          </div>\n        </div>\n\n        {/* Second div */}\n        <div class=\"card-body\">\n          <span>Select Pair</span>\n          <div className=\"container\">\n            <select\n              value={state.fruitSelection1.name}\n              onChange={(e) => {\n                const selectedOption = state.options.find(\n                  (option) => option.name === e.target.value\n                );\n                State.update({ fruitSelection1: selectedOption });\n              }}\n            ></select>\n\n            <select\n              value={state.fruitSelection2}\n              onChange={(e) =>\n                State.update({ fruitSelection2: e.target.value })\n              }\n            ></select>\n          </div>\n          <div className=\"container\">\n            <input\n              type=\"text\"\n              value={state.feeTier}\n              placeholder=\"Fee Tier\"\n              onChange={(e) => State.update({ feeTier: e.target.value })}\n            />\n            <button onClick={toggleShowButtons}>Edit</button>\n          </div>\n          {state.showButtons && (\n            <div className=\"container\">\n              <button>0.01%</button>\n              <button>0.05%</button>\n              <button>0.3%</button>\n              <button>1%</button>\n            </div>\n          )}\n        </div>\n\n        {/* Third div */}\n        <div class=\"card-body\">\n          <span>Set Price Range</span>\n          <button>Full Range</button>\n          <button>{state.fruitSelection1.name}</button>\n          <button>{state.fruitSelection2.name}</button>\n          <div>\n            <span>Price</span>\n            <input\n              type=\"number\"\n              value={state.priceLow}\n              onChange={(e) =>\n                State.update({ priceLow: Number(e.target.value) })\n              }\n            />\n          </div>\n          <div>\n            <span>Price</span>\n            <input\n              type=\"number\"\n              value={state.priceLow}\n              onChange={(e) =>\n                State.update({ priceLow: Number(e.target.value) })\n              }\n            />\n          </div>\n          <div>\n            <span>Current Price</span>\n            <span>\n              {state.fruitSelection1.name} per {state.fruitSelection2.name}\n            </span>\n          </div>\n        </div>\n\n        {/* Fourth div */}\n        <div class=\"card-body\">\n          <span>Deposit Amounts</span>\n          <div>\n            <input type=\"text\" />\n            <span>{state.fruitSelection1.name}</span>\n            <span>Balance: 100USD</span>\n            <a href=\"#\" onClick={handleMaxClick}>\n              MAX\n            </a>\n          </div>\n          <div>\n            <input type=\"text\" />\n            <span>{state.fruitSelection2.name}</span>\n            <span>Balance: 100USD</span>\n            <a href=\"#\" onClick={handleMaxClick}>\n              MAX\n            </a>\n          </div>\n          <div>\n            <p>Estimated Transaction Cost: {}</p>\n          </div>\n        </div>\n\n        {/* Pill button */}\n        <div class=\"card-footer\">\n          <div className=\"centered-container\">\n            <button\n              style={{ borderRadius: \"20px\", width: \"300px\" }}\n              onClick={handleApprove}\n            >\n              Approve\n            </button>\n          </div>\n        </div>\n      </div>\n      {/* Third div \n            <div>\n                <button>\n                    <p>Show closed positions</p>\n                </button>\n            </div>\n            */}\n    </div>\n    <div class=\"card m-3\">\n      <div class=\"card-header\">\n        <div className=\"centered-container\">\n          <div>\n            <p>Add Liquidity</p>\n          </div>\n        </div>\n      </div>\n\n      <div class=\"card-body\">\n        <div className=\"container\">\n          <div>\n            {state.fruitSelection1.name + \" / \" + state.fruitSelection2.name}\n          </div>\n          <div>In Range \ud83d\udfe2</div>\n        </div>\n        <div class=\"card m-3 p-3\">\n          <div className=\"container\">\n            <div>{state.fruitSelection1.name}</div>\n            <div>{state.fruitSelection1.price}</div>\n          </div>\n          <div className=\"container\">\n            <div>{state.fruitSelection2.name}</div>\n            <div>{state.fruitSelection2.price}</div>\n          </div>\n          <br></br>\n          <div className=\"container\">\n            <div>\n              <p>Fee tier</p>\n            </div>\n            <div>{state.feeTier + \"%\"}</div>\n          </div>\n        </div>\n        <div className=\"container p-2 center\">\n          <div>\n            <p>Selected range</p>\n          </div>\n          <div>\n            <button>{state.fruitSelection1.name}</button>\n            <button>{state.fruitSelection2.name}</button>\n          </div>\n        </div>\n        <div className=\"container p-2 center\">\n          <div>\n            <p>Selected range</p>\n          </div>\n          <div>\n            <button>{state.fruitSelection1.name}</button>\n            <button>{state.fruitSelection2.name}</button>\n          </div>\n        </div>\n        <div className=\"container\">\n          <div class=\"card m-3 p-3\">\n            <div className=\"centered-container\">\n              <div>\n                <p>MIN Price</p>\n                {state.fruitSelection1.name}\n                {state.fruitSelection1.price}\n                {state.fruitSelection1.name +\n                  \" per \" +\n                  state.fruitSelection2.name}\n                <p>\n                  Your position will be 100% composed of{\" \"}\n                  {state.fruitSelection1.name} at this price\n                </p>\n              </div>\n            </div>\n          </div>\n          <div class=\"card m-3 p-3\">\n            <div className=\"centered-container\">\n              <div>\n                <p>MAX Price</p>\n                {state.fruitSelection1.name}\n                {state.fruitSelection1.price}\n                {state.fruitSelection1.name +\n                  \" per \" +\n                  state.fruitSelection2.name}\n                <p>\n                  Your position will be 100% composed of{\" \"}\n                  {state.fruitSelection1.name} at this price\n                </p>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <div className=\"centered-container\">\n          <div class=\"card m-3 p-3\">\n            <div>\n              <p>MAX Price</p>\n              {state.fruitSelection1.name}\n              {state.fruitSelection1.price}\n              {state.fruitSelection1.name +\n                \" per \" +\n                state.fruitSelection2.name}\n              <p>\n                Your position will be 100% composed of{\" \"}\n                {state.fruitSelection1.name} at this price\n              </p>\n            </div>\n          </div>\n        </div>\n\n        <div class=\"card-footer\">\n          <div className=\"centered-container\">\n            <button\n              style={{ borderRadius: \"20px\", width: \"300px\" }}\n              onClick={handleApprove}\n            >\n              Approve\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  </Theme>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/a_liutiev.near/widget/encodexnear23-uniswap", "fact_widget_deployments_id": "0bb16b6a58ec7e73e47643f029a0c9f0", "inserted_timestamp": "2023-10-11T07:18:24.865Z", "modified_timestamp": "2023-10-11T07:18:24.865Z", "__row_index": 11}