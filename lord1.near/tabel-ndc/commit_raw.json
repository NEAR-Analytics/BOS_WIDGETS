{"tx_hash": "AiptSWyHcvhCo3JV3WqTk1XuUaxNsK67Yw2YeWioevDH", "action_id_social": "FiWcVN6vARXm1zW3n497PD1JUmDDT9s2RxCSN1eKucQe-0-widget", "block_id": 101156387, "block_timestamp": "2023-09-15T04:22:47.575Z", "signer_id": "lord1.near", "widget_name": "tabel-ndc", "source_code": "const themeColor = props.themeColor;\nconst firsttheme = {\n  height: \"90px\",\n  align: \"center\",\n  description: \"\",\n  brand: \"Nominations Status\",\n  fontsize: \"50\",\n  fontweight: \"25px\",\n  afterbrand: \"\ud83c\udfe6\",\n  afterbrandcolor: themeColor?.dynamic_header?.afterbrandcolor || \"#789efb\",\n  fontbrand: \" Arial, sans-serif\",\n  color1brand: themeColor?.dynamic_header?.color1brand || \"#000\",\n  color2brand: themeColor?.dynamic_header?.color2brand || \"#806ce1\",\n  colordescription: themeColor?.dynamic_header?.colordescription || \"#806ce1\",\n  fontsubtitle: \" Arial, sans-serif\",\n  background:\n    themeColor?.dynamic_header?.background ||\n    \"radial-gradient(circle, rgba(210,202,250,1) 0%, rgba(230,230,231,0.01) 0%, rgba(235,238,255,1) 100%, rgba(235,231,253,1) 100%, rgba(255,241,241,1) 100%, rgba(46,52,90,1) 100%);\",\n};\n\nconst secondtheme = {\n  height: \"90px\",\n  align: \"center\",\n  description: \"\",\n  brand: \"Voter Status\",\n  fontsize: \"50\",\n  fontweight: \"25px\",\n  afterbrand: \"\ud83c\udfe6\",\n  afterbrandcolor: themeColor?.dynamic_header?.afterbrandcolor || \"#789efb\",\n  fontbrand: \" Arial, sans-serif\",\n  color1brand: themeColor?.dynamic_header?.color1brand || \"#000\",\n  color2brand: themeColor?.dynamic_header?.color2brand || \"#806ce1\",\n  colordescription: themeColor?.dynamic_header?.colordescription || \"#806ce1\",\n  fontsubtitle: \" Arial, sans-serif\",\n  background:\n    themeColor?.dynamic_header?.background ||\n    \"radial-gradient(circle, rgba(210,202,250,1) 0%, rgba(230,230,231,0.01) 0%, rgba(235,238,255,1) 100%, rgba(235,231,253,1) 100%, rgba(255,241,241,1) 100%, rgba(46,52,90,1) 100%);\",\n};\n\nconst thirdtheme = {\n  height: \"90px\",\n  align: \"center\",\n  description: \"\",\n  brand: \"Commentator Status\",\n  fontsize: \"50\",\n  fontweight: \"25px\",\n  afterbrand: \"\ud83c\udfe6\",\n  afterbrandcolor: themeColor?.dynamic_header?.afterbrandcolor || \"#789efb\",\n  fontbrand: \" Arial, sans-serif\",\n  color1brand: themeColor?.dynamic_header?.color1brand || \"#000\",\n  color2brand: themeColor?.dynamic_header?.color2brand || \"#806ce1\",\n  colordescription: themeColor?.dynamic_header?.colordescription || \"#806ce1\",\n  fontsubtitle: \" Arial, sans-serif\",\n  background:\n    themeColor?.dynamic_header?.background ||\n    \"radial-gradient(circle, rgba(210,202,250,1) 0%, rgba(230,230,231,0.01) 0%, rgba(235,238,255,1) 100%, rgba(235,231,253,1) 100%, rgba(255,241,241,1) 100%, rgba(46,52,90,1) 100%);\",\n};\nconst fourththeme = {\n  height: \"90px\",\n  align: \"center\",\n  description: \"Based on number of votes received\",\n  brand: \"Candidate Status\",\n  fontsize: \"50\",\n  fontweight: \"25px\",\n  afterbrand: \"\ud83c\udfe6\",\n  afterbrandcolor: themeColor?.dynamic_header?.afterbrandcolor || \"#789efb\",\n  fontbrand: \" Arial, sans-serif\",\n  color1brand: themeColor?.dynamic_header?.color1brand || \"#000\",\n  color2brand: themeColor?.dynamic_header?.color2brand || \"#806ce1\",\n  colordescription: themeColor?.dynamic_header?.colordescription || \"#806ce1\",\n  fontsubtitle: \" Arial, sans-serif\",\n  background:\n    themeColor?.dynamic_header?.background ||\n    \"radial-gradient(circle, rgba(210,202,250,1) 0%, rgba(230,230,231,0.01) 0%, rgba(235,238,255,1) 100%, rgba(235,231,253,1) 100%, rgba(255,241,241,1) 100%, rgba(46,52,90,1) 100%);\",\n};\n\nconst fifththeme = {\n  height: \"90px\",\n  align: \"center\",\n  description: \"Based on number of comments received\",\n  brand: \"Candidate Status\",\n  fontsize: \"50\",\n  fontweight: \"25px\",\n  afterbrand: \"\ud83c\udfe6\",\n  afterbrandcolor: themeColor?.dynamic_header?.afterbrandcolor || \"#789efb\",\n  fontbrand: \" Arial, sans-serif\",\n  color1brand: themeColor?.dynamic_header?.color1brand || \"#000\",\n  color2brand: themeColor?.dynamic_header?.color2brand || \"#806ce1\",\n  colordescription: themeColor?.dynamic_header?.colordescription || \"#806ce1\",\n  fontsubtitle: \" Arial, sans-serif\",\n  background:\n    themeColor?.dynamic_header?.background ||\n    \"radial-gradient(circle, rgba(210,202,250,1) 0%, rgba(230,230,231,0.01) 0%, rgba(235,238,255,1) 100%, rgba(235,231,253,1) 100%, rgba(255,241,241,1) 100%, rgba(46,52,90,1) 100%);\",\n};\n\nconst queryHashes = [\n  { id: 1, hash: \"148bbf87-cccb-4eb0-8f48-9fe5ae090631\" },\n  { id: 2, hash: \"d18e6a5c-0dae-43d0-a718-0cfc84f60961\" },\n  { id: 3, hash: \"52275624-3e5b-4a92-bcf4-5d9cffeb95e8\" },\n  { id: 4, hash: \"2d64082a-11c1-46df-a59d-586083139870\" },\n  { id: 5, hash: \"64936084-6069-4a6e-ad74-9e80914bedde\" },\n];\n\nState.init({\n  light: true,\n  data: [],\n  isLoading: true,\n  error: [],\n  value: \"acceleration\",\n  tab: \"first\",\n});\n\nconst formatNumber = (num) => {\n  if ((num ?? NaN) === NaN) return \"-\";\n  if (num >= 1000000000) {\n    return (num / 1000000000).toFixed(1).replace(/\\.0$/, \"\") + \"b\";\n  }\n  if (num >= 1000000) {\n    return (num / 1000000).toFixed(1).replace(/\\.0$/, \"\") + \"m\";\n  }\n  if (num >= 1000) {\n    return (num / 1000).toFixed(1).replace(/\\.0$/, \"\") + \"k\";\n  }\n  return num.toFixed(4);\n};\n// api code start\nconst handleData = () => {\n  const data = {};\n  const errors = [];\n  queryHashes.forEach(({ hash, id }) => {\n    const result = fetchData(hash);\n    if (result.error) errors.push(`hash${id} : ${result.error}`);\n    data[`hash${id}`] = {\n      ...result,\n      id,\n    };\n  });\n\n  if (Object.values(data).every((d) => !d.isLoading)) {\n    State.update({\n      data: data,\n      error: [...state.error, ...errors],\n      isLoading: false,\n    });\n  }\n};\n\nconst fetchData = (hash) => {\n  const data = fetch(\n    `https://api.flipsidecrypto.com/api/v2/queries/${hash}/data/latest`,\n    {\n      subscribe: true,\n      method: \"GET\",\n      headers: {\n        Accept: \"*/*\",\n      },\n    }\n  );\n  const result = {\n    data: (data && data.body) || null,\n    error: (data && !data.ok && (data.status || data.error)) || null,\n    isLoading: !data && !error,\n  };\n  return result;\n};\n\nif (state.isLoading) {\n  handleData();\n}\n\nif (state.error.length > 0) {\n  function hide() {\n    const errors = state.error;\n    errors.shift();\n    if (errors.length > 0) setTimeout(hide, 2500);\n    State.update({ error: errors });\n  }\n  setTimeout(hide, 2500);\n}\n// api code finish\n\nconst tabs = {\n  firstarea: \"first\",\n  secondarea: \"second\",\n  thirdarea: \"third\",\n  fourtharea: \"fourth\",\n  fiftharea: \"fifth\",\n};\n\nconst setTab = (tab) => State.update({ tab });\n\nconst Container = styled.div`\n  &&{text-align:center};\n  .tabContent{\n    display:inline-flex;\n    align-items:center;\n    background: rgba(26, 46, 51, 0.25);\n    border: 1px solid rgba(255, 255, 255, 0.3);\n    border-radius: 10px;\n    padding:3px 4px;\n    list-style-type:none;\n    margin: 0 auto;\n  }\n  .tab-item .active{\n    background: #304352;\n\n  }\n  .tab-item button{\n    background-color:transparent;\n    border-radius: 8px;\n    font-weight: 500;\n    font-size: 14px;\n    color:#fff;\n    height:30px;\n    padding:0 22px;\n    border:none;\n\n  }\n`;\n\nlet first = (\n  <div\n    style={{ background: themeColor?.sbt_area?.card_bg }}\n    className=\"shadow-sm rounded-2 overflow-auto\"\n  >\n    <Widget src=\"lord1.near/widget/header-dynamic\" props={firsttheme} />\n    <Widget\n      src=\"lord1.near/widget/table-pagination\"\n      props={{\n        themeColor: { table_pagination: themeColor.table_pagination },\n        data: state.data?.hash1?.data,\n        columns: [\n          {\n            title: \"Nominee\",\n            key: \"nominee\",\n            description:\n              \"The Near address of top Nominees (based on number of Nomination)\",\n            link: \"yes\",\n            beforehref:\n              \"https://near.social/mob.near/widget/ProfilePage?accountId=\",\n            hyperlink: \"yes\",\n          },\n          {\n            title: \"HOM\",\n            key: \"hom\",\n            description: \"House Of Merit Nomination\",\n          },\n          {\n            title: \"TC\",\n            key: \"tc\",\n            description: \"Transparency Commission Nomination\",\n          },\n          {\n            title: \"COA\",\n            key: \"coa\",\n            description: \"Council Of Advisors Nomination\",\n          },\n          {\n            title: \"Total\",\n            key: \"total\",\n            description: \"Total Nomination\",\n          },\n          {\n            title: \"Not Revoked\",\n            key: \"not_revoked\",\n            description: \"Nomination Not Revoked\",\n          },\n          {\n            title: \"Revoked\",\n            key: \"is_revoked\",\n            description: \"Nomination Revoked\",\n          },\n        ],\n        rowsCount: 5,\n      }}\n    />\n  </div>\n);\nlet second = (\n  <div\n    style={{ background: themeColor?.sbt_area?.card_bg }}\n    className=\"shadow-sm rounded-2 overflow-auto\"\n  >\n    <Widget src=\"lord1.near/widget/header-dynamic\" props={secondtheme} />\n    <Widget\n      src=\"lord1.near/widget/table-pagination\"\n      props={{\n        themeColor: {\n          table_pagination: themeColor.table_pagination,\n        },\n        data: state.data?.hash2?.data,\n        columns: [\n          {\n            title: \"Voter\",\n            key: \"voter_vote\",\n            description: \"Top Voters of NDC\",\n            link: \"yes\",\n            beforehref:\n              \"https://near.social/mob.near/widget/ProfilePage?accountId=\",\n            hyperlink: \"yes\",\n          },\n          {\n            title: \"Candidate\",\n            key: \"candidate_vote\",\n            description: \"The voter voted to how many candidates\",\n          },\n          {\n            title: \"Votes\",\n            key: \"hash_vote\",\n            description: \"Total Number of votes\",\n          },\n          {\n            title: \"Removed Candidate\",\n            key: \"candidate_remove\",\n            description:\n              \"The voter removed their vote from how many candidates\",\n          },\n          {\n            title: \"Removed Votes\",\n            key: \"hash_remove\",\n            description: \"Total Number of removed votes\",\n          },\n        ],\n        rowsCount: 5,\n      }}\n    />\n  </div>\n);\nlet third = (\n  <div\n    style={{ background: themeColor?.sbt_area?.card_bg }}\n    className=\"shadow-sm rounded-2 overflow-auto\"\n  >\n    <Widget src=\"lord1.near/widget/header-dynamic\" props={thirdtheme} />\n    <Widget\n      src=\"lord1.near/widget/table-pagination\"\n      props={{\n        themeColor: { table_pagination: themeColor.table_pagination },\n        data: state.data?.hash3?.data,\n\n        columns: [\n          {\n            title: \"Commentator\",\n            key: \"commentator\",\n            description: \"Top Commentators of NDC\",\n            link: \"yes\",\n            beforehref:\n              \"https://near.social/mob.near/widget/ProfilePage?accountId=\",\n            hyperlink: \"yes\",\n          },\n          {\n            title: \"Candidates\",\n            key: \"candidate_add\",\n            description: \"The commentator commented for how many candidates?\",\n          },\n          {\n            title: \"Comments\",\n            key: \"add_tx_hash\",\n            description: \"Total Number of Comments\",\n          },\n          {\n            title: \"Removed Candidate\",\n            key: \"candidate_remove\",\n            description: \"How many candidates did the commentator remove?\",\n          },\n          {\n            title: \"Removed Comment\",\n            key: \"hash_remove\",\n            description: \"Total Number of removed Comment\",\n          },\n        ],\n        rowsCount: 5,\n      }}\n    />\n  </div>\n);\nlet fourth = (\n  <div\n    style={{ background: themeColor?.sbt_area?.card_bg }}\n    className=\"shadow-sm rounded-2 overflow-auto\"\n  >\n    <Widget src=\"lord1.near/widget/header-dynamic\" props={fourththeme} />\n    <Widget\n      src=\"lord1.near/widget/table-pagination\"\n      props={{\n        themeColor: { table_pagination: themeColor.table_pagination },\n        data: state.data?.hash4?.data,\n\n        columns: [\n          {\n            title: \"Candidates\",\n            key: \"candidate_vote\",\n            description:\n              \"Top Candidates based on number of votes received in NDC\",\n            link: \"yes\",\n            beforehref:\n              \"https://near.social/mob.near/widget/ProfilePage?accountId=\",\n            hyperlink: \"yes\",\n          },\n          {\n            title: \"Voters\",\n            key: \"voter_vote\",\n            description: \"Total number of voters voted for this candidate\",\n          },\n          {\n            title: \"Votes\",\n            key: \"hash_vote\",\n            description: \"Total Number of votes\",\n          },\n          {\n            title: \"Voter Removed\",\n            key: \"voter_remove\",\n            description:\n              \"Total number of voters removed their votes from this candidate\",\n          },\n          {\n            title: \"Removed votes\",\n            key: \"hash_remove\",\n            description: \"Total Number of removed votes\",\n          },\n        ],\n        rowsCount: 5,\n      }}\n    />\n  </div>\n);\n\nlet fifth = (\n  <div\n    style={{ background: themeColor?.sbt_area?.card_bg }}\n    className=\"shadow-sm rounded-2 overflow-auto\"\n  >\n    <Widget src=\"lord1.near/widget/header-dynamic\" props={fifththeme} />\n    <Widget\n      src=\"lord1.near/widget/table-pagination\"\n      props={{\n        themeColor: { table_pagination: themeColor.table_pagination },\n        data: state.data?.hash5?.data,\n\n        columns: [\n          {\n            title: \"Candidate\",\n            key: \"candidate_add\",\n            description:\n              \"Top Candidates based on number of comments received in NDC\",\n            link: \"yes\",\n            beforehref:\n              \"https://near.social/mob.near/widget/ProfilePage?accountId=\",\n            hyperlink: \"yes\",\n          },\n          {\n            title: \"Commentators\",\n            key: \"commentator\",\n            description:\n              \"How many commentators left a comment for this candidate\",\n          },\n          {\n            title: \"Comments\",\n            key: \"add_tx_hash\",\n            description: \"How many comments left for this candidate\",\n          },\n          {\n            title: \"Remover\",\n            key: \"remover\",\n            description:\n              \"How many commentators removed the comment from this candidate\",\n          },\n          {\n            title: \"Removed comments\",\n            key: \"hash_remove\",\n            description: \"How many comments removed from this candidate\",\n          },\n        ],\n        rowsCount: 5,\n      }}\n    />\n  </div>\n);\nreturn (\n  <div className=\"container-fluid py-2\">\n    <div className=\"pl-2\">\n      <div style={{ marginLeft: \"6rem\" }}>\n        <div>\n          <Container>\n            <ul className=\"tabContent\">\n              <li className=\"tab-item\">\n                <button\n                  className={`${state.tab === tabs.firstarea ? \"active\" : \"\"}`}\n                  aria-current=\"page\"\n                  onClick={() => setTab(tabs.firstarea)}\n                >\n                  Nominations\n                </button>\n              </li>\n              <li className=\"tab-item\">\n                <button\n                  className={`${state.tab === tabs.secondarea ? \"active\" : \"\"}`}\n                  aria-current=\"page\"\n                  onClick={() => setTab(tabs.secondarea)}\n                >\n                  Votes cast\n                </button>\n              </li>\n              <li className=\"tab-item\">\n                <button\n                  className={`${state.tab === tabs.thirdarea ? \"active\" : \"\"}`}\n                  aria-current=\"page\"\n                  onClick={() => setTab(tabs.thirdarea)}\n                >\n                  Comments Sent\n                </button>\n              </li>\n              <li className=\"tab-item\">\n                <button\n                  className={`${state.tab === tabs.fourtharea ? \"active\" : \"\"}`}\n                  aria-current=\"page\"\n                  onClick={() => setTab(tabs.fourtharea)}\n                >\n                  Votes Rx\n                </button>\n              </li>\n              <li className=\"tab-item\">\n                <button\n                  className={`${state.tab === tabs.fiftharea ? \"active\" : \"\"}`}\n                  aria-current=\"page\"\n                  onClick={() => setTab(tabs.fiftharea)}\n                >\n                  Comments Rx\n                </button>\n              </li>\n            </ul>\n          </Container>\n        </div>\n      </div>\n      <div>\n        <div className=\"content\">\n          {state.tab === \"first\" && first}\n          {state.tab === \"second\" && second}\n          {state.tab === \"third\" && third}\n          {state.tab === \"fourth\" && fourth}\n          {state.tab === \"fifth\" && fifth}\n        </div>\n      </div>\n\n      <div className=\"toast-container position-fixed bottom-0 end-0 p-3\">\n        {state.error.length > 0 &&\n          state.error.map((er) => (\n            <div\n              className=\"toast show align-items-center text-bg-danger border-0\"\n              role=\"alert\"\n              aria-live=\"assertive\"\n              aria-atomic=\"true\"\n            >\n              <div className=\"d-flex\">\n                <div className=\"toast-body\">{er}</div>\n              </div>\n            </div>\n          ))}\n      </div>\n    </div>\n  </div>\n);\n\n// const props = {\n//   themeColor: {\n//     dynamic_header: {\n//       afterbrandcolor: \"#789efb\",\n//       color1brand: \"#000\",\n//       color2brand: \"#806ce1\",\n//       colordescription: \"#806ce1\",\n//       background:\n//         \"radial-gradient(circle, rgba(210,202,250,1) 0%, rgba(230,230,231,0.01) 0%, rgba(235,238,255,1) 100%, rgba(235,231,253,1) 100%, rgba(255,241,241,1) 100%, rgba(46,52,90,1) 100%);\",\n//     },\n//     tab_sbt: {\n//       backgroundColor: \"rgb(49,62,89)\",\n//       textColor: \"#fff\",\n//       headerColor: \"#806ce1\",\n//       numberColor: \"#fff\",\n//     },\n//     sbt_area: {\n//       section_bg: \"rgba(25,33,80)\",\n//       card_bg: \"rgb(49, 62, 89)\",\n//       card_title_color: \"#806ce1\",\n//     },\n//   },\n// };\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/lord1.near/widget/tabel-ndc", "fact_widget_deployments_id": "4135d51e63f69a8b26d50e26c402b9a5", "inserted_timestamp": "2023-09-15T06:26:17.904Z", "modified_timestamp": "2023-09-15T06:26:17.904Z", "__row_index": 2}