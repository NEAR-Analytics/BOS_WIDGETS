{"tx_hash": "DoXfijVWQWF8pzJpz1B6PJUvgGP34zFcBa3WdKW19uHV", "action_id_social": "HtGERJpEXikVPrKepjp4kHEJ9URdJbYhR6GmkPqeDbYY-0-widget", "block_id": 101156102, "block_timestamp": "2023-09-15T04:17:17.598Z", "signer_id": "lord1.near", "widget_name": "tabel-ndc", "source_code": "const themeColor = props.themeColor;\r\nconst firsttheme = {\r\n  height: \"90px\",\r\n  align: \"center\",\r\n  description: \"\",\r\n  brand: \"Nominations Status\",\r\n  fontsize: \"50\",\r\n  fontweight: \"25px\",\r\n  afterbrand: \"\ud83c\udfe6\",\r\n  afterbrandcolor: themeColor?.dynamic_header?.afterbrandcolor || \"#789efb\",\r\n  fontbrand: \" Arial, sans-serif\",\r\n  color1brand: themeColor?.dynamic_header?.color1brand || \"#000\",\r\n  color2brand: themeColor?.dynamic_header?.color2brand || \"#806ce1\",\r\n  colordescription: themeColor?.dynamic_header?.colordescription || \"#806ce1\",\r\n  fontsubtitle: \" Arial, sans-serif\",\r\n  background:\r\n    themeColor?.dynamic_header?.background ||\r\n    \"radial-gradient(circle, rgba(210,202,250,1) 0%, rgba(230,230,231,0.01) 0%, rgba(235,238,255,1) 100%, rgba(235,231,253,1) 100%, rgba(255,241,241,1) 100%, rgba(46,52,90,1) 100%);\",\r\n};\r\n\r\nconst secondtheme = {\r\n  height: \"90px\",\r\n  align: \"center\",\r\n  description: \"\",\r\n  brand: \"Voter Status\",\r\n  fontsize: \"50\",\r\n  fontweight: \"25px\",\r\n  afterbrand: \"\ud83c\udfe6\",\r\n  afterbrandcolor: themeColor?.dynamic_header?.afterbrandcolor || \"#789efb\",\r\n  fontbrand: \" Arial, sans-serif\",\r\n  color1brand: themeColor?.dynamic_header?.color1brand || \"#000\",\r\n  color2brand: themeColor?.dynamic_header?.color2brand || \"#806ce1\",\r\n  colordescription: themeColor?.dynamic_header?.colordescription || \"#806ce1\",\r\n  fontsubtitle: \" Arial, sans-serif\",\r\n  background:\r\n    themeColor?.dynamic_header?.background ||\r\n    \"radial-gradient(circle, rgba(210,202,250,1) 0%, rgba(230,230,231,0.01) 0%, rgba(235,238,255,1) 100%, rgba(235,231,253,1) 100%, rgba(255,241,241,1) 100%, rgba(46,52,90,1) 100%);\",\r\n};\r\n\r\nconst thirdtheme = {\r\n  height: \"90px\",\r\n  align: \"center\",\r\n  description: \"\",\r\n  brand: \"Commentator Status\",\r\n  fontsize: \"50\",\r\n  fontweight: \"25px\",\r\n  afterbrand: \"\ud83c\udfe6\",\r\n  afterbrandcolor: themeColor?.dynamic_header?.afterbrandcolor || \"#789efb\",\r\n  fontbrand: \" Arial, sans-serif\",\r\n  color1brand: themeColor?.dynamic_header?.color1brand || \"#000\",\r\n  color2brand: themeColor?.dynamic_header?.color2brand || \"#806ce1\",\r\n  colordescription: themeColor?.dynamic_header?.colordescription || \"#806ce1\",\r\n  fontsubtitle: \" Arial, sans-serif\",\r\n  background:\r\n    themeColor?.dynamic_header?.background ||\r\n    \"radial-gradient(circle, rgba(210,202,250,1) 0%, rgba(230,230,231,0.01) 0%, rgba(235,238,255,1) 100%, rgba(235,231,253,1) 100%, rgba(255,241,241,1) 100%, rgba(46,52,90,1) 100%);\",\r\n};\r\nconst fourththeme = {\r\n  height: \"90px\",\r\n  align: \"center\",\r\n  description: \"Based on number of votes received\",\r\n  brand: \"Candidate Status\",\r\n  fontsize: \"50\",\r\n  fontweight: \"25px\",\r\n  afterbrand: \"\ud83c\udfe6\",\r\n  afterbrandcolor: themeColor?.dynamic_header?.afterbrandcolor || \"#789efb\",\r\n  fontbrand: \" Arial, sans-serif\",\r\n  color1brand: themeColor?.dynamic_header?.color1brand || \"#000\",\r\n  color2brand: themeColor?.dynamic_header?.color2brand || \"#806ce1\",\r\n  colordescription: themeColor?.dynamic_header?.colordescription || \"#806ce1\",\r\n  fontsubtitle: \" Arial, sans-serif\",\r\n  background:\r\n    themeColor?.dynamic_header?.background ||\r\n    \"radial-gradient(circle, rgba(210,202,250,1) 0%, rgba(230,230,231,0.01) 0%, rgba(235,238,255,1) 100%, rgba(235,231,253,1) 100%, rgba(255,241,241,1) 100%, rgba(46,52,90,1) 100%);\",\r\n};\r\n\r\nconst fifththeme = {\r\n  height: \"90px\",\r\n  align: \"center\",\r\n  description: \"Based on number of comments received\",\r\n  brand: \"Candidate Status\",\r\n  fontsize: \"50\",\r\n  fontweight: \"25px\",\r\n  afterbrand: \"\ud83c\udfe6\",\r\n  afterbrandcolor: themeColor?.dynamic_header?.afterbrandcolor || \"#789efb\",\r\n  fontbrand: \" Arial, sans-serif\",\r\n  color1brand: themeColor?.dynamic_header?.color1brand || \"#000\",\r\n  color2brand: themeColor?.dynamic_header?.color2brand || \"#806ce1\",\r\n  colordescription: themeColor?.dynamic_header?.colordescription || \"#806ce1\",\r\n  fontsubtitle: \" Arial, sans-serif\",\r\n  background:\r\n    themeColor?.dynamic_header?.background ||\r\n    \"radial-gradient(circle, rgba(210,202,250,1) 0%, rgba(230,230,231,0.01) 0%, rgba(235,238,255,1) 100%, rgba(235,231,253,1) 100%, rgba(255,241,241,1) 100%, rgba(46,52,90,1) 100%);\",\r\n};\r\n\r\nconst queryHashes = [\r\n  { id: 1, hash: \"148bbf87-cccb-4eb0-8f48-9fe5ae090631\" },\r\n  { id: 2, hash: \"d18e6a5c-0dae-43d0-a718-0cfc84f60961\" },\r\n  { id: 3, hash: \"52275624-3e5b-4a92-bcf4-5d9cffeb95e8\" },\r\n  { id: 4, hash: \"2d64082a-11c1-46df-a59d-586083139870\" },\r\n  { id: 5, hash: \"64936084-6069-4a6e-ad74-9e80914bedde\" },\r\n];\r\n\r\nState.init({\r\n  light: true,\r\n  data: [],\r\n  isLoading: true,\r\n  error: [],\r\n  value: \"acceleration\",\r\n  tab: \"first\",\r\n});\r\n\r\nconst formatNumber = (num) => {\r\n  if ((num ?? NaN) === NaN) return \"-\";\r\n  if (num >= 1000000000) {\r\n    return (num / 1000000000).toFixed(1).replace(/\\.0$/, \"\") + \"b\";\r\n  }\r\n  if (num >= 1000000) {\r\n    return (num / 1000000).toFixed(1).replace(/\\.0$/, \"\") + \"m\";\r\n  }\r\n  if (num >= 1000) {\r\n    return (num / 1000).toFixed(1).replace(/\\.0$/, \"\") + \"k\";\r\n  }\r\n  return num.toFixed(4);\r\n};\r\n// api code start\r\nconst handleData = () => {\r\n  const data = {};\r\n  const errors = [];\r\n  queryHashes.forEach(({ hash, id }) => {\r\n    const result = fetchData(hash);\r\n    if (result.error) errors.push(`hash${id} : ${result.error}`);\r\n    data[`hash${id}`] = {\r\n      ...result,\r\n      id,\r\n    };\r\n  });\r\n\r\n  if (Object.values(data).every((d) => !d.isLoading)) {\r\n    State.update({\r\n      data: data,\r\n      error: [...state.error, ...errors],\r\n      isLoading: false,\r\n    });\r\n  }\r\n};\r\n\r\nconst fetchData = (hash) => {\r\n  const data = fetch(\r\n    `https://api.flipsidecrypto.com/api/v2/queries/${hash}/data/latest`,\r\n    {\r\n      subscribe: true,\r\n      method: \"GET\",\r\n      headers: {\r\n        Accept: \"*/*\",\r\n      },\r\n    }\r\n  );\r\n  const result = {\r\n    data: (data && data.body) || null,\r\n    error: (data && !data.ok && (data.status || data.error)) || null,\r\n    isLoading: !data && !error,\r\n  };\r\n  return result;\r\n};\r\n\r\nif (state.isLoading) {\r\n  handleData();\r\n}\r\n\r\nif (state.error.length > 0) {\r\n  function hide() {\r\n    const errors = state.error;\r\n    errors.shift();\r\n    if (errors.length > 0) setTimeout(hide, 2500);\r\n    State.update({ error: errors });\r\n  }\r\n  setTimeout(hide, 2500);\r\n}\r\n// api code finish\r\n\r\nconst tabs = {\r\n  firstarea: \"first\",\r\n  secondarea: \"second\",\r\n  thirdarea: \"third\",\r\n  fourtharea: \"fourth\",\r\n  fiftharea: \"fifth\",\r\n};\r\n\r\nconst setTab = (tab) => State.update({ tab });\r\n\r\nconst Container = styled.div`\r\n  &&{text-align:left};\r\n  .tabContent{\r\n    display:inline-flex;\r\n    align-items:center;\r\n    background: rgba(26, 46, 51, 0.25);\r\n    border: 1px solid rgba(255, 255, 255, 0.3);\r\n    border-radius: 10px;\r\n    padding:3px 4px;\r\n    list-style-type:none;\r\n    margin: 0 auto;\r\n  }\r\n  .tab-item .active{\r\n    background: #304352;\r\n\r\n  }\r\n  .tab-item button{\r\n    background-color:transparent;\r\n    border-radius: 8px;\r\n    font-weight: 500;\r\n    font-size: 14px;\r\n    color:#fff;\r\n    height:40px;\r\n    padding:0 22px;\r\n    border:none;\r\n\r\n  }\r\n`;\r\n\r\nlet first = (\r\n  <div\r\n    style={{ background: themeColor?.sbt_area?.card_bg }}\r\n    className=\"shadow-sm rounded-2 overflow-auto\"\r\n  >\r\n    <Widget src=\"lord1.near/widget/header-dynamic\" props={firsttheme} />\r\n    <Widget\r\n      src=\"lord1.near/widget/table-pagination\"\r\n      props={{\r\n        themeColor: { table_pagination: themeColor.table_pagination },\r\n        data: state.data?.hash1?.data,\r\n        columns: [\r\n          {\r\n            title: \"Nominee\",\r\n            key: \"nominee\",\r\n            description:\r\n              \"The Near address of top Nominees (based on number of Nomination)\",\r\n          },\r\n          {\r\n            title: \"HOM\",\r\n            key: \"hom\",\r\n            description: \"House Of Merit Nomination\",\r\n          },\r\n          {\r\n            title: \"TC\",\r\n            key: \"tc\",\r\n            description: \"Transparency Commission Nomination\",\r\n          },\r\n          {\r\n            title: \"COA\",\r\n            key: \"coa\",\r\n            description: \"Council Of Advisors Nomination\",\r\n          },\r\n          {\r\n            title: \"Total\",\r\n            key: \"total\",\r\n            description: \"Total Nomination\",\r\n          },\r\n          {\r\n            title: \"Not Revoked\",\r\n            key: \"not_revoked\",\r\n            description: \"Nomination Not Revoked\",\r\n          },\r\n          {\r\n            title: \"Revoked\",\r\n            key: \"is_revoked\",\r\n            description: \"Nomination Revoked\",\r\n          },\r\n        ],\r\n        rowsCount: 5,\r\n      }}\r\n    />\r\n  </div>\r\n);\r\nlet second = (\r\n  <div\r\n    style={{ background: themeColor?.sbt_area?.card_bg }}\r\n    className=\"shadow-sm rounded-2 overflow-auto\"\r\n  >\r\n    <Widget src=\"lord1.near/widget/header-dynamic\" props={secondtheme} />\r\n    <Widget\r\n      src=\"lord1.near/widget/table-pagination\"\r\n      props={{\r\n        themeColor: {\r\n          table_pagination: themeColor.table_pagination,\r\n        },\r\n        data: state.data?.hash2?.data,\r\n        columns: [\r\n          {\r\n            title: \"Voter\",\r\n            key: \"voter_vote\",\r\n            description: \"Top Voters of NDC\",\r\n          },\r\n          {\r\n            title: \"Candidate\",\r\n            key: \"candidate_vote\",\r\n            description: \"The voter voted to how many candidates\",\r\n          },\r\n          {\r\n            title: \"Votes\",\r\n            key: \"hash_vote\",\r\n            description: \"Total Number of votes\",\r\n          },\r\n          {\r\n            title: \"Removed Candidate\",\r\n            key: \"candidate_remove\",\r\n            description:\r\n              \"The voter removed their vote from how many candidates\",\r\n          },\r\n          {\r\n            title: \"Removed Votes\",\r\n            key: \"hash_remove\",\r\n            description: \"Total Number of removed votes\",\r\n          },\r\n        ],\r\n        rowsCount: 5,\r\n      }}\r\n    />\r\n  </div>\r\n);\r\nlet third = (\r\n  <div\r\n    style={{ background: themeColor?.sbt_area?.card_bg }}\r\n    className=\"shadow-sm rounded-2 overflow-auto\"\r\n  >\r\n    <Widget src=\"lord1.near/widget/header-dynamic\" props={thirdtheme} />\r\n    <Widget\r\n      src=\"lord1.near/widget/table-pagination\"\r\n      props={{\r\n        themeColor: { table_pagination: themeColor.table_pagination },\r\n        data: state.data?.hash3?.data,\r\n\r\n        columns: [\r\n          {\r\n            title: \"Commentator\",\r\n            key: \"commentator\",\r\n            description: \"Top Commentators of NDC\",\r\n          },\r\n          {\r\n            title: \"Candidates\",\r\n            key: \"candidate_add\",\r\n            description: \"The commentator commented for how many candidates?\",\r\n          },\r\n          {\r\n            title: \"Comments\",\r\n            key: \"add_tx_hash\",\r\n            description: \"Total Number of Comments\",\r\n          },\r\n          {\r\n            title: \"Removed Candidate\",\r\n            key: \"candidate_remove\",\r\n            description: \"How many candidates did the commentator remove?\",\r\n          },\r\n          {\r\n            title: \"Removed Comment\",\r\n            key: \"hash_remove\",\r\n            description: \"Total Number of removed Comment\",\r\n          },\r\n        ],\r\n        rowsCount: 5,\r\n      }}\r\n    />\r\n  </div>\r\n);\r\nlet fourth = (\r\n  <div\r\n    style={{ background: themeColor?.sbt_area?.card_bg }}\r\n    className=\"shadow-sm rounded-2 overflow-auto\"\r\n  >\r\n    <Widget src=\"lord1.near/widget/header-dynamic\" props={fourththeme} />\r\n    <Widget\r\n      src=\"lord1.near/widget/table-pagination\"\r\n      props={{\r\n        themeColor: { table_pagination: themeColor.table_pagination },\r\n        data: state.data?.hash4?.data,\r\n\r\n        columns: [\r\n          {\r\n            title: \"Candidates\",\r\n            key: \"candidate_vote\",\r\n            description:\r\n              \"Top Candidates based on number of votes received in NDC\",\r\n          },\r\n          {\r\n            title: \"Voters\",\r\n            key: \"voter_vote\",\r\n            description: \"Total number of voters voted for this candidate\",\r\n          },\r\n          {\r\n            title: \"Votes\",\r\n            key: \"hash_vote\",\r\n            description: \"Total Number of votes\",\r\n          },\r\n          {\r\n            title: \"Voter Removed\",\r\n            key: \"voter_remove\",\r\n            description:\r\n              \"Total number of voters removed their votes from this candidate\",\r\n          },\r\n          {\r\n            title: \"Removed votes\",\r\n            key: \"hash_remove\",\r\n            description: \"Total Number of removed votes\",\r\n          },\r\n        ],\r\n        rowsCount: 5,\r\n      }}\r\n    />\r\n  </div>\r\n);\r\n\r\nlet fifth = (\r\n  <div\r\n    style={{ background: themeColor?.sbt_area?.card_bg }}\r\n    className=\"shadow-sm rounded-2 overflow-auto\"\r\n  >\r\n    <Widget src=\"lord1.near/widget/header-dynamic\" props={fifththeme} />\r\n    <Widget\r\n      src=\"lord1.near/widget/table-pagination\"\r\n      props={{\r\n        themeColor: { table_pagination: themeColor.table_pagination },\r\n        data: state.data?.hash5?.data,\r\n\r\n        columns: [\r\n          {\r\n            title: \"Candidate\",\r\n            key: \"candidate_add\",\r\n            description:\r\n              \"Top Candidates based on number of comments received in NDC\",\r\n          },\r\n          {\r\n            title: \"commentators\",\r\n            key: \"commentator\",\r\n            description:\r\n              \"How many commentators left a comment for this candidate\",\r\n          },\r\n          {\r\n            title: \"Comments\",\r\n            key: \"add_tx_hash\",\r\n            description: \"How many comments left for this candidate\",\r\n          },\r\n          {\r\n            title: \"remover\",\r\n            key: \"remover\",\r\n            description:\r\n              \"How many commentators removed the comment from this candidate\",\r\n          },\r\n          {\r\n            title: \"removed comments\",\r\n            key: \"hash_remove\",\r\n            description: \"How many comments removed from this candidate\",\r\n          },\r\n        ],\r\n        rowsCount: 5,\r\n      }}\r\n    />\r\n  </div>\r\n);\r\nreturn (\r\n  <div className=\"container-fluid py-2\">\r\n    <div className=\"pl-2\">\r\n      <div style={{ marginLeft: \"6rem\" }}>\r\n        <div>\r\n          <Container>\r\n            <ul className=\"tabContent\">\r\n              <li className=\"tab-item\">\r\n                <button\r\n                  className={`${state.tab === tabs.firstarea ? \"active\" : \"\"}`}\r\n                  aria-current=\"page\"\r\n                  onClick={() => setTab(tabs.firstarea)}\r\n                >\r\n                  Nominations\r\n                </button>\r\n              </li>\r\n              <li className=\"tab-item\">\r\n                <button\r\n                  className={`${state.tab === tabs.secondarea ? \"active\" : \"\"}`}\r\n                  aria-current=\"page\"\r\n                  onClick={() => setTab(tabs.secondarea)}\r\n                >\r\n                  Votes cast\r\n                </button>\r\n              </li>\r\n              <li className=\"tab-item\">\r\n                <button\r\n                  className={`${state.tab === tabs.thirdarea ? \"active\" : \"\"}`}\r\n                  aria-current=\"page\"\r\n                  onClick={() => setTab(tabs.thirdarea)}\r\n                >\r\n                  Comments Sent\r\n                </button>\r\n              </li>\r\n              <li className=\"tab-item\">\r\n                <button\r\n                  className={`${state.tab === tabs.fourtharea ? \"active\" : \"\"}`}\r\n                  aria-current=\"page\"\r\n                  onClick={() => setTab(tabs.fourtharea)}\r\n                >\r\n                  Votes Rx\r\n                </button>\r\n              </li>\r\n              <li className=\"tab-item\">\r\n                <button\r\n                  className={`${state.tab === tabs.fiftharea ? \"active\" : \"\"}`}\r\n                  aria-current=\"page\"\r\n                  onClick={() => setTab(tabs.fiftharea)}\r\n                >\r\n                  Comments Rx\r\n                </button>\r\n              </li>\r\n            </ul>\r\n          </Container>\r\n        </div>\r\n      </div>\r\n      <div>\r\n        <div className=\"content\">\r\n          {state.tab === \"first\" && first}\r\n          {state.tab === \"second\" && second}\r\n          {state.tab === \"third\" && third}\r\n          {state.tab === \"fourth\" && fourth}\r\n          {state.tab === \"fifth\" && fifth}\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"toast-container position-fixed bottom-0 end-0 p-3\">\r\n        {state.error.length > 0 &&\r\n          state.error.map((er) => (\r\n            <div\r\n              className=\"toast show align-items-center text-bg-danger border-0\"\r\n              role=\"alert\"\r\n              aria-live=\"assertive\"\r\n              aria-atomic=\"true\"\r\n            >\r\n              <div className=\"d-flex\">\r\n                <div className=\"toast-body\">{er}</div>\r\n              </div>\r\n            </div>\r\n          ))}\r\n      </div>\r\n    </div>\r\n  </div>\r\n);\r\n\r\n// const props = {\r\n//   themeColor: {\r\n//     dynamic_header: {\r\n//       afterbrandcolor: \"#789efb\",\r\n//       color1brand: \"#000\",\r\n//       color2brand: \"#806ce1\",\r\n//       colordescription: \"#806ce1\",\r\n//       background:\r\n//         \"radial-gradient(circle, rgba(210,202,250,1) 0%, rgba(230,230,231,0.01) 0%, rgba(235,238,255,1) 100%, rgba(235,231,253,1) 100%, rgba(255,241,241,1) 100%, rgba(46,52,90,1) 100%);\",\r\n//     },\r\n//     tab_sbt: {\r\n//       backgroundColor: \"rgb(49,62,89)\",\r\n//       textColor: \"#fff\",\r\n//       headerColor: \"#806ce1\",\r\n//       numberColor: \"#fff\",\r\n//     },\r\n//     sbt_area: {\r\n//       section_bg: \"rgba(25,33,80)\",\r\n//       card_bg: \"rgb(49, 62, 89)\",\r\n//       card_title_color: \"#806ce1\",\r\n//     },\r\n//   },\r\n// };\r\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/lord1.near/widget/tabel-ndc", "fact_widget_deployments_id": "355c24644e39f76550b4cf5d2b9d7491", "inserted_timestamp": "2023-09-15T06:22:25.786Z", "modified_timestamp": "2023-09-15T06:22:25.786Z", "__row_index": 0}