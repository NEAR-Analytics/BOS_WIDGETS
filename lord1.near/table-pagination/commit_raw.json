{"tx_hash": "DLSBDwwdg26jvjoSSwpNuhVyzr1LMXHvLvgXkE7MZ5Ge", "action_id_social": "6qeanqo5ftuvXVsAMv4sTLf8gHjXqEFmfR8X6EmSCN1K-0-widget", "block_id": 99424213, "block_timestamp": "2023-08-22T21:27:45.545Z", "signer_id": "lord1.near", "widget_name": "table-pagination", "source_code": "if (!props.data || !props.columns) {\r\n  return \"column and data props are required.\";\r\n}\r\nState.init({ currentPage: 1 });\r\nconst data = props.data || [];\r\nconst rowsCount = props.rowsCount || 5;\r\n\r\nconst handlePagination = () => {\r\n  const currentPage = state.currentPage;\r\n  const totalPages = Math.ceil(data.length / rowsCount);\r\n  const currentTableData = data.slice(\r\n    (currentPage - 1) * rowsCount,\r\n    rowsCount * currentPage\r\n  );\r\n  const buttons = Array(totalPages).fill(0);\r\n  buttons[currentPage - 1] = 1;\r\n  return { buttons, table: currentTableData };\r\n};\r\n\r\nreturn (\r\n  <div className=\"table-responsive\">\r\n    <table className=\"table table-hover table-striped table-borderless \">\r\n      <thead>\r\n        <tr>\r\n          {props.columns.map((th) => (\r\n            <th key={th.title} className=\"col-1\" scope=\"col\">\r\n              {th.title}\r\n            </th>\r\n          ))}\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        {props.data.length > 0 &&\r\n          handlePagination().table.map((row) => {\r\n            return (\r\n              <tr key={row.project}>\r\n                {props.columns.map((td) => (\r\n                  <td>{row[td.key]}</td>\r\n                ))}\r\n              </tr>\r\n            );\r\n          })}\r\n      </tbody>\r\n    </table>\r\n    <div className=\"py-4\">\r\n      <div>\r\n        <ul className=\"pagination pagination-sm gap-2 justify-content-center\">\r\n          {props.data.length > 0 &&\r\n            handlePagination().buttons.map((btn, i) => {\r\n              return (\r\n                <li key={i} className=\"page-item\">\r\n                  <button\r\n                    onClick={() => State.update({ currentPage: i + 1 })}\r\n                    className={`page-link btn ${\r\n                      btn ? \"text-bg-secondary\" : \"text-bg-light\"\r\n                    } border-dark`}\r\n                  >\r\n                    {i + 1}\r\n                  </button>\r\n                </li>\r\n              );\r\n            })}\r\n        </ul>\r\n      </div>\r\n    </div>\r\n  </div>\r\n);\r\n\r\n// const props = {\r\n//   data: [],\r\n//   rowsCount: 5,\r\n//   columns: [{ title: \"title\", key: \"key in data\" }],\r\n// };\r\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/lord1.near/widget/table-pagination", "fact_widget_deployments_id": "c0a4cc8418dfbffc9f2252f049d33157", "inserted_timestamp": "2023-08-22T23:27:46.395Z", "modified_timestamp": "2023-08-22T23:27:46.395Z", "__row_index": 101}