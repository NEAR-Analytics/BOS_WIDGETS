{"tx_hash": "Er31zK4P86V2qnjnfYwVGjEUnMr9EDRpqu4jGw6CCHjf", "action_id_social": "HGSZdp4njtaQ7BumdUDtzbZMCzs94chU5JF7X92zUcoZ-0-widget", "block_id": 101196040, "block_timestamp": "2023-09-15T17:51:23.094Z", "signer_id": "party-dhsimpson.near", "widget_name": "donnie.bos.my-social", "source_code": "const account_id = context.accountId ?? props.accountId;\n\nconst profileData = props.profile ?? Social.getr(account_id);//`idknwhoru.near/profile`\nconst fast = !props.profile;\n\nif (profileData === null) {\n  return \"Loading\";\n}\n/* \n[\n    {\n        \"accountId\":\"party-dhsimpson.near\",\n        \"blockHeight\":101193567,\n        \"value\":{\"type\":\"md\"}},\n    {\n        \"accountId\":\"party-dhsimpson.near\",\n        \"blockHeight\":101190682,\n        \"value\":{\"type\":\"md\"}}\n]\n*/\n\nconst componentData = Social.getr(`${account_id}/widget`);\nconst postIdxData = Social.index(\"post\", \"main\", {limit: 30, order: \"desc\", accountId: [account_id]});\nconst postBlockHashList = postIdxData.map(idxData => {\n    return idxData.blockHeight\n});\nconst postList = postBlockHashList.map(blockHash => {\n    return Social.get(`${account_id}/post/main`, blockHash);\n});\n\nconst MyPageWrapper = styled.div`\n    width: 100%;\n    height: 100%;\n    padding: 20px;\n`;\n\nconst ProfileWrapper = styled.div`\n    width: 100%;\n    height: 300px;\n    background-color: black;\n    display: flex;\n    align-items: center;\n`;\n\nconst ProfileImage = styled.img`\n    width: 150px;\n    height: 150px;\n    margin-right: 20px;\n`;\n\nconst nearIpfsBaseUrl = \"https://ipfs.near.social/ipfs/\";\n\nconst MyName = styled.h2`\n`;\n\nconst MyWallet = styled.p`\n`;\n\nconst MySocialDataWrapper = styled.div`\n    width: 100%;\n    display: flex;\n    justify-content: space-between;\n`;\n\nconst MySocialData = styled.div`\n    width: 45%;\n    min-height: 500px;\n`;\n\nconst widgetBaseUrl = `https://near.social/${account_id}/widget/`;//${key}\nreturn (\n    <>\n    <MyPageWrapper>\n        <ProfileWrapper>\n            <ProfileImage src={`${nearIpfsBaseUrl}${profileData.image.ipfs_cid}`} alt=\"profile-image\"/>\n            <div>\n                <MyName>\n                    {profileData.name}\n                </MyName>\n                <MyWallet>\n                    {account_id}\n                </MyWallet>\n            </div>\n        </ProfileWrapper>\n        <MySocialDataWrapper>\n            <MySocialData>\n                <h4>\n                    Number of posts: {Object.keys(postList).length}\n                </h4>\n                <ul>\n                    {Object.entries(postList).map(([key, value])=>{\n                        const {text, image} = JSON.parse(value);\n                        return (\n                            <div>\n                                <p>{text}</p>\n                                <img src={`${nearIpfsBaseUrl}${image.ipfs_cid}`} alt=\"profile-image\"/>\n                            </div>\n                        )\n                    })}\n                </ul>\n            </MySocialData>\n            <MySocialData>\n                <h4>\n                    Number of widgets: {Object.keys(componentData).length}\n                </h4>\n                <ul>\n                    {Object.entries(componentData).map(([key, value])=>{\n                        return (\n                            <div>\n                                <a href={`${widgetBaseUrl}${key}`}>{key}</a>\n                            </div>\n                        )\n                    })}\n                </ul>\n            </MySocialData>\n        </MySocialDataWrapper>\n    </MyPageWrapper>\n  <div>\n    {JSON.stringify(profileData)}\n    <br />\n    {/*{JSON.stringify(componentData)}*/}\n    <br />\n    <br />\n    {JSON.stringify(postData)}\n    {/*{JSON.stringify(idxData)} */}\n    {JSON.stringify(postList)}\n  </div>\n  </>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/party-dhsimpson.near/widget/donnie.bos.my-social", "fact_widget_deployments_id": "2cd8b7dde33dba4dfac7b9efcff01292", "inserted_timestamp": "2023-09-15T19:32:58.128Z", "modified_timestamp": "2023-09-15T19:32:58.128Z", "__row_index": 3}