{"tx_hash": "GnF2eKxrttEzUMLtHE4q9JGGNiHQQws7x2FjB5GQJAKe", "action_id_social": "5XxoTMs7Lfi8uqrg4RwCmes8xjDoQbiecdPf6NjXDcFv-0-widget", "block_id": 101196994, "block_timestamp": "2023-09-15T18:10:02.990Z", "signer_id": "party-dhsimpson.near", "widget_name": "donnie.bos.my-social", "source_code": "const account_id = context.accountId ?? props.accountId;\n\nconst profileData = props.profile ?? Social.getr(account_id);//`idknwhoru.near/profile`\nconst fast = !props.profile;\n\nif (profileData === null) {\n  return \"Loading\";\n}\n\nconst componentData = Social.getr(`${account_id}/widget`);\nconst postIdxData = Social.index(\"post\", \"main\", {limit: 30, order: \"desc\", accountId: [account_id]});\nconst postBlockHashList = postIdxData.map(idxData => {\n    return idxData.blockHeight\n});\nconst postList = postBlockHashList.map(blockHash => {\n    return Social.get(`${account_id}/post/main`, blockHash);\n});\n\nconst MyPageWrapper = styled.div`\n    width: 100%;\n    height: 100%;\n    padding: 20px;\n`;\n\nconst ProfileWrapper = styled.div`\n    width: 100%;\n    height: 300px;\n    background-color: black;\n    display: flex;\n    align-items: center;\n`;\n\nconst ProfileImage = styled.img`\n    width: 150px;\n    height: 150px;\n    margin-right: 20px;\n`;\n\nconst nearIpfsBaseUrl = \"https://ipfs.near.social/ipfs/\";\n\nconst MyName = styled.h2`\n`;\n\nconst MyWallet = styled.p`\n`;\n\nconst MySocialDataWrapper = styled.div`\n    width: 100%;\n    display: flex;\n    justify-content: space-between;\n`;\n\nconst MySocialData = styled.div`\n    width: 45%;\n    min-height: 500px;\n`;\n\nconst widgetBaseUrl = `https://near.social/${account_id}/widget/`;//${key}\n\nfunction RenderPostListItem(key, value) {\n    const {text, image} = JSON.parse(value);\n    return (\n        <>\n            <p>{text}</p>\n            <img src={`${nearIpfsBaseUrl}${image.ipfs_cid}`} alt=\"profile-image\"/>\n        </>\n    )\n}\n\nfunction RenderWidgetListItem(key, value) {\n    return (\n        <a href={`${widgetBaseUrl}${key}`} target='_blank'>\n            {key}\n        </a>\n    )\n}\n\nfunction SocialData({data, renderer}) {\n    return (\n        <MySocialData>\n            <h4>\n                Number of widgets: {Object.keys(data).length}\n            </h4>\n            <ul>\n                {Object.entries(data).map(([key, value])=>{\n                    return (\n                        <li>\n                            {renderer(key, value)}\n                        </li>\n                    )\n                })}\n            </ul>\n        </MySocialData>\n    )\n}\nreturn (\n    <>\n    <MyPageWrapper>\n        <ProfileWrapper>\n            <ProfileImage src={`${nearIpfsBaseUrl}${profileData.image.ipfs_cid}`} alt=\"profile-image\"/>\n            <div>\n                <MyName>\n                    {profileData.name}\n                </MyName>\n                <MyWallet>\n                    {account_id}\n                </MyWallet>\n            </div>\n        </ProfileWrapper>\n        <MySocialDataWrapper>\n            <SocialData data={postList} renderer={RenderPostListItem} />\n            <SocialData data={componentData} renderer={RenderWidgetListItem} />\n        </MySocialDataWrapper>\n    </MyPageWrapper>\n  <div>\n    {/*{JSON.stringify(profileData)} */}\n    <br />\n    {/*{JSON.stringify(componentData)}*/}\n    <br />\n    <br />\n    {/*{JSON.stringify(postData)} */}\n    {/*{JSON.stringify(idxData)} */}\n    {/*{JSON.stringify(postList)} */}\n  </div>\n  </>\n);", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/party-dhsimpson.near/widget/donnie.bos.my-social", "fact_widget_deployments_id": "205b7e1baf11b35e3d1450613796a271", "inserted_timestamp": "2023-09-15T19:43:33.766Z", "modified_timestamp": "2023-09-15T19:43:33.766Z", "__row_index": 5}