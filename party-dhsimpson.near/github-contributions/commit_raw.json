{"tx_hash": "4sbrqef2RE9AKBLyWxS2uHwpwCSFEkmbTToCD27YVV5a", "action_id_social": "3h2hCFHGpnfhdiGHp8KD2KKRV7tBNzwvinfhJAuq8S9w-0-widget", "block_id": 101263806, "block_timestamp": "2023-09-16T16:04:56.860Z", "signer_id": "party-dhsimpson.near", "widget_name": "github-contributions", "source_code": "//PR\n//https://api.github.com/search/issues?q=type:pr author:dhsimpson -user:dhsimpson\n//\uacf5\ubc31\uc73c\ub85c \uad6c\ubd84\n\n//ISSUE\n//https://api.github.com/search/issues?q=is:issue author:dhsimpson -user:dhsimpson ///state:open///\n\n//Sort \"sort=\" \ud544\uc218\n// &sort=created&order=desc&per_page=30&page=1\n\nconst searchBaseUrl = \"https://api.github.com/search/issues?q=\";\nconst nickName = \"dhsimpson\";\nconst defulatFilterList = [\n    `-user:${props.githubNickname ?? nickName}`,\n    `author:${props.githubNickname ?? nickName}`\n];\nconst pullRequestDefaultFilterList = [\n    \"type:pr\"\n];\nconst issueDefaultFilterList = [\n    \"is:issue\"\n];\nconst config = {\n  headers: {\n    Authorization: `Bearer ${props.token ?? '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'}`,\n  },\n};\n\nconst mergeFilters = ( filterLists ) => {\n    return ([].concat(...filterLists)).join(\"%20\");\n};\n\nconst [prData, setPrData] = useState([]);\n\nasyncFetch(`${searchBaseUrl}${mergeFilters([defulatFilterList, pullRequestDefaultFilterList])}`, config).then(\n  (res) => {\n    setPrData(res.body?.items ?? []);\n  }\n);\n\n\nconst [issueData, setIssueData] = useState([]);\n\nasyncFetch(`${searchBaseUrl}${mergeFilters([defulatFilterList, issueDefaultFilterList])}`, config).then(\n  (res) => {\n    setIssueData(res.body?.items ?? []);\n  }\n);\n\n// if(!props.token) {\n//     return <p>your token is required.</p>\n// }\n// if(!props.githubNickname) {\n//     return <p>github nickname is required.</p>\n// }\nconst PRWrapper = styled.div`\n    display: none;\n`;\nreturn <div>\n{prData.map(pullRequest => {\n    return (\n        <PRWrapper>\n            <span>{pullRequest.title}</span>\n            <span>{pullRequest.state}</span>\n            <a href={pullRequest.html_url}>\ubc14\ub85c\uac00\uae30</a>\n        </PRWrapper>\n    )\n})}\n\n{issueData.map(issue => {\n    return (\n        <div>\n            <span>{issue.title}</span>\n            <span>{issue.state}</span>\n            <a href={issue.html_url}>\ubc14\ub85c\uac00\uae30</a>\n        </div>\n    )\n})}\n</div>;\n", "metadata": {"image": {}}, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/party-dhsimpson.near/widget/github-contributions", "fact_widget_deployments_id": "192e9d21aaa9169fb2b8f84095b48a01", "inserted_timestamp": "2023-09-16T17:49:53.102Z", "modified_timestamp": "2023-09-16T17:49:53.102Z", "__row_index": 9}