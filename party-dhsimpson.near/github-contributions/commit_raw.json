{"tx_hash": "CQPZcNFoVsagmet5vWJaqJezXyq6T43FJfxarbq28Ph7", "action_id_social": "5adfd828j2LydWPd9P32vs36urXNSjrhtRnV3WP8rNEE-0-widget", "block_id": 101268490, "block_timestamp": "2023-09-16T17:34:51.749Z", "signer_id": "party-dhsimpson.near", "widget_name": "github-contributions", "source_code": "//PR\n//https://api.github.com/search/issues?q=type:pr author:dhsimpson -user:dhsimpson\n//\uacf5\ubc31\uc73c\ub85c \uad6c\ubd84\n\n//ISSUE\n//https://api.github.com/search/issues?q=is:issue author:dhsimpson -user:dhsimpson ///state:open///\n\n//Sort \"sort=\" \ud544\uc218\n// &sort=created&order=desc&per_page=30&page=1\n\nconst searchBaseUrl = \"https://api.github.com/search/issues?q=\";\nconst nickName = \"dhsimpson\";\nconst defulatFilterList = [\n  `-user:${props.githubNickname}`,\n  `author:${props.githubNickname}`,\n];\nconst pullRequestDefaultFilterList = [\"type:pr\"];\nconst issueDefaultFilterList = [\"is:issue\"];\nconst config = {\n  headers: {\n    Authorization: `Bearer ${props.token}`,\n  },\n};\n\nconst mergeFilters = (filterLists) => {\n  return [].concat(...filterLists).join(\"%20\");\n};\n\nconst [prData, setPrData] = useState([]);\n\nasyncFetch(\n  `${searchBaseUrl}${mergeFilters([\n    defulatFilterList,\n    pullRequestDefaultFilterList,\n  ])}`,\n  config\n).then((res) => {\n  setPrData(res.body?.items ?? []);\n});\n\nconst [issueData, setIssueData] = useState([]);\n\nasyncFetch(\n  `${searchBaseUrl}${mergeFilters([\n    defulatFilterList,\n    issueDefaultFilterList,\n  ])}`,\n  config\n).then((res) => {\n  setIssueData(res.body?.items ?? []);\n});\n\nif (!props.token) {\n  return <p>your token is required.</p>;\n}\nif (!props.githubNickname) {\n  return <p>github nickname is required.</p>;\n}\n\nconst PRWrapper = styled.div`\n    display: none;\n`;\nconst IssueWrapper = styled.div`\n    // display: none;\n`;\n\nconst MyContributionList = styled.ul`\n    width: 100%;\n    list-style-type: none;\n    padding: 20px;\n    margin: 0;\n    background-color: rgb(12,17,23);\n    color: white;\n    border-radius: 25px;\n`;\n\nconst MyContribution = styled.li`\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    height: 70px;\n    border-bottom: 1px solid rgba(125, 125, 225, 0.3);\n`;\n\nconst ContributionInfo = styled.div`\n    display: flex;\n`;\n\nreturn (\n  <div>\n    {prData.map((pullRequest) => {\n      return (\n        <PRWrapper>\n          <span>{pullRequest.title}</span>\n          <span>{pullRequest.state}</span>\n          <a href={pullRequest.html_url}>\ubc14\ub85c\uac00\uae30</a>\n          {pullRequest.state === \"closed\" && (\n            <span>{pullRequest.closed_at}</span>\n          )}\n        </PRWrapper>\n      );\n    })}\n\n    <MyContributionList>\n      {issueData.map((issue) => {\n        return (\n          <MyContribution>\n            <ContributionInfo>\n              <div>\n                <h4>{issue.title}</h4>\n                {issue.state === \"closed\" && <span>{issue.closed_at}</span>}\n              </div>\n              <span>{issue.state}</span>\n            </ContributionInfo>\n            <a href={issue.html_url}>\n              <Widget\n                src=\"party-dhsimpson.near/widget/gotoSvg\"\n                props={{ width: 15, heigh: 15, color: \"gray\" }}\n              />\n            </a>\n          </MyContribution>\n        );\n      })}\n    </MyContributionList>\n  </div>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/party-dhsimpson.near/widget/github-contributions", "fact_widget_deployments_id": "7724bb59137a83ce8e2ef7d010013c2b", "inserted_timestamp": "2023-09-16T19:32:58.286Z", "modified_timestamp": "2023-09-16T19:32:58.286Z", "__row_index": 4}