{"tx_hash": "4wtnH19nTe6Z8uSfyY1Y5yZaprSS4a7ydyXAMR43wB9Z", "action_id_social": "EAf5TkuBn27dro3gRhmoPx2P4LQhqocqe9RjMqxgqCen-0-widget", "block_id": 107686614, "block_timestamp": "2023-12-11T15:00:36.113Z", "signer_id": "chanon.near", "widget_name": "CCIP", "source_code": "initState({\n  toggleAmount: false,\n  txHash: \"\",\n  tokenDecimals: 18,\n  fromTokenAmount: 0,\n  status: 0,\n});\n\nconst signer = Ethers.send(\"eth_requestAccounts\", [])[0]; // current wallet\n\nif (state.error) {\n  return (\n    <div>\n      Dear user, we regret to inform you that we have received an error callback\n      from the API. Our team is currently investigating the issue and working on\n      resolving it as soon as possible. We apologize for any inconvenience this\n      may have caused and thank you for your patience while we work to address\n      the problem.\n    </div>\n  );\n}\n\nif (!signer) {\n  return (\n    <div>\n      <h3>Please connect your wallet</h3>\n      <Web3Connect />\n    </div>\n  );\n}\n\nif (\n  state.chainId === undefined &&\n  ethers !== undefined &&\n  Ethers.send(\"eth_requestAccounts\", [])[0]\n) {\n  Ethers.provider()\n    .getNetwork()\n    .then((chainIdData) => {\n      if (chainIdData?.chainId) {\n        State.update({ chainId: chainIdData.chainId });\n      }\n    });\n}\n\n// Support Only Avalance Fuji (Testnet) & Sepolia Ethereum (Testnet)\nif (\n  state.chainId !== 43113 &&\n  state.chainId !== 11155111 &&\n  state.chainId !== 10\n) {\n  return (\n    <div>\n      <h3>\n        Wrong Network - We currently support the Avalance Fuji (Testnet) and\n        Sepolia (Testnet) exclusively. Kindly confirm that you are connected to\n        the intended network before proceeding.\n      </h3>\n    </div>\n  );\n}\n\nconst oneInchAbi = fetch(\n  \"https://gist.githubusercontent.com/miguelmota/2759896a63d2e528bee86b2f8bb67e3b/raw/789317fa43d1bf346b4ef0b17b61c59db84486c7/ERC721.json\"\n);\nif (!oneInchAbi.ok) {\n  return \"1inch not ok\";\n}\n\nasync function mintToken() {\n  try {\n    const contractAddress = \"0x51E5426eDE4e2d4c2586371372313B5782387222\"; // Apetimisim\n    const oneInch = new ethers.Contract(\n      contractAddress,\n      oneInchAbi.body,\n      Ethers.provider().getSigner()\n    );\n    oneInch.balanceOf(signer).then((x) => {\n      console.log(\"result :=> x \", x); // My own wallet got 4 - 0x04\n    });\n  } catch (error) {\n    console.error(error);\n  }\n}\n\nreturn (\n  <div>\n    <button class=\"btn btn-success\" onClick={mintToken} disabled={false}>\n      QueryBalance of\n    </button>\n  </div>\n);\n", "metadata": {"tags": {"bos-gg": ""}}, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/chanon.near/widget/CCIP", "fact_widget_deployments_id": "96bc3d2e17632333b7516bac948b778e", "inserted_timestamp": "2023-12-11T16:50:57.357Z", "modified_timestamp": "2023-12-20T03:22:11.422Z", "__row_index": 4}