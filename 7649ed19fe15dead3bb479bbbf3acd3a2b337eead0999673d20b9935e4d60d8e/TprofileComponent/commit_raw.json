{"tx_hash": "B5AYxa138Xfj5xoY8tYxUSwpQNphaVsGjCp8kwYukhoz", "action_id_social": "4uc8rFxf59MN7CNLZ12uFQpfQiTdVEcUPdWgKbRqCreC-0-widget", "block_id": 101307850, "block_timestamp": "2023-09-17T06:07:19.452Z", "signer_id": "7649ed19fe15dead3bb479bbbf3acd3a2b337eead0999673d20b9935e4d60d8e", "widget_name": "TprofileComponent", "source_code": "const accountId = props.accountId || context.accountId;\n\nif (!accountId) return \"Login or send accountId in the props\";\n\nconst profile = Social.getr(`${accountId}/profile`);\n\nconst name = profile?.name;\nconst image = profile?.image;\n\nconst url = image.ipfs_cid\n  ? `https://ipfs.near.social/ipfs/${image?.ipfs_cid}`\n  : \"https://thewiki.io/static/media/sasha_anon.6ba19561.png\";\n\nconst cssFont = fetch(\n  \"https://fonts.googleapis.com/css2?family=Open+Sans:ital,wght@0,300;0,400;0,500;0,600;0,700;0,800;1,300;1,400;1,500;1,600;1,700;1,800&display=swap\"\n).body;\n\nconst css = fetch(\n  \"https://raw.githubusercontent.com/cryptosynk/near-social-profile/main/css/mainLight.css\"\n).body;\n\nconst Theme = styled.div`\n  font-family: \"Open Sans\", sans-serif;\n  ${cssFont}\n  ${css}\n`;\n\nconst ProfileWrapper = styled.div`\n    padding: 0 0 30px 0;\n    .banner-wrapper { padding: 15px; }\n    .banner { width: 100%;  height: 250px; background-color: #eceef0; border-radius: 20px; }\n    .profile-wrapper { padding: 0 30px; margin-top: -55px; display: flex; }\n    .avatar-wrapper { width: 250px; height: 250px; border-radius: 70%; overflow: hidden; }\n    .avatar { width: 100%; height: 100%; object-fit: cover; }\n    .name-wrapper { display: flex; flex-direction: column; justify-content: center; padding: 0 0 0 30px;}\n    .profile-name { }\n    .account-id { color: #656d76; font-size: 1.4rem; }\n`;\n\nconst ActivityWrapper = styled.div`\n     display: flex;\n     .post-wrapper { padding: 30px; width: 50%; }\n     .vertical-line { border: 1px solid #bbb; transform: scaleX(0.5);}\n     .widget-wrapper { padding: 30px; width: 50%; }\n`;\n\nif (!cssFont || !css) return \"Loading fonts & css\";\n\nState.init({\n  showEditProfile: false,\n});\n\nconst Banner = () => {\n  return (\n    <>\n      <div className=\"banner-wrapper\">\n        <div className=\"banner\"></div>\n      </div>\n    </>\n  );\n};\n\nreturn (\n  <Theme>\n    <ProfileWrapper>\n      <Banner />\n    </ProfileWrapper>\n    <div className=\"leftSection\">\n      <div>\n        <div>\n          <img className=\"profileImage\" src={url} alt=\"profile\" />\n          <div style={{ paddingBlock: 10 }}>\n            <h2>{name}</h2>\n            <p>@{accountId}</p>\n          </div>\n        </div>\n\n        <p className=\"description\">{profile?.description}</p>\n      </div>\n\n      {state.showEditProfile ? (\n        <>\n          <Widget\n            src=\"zahidulislam.near/widget/Profile.Editor\"\n            props={{ showEditProfile }}\n          />\n\n          <button\n            style={{ marginBottom: 20 }}\n            onClick={() => {\n              State.update({\n                showEditProfile: false,\n              });\n            }}\n          >\n            Cancel\n          </button>\n        </>\n      ) : (\n        <>\n          <Widget\n            src=\"zahidulislam.near/widget/Profile.SocialLinks\"\n            props={{ profile }}\n          />\n          <button\n            onClick={() => {\n              State.update({\n                showEditProfile: true,\n              });\n            }}\n          >\n            Edit Profile\n          </button>\n\n          <div style={{ display: \"flex\", flexDirection: \"column\", gap: 10 }}>\n            <Widget src=\"mob.near/widget/FollowStats\" props={{ accountId }} />\n\n            <Widget\n              src=\"zahidulislam.near/widget/Profile.IconButton\"\n              props={{\n                icon: \"https://cdn-icons-png.flaticon.com/512/3179/3179068.png\",\n                label: profile?.location ?? \"Add Location\",\n              }}\n            />\n          </div>\n        </>\n      )}\n    </div>\n\n    <ActivityWrapper>\n      <div className=\"post-wrapper\">\n        <Widget\n          src={`7649ed19fe15dead3bb479bbbf3acd3a2b337eead0999673d20b9935e4d60d8e/widget/TSocialPosts`}\n          props={props}\n        />\n      </div>\n      <div className=\"vertical-line\" />\n      <div className=\"widget-wrapper\">\n        <Widget\n          src={`7649ed19fe15dead3bb479bbbf3acd3a2b337eead0999673d20b9935e4d60d8e/widget/YouJun.collegium.bos.wk3.SocialWidget`}\n          props={props}\n        />\n      </div>\n    </ActivityWrapper>\n  </Theme>\n);\n", "metadata": {}, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/7649ed19fe15dead3bb479bbbf3acd3a2b337eead0999673d20b9935e4d60d8e/widget/TprofileComponent", "fact_widget_deployments_id": "043d407bfd9f980d448dd973406a3023", "inserted_timestamp": "2024-03-07T05:24:05.087Z", "modified_timestamp": "2024-03-07T05:24:05.087Z", "__row_index": 0}