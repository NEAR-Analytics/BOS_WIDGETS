{"tx_hash": "35L7RhpQXwkqng9tHvgTLkptk6PzdqwArv1suZ4YoAy3", "action_id_social": "GobY2QcDRDUpvvUy5Wu4ypcMov4wfBL1egPJheHHCUCT-0-widget", "block_id": 117008240, "block_timestamp": "2024-04-17T02:45:27.724Z", "signer_id": "blueprints.near", "widget_name": "sdk.social", "source_code": "const SocialSDK = {\n  poke: (accountId) => {\n    const data = {\n      index: {\n        graph: JSON.stringify({\n          key: \"poke\",\n          value: {\n            accountId: accountId,\n          },\n        }),\n        notify: JSON.stringify({\n          key: accountId,\n          value: {\n            type: \"poke\",\n          },\n        }),\n      },\n    };\n    Social.set(data, {\n      force: true,\n    });\n  },\n  follow: (followId, userId) => {\n    if (!followId || !userId || userId === followId) {\n      return;\n    }\n    const followEdge = Social.keys(\n      `${userId}/graph/follow/${followId}`,\n      undefined,\n      { values_only: true }\n    );\n    const follow = followEdge && Object.keys(followEdge).length;\n    const type = follow ? \"unfollow\" : \"follow\";\n    const data = {\n      graph: { follow: { [followId]: follow ? null : \"\" } },\n      index: {\n        graph: JSON.stringify({\n          key: \"follow\",\n          value: {\n            type,\n            accountId: followId,\n          },\n        }),\n        notify: JSON.stringify({\n          key: followId,\n          value: {\n            type,\n          },\n        }),\n      },\n    };\n    Social.set(data);\n  },\n  followStatus: (followId, userId) => {\n    if (!followId || !userId || userId === followId) {\n      return;\n    }\n    const followEdge = Social.keys(\n      `${userId}/graph/follow/${followId}`,\n      undefined,\n      {\n        values_only: true,\n      }\n    );\n    const inverseEdge = Social.keys(\n      `${followId}/graph/follow/${userId}`,\n      undefined,\n      {\n        values_only: true,\n      }\n    );\n    const loading = followEdge === null || inverseEdge === null;\n    const follow = followEdge && Object.keys(followEdge).length;\n    const inverse = inverseEdge && Object.keys(inverseEdge).length;\n    return loading\n      ? \"Loading\"\n      : follow\n      ? \"Following\"\n      : inverse\n      ? \"Follow back\"\n      : \"Follow\";\n  },\n};\nreturn { SocialSDK };\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/blueprints.near/widget/sdk.social", "fact_widget_deployments_id": "046c68b9004788ff99b757a463756d60", "inserted_timestamp": "2024-04-17T04:38:04.126Z", "modified_timestamp": "2024-04-17T04:38:04.126Z", "__row_index": 0}