{"tx_hash": "35L7RhpQXwkqng9tHvgTLkptk6PzdqwArv1suZ4YoAy3", "action_id_social": "GobY2QcDRDUpvvUy5Wu4ypcMov4wfBL1egPJheHHCUCT-0-widget", "block_id": 117008240, "block_timestamp": "2024-04-17T02:45:27.724Z", "signer_id": "blueprints.near", "widget_name": "Components.Profile.Tab.Widgets", "source_code": "const accountId = props.accountId;\nlet keys = `${accountId ?? \"*\"}/widget/*`;\nconst data = Social.keys(keys, \"final\", {\n  return_type: \"BlockHeight\",\n});\nif (data === null) {\n  return \"Loading\";\n}\nconst processData = (data) => {\n  const accounts = Object.entries(data);\n  const allItems = accounts\n    .map((account) => {\n      const accountId = account[0];\n      return Object.entries(account[1].widget).map((kv) => ({\n        accountId,\n        widgetName: kv[0],\n        blockHeight: kv[1],\n      }));\n    })\n    .flat();\n  allItems.sort((a, b) => b.blockHeight - a.blockHeight);\n  return allItems;\n};\nif (JSON.stringify(data) !== JSON.stringify(state.data || {})) {\n  State.update({\n    data,\n    allItems: processData(data),\n  });\n}\nconst widgets = state.allItems;\nif (!widgets) {\n  return \"Loading\";\n}\nconst WidgetGrid = styled.div`\n  display: grid;\n  grid-template-columns: repeat(3, minmax(0, 1fr));\n  gap: 1rem;\n  @media (max-width: 1140px) {\n    grid-template-columns: repeat(2, minmax(0, 1fr));\n  }\n  @media (max-width: 768px) {\n    grid-template-columns: repeat(1, minmax(0, 1fr));\n  }\n`;\nreturn (\n  <WidgetGrid>\n    {widgets.map((widget) => (\n      <div key={`${widget.accountId}-${widget.widgetName}`}>\n        <Widget\n          src=\"blueprints.near/widget/Components.WidgetMetadata\"\n          loading=\"\"\n          props={{\n            accountId: widget.accountId,\n            widgetName: widget.widgetName,\n            blockHeight: widget.blockHeight,\n          }}\n        />\n      </div>\n    ))}\n  </WidgetGrid>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/blueprints.near/widget/Components.Profile.Tab.Widgets", "fact_widget_deployments_id": "2d3ee229a915d8101925b8d8e69d040a", "inserted_timestamp": "2024-04-17T04:38:04.126Z", "modified_timestamp": "2024-04-17T04:38:04.126Z", "__row_index": 0}