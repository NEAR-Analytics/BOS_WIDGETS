{"tx_hash": "6tbgpBeUMdZSMRBMDn1sPYzb13QY4Puq6r46VNDiZ7UB", "action_id_social": "5zSGjXdBmyKkWTuXHXVKEUc7FFoyew4K7ehViUwejN8H-0-widget", "block_id": 112614372, "block_timestamp": "2024-02-11T14:15:50.570Z", "signer_id": "guestbook.flmel.near", "widget_name": "App", "source_code": "if (context.loading) {\n  return \"Loading...\";\n}\n\nconst guestbookExampleContract = \"guestbook.flmel.near\";\nconst messages = Near.view(guestbookExampleContract, \"get_messages\", {});\n\nif (messages === null) {\n  return \"Loading...\";\n};\n\nconst [latestMessage, ...rest] = messages.reverse();\n\nconst [message, setMessage] = useState('');\nconst [premium, setPremium] = useState(false);\nconst [theme, setTheme] = useState(null)\n\nfunction handleMessageChange(e) {\n  setMessage(e.target.value);\n};\n\nfunction handleAmountChange(e) {\n  setAmount(e.target.value);\n};\n\nfunction postMessage() {\n  const deposit = premium ? \"100000000000000000000000\" : \"0\";\n\n  Near.call(guestbookExampleContract, \"add_message\", { text: message }, \"300000000000000\", deposit);\n};\n\n// TailwindCSS\nconst tailwindCssUrl = \"https://dl.dropboxusercontent.com/scl/fi/xwrs3zdjjauf96vqrv8pb/gb-output.css?rlkey=ajjk53tv2lwm2am6xu3242788&dl=0\";\nconst tailwindCss = fetch(tailwindCssUrl).body;\n\nif (!tailwindCss) return \"Loading CSS\";\n\nif (!theme) {\n  setTheme(styled.div`${tailwindCss}`)\n}\n\nconst Theme = theme;\n\nreturn <>\n  <Theme>\n    {props.transactionHashes !== undefined ?\n      <Widget\n        src=\"guestbook.flmel.near/widget/Modal\"\n        props={{ transactionHashes: props.transactionHashes }}\n      />\n      : <></>\n    }\n\n    <div class=\"container mx-auto text-gray-700\">\n      <div class=\"flex space-x-4 mt-8\">\n        <Widget\n          src=\"guestbook.flmel.near/widget/Card\"\n          props={{ message: latestMessage, latest: true }}\n          class=\"w-1/2\" />\n\n        <div class=\"w-1/2\">\n          <h1 class=\"text-8xl font-bold\">GuestBook Example</h1>\n          <textarea\n            type=\"text\"\n            value={message}\n            onChange={handleMessageChange}\n            class=\"border-2 border-slate-800 rounded-xl p-2 w-full mt-4 font-bold text-lg\"\n            placeholder=\"Your review here\" />\n\n\n          <div class=\"flex items-center space-x-4 my-2\">\n            <label class=\"form-check-label font-bold\" for=\"flexCheckDefault\">\n              Make Premium\n            </label>\n            <input class=\"form-check-input border-2 border-slate-800 py-2 px-2\" type=\"checkbox\"\n              checked={premium}\n              onClick={() => setPremium(!premium)} />\n          </div>\n\n          <button onClick={postMessage}\n            class=\"rounded-xl py-2 px-6 bg-slate-800 hover:bg-slate-600 transition text-xl text-gray-100\">Add Yours</button>\n        </div>\n      </div>\n\n      <div class=\"columns-3 break-inside-avoid-column mt-4\">\n        {rest.map((message) =>\n          <>\n            <Widget\n              src=\"guestbook.flmel.near/widget/Card\"\n              props={{ message }}\n              class=\"w-1/3\" />\n          </>\n\n        )}\n      </div>\n\n    </div>\n  </Theme>\n</>\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/guestbook.flmel.near/widget/App", "fact_widget_deployments_id": "56bbe5bc775ca1fd6e32efeffc2ff228", "inserted_timestamp": "2024-03-07T05:24:05.087Z", "modified_timestamp": "2024-03-07T05:24:05.087Z", "__row_index": 20}