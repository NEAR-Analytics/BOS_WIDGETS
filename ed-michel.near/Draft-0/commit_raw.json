{"tx_hash": "H2EEACU9kS5L927eUT5moG3uJYJxH6Qdn5W76CANADyL", "action_id_social": "DHGvNdxJqYtKEpf6yUrtHHHZ1qyoSDPNEEGDeAeGBidz-0-widget", "block_id": 105925678, "block_timestamp": "2023-11-17T20:35:40.181Z", "signer_id": "ed-michel.near", "widget_name": "Draft-0", "source_code": "const contract = \"guest-book.near\";\r\nconst messages = Near.view(contract, \"getMessages\", {}).reverse();\r\nconsole.log(messages);\r\n\r\nState.init({\r\n  newMessage: \"\",\r\n});\r\n\r\nconst nuevoMensaje = () => {\r\n  Near.call(contract, \"addMessage\", { text: state.newMessage });\r\n};\r\n\r\nreturn (\r\n  <div>\r\n    <h1 className=\"text-danger\">My List</h1>\r\n    <input onChange={(e) => State.update({ newMessage: e.target.value })} />\r\n    <button\r\n      onClick={() => {\r\n        nuevoMensaje();\r\n      }}\r\n    >\r\n      Guardar\r\n    </button>\r\n\r\n    <table\r\n      border=\"1\"\r\n      style={{ width: \"100%\", marginTop: \"15px\", borderCollapse: \"collapse\" }}\r\n    >\r\n      <thead>\r\n        <tr style={{ background: \"#f2f2f2\" }}>\r\n          <th style={{ padding: \"8px\", textAlign: \"left\" }}>User</th>\r\n          <th style={{ padding: \"8px\", textAlign: \"left\" }}>Message</th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        {messages.map((m, index) => (\r\n          <tr key={index} style={{ borderBottom: \"1px solid #ddd\" }}>\r\n            <td style={{ padding: \"8px\" }}>{m.sender}</td>\r\n            <td style={{ padding: \"8px\" }}>{m.text}</td>\r\n          </tr>\r\n        ))}\r\n      </tbody>\r\n    </table>\r\n  </div>\r\n);\r\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/ed-michel.near/widget/Draft-0", "fact_widget_deployments_id": "064084fe3e14214214402aecf88cd7f7", "inserted_timestamp": "2023-11-17T22:32:17.027Z", "modified_timestamp": "2023-11-17T22:32:17.027Z", "__row_index": 20}