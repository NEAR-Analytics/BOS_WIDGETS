{"tx_hash": "Evtis6z8KAC3vs9y3vTnjAZig6WTwMWiKZydGVu7qFoW", "action_id_social": "3uuxKcEgwjaEMA1dTNKpzvgkaX1RgLYeD5RrE7TSHaya-0-widget", "block_id": 108428669, "block_timestamp": "2023-12-20T20:02:56.446Z", "signer_id": "kevin0.near", "widget_name": "TicTacToe", "source_code": "const SquareButton = styled.button`\n  background: #fff;\n  border: 1px solid #999;\n  float: left;\n  font-size: 24px;\n  font-weight: bold;\n  line-height: 34px;\n  height: 34px;\n  margin-right: -1px;\n  margin-top: -1px;\n  padding: 0;\n  text-align: center;\n  width: 34px;\n`;\n\nconst borderRow = {\n  clear: \"both\",\n  content: \"\",\n  display: \"table\",\n};\n\nfunction calculateWinner(squares) {\n  const lines = [\n    [0, 1, 2],\n    [3, 4, 5],\n    [6, 7, 8],\n    [0, 3, 6],\n    [1, 4, 7],\n    [2, 5, 8],\n    [0, 4, 8],\n    [2, 4, 6],\n  ];\n  for (let i = 0; i < lines.length; i++) {\n    const [a, b, c] = lines[i];\n    if (squares[a] && squares[a] === squares[b] && squares[a] === squares[c]) {\n      return squares[a];\n    }\n  }\n  return null;\n}\n\nState.init({\n  squares: Array(9).fill(null),\n  xIsNext: true,\n});\n\nfunction handleClick(i) {\n  const squares = state.squares.slice();\n  if (calculateWinner(squares) || squares[i]) {\n    return;\n  }\n  squares[i] = state.xIsNext ? \"X\" : \"O\";\n  State.update({\n    squares: squares,\n    xIsNext: !state.xIsNext,\n  });\n}\n\nfunction renderSquare(i) {\n  return (\n    <SquareButton onClick={() => handleClick(i)}>\n      {state.squares[i]}\n    </SquareButton>\n  );\n}\n\nconst winner = calculateWinner(state.squares);\nlet status;\nif (winner) {\n  status = \"Winner: \" + winner;\n} else {\n  status = \"Next player: \" + (state.xIsNext ? \"X\" : \"O\");\n}\n\nreturn (\n  <div>\n    <div\n      style={{\n        marginBottom: 10,\n      }}\n    >\n      <button\n        className=\"btn btn-outline-primary btn-sm\"\n        onClick={() =>\n          State.update({\n            squares: Array(9).fill(null),\n            xIsNext: true,\n          })\n        }\n      >\n        Reset Game\n      </button>\n    </div>\n    <div\n      style={{\n        marginBottom: 10,\n      }}\n    >\n      {status}\n    </div>\n    <div style={borderRow}>\n      {renderSquare(0)}\n      {renderSquare(1)}\n      {renderSquare(2)}\n    </div>\n    <div style={borderRow}>\n      {renderSquare(3)}\n      {renderSquare(4)}\n      {renderSquare(5)}\n    </div>\n    <div style={borderRow}>\n      {renderSquare(6)}\n      {renderSquare(7)}\n      {renderSquare(8)}\n    </div>\n  </div>\n);\n", "metadata": {"fork_of": "zahidulislam.near/widget/TicTacToe@87376302"}, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/kevin0.near/widget/TicTacToe", "fact_widget_deployments_id": "fd444f9bfc817c8cecda556755afeab4", "inserted_timestamp": "2023-12-20T22:24:35.560Z", "modified_timestamp": "2023-12-20T22:53:18.233Z", "__row_index": 1}