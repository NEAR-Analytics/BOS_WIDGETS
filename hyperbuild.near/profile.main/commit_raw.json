{"tx_hash": "CC9GcHy83rphSqwYdFGRGRyFvEi4uTU9wceCkLZk2NT3", "action_id_social": "4DSN3SK9hpm79UiPYgKx3J9sAV4XbSPNkc15u1u7PCXy-0-widget", "block_id": 120166680, "block_timestamp": "2024-05-31T23:45:45.327Z", "signer_id": "hyperbuild.near", "widget_name": "profile.main", "source_code": "const AccordionHeader = styled.div`\n  cursor: pointer;\n  background-color: #f8f9fa;\n  padding: 1rem;\n  margin: 0;\n  border: 1px solid #dee2e6;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n`;\nconst Icon = styled.span`\n  display: inline-block;\n  transition: transform 0.3s ease;\n  transform: ${(props) =>\n    props.isExpanded ? \"rotate(180deg)\" : \"rotate(0deg)\"};\n`;\nconst AccordionContent = styled.div`\n  max-height: ${(props) => (props.isExpanded ? \"1000px\" : \"0\")};\n  overflow: auto;\n  transition: max-height 0.5s ease;\n  border: 1px solid #dee2e6; /* Ensure border is continuous */\n  padding: ${(props) => (props.isExpanded ? \"1rem\" : \"0\")};\n`;\nconst accountId = props.accountId || context.accountId;\nif (!accountId) return \"Login or send accountId in the props\";\nconst profile = Social.getr(`${accountId}/profile`);\nconst allWidgetsHistoryChangesBlocks = Social.keys(\n  `${accountId}/widget/*`,\n  \"final\",\n  {\n    return_type: \"History\",\n  }\n);\nif (allWidgetsHistoryChangesBlocks === null) return \"Loading...\";\nconst widget = allWidgetsHistoryChangesBlocks[accountId].widget;\nconst totalCommits = Object.keys(widget)\n  .map((key) => widget[key])\n  .flat();\nconst widgets = Social.getr(`${accountId}/widget`) ?? {};\nconst [isExpanded, setIsExpanded] = useState(false);\nconst toggleAccordion = () => {\n  setIsExpanded(!isExpanded);\n};\n// --------------- nodes -------------------\nconst Nodes = (\n  <div\n    className=\"col-lg-12 pb-4\"\n    style={{\n      boxShadow: \"2px 10px 20px rgba(128, 117, 226, 0.2)\",\n    }}\n  >\n    <div\n      style={{ backgroundColor: themeColor?.sbt_info?.card_bg }}\n      className=\"shadow-sm rounded-4\"\n    >\n      <Widget\n        key={state.data}\n        src=\"hyperbuild.near/widget/explore.view.tree\"\n        props={{\n          rootPath: state.data,\n          themeColor: themeColor.tree,\n        }}\n      />\n    </div>\n  </div>\n);\nreturn (\n  <div>\n    <div>\n      <h2>Data Tree</h2>\n    </div>\n    <div className=\"row\">{Nodes}</div>\n    <div className=\"rightSection\">\n      <div>\n        <AccordionHeader onClick={toggleAccordion} aria-expanded={isExpanded}>\n          <div>\n            <h2>\n              <Icon isExpanded={isExpanded} className=\"bi bi-chevron-down\" />\n              Widgets\n            </h2>\n          </div>\n          <span>\n            {isExpanded ? \"(click to collapse)\" : \"(click to expand)\"}\n          </span>\n        </AccordionHeader>\n        <AccordionContent isExpanded={isExpanded}>\n          <div className=\"widgetsContainer\">\n            {Object.keys(widgets)?.length > 0 ? (\n              Object.keys(widgets)?.map((item, index) => (\n                <Widget\n                  key={index}\n                  src=\"zahidulislam.near/widget/Profile.WidgetItem\"\n                  props={{\n                    name: item,\n                    accountId,\n                    commits:\n                      allWidgetsHistoryChangesBlocks[accountId].widget[item],\n                  }}\n                />\n              ))\n            ) : (\n              <p\n                style={{\n                  padding: 20,\n                  textAlign: \"center\",\n                  color: \"rgba(0,0,0,.75)\",\n                }}\n              >\n                {profile?.name} does not have any widget.\n              </p>\n            )}\n          </div>\n        </AccordionContent>\n      </div>\n      <div>\n        <h2>{totalCommits.length} contributions</h2>\n        <div style={{ marginTop: 20 }} />\n        <Widget\n          src=\"zahidulislam.near/widget/Profile.Contributions\"\n          props={{ theme: props.theme }}\n        />\n      </div>\n    </div>\n  </div>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/hyperbuild.near/widget/profile.main", "fact_widget_deployments_id": "0696420e6f2f80b70a2b86b1243673d8", "inserted_timestamp": "2024-06-01T02:00:15.259Z", "modified_timestamp": "2024-06-01T02:00:15.259Z", "__row_index": 0}