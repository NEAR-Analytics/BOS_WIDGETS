{"tx_hash": "3ims5V4LHmMmzSVhP6PsXuhUn2hmqfHwgrX5e1RCxVjX", "action_id_social": "FApDQFAsSF2XLAUsmoahaqWSwk3C5U3JSndJYT3n2Ffb-0-widget", "block_id": 118588109, "block_timestamp": "2024-05-09T17:47:08.651Z", "signer_id": "hyperbuild.near", "widget_name": "greeting", "source_code": "const CONTRACT = \"hello.near-examples.near\"; // this will get replaced by bos-workspace according to -n {network_env}\nconst storedGreeting = Near.view(CONTRACT, \"get_greeting\") ?? \"hello world\";\nif (!storedGreeting || context.loading) {\n  return \"Loading...\";\n}\nconst [greeting, setGreeting] = useState(storedGreeting);\nconst [showSpinner, setShowSpinner] = useState(false);\nconst loggedIn = !!context.accountId;\nconst onInputChange = ({ target }) => {\n  setGreeting(target.value);\n};\nconst onBtnClick = () => {\n  setShowSpinner(true);\n  Near.call(CONTRACT, \"set_greeting\", { greeting });\n  setShowSpinner(false);\n};\nconst Main = styled.div`\n  font-family: -apple-system, BlinkMacSystemFont, Segoe UI;\n`;\n// Render\nreturn (\n  <Main>\n    <div className=\"text-center\">\n      <h3 className=\"font-weight-bold\"> Hello Near </h3>\n      <p className=\"small font-weight-light\">\n        A greeting stored in\n        <span className=\"text-danger\">{CONTRACT}</span>\n      </p>\n    </div>\n    <div className=\"container py-4 px-5 text-dark bg-light rounded\">\n      <h2 className=\"text-center\">\n        The contract says:\n        <span className=\"text-primary\"> {greeting} </span>\n      </h2>\n      <div class=\"p-4\">\n        <div className=\"input-group\" hidden={!loggedIn}>\n          <input placeholder=\"Store a new greeting\" onChange={onInputChange} />\n          <button className=\"btn btn-primary\" onClick={onBtnClick}>\n            <span hidden={showSpinner}>Save</span>\n            <i\n              className=\"spinner-border spinner-border-sm\"\n              hidden={!showSpinner}\n            ></i>\n          </button>\n        </div>\n        <p className=\"text-center py-2\" hidden={loggedIn}>\n          Login to change the greeting\n        </p>\n      </div>\n    </div>\n  </Main>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/hyperbuild.near/widget/greeting", "fact_widget_deployments_id": "98eeded5aec8c718b70c38ec957c95c6", "inserted_timestamp": "2024-05-09T19:38:52.240Z", "modified_timestamp": "2024-05-09T19:38:52.240Z", "__row_index": 0}