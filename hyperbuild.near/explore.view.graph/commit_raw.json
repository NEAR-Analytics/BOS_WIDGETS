{"tx_hash": "CC9GcHy83rphSqwYdFGRGRyFvEi4uTU9wceCkLZk2NT3", "action_id_social": "4DSN3SK9hpm79UiPYgKx3J9sAV4XbSPNkc15u1u7PCXy-0-widget", "block_id": 120166680, "block_timestamp": "2024-05-31T23:45:45.327Z", "signer_id": "hyperbuild.near", "widget_name": "explore.view.graph", "source_code": "const accountId = props.accountId ?? context.accountId;\nif (!accountId) {\n  return \"Please connect your NEAR wallet :)\";\n}\nState.init({\n  accounts: [\"every.near\", context.accountId],\n  newAccount: \"\",\n  thing: thingId,\n});\nfunction addAccount(newAccount) {\n  state.accounts.push(newAccount);\n  State.update({\n    accounts: state.accounts,\n  });\n}\nfunction removeAccount(accountKey) {\n  const updatedAccounts = state.accounts.filter(\n    (account) => account !== accountKey\n  );\n  State.update({\n    accounts: updatedAccounts,\n  });\n}\nreturn (\n  <div>\n    <div className=\"mb-2\">\n      <h5>Graph ID</h5>\n      <p>\n        <i>\n          Default graph is \"follow\". Use \"*/graph/*\" in the Explore Data section\n          below to find more. Other options include: follow, like, star, etc.\n        </i>\n      </p>\n      <input type=\"text\" value={state.thing} placeholder={defaultThing} />\n    </div>\n    <div>\n      <h5>Account IDs</h5>\n      <input\n        placeholder=\"<example>.near\"\n        onChange={(e) => State.update({ newAccount: e.target.value })}\n      />\n      <div className=\"d-flex align-items-center mt-2\">\n        <button\n          className=\"btn btn-primary m-2\"\n          onClick={() => addAccount(state.newAccount)}\n        >\n          add\n        </button>\n      </div>\n    </div>\n    <div>\n      {state.accounts.map((a) => {\n        return (\n          <div className=\"d-flex m-2 p-2 justify-content-between align-items-center\">\n            <div className=\"d-flex align-items-center\">\n              <Widget src=\"mob.near/widget/Profile\" props={{ accountId: a }} />\n            </div>\n            <button\n              className=\"btn btn-danger m-1\"\n              onClick={() => removeAccount(a)}\n            >\n              remove\n            </button>\n          </div>\n        );\n      })}\n    </div>\n    <hr />\n    {state.accounts.length > 1 ? (\n      <div className=\"mb-2\">\n        <Widget\n          src=\"hyperbuild.near/widget/explore.socialgraph\"\n          props={{\n            accountIds: state.accounts,\n            thingId: state.thing,\n          }}\n        />\n      </div>\n    ) : (\n      <div className=\"mb-2\">\n        <h5>input 2+ accounts</h5>\n      </div>\n    )}\n  </div>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/hyperbuild.near/widget/explore.view.graph", "fact_widget_deployments_id": "09194a8bdbc001b20e98252eee9f386b", "inserted_timestamp": "2024-06-01T02:00:15.259Z", "modified_timestamp": "2024-06-01T02:00:15.259Z", "__row_index": 0}