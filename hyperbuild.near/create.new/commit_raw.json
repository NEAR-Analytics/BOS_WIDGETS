{"tx_hash": "CC9GcHy83rphSqwYdFGRGRyFvEi4uTU9wceCkLZk2NT3", "action_id_social": "4DSN3SK9hpm79UiPYgKx3J9sAV4XbSPNkc15u1u7PCXy-0-widget", "block_id": 120166680, "block_timestamp": "2024-05-31T23:45:45.327Z", "signer_id": "hyperbuild.near", "widget_name": "create.new", "source_code": "const { NewThings } = VM.require(\"hyperbuild.near/widget/create.newthings\");\nconst Container = styled.div`\n  display: flex;\n  flex-direction: column;\n`;\nconst FormGroup = styled.div`\n  margin-bottom: 10px;\n`;\nconst Label = styled.label`\n  font-weight: bold;\n`;\nconst Select = styled.select`\n  height: 30px;\n  margin-bottom: 10px;\n`;\nconst Button = styled.button`\n  height: 30px;\n`;\nconst FormContainer = styled.div`\n  border: 1px solid #ccc;\n  padding: 20px;\n  margin-top: 10px;\n`;\nconst Row = styled.div`\n  display: flex;\n  gap: 10px;\n`;\n// Initializing state and utility functions\nconst CreateNew = ({ initialData = {}, types, schemas }) => {\n  const [data, setData] = useState(initialData);\n  const [selectedTypeOrSchema, setSelectedTypeOrSchema] = useState(\"\");\n  // Load available types or schemas\n  const options = { ...types, ...schemas }; // Merging types and schemas into a single object\n  const handleTypeOrSchemaChange = (e) => {\n    setSelectedTypeOrSchema(e.target.value);\n    setData({}); // Reset data when type or schema changes\n  };\n  const handleChange = (newData) => {\n    setData(newData);\n  };\n  const handleSave = () => {\n    console.log(\"Saving data:\", data);\n    // Implement save functionality here\n  };\n  return (\n    <Container>\n      <FormGroup>\n        <Label>Select Type or Schema:</Label>\n        <Select\n          value={selectedTypeOrSchema}\n          onChange={handleTypeOrSchemaChange}\n        >\n          <option value=\"\">Select an option</option>\n          {Object.keys(options).map((key) => (\n            <option key={key} value={key}>\n              {key}\n            </option>\n          ))}\n        </Select>\n      </FormGroup>\n      {selectedTypeOrSchema && (\n        <FormContainer>\n          <NewThings\n            item={{ type: options[selectedTypeOrSchema], value: data }}\n            onChange={handleChange}\n          />\n          <Row>\n            <Button onClick={handleSave}>Save</Button>\n          </Row>\n        </FormContainer>\n      )}\n    </Container>\n  );\n};\nexport { CreateNew };\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/hyperbuild.near/widget/create.new", "fact_widget_deployments_id": "31bbec15df303dde73a44253856beb59", "inserted_timestamp": "2024-06-01T02:00:15.259Z", "modified_timestamp": "2024-06-01T02:00:15.259Z", "__row_index": 0}