{"tx_hash": "HT7UL1n9QifhbepeRMXWoH4S2L2KDrxLnde7V9P9NWxu", "action_id_social": "FCLwRbDx1wSPudZSKxBsHELsWQS9a5E3HFsjbuMsHbqS-0-widget", "block_id": 106808147, "block_timestamp": "2023-11-29T13:23:04.737Z", "signer_id": "oraio.near", "widget_name": "detecteet.ComponentSearch", "source_code": "// At this point of deployment. this widget display list of widget that matches search input\n// placeholder: \"Search\",\n// theme: useTheme(light, dark),\n// handleSubmit: handleSubmit,\n// // value: state.search,\n\nconst WidgetApp = styled.div`\n  display: flex;\n  // align-items: center;\n  justify-content: center;\n  // padding-top: 20px;\n  // background-color: black;\n  height: 100vh;\n  * {\n    box-sizing: border-box;\n  }\n`;\n\nconst Container = styled.div`\n  min-width: 370px;\n  width: 100%;\n  display: flex;\n  flex: 1;\n  // background-color: grey;\n  height: 54px;\n  gap: 1rem;\n  // flow: wrap;\n`;\n\nconst TextInput = styled.input`\n  padding: 8px;\n  border: 1px solid #ccc;\n  border-radius: 4px;\n  outline: none;\n  width: 100%;\n`;\n\nconst WidgetList = styled.ul`\n  display: flex;\n  flex-direction: column;\n  list-style-type: none;\n  padding: 15px;\n  margin-top: 1rem;\n  max-height: 300px;\n  height: 300px;\n  // overflow-y: auto;\n  box-shadow: 0px 0px 8px #ddd;\n  border-radius: 10px;\n  position: relative;\n  // &::-webkit-scrollbar {\n  //   display: none;\n  // }\n`;\n\nconst WidgetItem = styled.li`\n  // background-color: grey;\n  cursor: pointer;\n  padding: 10px;\n  border-radius: 4px;\n  &:hover {\n    background-color: #adb5bd;\n  }\n`;\n\n// search container\nconst SearchContainer = styled.div`\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  flex: 1;\n  height: 100%;\n  gap: 1rem;\n  .input-group {\n    height: 100%;\n    border: 1px solid #ccc;\n    border-radius: 4px;\n    outline: none;\n    width: 100%;\n  }\n`;\n\nconst SubmitButton = styled.button`\n  white-space: nowrap;\n  wordWrap: 'break-word';\n  display: inline-flex;\n  padding: 1.1rem 1.5rem;\n  align-items: center;\n  justify-content: center;\n  border: none;\n  background: #8D61EE;\n  color: #fff;\n  border-radius: 10px;\n  // width:40%;\n  width: 150px;\n`;\n\nconst [input, setInput] = useState(\"\");\nconst [widgets, setWidgets] = useState([]);\n\nfunction handleChange(value) {\n  setInput(value);\n  const fetchWidgets = fetch(\"https://jsonplaceholder.typicode.com/users\").body;\n\n  const filteredWidgets = fetchWidgets.filter(\n    (widget) =>\n      value && widget.username.toLowerCase().includes(value.toLowerCase())\n  );\n  setWidgets(filteredWidgets);\n  // console.log(filteredWidgets)\n}\nfunction handleClick(widget) {\n  setInput(widget.widgetName);\n  console.log(widget.widgetSrc);\n\n  props.handleSubmit(\"sourcescan.near/widget/SourceScan.Contracts.Info\");\n}\n\nreturn (\n  <WidgetApp>\n    <Container>\n      <SearchContainer>\n        <Widget\n          loading={\n            <div className=\"input-group\">\n              <input type=\"text\" className=\"form-control\" />\n            </div>\n          }\n          src=\"mob.near/widget/ComponentSearch\"\n          props={{\n            boostedTag: \"app\",\n            placeholder: \"Search Applications\",\n            limit: 10,\n            onChange: ({ result }) => {\n              State.update({ apps: result });\n            },\n          }}\n        />\n        {state.apps && (\n          <WidgetList>\n            <div className=\"mb-2\">\n              {state.apps.map((app, i) => (\n                <WidgetItem key={i} onClick={(e) => handleClick(app)}>\n                  <Widget\n                    src=\"littlelace.near/widget/ComponentItem\"\n                    props={{\n                      link: `/${app.widgetSrc}`,\n                      accountId: app.accountId,\n                      widgetName: app.widgetName,\n                      onHide: () => State.update({ apps: null }),\n                    }}\n                  />\n                </WidgetItem>\n              ))}\n            </div>\n          </WidgetList>\n        )}\n      </SearchContainer>\n      <SubmitButton onClick={() => handleSubmit()}>Check Widget</SubmitButton>\n    </Container>\n  </WidgetApp>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/oraio.near/widget/detecteet.ComponentSearch", "fact_widget_deployments_id": "151af09239dd27d8e0a437347f83b52e", "inserted_timestamp": "2023-11-29T15:29:04.489Z", "modified_timestamp": "2023-12-20T00:36:59.366Z", "__row_index": 5}