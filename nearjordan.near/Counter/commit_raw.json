{"tx_hash": "2hVHDp2mduZVr8PrGrKseav61WFv7W32xWpwjvssu6wS", "action_id_social": "5QmQ4aGKX3wreCwEa7WguZqH4kpQEAVHHAnuDNtkyGzC-0-widget", "block_id": 94734944, "block_timestamp": "2023-06-22T02:34:31.356Z", "signer_id": "nearjordan.near", "widget_name": "Counter", "source_code": "if (\n    state.chainId === undefined &&\n    ethers !== undefined &&\n    Ethers.send(\"eth_requestAccounts\", [])[0]\n  ) {\n    Ethers.provider()\n      .getNetwork()\n      .then((chainIdData) => {\n        if (chainIdData?.chainId) {\n          State.update({ chainId: chainIdData.chainId });\n        }\n      });\n  }\n  if (state.chainId !== undefined && state.chainId !== 80001) {\n    return <p>Switch to Polygon Mumbai</p>;\n  }\n  \nconst Counter_abi=[\n    {\n      \"inputs\": [],\n      \"name\": \"increment\",\n      \"outputs\": [],\n      \"stateMutability\": \"nonpayable\",\n      \"type\": \"function\"\n    },\n    {\n      \"inputs\": [],\n      \"name\": \"number\",\n      \"outputs\": [\n        {\n          \"internalType\": \"uint256\",\n          \"name\": \"\",\n          \"type\": \"uint256\"\n        }\n      ],\n      \"stateMutability\": \"view\",\n      \"type\": \"function\"\n    },\n    {\n      \"inputs\": [\n        {\n          \"internalType\": \"uint256\",\n          \"name\": \"newNumber\",\n          \"type\": \"uint256\"\n        }\n      ],\n      \"name\": \"setNumber\",\n      \"outputs\": [],\n      \"stateMutability\": \"nonpayable\",\n      \"type\": \"function\"\n    }\n  ];\n\nconst Counter_address = \"0x5277e186c1995375132bb559f3E3F94f450bC669\";\n\nconst Counter_contract = new ethers.Contract(Counter_address, Counter_abi, Ethers.provider().getSigner());\n\nCounter_contract.number().then((n) => { State.update({num: Number(n)}); });\n\nconst onIncrement = () => {\n    Counter_contract.increment().then((txid) => {\n      State.update({ txid: txid });\n    });\n  };\n  \nconst onSet = () => {\n    Counter_contract.setNumber(state.in).then((txid) => {\n      State.update({ txid: txid });\n    });\n  };\n  \nreturn(\n    <p>Account test2: {sender} {abi[0].name} Number: {state.num.toString()}\n    <br/><button onClick={onIncrement}>Increment</button>\n    <br/>\n    <br/><input type=\"number\" onChange={(e) => State.update({in: ethers.BigNumber.from(e.target.value)})} />\n    <br/><button onClick={onSet}>Set</button>\n    <br />ABI hash: {ethers.utils.sha256(ethers.utils.toUtf8Bytes(JSON.stringify(Counter_abi)))}</p>);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/nearjordan.near/widget/Counter", "fact_widget_deployments_id": "daf02ec216239fc3df97d204d96552fb", "inserted_timestamp": "2024-03-07T05:24:05.087Z", "modified_timestamp": "2024-03-07T05:24:05.087Z", "__row_index": 35}