{"tx_hash": "57W11AdyQBa4g2N9P5gX7sRSEVGm3fMSG2npDjSEDxx2", "action_id_social": "8a88p5QoubeYksjRcFpdTt4DvReM1TfciHquVtoGSmad-0-widget", "block_id": 109236036, "block_timestamp": "2023-12-31T12:09:48.703Z", "signer_id": "petersalomonsen.near", "widget_name": "wasmgitadmin", "source_code": "const [repositoryName, setRepositoryName] = useState(\"\");\nconst [accountId, setAccountId] = useState(\"\");\n\nconst permissionmap = {\n  none: 0x00,\n  owner: 0x01,\n  contributor: 0x02,\n  reader: 0x04,\n};\n\nconst [permission, setPermission] = useState(permissionmap[\"owner\"]);\n\nfunction createRepository() {\n  Near.call(\n    \"wasmgit.near\",\n    \"set_permission\",\n    {\n      path: repositoryName,\n      account_id: accountId,\n      permission: parseInt(\"\" + permission),\n    },\n    undefined,\n    \"100000000000000000000000\"\n  );\n}\nreturn (\n  <>\n    <h3>Set repository permission</h3>\n\n    <h6>Repository name</h6>\n    <input\n      placeholder=\"Repository name\"\n      value={repositoryName}\n      onInput={(e) => setRepositoryName(e.target.value)}\n    ></input>\n\n    <h6>Account id</h6>\n    <input\n      placeholder=\"Account id\"\n      value={accountId}\n      onInput={(e) => setAccountId(e.target.value)}\n    ></input>\n    <h6>Permission</h6>\n    <select value={permission} onChange={(e) => setPermission(e.target.value)}>\n      {Object.keys(permissionmap).map((permissionName) => (\n        <option value={permissionmap[permissionName]}>{permissionName}</option>\n      ))}\n    </select>\n    <br />\n    <button onClick={createRepository}>Create</button>\n  </>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/petersalomonsen.near/widget/wasmgitadmin", "fact_widget_deployments_id": "3b8110c03265f0cf10c6097165c59c81", "inserted_timestamp": "2024-03-07T05:24:05.087Z", "modified_timestamp": "2024-03-07T05:24:05.087Z", "__row_index": 0}