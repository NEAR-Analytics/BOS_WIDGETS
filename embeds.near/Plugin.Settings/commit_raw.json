{"tx_hash": "52prXPdXeysDyZWdKj7ibHyAW4hfSqAHJghJq9GRmcTH", "action_id_social": "4yZTbjsRf3uJjJp8B5ySc2RfvgFfRjyzKPxxzYy3fNzc-0-widget", "block_id": 107225022, "block_timestamp": "2023-12-05T18:52:03.310Z", "signer_id": "embeds.near", "widget_name": "Plugin.Settings", "source_code": "const accountId = context.accountId;\n\nconst installedEmbeds = JSON.parse(\n  Social.get(`${accountId}/settings/every/embed`, \"final\") || \"null\"\n);\n\nif (!installedEmbeds) {\n  return <p>no embeds installed</p>;\n}\n\nconst defaultImage =\n  \"https://ipfs.near.social/ipfs/bafkreihi3qh72njb3ejg7t2mbxuho2vk447kzkvpjtmulsb2njd6m2cfgi\";\n\nreturn (\n  <>\n    {installedEmbeds.map(\n      (\n        embed // EmbedPlugin\n      ) => (\n        <div\n          className=\"card\"\n          style={{\n            maxWidth: \"300px\",\n            height: \"300px\",\n            display: \"flex\",\n            flexDirection: \"column\",\n            justifyContent: \"space-between\",\n            overflow: \"hidden\",\n          }}\n        >\n          <div\n            className=\"card-img-top\"\n            style={{\n              backgroundImage: `url(${defaultImage})`,\n              height: \"80px\",\n              backgroundSize: \"cover\",\n              backgroundPosition: \"center\",\n            }}\n          />\n\n          <div className=\"card-body\">\n            <p>widgetSrc: {embed.widgetSrc}</p>\n            <p>embedSrc: {embed.embedSrc}</p>\n          </div>\n          {context.accountId && (\n            <div\n              className=\"pb-2\"\n              style={{\n                display: \"flex\",\n                justifyContent: \"flex-end\",\n                gap: \"4px\",\n              }}\n            >\n              <button\n                onClick={() =>\n                  Social.set({\n                    settings: {\n                      every: {\n                        embed: installedEmbeds.filter(\n                          (it) => it.widgetSrc !== embed.widgetSrc\n                        ),\n                      },\n                    },\n                  })\n                }\n              >\n                uninstall\n              </button>\n            </div>\n          )}\n        </div>\n      )\n    )}\n  </>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/embeds.near/widget/Plugin.Settings", "fact_widget_deployments_id": "cad15f66b8a841d66fb7058242811264", "inserted_timestamp": "2024-03-07T05:24:05.087Z", "modified_timestamp": "2024-03-07T05:24:05.087Z", "__row_index": 0}