{"tx_hash": "EjyCJLeV3ZJmnxHZXRoUZ63yqzDF78watanusm3G1Zed", "action_id_social": "DN9sv53D3wPgM1z87MsgiaZr7qyMWC18smKsHhKPFgZj-0-widget", "block_id": 117923699, "block_timestamp": "2024-04-30T02:56:50.403Z", "signer_id": "embeds.near", "widget_name": "Plugin.Creator", "source_code": "/**\n * TODO: This should be more generalized.\n * Currently only supports embed plugins\n */\nconst Wrapper = styled.div`\n  max-width: 400px;\n  margin: 0 auto;\n`;\nconst TabContent = styled.div`\n  margin-top: 1rem;\n`;\nconst Form = styled.div`\n  display: flex;\n  flex-direction: column;\n  gap: 4px;\n  width: 100%;\n`;\nconst Label = styled.label`\n  font-weight: bold;\n`;\nconst Input = styled.input`\n  padding: 5px;\n`;\nconst Select = styled.select`\n  padding: 8px;\n`;\nconst FormGroup = styled.div`\n  display: flex;\n  flex-direction: column;\n`;\nconst [name, setName] = useState(\"\");\nconst [description, setDescription] = useState(\"\");\nconst [widgetSrc, setWidgetSrc] = useState(\"\");\nconst [embedSrc, setEmbedSrc] = useState(\"\");\nconst [activeTab, setActiveTab] = useState(\"data\");\nfunction generateUID() {\n  const maxHex = 0xffffffff;\n  const randomNumber = Math.floor(Math.random() * maxHex);\n  return randomNumber.toString(16).padStart(8, \"0\");\n}\nconst handleCreate = () => {\n  Social.set({\n    plugin: {\n      embed: {\n        [generateUID()]: {\n          \"\": JSON.stringify({ widgetSrc, embedSrc }),\n          metadata: {\n            name,\n            description,\n            widgetSrc, // TODO: Hack.\n          },\n        },\n      },\n    },\n  });\n};\nreturn (\n  <Wrapper>\n    <h3>create embed plugin</h3>\n    <ul className=\"nav nav-tabs\">\n      <li className=\"nav-item\">\n        <a\n          className={`nav-link ${activeTab === \"data\" ? \"active\" : \"\"}`}\n          onClick={() => setActiveTab(\"data\")}\n        >\n          Data\n        </a>\n      </li>\n      <li className=\"nav-item\">\n        <a\n          className={`nav-link ${activeTab === \"metadata\" ? \"active\" : \"\"}`}\n          onClick={() => setActiveTab(\"metadata\")}\n        >\n          Metadata\n        </a>\n      </li>\n    </ul>\n    <TabContent>\n      {activeTab === \"data\" && (\n        <Form>\n          <FormGroup>\n            <Label>widget source</Label>\n            <Input\n              type=\"text\"\n              value={widgetSrc}\n              onChange={(e) => setWidgetSrc(e.target.value)}\n            />\n          </FormGroup>\n          <FormGroup>\n            <Label>embed source</Label>\n            <Input\n              type=\"text\"\n              value={embedSrc}\n              onChange={(e) => setEmbedSrc(e.target.value)}\n            />\n          </FormGroup>\n        </Form>\n      )}\n    </TabContent>\n    <TabContent>\n      {activeTab === \"metadata\" && (\n        <Form>\n          <FormGroup>\n            <Label>name</Label>\n            <Input\n              type=\"text\"\n              value={name}\n              onChange={(e) => setName(e.target.value)}\n            />\n          </FormGroup>\n          <FormGroup>\n            <Label>description</Label>\n            <textarea\n              className=\"form-control mb-3\"\n              rows={5}\n              value={description}\n              onChange={(e) => setDescription(e.target.value)}\n            />\n          </FormGroup>\n        </Form>\n      )}\n    </TabContent>\n    <FormGroup>\n      <button className=\"btn btn-success mb-1\" onClick={handleCreate}>\n        Create\n      </button>\n    </FormGroup>\n  </Wrapper>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/embeds.near/widget/Plugin.Creator", "fact_widget_deployments_id": "b90b7eb388fa863900233890550d5ecf", "inserted_timestamp": "2024-04-30T04:40:21.988Z", "modified_timestamp": "2024-04-30T04:40:21.988Z", "__row_index": 0}