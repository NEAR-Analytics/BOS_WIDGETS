{"tx_hash": "4FvU1sDsuKdM6e6p32Gwwvv5uwxwEGaXAbtL88TuGeKr", "action_id_social": "HMs7Sb6cPwELLwLuASvCqHrXjHA95PuQebYagqbMH2W6-0-widget", "block_id": 106938649, "block_timestamp": "2023-12-01T16:20:32.964Z", "signer_id": "embeds.near", "widget_name": "Plugin.Marketplace", "source_code": "const { type, widgetSrc } = props;\n\nconst plugins = Social.keys(`*/plugin/${type || \"*\"}/*`, \"final\", {\n  return_type: \"BlockHeight\",\n});\n\nif (!plugins) {\n  return \"Loading...\";\n}\n\nconst Container = styled.div`\n  margin: 0 auto;\n  padding: 20px;\n  width: 100%;\n  max-width: 1200px;\n\n  a {\n    text-decoration: none;\n    color: inherit;\n  }\n`;\n\nconst Grid = styled.div`\n  display: grid;\n  grid-gap: 10px;\n  grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));\n\n  @media (min-width: 576px) {\n    grid-gap: 15px;\n  }\n\n  @media (min-width: 992px) {\n    grid-gap: 20px;\n  }\n\n  > * {\n    transition: transform 0.3s ease; // Smooth transition for hover effect\n\n    &:hover {\n      transform: scale(1.03); // Subtle scale effect on hover\n    }\n  }\n`;\n\nconst processData = useCallback(\n  (data) => {\n    const accounts = Object.entries(data);\n    const allItems = accounts\n      .map((account) => {\n        const accountId = account[0];\n        const plugins = Object.entries(account[1].plugin.embed);\n        if (plugins.length > 0) {\n          return plugins.map((kv) => {\n            return {\n              accountId,\n              name: kv[0],\n              metadata: Social.get(\n                `${accountId}/plugin/embed/${kv[0]}/metadata/**`,\n                \"final\"\n              ),\n            };\n          });\n        } else {\n          return {\n            accountId,\n            name: account[1].plugin.embed,\n            metadata: Social.get(\n              `${accountId}/plugin/embed/${account[1].plugin.embed}/metadata/**`,\n              \"final\"\n            ),\n          };\n        }\n      })\n      .flat();\n\n    // sort by latest\n    allItems.sort((a, b) => b.blockHeight - a.blockHeight);\n    return allItems;\n  },\n  [type]\n);\n\nconst items = processData(plugins);\n\nif (!items) {\n  return \"Loading data...\";\n}\n\nfunction Item({ accountId, name, metadata }) {\n  return (\n    <Widget\n      src=\"embeds.near/widget/EmbedPlugin\"\n      props={{ accountId, name, type, metadata }}\n    />\n  );\n}\n\nconst [showCreator, setShowCreator] = useState(\"\");\n\nreturn (\n  <Container>\n    <p class=\"d-flex flex-row-reverse\">\n      <button\n        class=\"btn btn-primary\"\n        type=\"button\"\n        data-bs-toggle=\"collapse\"\n        data-bs-target=\"#plugin-creator\"\n        aria-expanded=\"false\"\n        aria-controls=\"plugin-creator\"\n      >\n        <i className=\"bi bi-plus\" /> Create Plugin\n      </button>\n    </p>\n    <div class=\"collapse\" id=\"plugin-creator\">\n      <div class=\"card card-body\">\n        <Widget src=\"embeds.near/widget/Plugin.Creator\" />\n      </div>\n    </div>\n    {items.length === 0 ? (\n      <p>No items of type: \"{type}\" found.</p>\n    ) : (\n      <Widget\n        src=\"everycanvas.near/widget/ItemFeed\"\n        props={{\n          items: items,\n          renderItem: Item,\n          perPage: 100,\n          renderLayout: (items) => <Grid>{items}</Grid>,\n        }}\n      />\n    )}\n  </Container>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/embeds.near/widget/Plugin.Marketplace", "fact_widget_deployments_id": "3dee8fe0f9ccc3fb9df068d9920aed20", "inserted_timestamp": "2024-03-07T05:24:05.087Z", "modified_timestamp": "2024-03-07T05:24:05.087Z", "__row_index": 1}