{"tx_hash": "5S9re2itXGogGqHCMQzL4omE2kC8cbZS55MFfj5V9vpa", "action_id_social": "tTbLaqhJuurpRKk41BNjmVHbhu1yJS7WaTsdociDE8b-0-widget", "block_id": 95522299, "block_timestamp": "2023-07-02T09:44:42.197Z", "signer_id": "pipar.near", "widget_name": "CreateMerchantStore", "source_code": "const ownerId = \"pipar.near\";\n\nif (!context.accountId) {\n  return (\n    <Widget\n      src={`nearhorizon.near/widget/InfoSegment`}\n      props={{\n        title: \"Not logged in!\",\n        description: \"You must log in to create a new store!\",\n      }}\n    />\n  );\n}\n\nconst Container = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  width: 100%;\n  gap: 3em;\n  padding-bottom: 3em;\n`;\n\nconst Header = styled.h1`\n  font-style: normal;\n  font-weight: 700;\n  font-size: 2em;\n  line-height: 1.4em;\n  text-align: center;\n  color: #000000;\n`;\n\nconst SubHeader = styled.h2`\n  font-style: normal;\n  font-weight: 400;\n  font-size: 0.95em;\n  line-height: 1.25em;\n  text-align: center;\n  color: #101828;\n`;\n\nconst Form = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: flex-start;\n  width: 60%;\n  gap: 1em;\n`;\n\nconst FormHeader = styled.h3`\n  box-sizing: border-box;\n  display: flex;\n  flex-direction: row;\n  align-items: flex-start;\n  padding: 0px 0px 0.5em;\n  border-bottom: 1px solid #eceef0;\n  font-style: normal;\n  font-weight: 700;\n  font-size: 1.125em;\n  line-height: 1.25em;\n  color: #000000;\n  width: 100%;\n`;\n\nconst FormFooter = styled.div`\n  display: flex;\n  flex-direction: row-reverse;\n  align-items: center;\n  justify-content: space-between;\n  width: 100%;\n`;\n\nState.init({\n  name: \"\",\n  nameError: \"\",\n  accountId: \"\",\n  accountIdError: \"\",\n  tagline: \"\",\n  taglineError: \"\",\n  description: \"\",\n  descriptionError: \"\",\n  tags: [],\n  tagsError: \"\",\n  website: \"\",\n  websiteError: \"\",\n  geo: \"\",\n  geoError: \"\",\n  accountsWithPermissions: [],\n  accountsWithPermissionsIsFetched: false,\n});\n\nif (!state.accountsWithPermissionsIsFetched) {\n  Near.asyncView(\n    \"social.near\",\n    \"debug_get_permissions\",\n    { account_id: context.accountId },\n    \"final\",\n    false\n  ).then((data) =>\n    State.update({\n      accountsWithPermissions: data\n        .map(([info]) => info)\n        .filter((info) => \"AccountId\" in info)\n        .map(({ AccountId }) => AccountId),\n      accountsWithPermissionsIsFetched: true,\n    })\n  );\n}\n\nconst slideDown = styled.keyframes`\n  from {\n    height: 0;\n  }\n  to {\n    height: var(--radix-collapsible-content-height);\n  }\n`;\n\nconst slideUp = styled.keyframes`\n  from {\n    height: var(--radix-collapsible-content-height);\n  }\n  to {\n    height: 0;\n  }\n`;\n\nconst Hidable = styled(\"Collapsible.Content\")`\n  overflow: hidden;\n\n  &[data-state=\"open\"] {\n    animation: ${slideDown} 0.3s ease-in-out;\n  }\n\n  &[data-state=\"closed\"] {\n    animation: ${slideUp} 0.3s ease-in-out;\n  }\n`;\n\nconst validateForm = () => {\n  return (\n    state.name &&\n    state.nameError === \"\" &&\n    state.accountId &&\n    state.accountIdError === \"\" &&\n    (!state.tagline || state.taglineError === \"\") &&\n    (!state.description || state.descriptionError === \"\") &&\n    (!state.tags || state.tagsError === \"\") &&\n    (!state.website || state.websiteError === \"\") &&\n    (!state.geo || state.geoError === \"\")\n  );\n};\n\nreturn (\n  <Container>\n    <div>\n      <Header>Deploy NFT tokenized store</Header>\n    </div>\n    <Form>\n      <FormHeader>Details</FormHeader>\n    </Form>\n  </Container>\n);\n", "metadata": {"description": "Deploy a tokenised NFT e-commerce store on the Pipar Marketplace", "image": {"ipfs_cid": "bafkreiai5d2evd4f7prwwzraouh7dr4xdxlgrjqw3zbrg2cst5byhzejr4"}, "linktree": {"website": "pipar.xyz"}, "name": "Pipar Merchant Store", "tags": {"e-commerce": "", "nft-marketplace": ""}}, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/pipar.near/widget/CreateMerchantStore", "fact_widget_deployments_id": "e451daee43b5aa16c1c4d4c833c26722", "inserted_timestamp": "2024-03-07T05:24:05.087Z", "modified_timestamp": "2024-03-07T05:24:05.087Z", "__row_index": 0}