{"tx_hash": "FnWSrmL31JYWwswD4wWYQKhHz2n3wTyGsJT6Yoa8qKCK", "action_id_social": "7xH12h18tjDarE7ERrAR54B19tzkfJypWguwrqnkk6ui-0-widget", "block_id": 108277351, "block_timestamp": "2023-12-18T20:39:08.891Z", "signer_id": "palomaetienne.near", "widget_name": "ShortLinkEditor", "source_code": "const accountId = context.accountId;\n\nif (!accountId) {\n  return \"Please sign in with NEAR wallet to edit your page\";\n}\n\nconst defaultPage = \"mob.near/widget/ProfilePage\";\n\nconst page = Social.get(`${accountId}/settings/near.social/MyPage`);\n\nif (page === null) {\n  return \"Loading\";\n}\n\nState.init({\n  page: page ?? defaultPage,\n});\n\nconst resetPage = () => {\n  state.page = defaultPage;\n  State.update();\n};\n\nconst yourPageUrl = `${accountId}.social`;\n\nreturn (\n  <div>\n    <div>\n      <h4>Edit your page</h4>\n      Your short URL:\n      <input disabled value={yourPageUrl} onChange={null} />\n    </div>\n    <div className=\"mb-2\">\n      Widget:\n      <input type=\"text\" value={state.page} placeholder={defaultPage} />\n    </div>\n    <div className=\"mb-2\">\n      <CommitButton\n        data={{ settings: { \"near.social\": { MyPage: state.page } } }}\n      >\n        Save your page\n      </CommitButton>\n      {state.page !== defaultPage && (\n        <button className=\"btn btn-outline-primary ms-2\" onClick={resetPage}>\n          Reset your page\n        </button>\n      )}\n      {page === state.page && (\n        <a className=\"btn btn-outline-primary ms-2\" href={`#/`}>\n          Open your page\n        </a>\n      )}\n    </div>\n    <hr />\n    <div className=\"mb-2\">\n      <Widget src={state.page} props={{ accountId }} />\n    </div>\n  </div>\n);\n", "metadata": {"fork_of": "mob.near/widget/MyPageEditor@78968131"}, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/palomaetienne.near/widget/ShortLinkEditor", "fact_widget_deployments_id": "773c82fd600160dc16f33db132f7f363", "inserted_timestamp": "2023-12-18T22:50:39.874Z", "modified_timestamp": "2023-12-20T03:22:11.422Z", "__row_index": 0}