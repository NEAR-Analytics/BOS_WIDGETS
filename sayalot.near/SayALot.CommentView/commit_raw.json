{"tx_hash": "BKVVyGUZWnaC59sv1dcsXtZWgcXgPzFaz7g99WVoXzE4", "action_id_social": "3395Avi6tABXAVrsTb1PBhaSRx7wzZHrGtUKKgZB2DRh-0-widget", "block_id": 103250619, "block_timestamp": "2023-10-13T03:36:43.585Z", "signer_id": "sayalot.near", "widget_name": "SayALot.CommentView", "source_code": "const {\n  widgets,\n  data,\n  isTest,\n  authorForWidget,\n  isReply,\n  orginalCommentData,\n  canLoggedUserCreateComment,\n  articleSbts,\n} = props;\n\nState.init({\n  showModal: false,\n  hasReply: false,\n});\n\nconst CommentCard = styled.div`\n  margin-left: ${isReply ? \"2rem\" : \"0\"};\n  display: flex;\n  padding: 14px 16px;\n  flex-direction: column;\n  align-items: flex-start;\n  gap: 12px;\n  border-radius: \"10px\"};\n  background: #fff;\n  width: 100%;\n`;\n\nconst CommentCardHeader = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  gap: 8px;\n`;\n\nconst CommentUserContent = styled.div`\n  display: flex;\n  align-items: center;\n  gap: 8px;\n`;\n\nconst ProfileImageComment = styled.img`\n  width: 20px;\n  height: 20px;\n  flex-shrink: 0;\n  border-radius: 20px;\n`;\n\nconst CommentUser = styled.p`\n  color: #000;\n  font-size: 12px;\n  font-weight: 500;\n  line-height: 120%;\n  margin: 0px;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n`;\n\nconst ReplyCounterDiv = styled.div`\n  display: flex;\n  align-items: center;\n  gap: 4px;\n`;\n\nconst ReplyIconPurple = styled.img`\n  width: 14px;\n  height: 14px;\n`;\n\nconst ReplyCounterText = styled.p`\n  color: #000;\n  font-size: 10px;\n  font-weight: 500;\n  margin: 0px;\n`;\n\nconst CommentCardContent = styled.p`\n  color: #585b5c;\n  font-size: 12px;\n  line-height: 18px;\n  display: flex;\n  flex-direction: column;\n  margin: 0px;\n`;\n\nconst CommentCardLowerSection = styled.div`\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  align-items: center;\n  gap: 4px;\n  width: 100%;\n`;\n\nconst TimestampCommentDiv = styled.div`\n  display: flex;\n  align-items: center;\n  gap: 4px;\n  flex: 1 0 0;\n`;\n\nconst TimestampIconComment = styled.img`\n  width: 12px;\n  height: 12px;\n`;\n\nconst TimestampTextComment = styled.p`\n  color: #000;\n  font-size: 10px;\n  font-weight: 300;\n  margin: 0px;\n`;\n\nconst DeleteCommentButton = styled.button`\n  display: flex;\n  width: 28px;\n  padding: 2px 12px;\n  justify-content: center;\n  align-items: center;\n  gap: 6px;\n  align-self: stretch;\n  border-radius: 4px;\n  border: 1px solid #c23f38;\n  background: #f1d6d5;\n`;\n\nconst DeleteCommentIcon = styled.img`\n  width: 14px;\n  height: 14px;\n  flex-shrink: 0;\n`;\n\nconst ShareCommentButton = styled.button`\n  display: flex;\n  width: 28px;\n  height: 28px;\n  padding: 2px 12px;\n  justify-content: center;\n  align-items: center;\n  gap: 6px;\n  border-radius: 4px;\n  border: solid 1px transparent;\n  background-image: linear-gradient(white, white),\n    radial-gradient(circle at top left, #9333ea 0%, #4f46e5 100%);\n  background-origin: border-box;\n  background-clip: padding-box, border-box;\n`;\n\nconst ShareCommentIcon = styled.img`\n  width: 14px;\n  height: 14px;\n  flex-shrink: 0;\n`;\n\nconst ReplyCommentButtonDisabled = styled.div`\n  display: flex;\n  padding: 2px 12px;\n  cursor: not-allowed;\n  background: rgb(195, 202, 206);\n  color: rgb(130, 134, 136);\n  border: 0px;\n  align-items: center;\n  gap: 6px;\n  align-self: stretch;\n  border-radius: 4px;\n`;\n\nconst ReplyCommentButtonActive = styled.div`\n  cursor: pointer;\n  display: flex;\n  padding: 2px 12px;\n  align-items: center;\n  gap: 6px;\n  align-self: stretch;\n  border-radius: 4px;\n  background: var(--buttons-yellow-default, #ffd50d);\n`;\n\nconst ReplyCommentText = styled.p`\n  color: var(--primary-black, #000);\n  font-size: 12px;\n  font-weight: 500;\n  line-height: 24px;\n  margin: 0px;\n`;\n\nconst CommentReplySeparator = styled.hr`\n  height: 0px;\n  margin: 16px 0 16px 0;\n  border: 1px solid rgba(208, 214, 217, 1);\n`;\n\nconst ReplyContainer = styled.div`\n  display: flex;\n  width: 260px;\n  flex-direction: column;\n  align-items: flex-start;\n  gap: 12px;\n  margin: 0 0 0 35px;\n`;\n\nconst ReplyHeader = styled.div`\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  align-self: stretch;\n`;\n\nconst ReplyContent = styled.p`\n  color: #828688;\n  font-size: 12px;\n  line-height: 120%;\n  margin: 0px;\n`;\n\nconst ReplyLowerSection = styled.div`\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n  align-items: center;\n  gap: 4px;\n`;\n\nconst ReplyButtonSection = styled.div`\n  display: flex;\n  justify-content: flex-end;\n  align-items: center;\n  gap: 4px;\n`;\n\nconst DeleteReplyButton = styled.button`\n  display: flex;\n  padding: 2px 12px;\n  align-items: center;\n  gap: 6px;\n  align-self: stretch;\n  border-radius: 4px;\n  border: 1px solid #c23f38;\n  background: #f1d6d5;\n`;\n\nconst DeleteReplyText = styled.p`\n  color: #c23f38;\n  font-size: 12px;\n  font-weight: 500;\n  line-height: 24px;\n  margin: 0px;\n`;\n\nconst AnswerContainer = styled.div`\n  width: 96%;;\n`;\n\nfunction closeModal() {\n  State.update({ showModal: false });\n}\n\nreturn (\n  <>\n    <CommentCard>\n      <CommentCardHeader>\n        <CommentUserContent>\n          <Widget\n            src={widgets.newStyledComponents.Element.User}\n            props={{\n              accountId: data.originalComment.accountId,\n              options: {\n                showHumanBadge: true,\n                showImage: true,\n                showSocialName: true,\n                shortenLength: 15,\n                size: \"md\",\n              },\n            }}\n          />\n        </CommentUserContent>\n      </CommentCardHeader>\n      <CommentCardContent>\n        <Widget\n          src=\"mob.near/widget/SocialMarkdown\"\n          props={{ text: data.originalComment.value.comment.text }}\n        />\n      </CommentCardContent>\n      <CommentCardLowerSection>\n        <TimestampCommentDiv>\n          <i className=\"bi bi-clock\" />\n          <TimestampTextComment>\n            {new Date(\n              data.originalComment.value.comment.timestamp\n            ).toDateString()}\n          </TimestampTextComment>\n        </TimestampCommentDiv>\n        <div>\n          {state.showModal && (\n            <Widget\n              src={widgets.addComment}\n              props={{\n                article: articleToRenderData,\n                originalComment: orginalCommentData ?? data,\n                widgets,\n                isTest,\n                replyingTo: data.originalComment.accountId,\n                placement: \"bottom\",\n                onCloseModal: closeModal,\n                // nomination_contract,\n              }}\n            />\n          )}\n          {articleSbts.length > 0 && (\n            <>\n              <Widget\n                src={widgets.newStyledComponents.Input.Button}\n                props={{\n                  children: (\n                    <div className=\"d-flex align-items-center justify-content-center\">\n                      <span className=\"mx-1\">Reply</span>\n                      <i className=\"bi bi bi-reply\"></i>\n                    </div>\n                  ),\n                  disabled: !canLoggedUserCreateComment[articleSbts[0]],\n                  size: \"sm\",\n                  className: \"info outline\",\n                  onClick: () => {\n                    canLoggedUserCreateComment[articleSbts[0]] &&\n                      State.update({ showModal: true });\n                  },\n                }}\n              />\n            </>\n          )}\n        </div>\n        <Widget\n          src={widgets.reactions}\n          props={{\n            isTest,\n            authorForWidget,\n            elementReactedId: data.originalComment.value.comment.commentId,\n            widgets,\n            articleSbts,\n            disabled: !canLoggedUserCreateComment[articleSbts[0]],\n          }}\n        />\n      </CommentCardLowerSection>\n    </CommentCard>\n    {!isReply && (\n      <>\n        {data.answers.length > 0 && (\n          <i className=\"bi bi-arrow-return-right\"></i>\n        )}\n        {data.answers.map((answer) => {\n          return (\n            <AnswerContainer>\n              <Widget\n                src={widgets.commentView}\n                props={{\n                  widgets,\n                  data: { originalComment: answer },\n                  orginalCommentData: data,\n                  isTest,\n                  authorForWidget,\n                  isReply: true,\n                }}\n              />\n            </AnswerContainer>\n          );\n        })}\n      </>\n    )}\n  </>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/sayalot.near/widget/SayALot.CommentView", "fact_widget_deployments_id": "3a8f260a753b61dcf8d5a7c230467951", "inserted_timestamp": "2023-10-13T05:27:57.438Z", "modified_timestamp": "2023-10-13T05:27:57.438Z", "__row_index": 10}