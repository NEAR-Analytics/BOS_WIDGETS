{"tx_hash": "DSwcvQMPedJbH9G8FzwhVXYvibyw9VMqP4jiqrAaPWZd", "action_id_social": "5iS9nKB8MyBe2Qr2MXqL5GKjx7oWfsVmkaiUUtUN7pNE-0-widget", "block_id": 126819247, "block_timestamp": "2024-08-29T12:33:22.596Z", "signer_id": "bos.forum.potlock.near", "widget_name": "core.common", "source_code": "const RFP_TIMELINE_STATUS = {\n  ACCEPTING_SUBMISSIONS: \"ACCEPTING_SUBMISSIONS\",\n  EVALUATION: \"EVALUATION\",\n  PROPOSAL_SELECTED: \"PROPOSAL_SELECTED\",\n  CANCELLED: \"CANCELLED\",\n};\nconst PROPOSAL_TIMELINE_STATUS = {\n  DRAFT: \"DRAFT\",\n  REVIEW: \"REVIEW\",\n  APPROVED: \"APPROVED\",\n  REJECTED: \"REJECTED\",\n  CANCELED: \"CANCELLED\",\n  APPROVED_CONDITIONALLY: \"APPROVED_CONDITIONALLY\",\n  PAYMENT_PROCESSING: \"PAYMENT_PROCESSING\",\n  FUNDED: \"FUNDED\",\n};\nconst QUERYAPI_ENDPOINT = `https://near-queryapi.api.pagoda.co/v1/graphql`;\nasync function fetchGraphQL(operationsDoc, operationName, variables) {\n  return asyncFetch(QUERYAPI_ENDPOINT, {\n    method: \"POST\",\n    headers: { \"x-hasura-role\": \"bos_forum_potlock_near\" },\n    body: JSON.stringify({\n      query: operationsDoc,\n      variables: variables,\n      operationName: operationName,\n    }),\n  });\n}\nconst CANCEL_RFP_OPTIONS = {\n  CANCEL_PROPOSALS: \"CANCEL_PROPOSALS\",\n  UNLINK_PROPOSALS: \"UNLINK_PROPOSALSS\",\n  NONE: \"NONE\",\n};\nfunction parseJSON(json) {\n  if (typeof json === \"string\") {\n    try {\n      return JSON.parse(json);\n    } catch (error) {\n      return json;\n    }\n  } else {\n    return json;\n  }\n}\nfunction isNumber(value) {\n  return typeof value === \"number\";\n}\nconst PROPOSALS_APPROVED_STATUS_ARRAY = [\n  PROPOSAL_TIMELINE_STATUS.APPROVED,\n  PROPOSAL_TIMELINE_STATUS.APPROVED_CONDITIONALLY,\n  PROPOSAL_TIMELINE_STATUS.PAYMENT_PROCESSING,\n  PROPOSAL_TIMELINE_STATUS.FUNDED,\n];\nfunction getLinkUsingCurrentGateway(url) {\n  const data = fetch(`https://httpbin.org/headers`);\n  const gatewayURL = data?.body?.headers?.Origin ?? \"\";\n  return `https://${\n    gatewayURL.includes(\"near.org\") ? \"dev.near.org\" : \"near.social\"\n  }/${url}`;\n}\nconst data = fetch(`https://httpbin.org/headers`);\nconst gatewayOrigin = data?.body?.headers?.Origin ?? \"\";\nconst isPotlock =\n  gatewayOrigin.includes(\"localhost\") ||\n  gatewayOrigin.includes(\"127.0.0.1\") ||\n  gatewayOrigin.includes(\"aipgf.com\");\nreturn {\n  isPotlock,\n  RFP_TIMELINE_STATUS,\n  PROPOSAL_TIMELINE_STATUS,\n  fetchGraphQL,\n  CANCEL_RFP_OPTIONS,\n  parseJSON,\n  isNumber,\n  PROPOSALS_APPROVED_STATUS_ARRAY,\n  getLinkUsingCurrentGateway,\n};\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/bos.forum.potlock.near/widget/core.common", "fact_widget_deployments_id": "31e19e00263158cf1de0c33baae7a76e", "inserted_timestamp": "2024-08-29T13:55:18.255Z", "modified_timestamp": "2024-08-31T19:26:00.638Z", "__row_index": 5}