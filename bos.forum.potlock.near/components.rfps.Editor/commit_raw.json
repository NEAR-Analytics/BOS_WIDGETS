{"tx_hash": "CCWnp1Y6e7EudLdgHxp5bC1zcATvimoswUNeLMEZhtk7", "action_id_social": "CzWosY6UGXf7WXhBNhM2FCZm1mjsvc2uaBTA2pNpGmfq-0-widget", "block_id": 126194313, "block_timestamp": "2024-08-20T19:11:42.143Z", "signer_id": "bos.forum.potlock.near", "widget_name": "components.rfps.Editor", "source_code": "const { RFP_TIMELINE_STATUS, parseJSON } = VM.require(\n  `bos.forum.potlock.near/widget/core.common`\n) || { RFP_TIMELINE_STATUS: {}, parseJSON: () => {} };\nconst { href } = VM.require(`devhub.near/widget/core.lib.url`);\nconst draftKey = \"AI_PGF_RFP_EDIT\";\nhref || (href = () => {});\nconst { getGlobalLabels } = VM.require(\n  `bos.forum.potlock.near/widget/components.core.lib.contract`\n) || { getGlobalLabels: () => {} };\nconst { id, timestamp } = props;\nconst isEditPage = typeof id === \"string\";\nconst author = context.accountId;\nconst ToCDocs = \"https://aipgf.com/terms\";\nconst CoCDocs = \"https://aipgf.com/conduct\";\nconst rfpLabelOptions = getGlobalLabels();\nconst isAllowedToWriteRfp = Near.view(\n  \"forum.potlock.near\",\n  \"is_allowed_to_write_rfps\",\n  {\n    editor: context.accountId,\n  }\n);\nif (!author || !isAllowedToWriteRfp) {\n  return (\n    <Widget\n      src={`bos.forum.potlock.near/widget/components.molecule.LoginScreen`}\n    />\n  );\n}\nlet editRfpData = null;\nlet draftRfpData = null;\nif (isEditPage) {\n  editRfpData = Near.view(`forum.potlock.near`, \"get_rfp\", {\n    rfp_id: parseInt(id),\n  });\n}\nconst Container = styled.div`\n  input {\n    font-size: 14px !important;\n  }\n  .card.no-border {\n    border-left: none !important;\n    border-right: none !important;\n    margin-bottom: -3.5rem;\n  }\n  textarea {\n    font-size: 14px !important;\n  }\n  .full-width-div {\n    width: 100vw;\n    position: relative;\n    left: 50%;\n    right: 50%;\n    margin-left: -50vw;\n    margin-right: -50vw;\n  }\n  .text-sm {\n    font-size: 13px;\n  }\n  .h5 {\n    font-size: 18px !important;\n  }\n  @media screen and (max-width: 768px) {\n    .h6 {\n      font-size: 14px !important;\n    }\n    .h5 {\n      font-size: 16px !important;\n    }\n    .text-sm {\n      font-size: 11px;\n    }\n    .gap-6 {\n      gap: 0.5rem !important;\n    }\n  }\n  .border-bottom {\n    border-bottom: var(--bs-card-border-width) solid var(--bs-card-border-color);\n  }\n  .text-xs {\n    font-size: 10px;\n  }\n  .flex-2 {\n    flex: 2;\n  }\n  .flex-1 {\n    flex: 1;\n  }\n  .bg-grey {\n    background-color: #ffffff;\n  }\n  .border-bottom {\n    border-bottom: 1px solid grey;\n  }\n  .cursor-pointer {\n    cursor: pointer;\n  }\n  .border-1 {\n    border: 1px solid #e2e6ec;\n  }\n  .black-btn {\n    background-color: #000 !important;\n    border: none;\n    color: white;\n    &:active {\n      color: white;\n    }\n  }\n  .dropdown-toggle:after {\n    position: absolute;\n    top: 46%;\n    right: 5%;\n  }\n  .drop-btn {\n    max-width: none !important;\n  }\n  .dropdown-menu {\n    width: 100%;\n    border-radius: 0.375rem !important;\n  }\n  .input-icon {\n    display: flex;\n    height: 100%;\n    align-items: center;\n    border-right: 1px solid #dee2e6;\n    padding-right: 10px;\n  }\n  /* Tooltip container */\n  .custom-tooltip {\n    position: relative;\n    display: inline-block;\n  }\n  /* Tooltip text */\n  .custom-tooltip .tooltiptext {\n    visibility: hidden;\n    width: 250px;\n    background-color: #fff;\n    color: #6c757d;\n    text-align: center;\n    padding: 10px;\n    border-radius: 6px;\n    font-size: 12px;\n    border: 0.2px solid #6c757d;\n    /* Position the tooltip text */\n    position: absolute;\n    z-index: 1;\n    bottom: 125%;\n    left: -30px;\n    /* Fade in tooltip */\n    opacity: 0;\n    transition: opacity 0.3s;\n  }\n  /* Tooltip arrow */\n  .custom-tooltip .tooltiptext::after {\n    content: \"\";\n    position: absolute;\n    top: 100%;\n    left: 15%;\n    margin-left: -5px;\n    border-width: 5px;\n    border-style: solid;\n    border-color: #555 transparent transparent transparent;\n  }\n  /* Show the tooltip text when you mouse over the tooltip container */\n  .custom-tooltip:hover .tooltiptext {\n    visibility: visible;\n    opacity: 1;\n  }\n  .form-check-input:checked {\n    background-color: #04a46e !important;\n    border-color: #04a46e !important;\n  }\n  .gap-6 {\n    gap: 2.5rem;\n  }\n  a.no-space {\n    display: inline-block;\n  }\n  .fw-light-bold {\n    font-weight: 600 !important;\n  }\n  .disabled .circle {\n    opacity: 0.5;\n  }\n  .circle {\n    width: 6px;\n    height: 6px;\n    border-radius: 50%;\n  }\n  .grey {\n    background-color: #818181;\n  }\n  @media screen and (max-width: 970px) {\n    .gap-6 {\n      gap: 1.5rem !important;\n    }\n  }\n  @media screen and (max-width: 570px) {\n    .gap-6 {\n      gap: 0.5rem !important;\n    }\n  }\n`;\nconst Heading = styled.div`\n  font-size: 24px;\n  font-weight: 700;\n  @media screen and (max-width: 768px) {\n    font-size: 18px;\n  }\n`;\nfunction getTimestamp(date) {\n  // in nanoseconds\n  const parsedDate = date ? new Date(date) : new Date();\n  return Math.floor(parsedDate.getTime() * 1000000).toString();\n}\nfunction getDate(timestamp) {\n  const stamp =\n    !timestamp || timestamp === \"0\" || timestamp === \"NaN\" ? null : timestamp;\n  return new Date(parseFloat(stamp / 1000000)).toISOString().split(\"T\")[0];\n}\nconst [labels, setLabels] = useState([]);\nconst [title, setTitle] = useState(null);\nconst [description, setDescription] = useState(null);\nconst [summary, setSummary] = useState(null);\nconst [consent, setConsent] = useState({ toc: false, coc: false });\nconst [submissionDeadline, setSubmissionDeadline] = useState(null);\nconst [allowDraft, setAllowDraft] = useState(true);\nconst [loading, setLoading] = useState(true);\nconst [disabledSubmitBtn, setDisabledSubmitBtn] = useState(false);\nconst [isDraftBtnOpen, setDraftBtnOpen] = useState(false);\nconst [showRfpViewModal, setShowRfpViewModal] = useState(false); // when user creates/edit a RFP and confirm the txn, this is true\nconst [rfpId, setRfpId] = useState(null);\nconst [rfpIdsArray, setRfpIdsArray] = useState(null);\nconst [isTxnCreated, setCreateTxn] = useState(false);\nconst [oldRfpData, setOldRfpData] = useState(null);\nconst [timeline, setTimeline] = useState(null);\nconst [isCancelModalOpen, setCancelModal] = useState(false);\nuseEffect(() => {\n  if (!timeline) {\n    setTimeline({\n      status: RFP_TIMELINE_STATUS.ACCEPTING_SUBMISSIONS,\n    });\n  }\n}, [RFP_TIMELINE_STATUS]);\nif (allowDraft) {\n  draftRfpData = Storage.privateGet(draftKey);\n}\nconst memoizedDraftData = useMemo(\n  () => ({\n    id: editRfpData.id ?? null,\n    snapshot: {\n      name: title,\n      description: description,\n      labels: labels,\n      summary: summary,\n      submission_deadline: getTimestamp(submissionDeadline),\n    },\n  }),\n  [title, summary, description, submissionDeadline, labels]\n);\nuseEffect(() => {\n  if (allowDraft) {\n    let data = editRfpData || JSON.parse(draftRfpData);\n    let snapshot = data.snapshot;\n    if (data) {\n      if (timestamp) {\n        snapshot =\n          data.snapshot_history.find((item) => item.timestamp === timestamp) ??\n          data.snapshot;\n      }\n      if (\n        draftRfpData &&\n        editRfpData &&\n        editRfpData.id === JSON.parse(draftRfpData).id\n      ) {\n        snapshot = {\n          ...editRfpData.snapshot,\n          ...JSON.parse(draftRfpData).snapshot,\n        };\n      }\n      setRfpId(data.id);\n      setLabels(snapshot.labels);\n      setTitle(snapshot.name);\n      setSummary(snapshot.summary);\n      setDescription(snapshot.description);\n      setSubmissionDeadline(getDate(snapshot.submission_deadline));\n      setTimeline(\n        Object.keys(parseJSON(snapshot.timeline))\n          ? parseJSON(snapshot.timeline)\n          : { status: RFP_TIMELINE_STATUS.ACCEPTING_SUBMISSIONS }\n      );\n      if (isEditPage) {\n        setConsent({ toc: true, coc: true });\n      }\n    }\n  }\n}, [editRfpData, draftRfpData, allowDraft]);\n// show loader until LS data is set in state\nuseEffect(() => {\n  const handler = setTimeout(() => {\n    setAllowDraft(false);\n    setLoading(false);\n  }, 200);\n  return () => clearTimeout(handler);\n}, []);\nuseEffect(() => {\n  if (showRfpViewModal) {\n    return;\n  }\n  setDisabledSubmitBtn(\n    !title ||\n      !description ||\n      !summary ||\n      !(labels ?? []).length ||\n      !submissionDeadline ||\n      !consent.toc ||\n      !consent.coc\n  );\n  const handler = setTimeout(() => {\n    Storage.privateSet(draftKey, JSON.stringify(memoizedDraftData));\n  }, 10000);\n  return () => clearTimeout(handler);\n}, [\n  memoizedDraftData,\n  draftKey,\n  draftRfpData,\n  consent,\n  isTxnCreated,\n  showRfpViewModal,\n]);\nconst InputContainer = ({ heading, description, children }) => {\n  return (\n    <div className=\"d-flex flex-column gap-1 gap-sm-2 w-100\">\n      <b className=\"h6 mb-0\">{heading}</b>\n      {description && (\n        <div className=\"text-muted w-100 text-sm\">{description}</div>\n      )}\n      {children}\n    </div>\n  );\n};\n// show RFP created after txn approval for popup wallet\nuseEffect(() => {\n  if (isTxnCreated) {\n    if (editRfpData) {\n      setOldRfpData(editRfpData);\n      if (\n        editRfpData &&\n        typeof editRfpData === \"object\" &&\n        oldRfpData &&\n        typeof oldRfpData === \"object\" &&\n        JSON.stringify(editRfpData) !== JSON.stringify(oldRfpData)\n      ) {\n        setCreateTxn(false);\n        setRfpId(editRfpData.id);\n        setShowRfpViewModal(true);\n      }\n    } else {\n      const rfpIds = Near.view(\"forum.potlock.near\", \"get_all_rfp_ids\");\n      if (Array.isArray(rfpIds) && !rfpIdsArray) {\n        setRfpIdsArray(rfpIds);\n      }\n      if (\n        Array.isArray(rfpIds) &&\n        Array.isArray(rfpIdsArray) &&\n        rfpIds.length !== rfpIdsArray.length\n      ) {\n        setCreateTxn(false);\n        setRfpId(rfpIds[rfpIds.length - 1]);\n        setShowRfpViewModal(true);\n      }\n    }\n  }\n});\nuseEffect(() => {\n  if (props.transactionHashes) {\n    setLoading(true);\n    useCache(\n      () =>\n        asyncFetch(\"https://rpc.mainnet.near.org\", {\n          method: \"POST\",\n          headers: {\n            \"content-type\": \"application/json\",\n          },\n          body: JSON.stringify({\n            jsonrpc: \"2.0\",\n            id: \"dontcare\",\n            method: \"tx\",\n            params: [props.transactionHashes, context.accountId],\n          }),\n        }).then((transaction) => {\n          const transaction_method_name =\n            transaction?.body?.result?.transaction?.actions[0].FunctionCall\n              .method_name;\n          const is_edit_or_add_rfp_transaction =\n            transaction_method_name == \"add_rfp\" ||\n            transaction_method_name == \"edit_rfp\";\n          if (is_edit_or_add_rfp_transaction) {\n            setShowRfpViewModal(true);\n            Storage.privateSet(draftKey, null);\n          }\n          // show the latest created rfp to user\n          if (transaction_method_name == \"add_rfp\") {\n            useCache(\n              () =>\n                Near.asyncView(\"forum.potlock.near\", \"get_all_rfp_ids\").then(\n                  (rfpIdsArray) => {\n                    setRfpId(rfpIdsArray?.[rfpIdsArray?.length - 1]);\n                  }\n                ),\n              props.transactionHashes + \"rfpIds\",\n              { subscribe: false }\n            );\n          } else {\n            setRfpId(id);\n          }\n          setLoading(false);\n        }),\n      props.transactionHashes + context.accountId,\n      { subscribe: false }\n    );\n  } else {\n    if (showRfpViewModal) {\n      setShowRfpViewModal(false);\n    }\n  }\n}, [props.transactionHashes]);\nconst LoadingButtonSpinner = (\n  <span\n    className=\"submit-rfp-loading-indicator spinner-border spinner-border-sm\"\n    role=\"status\"\n    aria-hidden=\"true\"\n  ></span>\n);\nconst onSubmit = () => {\n  setCreateTxn(true);\n  const body = {\n    rfp_body_version: \"V0\",\n    name: title,\n    description: description,\n    summary: summary,\n    submission_deadline: getTimestamp(submissionDeadline),\n    timeline: timeline,\n  };\n  const args = { labels: (labels ?? []).map((i) => i.value), body: body };\n  if (isEditPage) {\n    args[\"id\"] = editRfpData.id;\n  }\n  Near.call([\n    {\n      contractName: \"forum.potlock.near\",\n      methodName: isEditPage ? \"edit_rfp\" : \"add_rfp\",\n      args: args,\n      gas: 270000000000000,\n      deposit: \"100000000000000000000000\",\n    },\n  ]);\n};\nfunction cleanDraft() {\n  Storage.privateSet(draftKey, null);\n}\nif (loading) {\n  return (\n    <div\n      style={{ height: \"50vh\" }}\n      className=\"d-flex justify-content-center align-items-center w-100\"\n    >\n      <Widget src={`devhub.near/widget/devhub.components.molecule.Spinner`} />\n    </div>\n  );\n}\nconst [collapseState, setCollapseState] = useState({});\nconst CollapsibleContainer = ({ title, children, noPaddingTop }) => {\n  return (\n    <div\n      className={\n        \"border-bottom py-4 \" +\n        (noPaddingTop && \"pt-0 \") +\n        (collapseState[title] && \" pb-0\")\n      }\n    >\n      <div className={\"d-flex justify-content-between \"}>\n        <div className=\"h5 text-muted mb-2 mb-sm-3\">{title}</div>\n        <div\n          className=\"d-flex d-sm-none cursor-pointer\"\n          onClick={() =>\n            setCollapseState((prevState) => ({\n              ...prevState,\n              [title]: !prevState[title],\n            }))\n          }\n        >\n          {!collapseState[title] ? (\n            <i className=\"bi bi-chevron-up h4\"></i>\n          ) : (\n            <i className=\"bi bi-chevron-down h4\"></i>\n          )}\n        </div>\n      </div>\n      <div className={!collapseState[title] ? \"\" : \"d-none\"}>{children}</div>\n    </div>\n  );\n};\nconst CategoryDropdown = useMemo(() => {\n  return (\n    <Widget\n      src={`bos.forum.potlock.near/widget/components.molecule.MultiSelectCategoryDropdown`}\n      props={{\n        selected: labels,\n        onChange: (v) => setLabels(v),\n        disabled: false,\n        availableOptions: rfpLabelOptions,\n      }}\n    />\n  );\n}, [draftRfpData]);\nconst TitleComponent = useMemo(() => {\n  return (\n    <Widget\n      src={`devhub.near/widget/devhub.components.molecule.Input`}\n      props={{\n        className: \"flex-grow-1\",\n        value: title,\n        onBlur: (e) => {\n          setTitle(e.target.value);\n        },\n        skipPaddingGap: true,\n        inputProps: {\n          max: 80,\n        },\n      }}\n    />\n  );\n}, [draftRfpData]);\nconst SummaryComponent = useMemo(() => {\n  return (\n    <Widget\n      src={`devhub.near/widget/devhub.components.molecule.Input`}\n      props={{\n        className: \"flex-grow-1\",\n        value: summary,\n        multiline: true,\n        onBlur: (e) => {\n          setSummary(e.target.value);\n        },\n        skipPaddingGap: true,\n        inputProps: {\n          max: 500,\n        },\n      }}\n    />\n  );\n}, [draftRfpData]);\nconst DescriptionComponent = useMemo(() => {\n  return (\n    <Widget\n      src={`bos.forum.potlock.near/widget/components.molecule.Compose`}\n      props={{\n        data: description,\n        onChange: setDescription,\n        autocompleteEnabled: true,\n        autoFocus: false,\n      }}\n    />\n  );\n}, [draftRfpData]);\nconst ConsentComponent = useMemo(() => {\n  return (\n    <div className=\"d-flex flex-column gap-2\">\n      <Widget\n        src={`devhub.near/widget/devhub.components.molecule.Checkbox`}\n        props={{\n          value: \"toc\",\n          label: (\n            <>\n              I\u2019ve agree to{\" \"}\n              <a\n                href={ToCDocs}\n                className=\"text-decoration-underline\"\n                target=\"_blank\"\n                rel=\"noopener noreferrer\"\n              >\n                AI PGF's Terms and Conditions\n              </a>\n              and commit to honoring it\n            </>\n          ),\n          isChecked: consent.toc,\n          onClick: (value) =>\n            setConsent((prevConsent) => ({\n              ...prevConsent,\n              toc: value,\n            })),\n        }}\n      />\n      <Widget\n        src={`devhub.near/widget/devhub.components.molecule.Checkbox`}\n        props={{\n          value: \"coc\",\n          label: (\n            <>\n              I\u2019ve read{\" \"}\n              <a\n                href={CoCDocs}\n                className=\"text-decoration-underline\"\n                target=\"_blank\"\n                rel=\"noopener noreferrer\"\n              >\n                AI PGF's Code of Conduct\n              </a>\n              and commit to honoring it\n            </>\n          ),\n          isChecked: consent.coc,\n          onClick: (value) =>\n            setConsent((prevConsent) => ({\n              ...prevConsent,\n              coc: value,\n            })),\n        }}\n      />\n    </div>\n  );\n}, [draftRfpData]);\nconst SubmissionDeadline = useMemo(() => {\n  return (\n    <Widget\n      src={`devhub.near/widget/devhub.components.molecule.Input`}\n      props={{\n        className: \"flex-grow-1\",\n        value: submissionDeadline,\n        onBlur: (e) => {\n          setSubmissionDeadline(e.target.value);\n        },\n        skipPaddingGap: true,\n        type: \"date\",\n        inputProps: {\n          required: true,\n        },\n      }}\n    />\n  );\n}, [draftRfpData]);\nreturn (\n  <Container className=\"w-100 py-2 px-0 px-sm-2 d-flex flex-column gap-3\">\n    <Widget\n      src={`bos.forum.potlock.near/widget/components.rfps.ViewRfpModal`}\n      props={{\n        isOpen: showRfpViewModal,\n        isEdit: isEditPage,\n        rfpId: rfpId,\n      }}\n    />\n    <Widget\n      src={`bos.forum.potlock.near/widget/components.rfps.ConfirmCancelModal`}\n      props={{\n        isOpen: isCancelModalOpen,\n        onCancelClick: () => {\n          setCancelModal(false);\n          setTimeline({ status: RFP_TIMELINE_STATUS.EVALUATION });\n        },\n        onConfirmClick: (value) => {\n          setCancelModal(false);\n          onCancelRFP(value);\n        },\n        linkedProposalIds: editRfpData.snapshot.linked_proposals,\n      }}\n    />\n    <Widget\n      src={`bos.forum.potlock.near/widget/components.rfps.WarningModal`}\n      props={{\n        isOpen: isWarningModalOpen,\n        onConfirmClick: () => {\n          setWarningModal(false);\n          setTimeline({ status: RFP_TIMELINE_STATUS.EVALUATION });\n        },\n      }}\n    />\n    <Heading className=\"px-2 px-sm-0\">\n      {isEditPage ? \"Edit\" : \"Create\"} RFP\n    </Heading>\n    <div className=\"card no-border rounded-0 px-2 p-lg-0 full-width-div\">\n      <div className=\"container-xl py-4 d-flex flex-wrap gap-6 w-100\">\n        <div\n          style={{ minWidth: \"350px\" }}\n          className=\"flex-2 w-100 order-2 order-md-1\"\n        >\n          <div className=\"d-flex gap-3 w-100\">\n            <div className=\"d-none d-sm-flex\" style={{ height: \"max-content\" }}>\n              <Widget\n                src={`bos.forum.potlock.near/widget/components.molecule.Profile`}\n                props={{\n                  accountId: author,\n                }}\n              />\n            </div>\n            <div className=\"d-flex flex-column gap-4 w-100\">\n              <InputContainer\n                heading=\"Category\"\n                description={\n                  <>\n                    Select the relevant categories to help users quickly\n                    understand the nature of the need.\n                  </>\n                }\n              >\n                {CategoryDropdown}\n              </InputContainer>\n              <InputContainer\n                heading=\"Title\"\n                description=\"Highlight the essence of your RFP in a few words. This will appear on your RFP\u2019s detail page and the main RFP feed. Keep it short, please :)\"\n              >\n                {TitleComponent}\n              </InputContainer>\n              <InputContainer\n                heading=\"Summary\"\n                description=\"Explain your RFP briefly. What is the problem or need, desired outcome, and benefit to the NEAR developer community.\"\n              >\n                {SummaryComponent}\n              </InputContainer>\n              <InputContainer\n                heading=\"Description\"\n                description={\n                  \"Expand on your summary with any relevant details like a detailed explanation of the problem and the expected solution, scope, and deliverables. Also include an estimate range for the project if you have a specific budget. And the selection criteria.\"\n                }\n              >\n                {DescriptionComponent}\n              </InputContainer>\n              <InputContainer heading=\"Final Consent\">\n                {ConsentComponent}\n              </InputContainer>\n              <div className=\"d-flex justify-content-end gap-2 align-items-center\">\n                <Link\n                  to={\n                    isEditPage\n                      ? href({\n                          widgetSrc: `bos.forum.potlock.near/widget/app`,\n                          params: {\n                            page: \"rfp\",\n                            id: parseInt(id),\n                          },\n                        })\n                      : href({\n                          widgetSrc: `bos.forum.potlock.near/widget/app`,\n                          params: {\n                            page: \"rfps\",\n                          },\n                        })\n                  }\n                >\n                  <Widget\n                    src={`devhub.near/widget/devhub.components.molecule.Button`}\n                    props={{\n                      classNames: {\n                        root: \"d-flex h-100 text-muted fw-bold btn-outline shadow-none border-0 btn-sm\",\n                      },\n                      label: \"Discard Changes\",\n                      onClick: cleanDraft,\n                    }}\n                  />\n                </Link>\n                <Widget\n                  src={`devhub.near/widget/devhub.components.molecule.Button`}\n                  props={{\n                    classNames: {\n                      root: \"d-flex h-100 fw-light-bold btn-outline shadow-none border-1\",\n                    },\n                    label: (\n                      <div className=\"d-flex align-items-center gap-2\">\n                        <div className=\"circle grey\"></div> <div>Submit</div>\n                      </div>\n                    ),\n                    onClick: onSubmit,\n                    disabled: disabledSubmitBtn,\n                  }}\n                />\n              </div>\n            </div>\n          </div>\n        </div>\n        <div\n          style={{ minWidth: \"350px\" }}\n          className=\"flex-1 w-100 order-1 order-md-2\"\n        >\n          <CollapsibleContainer noPaddingTop={true}>\n            <div className=\"d-flex flex-column gap-3 gap-sm-4\">\n              <InputContainer\n                heading=\"Submission Deadline\"\n                description=\"Enter the deadline for submitting proposals.\"\n              >\n                {SubmissionDeadline}\n              </InputContainer>\n            </div>\n          </CollapsibleContainer>\n          <div className=\"my-2\">\n            <CollapsibleContainer title=\"Timeline\">\n              <Widget\n                src={`bos.forum.potlock.near/widget/components.rfps.TimelineConfigurator`}\n                props={{\n                  timeline: timeline,\n                  setTimeline: (v) => {\n                    if (editRfpData.snapshot.timeline.status === v.status) {\n                      return;\n                    }\n                    // if proposal selected timeline is selected and no approved proposals exist, show warning\n                    if (\n                      v.status === RFP_TIMELINE_STATUS.PROPOSAL_SELECTED &&\n                      Array.isArray(approvedProposals) &&\n                      !approvedProposals.length\n                    ) {\n                      setWarningModal(true);\n                    }\n                    if (v.status === RFP_TIMELINE_STATUS.CANCELLED) {\n                      setCancelModal(true);\n                    }\n                    setTimeline(v);\n                  },\n                  disabled: isEditPage ? false : true,\n                }}\n              />\n            </CollapsibleContainer>\n          </div>\n        </div>\n      </div>\n    </div>\n  </Container>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/bos.forum.potlock.near/widget/components.rfps.Editor", "fact_widget_deployments_id": "dcd46de7a28386bf5ca3973160016068", "inserted_timestamp": "2024-08-20T20:54:52.860Z", "modified_timestamp": "2024-08-20T20:54:52.860Z", "__row_index": 1}