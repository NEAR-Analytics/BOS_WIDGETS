{"tx_hash": "Cn8dq6KB2BdtRQ7mu8Zu5Sb5jirD5sKAngXZfLfwL7fj", "action_id_social": "7pDfM2UgB5eWu5gGZ8sS1WquMndaYkQKmH8kPZ2jdcyY-0-widget", "block_id": 126181866, "block_timestamp": "2024-08-20T14:56:30.703Z", "signer_id": "bos.forum.potlock.near", "widget_name": "app", "source_code": "/**\n * This is the main entry point for the RFP application.\n * Page route gets passed in through params, along with all other page props.\n */\nconst { page, ...passProps } = props;\n// Import our modules\nconst { AppLayout } = VM.require(\n  `bos.forum.potlock.near/widget/components.template.AppLayout`\n);\nif (!AppLayout) {\n  return <p>Loading modules...</p>;\n}\n// CSS styles to be used across the app.\n// Define fonts here, as well as any other global styles.\nconst Theme = styled.div`\n  a {\n    color: inherit;\n  }\n  background-color: white;\n  .attractable {\n    box-shadow: 0 0.125rem 0.25rem rgba(0, 0, 0, 0.075) !important;\n    transition: box-shadow 0.6s;\n    &:hover {\n      box-shadow: 0 0.5rem 1rem rgba(0, 0, 0, 0.15) !important;\n    }\n  }\n`;\nif (!page) {\n  // If no page is specified, we default to the feed page TEMP\n  page = \"proposals\";\n}\n// This is our navigation, rendering the page based on the page parameter\nfunction Page() {\n  let labels = Near.view(`lists.potlock.near`, \"get_registrations_for_list\", {\n    list_id: 1,\n  });\n  const allIds = labels.map((item) => item.registrant_id);\n  const routes = page.split(\".\");\n  switch (routes[0]) {\n    case \"rfps\": {\n      return (\n        <Widget\n          src={`bos.forum.potlock.near/widget/components.rfps.Feed`}\n          props={passProps}\n        />\n      );\n    }\n    case \"rfp\": {\n      return (\n        <Widget\n          src={`bos.forum.potlock.near/widget/components.rfps.Rfp`}\n          props={passProps}\n        />\n      );\n    }\n    case \"create-rfp\": {\n      return (\n        <Widget\n          src={`bos.forum.potlock.near/widget/components.rfps.Editor`}\n          props={passProps}\n        />\n      );\n    }\n    case \"create-proposal\": {\n      return (\n        <>\n          {!allIds?.includes(context?.accountId) ? (\n            <>\n              <Widget\n                src={`potlock.near/widget/Index`}\n                props={{ ...passProps, tab: \"createproject\" }}\n              />\n            </>\n          ) : (\n            <Widget\n              src={`bos.forum.potlock.near/widget/components.proposals.Editor`}\n              props={{ ...passProps }}\n            />\n          )}\n        </>\n      );\n    }\n    case \"ideas\": {\n      return (\n        <Widget\n          src={`bos.forum.potlock.near/widget/components.proposals.Feed`}\n          props={passProps}\n        />\n      );\n    }\n    case \"proposals\": {\n      return (\n        <Widget\n          src={`bos.forum.potlock.near/widget/components.proposals.Feed`}\n          props={passProps}\n        />\n      );\n    }\n    case \"proposal\": {\n      return (\n        <Widget\n          src={`bos.forum.potlock.near/widget/components.proposals.Proposal`}\n          props={passProps}\n        />\n      );\n    }\n    case \"admin\": {\n      return (\n        <Widget\n          src={`bos.forum.potlock.near/widget/components.pages.admin`}\n          props={passProps}\n        />\n      );\n    }\n    default: {\n      // TODO: 404 page\n      return <p>404</p>;\n    }\n  }\n}\nreturn (\n  <Theme>\n    <AppLayout page={page}>\n      <Page />\n    </AppLayout>\n  </Theme>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/bos.forum.potlock.near/widget/app", "fact_widget_deployments_id": "5de62e0b876950659667c8f00d69f41a", "inserted_timestamp": "2024-08-20T16:53:48.397Z", "modified_timestamp": "2024-08-20T16:53:48.397Z", "__row_index": 28}