{"tx_hash": "HNoZu2sQcyh4mubTEY6zrAVBT9u97tk23b7eKzeMBgyr", "action_id_social": "NuzUPiSiDagbig5TmS3KP1FsPoB3MR7aFRmQxoWkQT4-0-widget", "block_id": 111247976, "block_timestamp": "2024-01-25T02:33:01.094Z", "signer_id": "659f08890482b5a2270c0096ab85a8dd1d1e8f0fb656b4fa44e72049a81e0f43", "widget_name": "billbos-dashboard", "source_code": "const handleRequest = props.handleRequest ? props.handleRequest : () => {};\nconst state = props.state;\nconst adsInfo = props.adsInfo;\nconst earningBalance = props.earningBalance;\nconst stakedBalance = props.stakedBalance;\n\nfunction tapDashboard() {\n  // get total view ads\n  handleRequest(`/ads/total-ad-view?month=${state.monthCount}`, \"viewOfMonth\");\n\n  const earningCards = [\n    {\n      title: \"Total Staked\",\n      ipfsUrl: \"bafkreigb2h33nc6bpa2gcuvbs46eys4bbb6djibx76xknbrkswtqfqlyzm\",\n      usdt: stakedBalance,\n      thb: parseFloat(stakedBalance) * 35,\n    },\n    {\n      title: \"Total Earnings\",\n      ipfsUrl: \"bafkreievjy5wntddg6augnywctekhic3dttnf57h4dhjkypyx5mhjci2ou\",\n      usdt: earningBalance,\n      thb: parseFloat(earningBalance) * 35,\n    },\n    {\n      title: \"Total View Ads\",\n      ipfsUrl: \"bafkreid32njwsekcwj3uvbfrz7upc6iqpz5tzxbymw5jb7kye5axdgnmri\",\n    },\n  ];\n\n  return (\n    <div\n      style={{\n        height: \"221px\",\n      }}\n      className=\"brand-gradient-green-radial w-full \"\n    >\n      <div className=\"container\">\n        <div className=\"text-white pt-10\">\n          <p className=\"font-semibold text-xl\">BillBos Dashboard</p>\n          <p className=\"text-sm font-medium\">\n            Unlock the power of onchain data for Web3 Ads\n          </p>\n        </div>\n        <div className=\"w-full grid grid-cols-3 gap-4 mt-16 pt-2 \">\n          {earningCards.map((item, i) => {\n            return (\n              <div key={i} className=\"h-full\">\n                <Widget\n                  src=\"chayanonc-ph.near/widget/billbos-earning-card\"\n                  props={{\n                    title: item.title,\n                    usdt: Number(item.usdt).toFixed(6),\n                    thb: Number(item.thb).toFixed(2),\n                    totalView: i == 2 ? \"\" + state.viewOfMonth : \"\",\n                    ipfsUrl: `https://ipfs.near.social/ipfs/${item.ipfsUrl}`,\n                  }}\n                />\n              </div>\n            );\n          })}\n        </div>\n        <div className=\"my-10\">\n          <p className=\"font-semibold \">Top Ads</p>\n        </div>\n        <div className=\"grid grid-cols-3 gap-3\">\n          {state.ads\n            ? state.ads.map((item, index) => {\n                console.log({ ads: item });\n                return (\n                  <div key={index}>\n                    <Widget\n                      src=\"659f08890482b5a2270c0096ab85a8dd1d1e8f0fb656b4fa44e72049a81e0f43/widget/billbos-ads-card\"\n                      props={{\n                        ...item,\n                        adsStakedBalance: item.adsStakedBalance || \"0\",\n                        adsViewed:\n                          adsInfo[`${item.chainId}-${item.adsId}-adsView`] ||\n                          \"0\",\n                      }}\n                    />\n                  </div>\n                );\n              })\n            : \"\"}\n        </div>\n      </div>\n    </div>\n  );\n}\n\nreturn (\n  <>\n    <Widget\n      src=\"chayanonc-ph.near/widget/billbos-css\"\n      props={{ children: tapDashboard() }}\n    />\n  </>\n);\n", "metadata": {"fork_of": "659f08890482b5a2270c0096ab85a8dd1d1e8f0fb656b4fa44e72049a81e0f43/widget/Untitled-0@111247788"}, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/659f08890482b5a2270c0096ab85a8dd1d1e8f0fb656b4fa44e72049a81e0f43/widget/billbos-dashboard", "fact_widget_deployments_id": "0160670d8c8a8b977988b3e50c8cf3ab", "inserted_timestamp": "2024-03-07T05:24:05.087Z", "modified_timestamp": "2024-03-07T05:24:05.087Z", "__row_index": 0}