{"tx_hash": "35pVyFk5h37upxHTmHzQrmSozCG3dGUVap9RFiFr7ach", "action_id_social": "DpJbkULhxFQ7MWwRmUHoRdWsSBVHfH4Y8mY8GahMaTcq-0-widget", "block_id": 106304522, "block_timestamp": "2023-11-22T21:31:26.767Z", "signer_id": "bos.genadrop.near", "widget_name": "GenaDrop.NFTSelector", "source_code": "const accountId = props.accountId || context.accountId;\nconst onChange = props.onChange;\n\nif (!accountId) {\n  return <></>;\n}\n\nconst size = \"100%\";\n\nconst data = fetch(\"https://graph.mintbase.xyz\", {\n  method: \"POST\",\n  headers: {\n    \"mb-api-key\": \"omni-site\",\n    \"Content-Type\": \"application/json\",\n    \"x-hasura-role\": \"anonymous\",\n  },\n  body: JSON.stringify({\n    query: `\n  query v2_omnisite_GetOwnedTokens{\n    tokens: mb_views_nft_owned_tokens(\n      where: {\n        owner: { _eq: \"${accountId}\" }\n      }\n    ) {\n      tokenId: token_id\n      contractId: nft_contract_id\n      media\n    }}\n`,\n  }),\n});\n\nconst NFTImageButton = styled.button`\n  aspect-ratio: 1/1;\n  height: 100px;\n  transition: all 0.4s ease-in-out;\n  border: 1.41429px solid rgba(28, 27, 28, 0.1);\n  border-radius: 10px;\n  outline: none;\n  background: transparent;\n  opacity: 0.9;\n  flex: 1;\n  min-width: 100px;\n  max-width: 200px;\n  object-fit: cover;\n  padding: unset;\n  overflow: hidden;\n  box-shadow: 4px 4px 20px 6px rgba(0, 0, 0, 0.2);\n  margin: 0 auto;\n  &:hover {\n    opacity: 1;\n  }\n  & > img {\n    transition: all 0.3s ease-in-out;\n  }\n  & > img:hover {\n    transform: scale(1.05);\n  }\n`;\n\nconst NFTs = styled.div`\n  display: flex;\n  gap: 2rem;\n  align-items: center;\n  margin-top: 20px;\n  width: 100%;\n  padding: 1rem;\n  overflow-y: scroll;\n  flex-wrap: wrap;\n  height: 200px;\n`;\n\nconst Heading = styled.p`\n  margin: 10px auto 10px auto;\n  font-size: 1.3em;\n  color: #0f1d40;\n  width: 60%;\n  text-align: center;\n  font-family: \"SF Pro Display\", sans-serif;\n  line-height: 1.02;\n`;\nconst Text = styled.p`\n  margin: 10px auto 10px auto;\n  font-size: 1em;\n  color: #0f1d40;\n  width: 60%;\n  text-align: center;\n  font-family: \"SF Pro Display\", sans-serif;\n`;\n\nconst finalData = data?.body?.data;\n\nif (!finalData) {\n  return (\n    <div className=\"d-flex flex-wrap gap-2 justify-content-center align-items-center flex-column\">\n      <Heading className=\"text-center fw-bold\">You own no NFT yet.</Heading>\n      <p>\n        You can mint an NFT on \ud83d\udca7\n        <a href=\"https://genadrop.io\" target=\"_blank\" rel=\"noopener noreferrer\">\n          GenaDrop\n        </a>\n        <Widget\n          src=\"miraclx.near/widget/Attribution\"\n          props={{ authors: [props.ownerId], dep: true }}\n        />\n      </p>\n    </div>\n  );\n}\n\nreturn (\n  <>\n    <Text className=\"text-center\">\n      {props.headingText || \"Select the NFT you want to list\"}\n    </Text>\n    <NFTs>\n      {finalData.tokens.map((nft, index) => (\n        <NFTImageButton\n          key={`${nft.contractId}-${nft.tokenId}-${index}`}\n          onClick={() => {\n            onChange({\n              contractId: nft.contractId,\n              tokenId: nft.tokenId,\n            });\n          }}\n        >\n          <Widget\n            src=\"mob.near/widget/NftImage\"\n            props={{\n              nft: { tokenId: nft.tokenId, contractId: nft.contractId },\n              style: {\n                width: size,\n                height: size,\n                objectFit: \"cover\",\n                minWidth: size,\n                minHeight: size,\n                maxWidth: size,\n                maxHeight: size,\n                overflowWrap: \"break-word\",\n                borderRadius: \"inherit\",\n              },\n              className: \"\",\n              fallbackUrl:\n                \"https://ipfs.near.social/ipfs/bafkreihdiy3ec4epkkx7wc4wevssruen6b7f3oep5ylicnpnyyqzayvcry\",\n              alt: `NFT ${nft.contractId} ${nft.tokenId}`,\n            }}\n          />\n        </NFTImageButton>\n      ))}\n    </NFTs>\n  </>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/bos.genadrop.near/widget/GenaDrop.NFTSelector", "fact_widget_deployments_id": "64fb7f126fc0563d4d4ce9d001a30511", "inserted_timestamp": "2023-11-22T23:30:08.965Z", "modified_timestamp": "2023-11-22T23:30:08.965Z", "__row_index": 0}