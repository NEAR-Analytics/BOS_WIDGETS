{"tx_hash": "6wc7h3XAWHCfvp1hmWQr4NGsMrQX8De8fWEyqRe7WCH7", "action_id_social": "4XqRxgKCiaW1nGZHVFHWXvbSsaY8A4MNX1sMoM5BEUxp-0-widget", "block_id": 117455254, "block_timestamp": "2024-04-23T14:22:00.221Z", "signer_id": "bos.genadrop.near", "widget_name": "Mintbase.utils.get_offers_to_account", "source_code": "function fetchGraphQL(operationsDoc, operationName, variables) {\n  return asyncFetch(\n    `https://graph.mintbase.xyz/${\n      variables.account && variables.account.endsWith(\".testnet\")\n        ? \"testnet\"\n        : \"mainnet\"\n    }`,\n    {\n      method: \"POST\",\n      headers: {\n        \"mb-api-key\": \"anon\",\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify({\n        query: operationsDoc,\n        variables: variables,\n        operationName: operationName,\n      }),\n    }\n  ).then((result) => result.body);\n}\n\nconst operationsDoc = `\n    query GetOffersToAccount($account: String!, $limit: Int!, $offset: Int!) {\n      mb_views_auctions_with_offer(\n        where: {listed_by: {_eq: $account}, offer_id: {_is_null: false}}\n        limit: $limit\n        offset: $offset\n        order_by: {offered_at: desc}\n      ) {\n        offered_by\n        offer_price\n        offered_at\n        receipt_id: offer_receipt_id\n        nft_contract_id\n        expires_at: offer_expires_at\n        token_id\n        offer_id\n        currency\n        unlisted_at\n        invalidated_at: listing_invalidated_at\n        withdrawn_at: offer_withdrawn_at\n        accepted_at: offer_accepted_at\n        listed_by\n        metadata_id\n        media\n        base_uri\n        title\n        __typename\n      }\n      mb_views_auctions_with_offer_aggregate(\n        where: {listed_by: {_eq: $account}, offer_id: {_is_null: false}}\n      ) {\n        aggregate {\n          count\n          __typename\n        }\n        __typename\n      }\n    }\n  `;\n\nfunction getOffersToAccount({ account, limit, offset }) {\n  return fetchGraphQL(operationsDoc, \"GetOffersToAccount\", {\n    account: account,\n    limit: limit ?? 100,\n    offset: offset ?? 0,\n  });\n}\n\nreturn { getOffersToAccount };\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/bos.genadrop.near/widget/Mintbase.utils.get_offers_to_account", "fact_widget_deployments_id": "9f6649b95e7cfc66420cb49ea9174033", "inserted_timestamp": "2024-04-23T17:54:15.847Z", "modified_timestamp": "2024-04-23T17:54:15.847Z", "__row_index": 0}