{"tx_hash": "Y1KiMvitwHf6bUtY4y1V9XJw9e5QKe5bXismikYJxWi", "action_id_social": "6NEipBQGobZXS9zxm7o4bSyfbQJrKWdBaPJp1TYMnpLm-0-widget", "block_id": 109968071, "block_timestamp": "2024-01-09T08:35:19.613Z", "signer_id": "bos.genadrop.near", "widget_name": "CPlanet.DAO.Members.Card", "source_code": "const daoId = props.daoId ?? \"dao.near\";\n\nconst Root = styled.div`\n  width: 296px;\n  height: 512px;\n  border-radius: 8px;\n  border: 1px solid #efefef;\n  background: #fff;\n  box-shadow: 0px 0px 16px 0px rgba(0, 0, 0, 0.1);\n  .topImage {\n    margin-bottom: 8px;\n    img {\n      width: 100%;\n      height: 64px;\n    }\n  }\n  .profile {\n    padding: 8px;\n    display: flex;\n    align-items: center;\n    img {\n      width: 48px;\n      height: 48px;\n      margin-right: 10px;\n      border-radius: 50%;\n    }\n    h1 {\n      color: #000;\n      font-family: Helvetica Neue;\n      font-size: 16px;\n      font-style: normal;\n      font-weight: 700;\n      line-height: 120%; /* 19.2px */\n      margin-bottom: 0;\n    }\n    span {\n      overflow: hidden;\n      color: #b0b0b0;\n      text-align: justify;\n      text-overflow: ellipsis;\n      font-family: Helvetica Neue;\n      font-size: 12px;\n      font-style: normal;\n      font-weight: 400;\n      line-height: 120%; /* 14.4px */\n    }\n  }\n  .desc {\n    padding: 6px 16px;\n    color: #000;\n    font-family: Helvetica Neue;\n    font-size: 16px;\n    font-style: normal;\n    font-weight: 400;\n    height: 100px;\n    line-height: 148%; /* 23.68px */\n  }\n  .follow,\n  .following {\n    display: flex;\n    width: 264px;\n    padding: 10px 20px;\n    justify-content: center;\n    align-items: center;\n    gap: 10px;\n    color: white;\n    border-radius: 0;\n    transition: 0.3s ease-in-out;\n    margin-left: 16px;\n  }\n  .following {\n    cursor: not-allowed;\n  }\n  .follow {\n    background: black;\n    color: white;\n    border-color: black;\n  }\n  .following,\n  .follow:hover {\n    background: white;\n    color: black;\n    border-color: black;\n  }\n`;\n\nconst MemberStat = styled.div`\n  .date {\n    padding: 7px 16px;\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    p {\n      overflow: hidden;\n      color: #000;\n      text-overflow: ellipsis;\n      font-family: Helvetica Neue;\n      font-size: 12px;\n      font-style: normal;\n      font-weight: 700;\n      line-height: 148%; /* 17.76px */\n      text-transform: uppercase;\n      margin-bottom: 0;\n    }\n    span {\n      overflow: hidden;\n      color: #000;\n      text-overflow: ellipsis;\n      font-family: Helvetica Neue;\n      font-size: 16px;\n      font-style: normal;\n      font-weight: 300;\n      line-height: normal;\n    }\n  }\n  .groups {\n    padding: 8px 16px;\n    h1 {\n      overflow: hidden;\n      color: #000;\n      text-overflow: ellipsis;\n      font-family: Helvetica Neue;\n      font-size: 12px;\n      font-style: normal;\n      font-weight: 700;\n      line-height: 148%; /* 17.76px */\n      text-transform: uppercase;\n    }\n    .tags {\n      display: flex;\n      flex-direction: row;\n      flex-wrap: wrap;\n      gap: 8px;\n      p {\n        border-radius: 100px;\n        border: 1px solid #4498e0;\n        background: rgba(68, 152, 224, 0.1);\n        color: #4498e0;\n        font-family: Helvetica Neue;\n        font-size: 12px;\n        font-style: normal;\n        font-weight: 400;\n        line-height: 120%; /* 14.4px */\n        padding: 5px 8px;\n        text-transform: capitalize;\n      }\n    }\n  }\n  .memberStat {\n    padding: 0 16px;\n    h1 {\n      overflow: hidden;\n      color: #000;\n      text-overflow: ellipsis;\n      font-family: Helvetica Neue;\n      font-size: 12px;\n      font-style: normal;\n      font-weight: 700;\n      line-height: 148%; /* 17.76px */\n      text-transform: uppercase;\n      margin-bottom: 0;\n    }\n    h5 {\n      color: #b0b0b0;\n      font-family: Helvetica Neue;\n      font-size: 12px;\n      font-style: normal;\n      font-weight: 400;\n      line-height: normal;\n      text-transform: capitalize;\n    }\n  }\n`;\n\nconst profile = Social.get(`${daoId}/profile/**`, \"final\");\n\nfunction makeAccountIdShorter(accountId, shortenLength) {\n  if (accountId.length > shortenLength) {\n    return accountId.slice(0, shortenLength) + \"...\";\n  }\n  return accountId;\n}\n\nfunction followUser(user, isFollowing) {\n  if (isFollowing) return;\n  const dataToSend = {\n    graph: { follow: { [user]: isFollowing ? null : \"\" } },\n    index: {\n      graph: JSON.stringify({\n        key: \"follow\",\n        value: {\n          type,\n          accountId: user,\n        },\n      }),\n      notify: JSON.stringify({\n        key: user,\n        value: {\n          type,\n        },\n      }),\n    },\n  };\n  Social.set(dataToSend, {\n    force: true,\n  });\n}\n\nreturn (\n  <Root>\n    <div className=\"topImage\">\n      <img\n        src={\n          profile.backgroundImage\n            ? `https://ipfs.near.social/ipfs/${profile.backgroundImage.ipfs_cid}`\n            : \"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRub7hFLkStCvZiaSeiUGznP4uzqPPcepghhg&usqp=CAU\"\n        }\n        alt=\"\"\n      />\n    </div>\n    <div className=\"profile\">\n      <img\n        src={\n          profile.image\n            ? `https://ipfs.near.social/ipfs/${profile.image.ipfs_cid}`\n            : \"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRub7hFLkStCvZiaSeiUGznP4uzqPPcepghhg&usqp=CAU\"\n        }\n      />\n      <div className=\"names\">\n        <h1>\n          {makeAccountIdShorter(profile.name ?? daoId, 19)}\n        </h1>\n        <span>\n          @{makeAccountIdShorter(daoId) ?? \"@og-sbt.sputnik-dao.near\"}\n        </span>\n      </div>\n    </div>\n    <div className=\"desc\">\n      {profile.description\n        ? profile.description?.length > 90\n          ? `${profile.description.substring(0, 90)}...`\n          : profile.description\n        : \"No Description\"}\n    </div>\n    <MemberStat>\n      <div className=\"date\">\n        <div>\n          <p>DAO Member Since</p>\n          <span>{props.joined ?? \"N/A\"}</span>\n        </div>\n        <div>\n          <p>Joined CPlanet</p>\n          <span>N/A</span>\n        </div>\n      </div>\n      <div className=\"groups\">\n        <h1>Groups</h1>\n        <div className=\"tags\">\n          {props.tags ? (\n            props.tags.map((data) => (\n              <p key={data} className=\"tag\">\n                {data}\n              </p>\n            ))\n          ) : (\n            <p className=\"tag\">Admin</p>\n          )}\n        </div>\n      </div>\n      <div className=\"memberStat\">\n        <h1>Member Stats</h1>\n        <div className=\"date\">\n          <div>\n            <p>{props.totalVotes ?? \"0\"}</p>\n            <h5>Votes Casted</h5>\n          </div>\n          <div>\n            <p>{props.proposal ?? \"0\"}</p>\n            <h5>Proposal Accepted</h5>\n          </div>\n        </div>\n      </div>\n    </MemberStat>\n\n    <button\n      disabled={props.isFollowing}\n      onClick={() => followUser(daoId, props.isFollowing)}\n      className={props.isFollowing ? \"following\" : \"follow\"}\n    >\n      {props.isFollowing ? \"Following\" : \"Follow\"}\n    </button>\n  </Root>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/bos.genadrop.near/widget/CPlanet.DAO.Members.Card", "fact_widget_deployments_id": "9c5d180f4b7991c44f93c335efc7545d", "inserted_timestamp": "2024-03-07T05:24:05.087Z", "modified_timestamp": "2024-03-07T05:24:05.087Z", "__row_index": 4}