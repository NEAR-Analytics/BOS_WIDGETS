{"tx_hash": "EgTxH4fNESouCXoP6GjNpaCEZeV9bp9Cn3vQQtegqMP3", "action_id_social": "DZE3rXj8cWjeRj4ibUtHYh7bbnqVBvvSKxpmLztzCH4L-0-widget", "block_id": 117658426, "block_timestamp": "2024-04-26T10:30:59.695Z", "signer_id": "bos.genadrop.near", "widget_name": "Mintbase.App.Home.HomeTopCollection", "source_code": "// const { getInputLabelFontType } = VM.require(\n//   \"bos.genadrop.near/widget/Mintbase.components\"\n// );\nconst color = props.color || \"#c2cdfd\";\nconst { isDarkModeOn } = props;\nconst [sliceIndex, setSliceIndex] = useState(6);\nconst data = fetch(\"https://api.mintbase.xyz/stores/top-stores\", {\n  method: \"GET\",\n  headers: {\n    \"mb-api-key\": \"anon\",\n    \"Content-Type\": \"application/json\",\n  },\n});\nconst tableData = JSON.parse(data?.body);\nif (!tableData) return <div>No Data Available</div>;\nconst App = styled.div`\n  width: 100%;\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n`;\nconst Container = styled.div`\n  background: ${isDarkModeOn ? \"#1f2031\" : \"#fff\"};\n  display: flex;\n  flex-direction: column;\n  overflow-x: scroll;\n  width: 50%;\n  @media (max-width: 1000px) {\n    display: ${(props) => {\n      return props.hide ? \"none\" : \"block\";\n    }};\n    width: 100%;\n  }\n  @media (max-width: 500px) {\n    font-size: 12px;\n    .number {\n      grid-column: span 1 !important;\n    }\n  }\n  .header {\n    display: grid;\n    grid-template-columns: repeat(4, minmax(0, 1fr));\n    align-items: flex-end;\n    justify-content: space-between;\n    padding: 1rem 0;\n    gap: 1rem;\n    border-bottom: 2px solid ${isDarkModeOn ? \"#374151\" : \"#E5E7EB\"};\n    color: ${isDarkModeOn ? \"#4B5563\" : \"black\"};\n    margin-bottom: 1rem;\n    font-weight: 500px;\n    div {\n      text-align: center;\n    }\n  }\n  @media (max-width: 500px) {\n    .header {\n      grid-template-columns: repeat(3, minmax(0, 1fr));\n    }\n    .header > *:nth-child(4) {\n      display: none;\n    }\n  }\n  .trx-row {\n    display: grid;\n    grid-template-columns: repeat(4, minmax(0, 1fr));\n    width: 100%;\n    justify-content: space-between;\n    gap: 1rem;\n    padding: 1rem 0;\n    border-bottom: 1px solid ${color}5a;\n    &:last-of-type {\n      border-bottom-color: transparent;\n    }\n    a {\n      text-decoration: none;\n    }\n    div,\n    a,\n    span {\n      text-align: center;\n      margin: auto;\n    }\n    .title {\n      display: flex;\n      align-items: flex-start;\n      flex: 1;\n      text-decoration: none;\n      width: 100%;\n      gap: 10px;\n      div {\n        white-space: nowrap;\n        height: 40px;\n        color: ${isDarkModeOn ? \"#c2cdfd\" : \"#4e58a2\"};\n        padding: 10px;\n        margin: 0;\n        margin-right: 200px;\n        text-align: left !important;\n        border-radius: 2px;\n        transition: all 200ms;\n        :hover {\n          background: ${color};\n          color: white;\n        }\n        @media (max-width: 500px) {\n          font-size: 12px;\n        }\n      }\n      img {\n        object-fit: cover;\n        width: 40px;\n        height: 40px;\n      }\n    }\n  }\n  @media (max-width: 500px) {\n    .trx-row {\n      grid-template-columns: repeat(3, minmax(0, 1fr));\n    }\n    .trx-row > *:nth-child(4) {\n      display: none;\n    }\n  }\n  .price {\n    display: flex;\n    gap: 4px;\n    align-items: center;\n    font-weight: 600;\n    color: ${isDarkModeOn ? \"#c2cdfd\" : \"#4e58a2\"};\n    img {\n      width: 14px;\n    }\n  }\n`;\nconst Button = styled.div`\n  color: black;\n  border: 1px solid #000;\n  border-radius: 6px;\n  padding: 5px 10px;\n`;\nconst Trx = styled.div``;\nconst kindColor = {\n  list: \"#8c4fe5\",\n  unlist: \"#8c4fe5\",\n  sale: \"#0a7d6c\",\n  transfer: \"#4f58a3\",\n  make_offer: \"#4f58a3\",\n  mint: \"#000000\",\n};\nconst _address = (address, _limit) => {\n  const limit = _limit || 20;\n  if (address.length > limit) return address.slice(0, limit) + \"...\";\n  else return address;\n};\nreturn (\n  <App>\n    <Container>\n      <div className=\"header\">\n        <div></div>\n        <div>Store</div>\n        <div>Transactions</div>\n        <div>Owners</div>\n      </div>\n      <div>\n        {tableData.slice(0, sliceIndex).map((activity, index) => {\n          return (\n            <div className=\"trx-row\" key={activity.id}>\n              <div className=\"number\">{index + 1}</div>\n              <a target=\"_blank\" className=\"title\" href={activity.websiteUrl}>\n                <img\n                  src={activity.icon || activity.profileImage || activity.media}\n                  alt={activity.name}\n                />\n                {activity?.name && <div>{_address(activity?.name, 10)}</div>}\n              </a>\n              <div>\n                {\" \"}\n                {activity.transactions ? (\n                  <div className=\"price\">{activity.transactions}</div>\n                ) : (\n                  <div className=\"price\">-</div>\n                )}{\" \"}\n              </div>\n              <div className=\"price\">{activity?.totalOwners}</div>\n            </div>\n          );\n        })}\n      </div>\n    </Container>\n    <Container hide={true}>\n      <div className=\"header\">\n        <div></div>\n        <div>Store</div>\n        <div>Transactions</div>\n        <div>Owners</div>\n      </div>\n      <div>\n        {tableData.slice(6).map((activity, index) => {\n          return (\n            <div className=\"trx-row\" key={activity.id}>\n              <div>{7 + index}</div>\n              <a target=\"_blank\" className=\"title\" href={activity.websiteUrl}>\n                <img\n                  src={activity.icon || activity.profileImage || activity.media}\n                  alt={activity.name}\n                />\n                {activity?.name && <div>{_address(activity?.name, 10)}...</div>}\n              </a>\n              <div>\n                {\" \"}\n                {activity.transactions ? (\n                  <div className=\"price\">{activity.transactions}</div>\n                ) : (\n                  <div className=\"price\">-</div>\n                )}{\" \"}\n              </div>\n              <div className=\"price\">{activity?.totalOwners}</div>\n            </div>\n          );\n        })}\n      </div>\n    </Container>\n  </App>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/bos.genadrop.near/widget/Mintbase.App.Home.HomeTopCollection", "fact_widget_deployments_id": "6ddad5f79145c4557ebd3f122b776e42", "inserted_timestamp": "2024-04-26T11:43:20.585Z", "modified_timestamp": "2024-04-26T12:46:58.707Z", "__row_index": 4}