{"tx_hash": "A1dj5BVi5U7PsQLor9Bn972fGjVDVC4AjW5AmfxitExh", "action_id_social": "A1p8TEqz9SYVH4rzxGsdJQPrE5ZhbvtRnwAaFX8shPv4-0-widget", "block_id": 117657192, "block_timestamp": "2024-04-26T10:06:12.377Z", "signer_id": "bos.genadrop.near", "widget_name": "CPlanet.DAO.ProfileNFTs", "source_code": "const Root = styled.div`\n  .noNfts {\n    span {\n      overflow: hidden;\n      color: #b0b0b0;\n      text-align: center;\n      text-overflow: ellipsis;\n      white-space: nowrap;\n      font-family: Helvetica Neue;\n      font-size: 16px;\n      font-style: normal;\n      font-weight: 400;\n      line-height: 148%; /* 23.68px */\n    }\n  }\n`;\nconst Cards = styled.div`\n  display: flex;\n  flex-direction: row;\n  gap: 18px;\n  margin-top: 32px;\n  flex-wrap: wrap;\n  width: 100%;\n  justify-content: center;\n`;\nconst logo =\n  \"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTrJuxjGxj4QmyreE6ix4ygqm5pK9Nn_rdc8Ndw6lmJcd0SSnm2zBIc2xJ_My1V0WmK2zg&usqp=CAU\";\nconst fetchStoreFrontData = (owner, contractId) => {\n  const response2 = fetch(\"https://graph.mintbase.xyz/mainnet\", {\n    method: \"POST\",\n    headers: {\n      \"mb-api-key\": \"anon\",\n      \"Content-Type\": \"application/json\",\n    },\n    body: JSON.stringify({\n      query: `query MyQuery {\n  mb_views_nft_tokens(\n    where: {owner: {_eq: \"${contractId}\"}}\n    offset: 0\n    order_by: {minted_timestamp: desc}\n  ) {\n   minted_timestamp\n    nft_contract_id\n    title\n    listings {\n      price\n    }\n    metadata_id\n    description\n    owner\n    media\n    last_transfer_receipt_id\n  }\n}\n`,\n    }),\n  });\n  State.update({\n    storeContracts: response2.body.data.mb_views_nft_tokens,\n  });\n};\nfetchStoreFrontData(props.ownerId, props.daoId);\nconst storeNfts = state.storeContracts;\nreturn (\n  <Root>\n    <Cards>\n      {storeNfts.length ? (\n        storeNfts.map((data, index) => (\n          <div key={index}>\n            <Widget\n              props={{\n                title: data.title,\n                description: data.description,\n                image: data.media,\n                owner: data.owner,\n                chainState: \"near\",\n                logo,\n                onButtonClick: () =>\n                  props.update({\n                    tab: \"singleNFT\",\n                    contractId: data.nft_contract_id,\n                    tokenId: data.token_id,\n                    chainState: \"near\",\n                  }),\n                price: data.listings.length\n                  ? (data.listings.length / 1000000000000000000000000).toFixed(\n                      2\n                    )\n                  : null,\n                isListed: data.listings.length ? \"LISTED\" : \"NOT LISTED\",\n                tokenId: data.token_id,\n                contractId: data.nft_contract_id,\n              }}\n              src=\"bos.genadrop.near/widget/CPlanet.NFTCard.Index\"\n            />\n          </div>\n        ))\n      ) : (\n        <div className=\"noNfts\">\n          <span>No NFTs to display right now</span>\n        </div>\n      )}\n    </Cards>\n  </Root>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/bos.genadrop.near/widget/CPlanet.DAO.ProfileNFTs", "fact_widget_deployments_id": "c61603baa579b0b957ae87085a9f56c8", "inserted_timestamp": "2024-04-26T11:43:20.585Z", "modified_timestamp": "2024-04-26T11:43:20.585Z", "__row_index": 0}