{"tx_hash": "A1dj5BVi5U7PsQLor9Bn972fGjVDVC4AjW5AmfxitExh", "action_id_social": "A1p8TEqz9SYVH4rzxGsdJQPrE5ZhbvtRnwAaFX8shPv4-0-widget", "block_id": 117657192, "block_timestamp": "2024-04-26T10:06:12.377Z", "signer_id": "bos.genadrop.near", "widget_name": "CPlanet.NFTExplore.NFTInfo", "source_code": "const arrow = (\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    width=\"10\"\n    height=\"10\"\n    viewBox=\"0 0 10 10\"\n    fill=\"none\"\n  >\n    <path\n      d=\"M1.13672 1C4.20751 1 5.92918 1 8.99997 1V9\"\n      stroke=\"black\"\n      stroke-width=\"1.3478\"\n      stroke-linecap=\"round\"\n      stroke-linejoin=\"round\"\n    />\n    <path\n      d=\"M8.99883 1L1 8.7377\"\n      stroke=\"black\"\n      stroke-width=\"1.3478\"\n      stroke-linecap=\"round\"\n      stroke-linejoin=\"round\"\n    />\n  </svg>\n);\nconst Root = styled.div``;\nconst Header = styled.div`\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: space-between;\n  width: 400px;\n  padding: 30px 0 0 30px;\n  h4 {\n    color: #000;\n    text-align: center;\n    font-family: Helvetica Neue;\n    font-size: 16px;\n    font-style: normal;\n    font-weight: 500;\n    cursor: pointer;\n    line-height: 160%; /* 25.6px */\n  }\n`;\nconst Body = styled.div`\n  margin-top: 23px;\n`;\nconst Row = styled.a`\n  display: flex;\n  justify-content: space-between;\n  width: 80%;\n  max-width: 700px;\n  margin-bottom: 10px;\n  align-items: center;\n`;\nconst ImageSec = styled.div`\n  display: flex;\n  align-items: center;\n  div {\n    margin-left: 10px;\n    p {\n      color: #000;\n      font-family: Helvetica Neue;\n      font-size: 14px;\n      font-style: normal;\n      margin-bottom: 0;\n      font-weight: 400;\n      line-height: 17px; /* 121.429% */\n    }\n    span {\n      color: rgba(0, 0, 0, 0.85);\n      font-family: Helvetica Neue;\n      font-size: 12px;\n      font-style: normal;\n      font-weight: 400;\n      line-height: 160%; /* 19.2px */\n    }\n  }\n`;\nconst PriceSec = styled.div`\n  h1 {\n    color: #000;\n    font-family: Helvetica Neue;\n    font-size: 16px;\n    font-style: normal;\n    font-weight: 700;\n    line-height: 160%; /* 25.6px */\n    margin-bottom: 0;\n    display: flex;\n    gap: 4px;\n    align-items: center;\n  }\n  span {\n    color: rgba(17, 17, 15, 0.6);\n    font-family: Helvetica Neue;\n    font-size: 12px;\n    font-style: normal;\n    font-weight: 400;\n    line-height: 160%; /* 19.2px */\n  }\n  img {\n    width: 12px;\n    height: 12px;\n  }\n`;\nconst Image = styled.div`\n  width: 45px;\n  height: 45px;\n  border-radius: 22.5px;\n  background: #000;\n`;\nconst About = styled.div`\n  padding-left: 30px;\n  h1 {\n    overflow: hidden;\n    color: #000;\n    text-overflow: ellipsis;\n    font-family: Helvetica Neue;\n    font-size: 16px;\n    font-style: normal;\n    font-weight: 700;\n    line-height: normal;\n    text-transform: uppercase;\n  }\n  a {\n    display: flex;\n    border-radius: 32px;\n    border: 1px solid #000;\n    display: flex;\n    padding: 4px 12px;\n    align-items: center;\n    cursor: pointer;\n    text-decoration: none;\n    transition: 0.3s ease-in-out;\n    margin-top: 8px;\n    gap: 8px;\n    width: max-content;\n    h2 {\n      color: #000;\n      font-family: Helvetica Neue;\n      font-size: 12px;\n      font-style: normal;\n      font-weight: 500;\n      margin-bottom: 0;\n      line-height: normal;\n    }\n  }\n  a:hover {\n    opacity: 0.5;\n  }\n  p {\n    color: #000;\n    font-family: Helvetica Neue;\n    font-size: 16px;\n    font-style: normal;\n    font-weight: 400;\n    margin-top: 8px;\n    line-height: 148%;\n  }\n`;\nconst TabHeight = styled.div`\n  height: 280px;\n  overflow-y: scroll;\n  margin-bottom: 20px;\n`;\nconst getUsdValue = (price) => {\n  const res = fetch(\n    `https://api.coingecko.com/api/v3/simple/price?ids=${\n      currentChainProps[props.chainState].livePrice\n    }&vs_currencies=usd`\n  );\n  if (res.ok) {\n    const multiplyBy = Object.values(res?.body)[0]?.usd;\n    const value = multiplyBy * price;\n    return value !== \"NaN\" ? `$${value.toFixed(3)}` : 0;\n  }\n};\nconst profile = props.profile ?? Social.getr(`${props.owner}/profile`);\ninitState({\n  tab: \"HISTORY\",\n});\nconst currentChainProps = {\n  near: {\n    img: \"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTrJuxjGxj4QmyreE6ix4ygqm5pK9Nn_rdc8Ndw6lmJcd0SSnm2zBIc2xJ_My1V0WmK2zg&usqp=CAU\",\n    livePrice: \"near\",\n    subgraph: \"https://api.thegraph.com/subgraphs/name/prometheo/near-mainnet\",\n    chain: \"near\",\n    id: \"1112\",\n    explorer: \"https://explorer.near.org/?query=\",\n    explorerTx: \"https://explorer.near.org/?query=\",\n    logoUrl:\n      \"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTrJuxjGxj4QmyreE6ix4ygqm5pK9Nn_rdc8Ndw6lmJcd0SSnm2zBIc2xJ_My1V0WmK2zg&usqp=CAU\",\n  },\n  aurora: {\n    img: \"https://s2.coinmarketcap.com/static/img/coins/200x200/14803.png\",\n    id: \"1313161554\",\n    chain: \"Aurora\",\n    explorer: \"https://aurorascan.dev/\",\n    explorerTx: \"https://aurorascan.dev/tx/\",\n    livePrice: \"ethereum\",\n    contract: \"0xe93097f7C3bF7A0E0F1261c5bD88F86D878667B5\",\n    subgraph:\n      \"https://api.thegraph.com/subgraphs/name/prometheo/aurora-mainnet\",\n  },\n  arbitrum: {\n    img: \"https://assets.coingecko.com/coins/images/16547/large/photo_2023-03-29_21.47.00.jpeg?1680097630\",\n    id: \"42161\",\n    contract: \"0x27E52A81975F5Fb836e79007E3c478C6c0E6E9FB\",\n    chain: \"Arbitrum\",\n    explorer: \"https://arbiscan.io/\",\n    explorerTx: \"https://arbiscan.io/\",\n    livePrice: \"ethereum\",\n    subgraph: \"https://api.thegraph.com/subgraphs/name/prometheo/arbitrum\",\n  },\n  celo: {\n    img: \"https://assets.coingecko.com/coins/images/11090/large/InjXBNx9_400x400.jpg?1674707499\",\n    id: \"42220\",\n    livePrice: \"celo\",\n    contract: \"0x5616BCcc278F7CE8B003f5a48f3754DDcfA4db5a\",\n    explorer: \"https://explorer.celo.org/address/\",\n    explorerTx: \"https://explorer.celo.org/tx/\",\n    chain: \"Celo\",\n    subgraph: \"https://api.thegraph.com/subgraphs/name/prometheo/celo-mainnet\",\n  },\n  polygon: {\n    img: \"https://altcoinsbox.com/wp-content/uploads/2023/03/matic-logo.webp\",\n    id: \"137\",\n    chain: \"Polygon\",\n    livePrice: \"matic-network\",\n    contract: \"0x57Eb0aaAf69E22D8adAe897535bF57c7958e3b1b\",\n    explorer: \"https://polygonscan.com/address/\",\n    explorerTx: \"https://polygonscan.com/tx/\",\n    subgraph:\n      \"https://api.thegraph.com/subgraphs/name/prometheo/polygon-mainnet\",\n  },\n};\nconst PRICE_CONVERSION_CONSTANT =\n  props.chainState == \"near\" ? 1000000000000000000000000 : 1000000000000000000;\nreturn (\n  <Root>\n    <Header>\n      <h4\n        onClick={() => State.update({ tab: \"INFO\" })}\n        style={\n          state.tab === \"INFO\"\n            ? {\n                borderBottom: \"3px solid black\",\n              }\n            : {}\n        }\n      >\n        Info\n      </h4>\n      <h4\n        onClick={() => State.update({ tab: \"HISTORY\" })}\n        style={\n          state.tab === \"HISTORY\"\n            ? {\n                borderBottom: \"3px solid black\",\n              }\n            : {}\n        }\n      >\n        History\n      </h4>\n      <h4\n        onClick={() => State.update({ tab: \"OFFERS\" })}\n        style={\n          state.tab === \"OFFERS\"\n            ? {\n                borderBottom: \"3px solid black\",\n              }\n            : {}\n        }\n      >\n        Offers\n      </h4>\n      <h4\n        onClick={() => State.update({ tab: \"ATTRIBUTES\" })}\n        style={\n          state.tab === \"ATTRIBUTES\"\n            ? {\n                borderBottom: \"3px solid black\",\n              }\n            : {}\n        }\n      >\n        Attributes\n      </h4>\n    </Header>\n    <Body>\n      <TabHeight>\n        {state.tab === \"HISTORY\" &&\n          props.transactions &&\n          props?.transactions?.map((data, index) => (\n            <Row\n              href={`${currentChainProps[props.chainState].explorerTx}${\n                data.txId\n              }`}\n              target=\"_blank\"\n              key={data}\n            >\n              <ImageSec>\n                <Image></Image>\n                <div>\n                  <p>\n                    {data.type} by\n                    {props.chainState === \"near\"\n                      ? data?.from?.id\n                      : data?.from?.id\n                      ? `${data?.from?.id?.slice(\n                          0,\n                          8\n                        )}...${data?.from?.id?.slice(38)}`\n                      : `${data?.to?.id?.slice(0, 8)}...${data?.to?.id?.slice(\n                          38\n                        )}`}\n                  </p>\n                  <span>06 Feb 2022 12:30:39 PM</span>\n                </div>\n              </ImageSec>\n              <PriceSec>\n                <h1>\n                  <img src={currentChainProps[props.chainState].img} />\n                  {(data.price / PRICE_CONVERSION_CONSTANT).toFixed(2)}\n                </h1>\n                <span>\n                  {getUsdValue(\n                    (data.price / PRICE_CONVERSION_CONSTANT).toFixed(2)\n                  )}\n                </span>\n              </PriceSec>\n            </Row>\n          ))}\n      </TabHeight>\n      <About>\n        <h1>ABOUT THE ARTIST</h1>\n        <a\n          target=\"_blank\"\n          href={\n            props.chainState === \"near\"\n              ? `/bos.genadrop.near/widget/DropFlow.ArtistPage.Index?accountId=${props.owner}`\n              : currentChainProps[props.chainState].explorer + props.owner\n          }\n        >\n          {arrow}\n          <h2>View Artist Page</h2>\n        </a>\n        {props.chainState === \"near\" && (\n          <p>\n            {profile.description\n              ? profile.description\n              : \"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi utaliquip ex ea commodo consequat.\"}\n          </p>\n        )}\n      </About>\n    </Body>\n  </Root>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/bos.genadrop.near/widget/CPlanet.NFTExplore.NFTInfo", "fact_widget_deployments_id": "b0ceae601bca3a3cb548e194159de5dd", "inserted_timestamp": "2024-04-26T11:43:20.585Z", "modified_timestamp": "2024-04-26T11:43:20.585Z", "__row_index": 2}