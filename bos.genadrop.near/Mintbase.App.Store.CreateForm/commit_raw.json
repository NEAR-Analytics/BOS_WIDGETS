{"tx_hash": "A9gUdjtqYGgAx7mzZMrCWfHzoX7mWABH7mLFwZhiUyQA", "action_id_social": "A2coecr48byEFfzhpnpacByM6NU3Sa1N9EXqBwYuPFTr-0-widget", "block_id": 116102608, "block_timestamp": "2024-04-04T08:36:32.081Z", "signer_id": "bos.genadrop.near", "widget_name": "Mintbase.App.Store.CreateForm", "source_code": "const { isDarkModeOn, setModalOpen } = props;\n\nconst { MbModal } = VM.require(\n  \"bos.genadrop.near/widget/Mintbase.components\"\n) || {\n  MbModal: () => <></>,\n};\n\nconst { deployStore } = VM.require(\n  \"bos.genadrop.near/widget/Mintbase.utils.sdk\"\n);\n\nconst { MbInputField } = VM.require(\n  \"bos.genadrop.near/widget/Mintbase.MbInput\"\n) || {\n  MbInputField: () => <></>,\n};\nconst [storeName, setStoreName] = useState(\"\");\nconst [storeSymbol, setStoreSymbol] = useState(\"\");\nconst [invalidStoreName, setInvalidStoreName] = useState(false);\n\nconst CreateStore = styled.div`\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  height: 100%;\n  .form {\n    display: flex;\n    flex-direction: column;\n    gap: 1rem;\n  }\n  .bottom-buttons {\n    display: flex;\n    position: absolute;\n    bottom: 48px;\n    right: 24px;\n    width: calc(100% - 48px);\n    justify-content: space-between;\n    align-items: center;\n  }\n`;\n\nconst onDeploy = () => {\n  try {\n    deployStore({\n      storeName,\n      storeSymbol,\n      accountId: context.accountId,\n      isMainnet: true,\n    });\n  } catch (error) {\n    console.error(error);\n  }\n};\n\nconst onStoreNameChange = (e) => {\n  setStoreName(e.target.value);\n  if (e.target.value.length > 0) {\n    setInvalidStoreName(false);\n  }\n};\n\nconst onStoreSymbolChange = (e) => {\n  setStoreSymbol(e.target.value);\n};\n\nreturn (\n  <CreateStore>\n    <div className=\"form\">\n      <div className=\"input\">\n        <MbInputField\n          id=\"storename\"\n          placeholder=\"myfirststore_\ud83d\udd25\"\n          type=\"text\"\n          required={true}\n          label=\"Store Name\"\n          error={invalidStoreName}\n          className=\"input-field\"\n          value={storeName}\n          isDarkModeOn={isDarkModeOn}\n          onChange={onStoreNameChange}\n        />\n      </div>\n      <div className=\"input\">\n        <MbInputField\n          id=\"storesymbol\"\n          placeholder=\"MFS\"\n          type=\"text\"\n          required={true}\n          label=\"Symbol (max 3 letters)\"\n          error={storeSymbol.length > 3}\n          className=\"input-field\"\n          value={storeSymbol}\n          isDarkModeOn={isDarkModeOn}\n          onChange={onStoreSymbolChange}\n        />\n      </div>\n    </div>\n    <div className=\"bottom-buttons\">\n      <div>\n        <Widget\n          src={`bos.genadrop.near/widget/Mintbase.MbButton`}\n          props={{\n            label: \"Cancel\",\n            btnType: \"secondary\",\n            size: \"medium\",\n            state: \"active\",\n            onClick: () => setModalOpen(false),\n            isDarkModeOn,\n          }}\n        />\n      </div>\n      <div>\n        <Widget\n          src={`bos.genadrop.near/widget/Mintbase.MbButton`}\n          props={{\n            label: \"Create Store\",\n            btnType: \"primary\",\n            state: `${\n              storeName.length > 0 &&\n              storeSymbol.length > 0 &&\n              storeSymbol.length <= 3\n                ? \"active\"\n                : \"disabled\"\n            }`,\n            size: \"medium\",\n            onClick: onDeploy,\n            isDarkModeOn,\n          }}\n        />\n      </div>\n    </div>\n  </CreateStore>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/bos.genadrop.near/widget/Mintbase.App.Store.CreateForm", "fact_widget_deployments_id": "c40432aec0bdffe35ee2079c9989204b", "inserted_timestamp": "2024-04-04T10:37:54.677Z", "modified_timestamp": "2024-04-04T10:37:54.677Z", "__row_index": 0}