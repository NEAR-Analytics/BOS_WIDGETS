{"tx_hash": "jfdsWrxuXuzYe6oCDGiTxQByxD6zCsnCBALwJDvACc2", "action_id_social": "9jEUXGeKGiU4oTvmejUrNJysNiQATLu6GjcNVAVW7fLt-0-widget", "block_id": 121988907, "block_timestamp": "2024-06-25T20:58:37.796Z", "signer_id": "bos.genadrop.near", "widget_name": "Mintbase.App.Store.CreateForm", "source_code": "const { isDarkModeOn, setModalOpen } = props;\nconst isInModal = props.isInModal ?? true;\nconst accountId = props.accountId ?? context.accountId;\nconst isLoggedIntoMintbase = accountId ? true : false;\nconst { MbModal } = VM.require(\n  \"bos.genadrop.near/widget/Mintbase.components\"\n) || {\n  MbModal: () => <></>,\n};\nconst { deployStore } = VM.require(\n  \"bos.genadrop.near/widget/Mintbase.utils.sdk\"\n);\nconst { MbInputField } = VM.require(\n  \"bos.genadrop.near/widget/Mintbase.MbInput\"\n) || {\n  MbInputField: () => <></>,\n};\nconst [storeName, setStoreName] = useState(\"\");\nconst [storeSymbol, setStoreSymbol] = useState(\"\");\nconst [invalidStoreName, setInvalidStoreName] = useState(false);\nconst CreateStore = styled.div`\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  width: 100%;\n  height: inherit;\n  .form {\n    display: flex;\n    flex-direction: column;\n    gap: 1em;\n    flex: 1;\n  }\n  .bottom-buttons {\n    display: flex;\n    width: 100%;\n    align-items: center;\n  }\n`;\nconst onDeploy = () => {\n  try {\n    deployStore({\n      storeName,\n      storeSymbol,\n      accountId,\n      isMainnet: true,\n    });\n  } catch (error) {\n    console.error(error);\n  }\n};\nconst onStoreNameChange = (e) => {\n  setStoreName(e.target.value);\n  if (e.target.value.length > 0) {\n    setInvalidStoreName(false);\n  }\n};\nconst onStoreSymbolChange = (e) => {\n  setStoreSymbol(e.target.value);\n};\nreturn (\n  <CreateStore>\n    <div className=\"form\">\n      <div className=\"input\">\n        <MbInputField\n          id=\"storename\"\n          placeholder=\"myfirststore_\ud83d\udd25\"\n          type=\"text\"\n          required={true}\n          label=\"Store Name\"\n          error={invalidStoreName}\n          className=\"input-field\"\n          value={storeName}\n          isDarkModeOn={isDarkModeOn}\n          onChange={onStoreNameChange}\n        />\n      </div>\n      <div className=\"input\">\n        <MbInputField\n          id=\"storesymbol\"\n          placeholder=\"MFS\"\n          type=\"text\"\n          required={true}\n          label=\"Symbol (max 3 letters)\"\n          error={storeSymbol.length > 3}\n          className=\"input-field\"\n          value={storeSymbol}\n          isDarkModeOn={isDarkModeOn}\n          onChange={onStoreSymbolChange}\n        />\n      </div>\n    </div>\n    <div\n      className=\"bottom-buttons\"\n      style={{\n        justifyContent: isInModal ? \"space-between\" : \"center\",\n      }}\n    >\n      {isInModal && (\n        <div>\n          <Widget\n            src={`bos.genadrop.near/widget/Mintbase.MbButton`}\n            props={{\n              label: \"Cancel\",\n              btnType: \"secondary\",\n              size: \"medium\",\n              state: \"active\",\n              onClick: () => setModalOpen(false),\n              isDarkModeOn,\n            }}\n          />\n        </div>\n      )}\n      <div>\n        <Widget\n          src={`bos.genadrop.near/widget/Mintbase.MbButton`}\n          props={{\n            label: \"Create Store\",\n            btnType: \"primary\",\n            state: `${\n              storeName.length > 0 &&\n              storeSymbol.length > 0 &&\n              storeSymbol.length <= 3 &&\n              isLoggedIntoMintbase\n                ? \"active\"\n                : \"disabled\"\n            }`,\n            size: \"medium\",\n            onClick: onDeploy,\n            isDarkModeOn,\n          }}\n        />\n      </div>\n    </div>\n  </CreateStore>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/bos.genadrop.near/widget/Mintbase.App.Store.CreateForm", "fact_widget_deployments_id": "72c432c1cb8771a4ae659dbf91440025", "inserted_timestamp": "2024-06-25T21:54:15.533Z", "modified_timestamp": "2024-06-25T21:54:15.533Z", "__row_index": 0}