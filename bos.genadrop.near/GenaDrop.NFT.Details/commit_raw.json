{"tx_hash": "5otDAiov58RzdPT7WWevL8vc5qvJzq5Q6bWvGUniobR2", "action_id_social": "FyjrhjsYKwnk891ufaRYVgz5q5K5JVySXNrCZ5YfGeqP-0-widget", "block_id": 117544278, "block_timestamp": "2024-04-24T20:37:20.049Z", "signer_id": "bos.genadrop.near", "widget_name": "GenaDrop.NFT.Details", "source_code": "const nft = props.nft ?? {\n  contractId: props.contractId,\n  tokenId: props.tokenId,\n};\nconst contractId = props.contractId;\nconst tokenId = props.tokenId;\nconst className = props.className ?? \"img-fluid\";\nconst style = props.style;\nconst alt = props.alt;\nconst thumbnail = props.thumbnail;\nconst fallbackUrl = props.fallbackUrl;\nconst loadingUrl =\n  props.loadingUrl ??\n  \"https://ipfs.near.social/ipfs/bafkreidoxgv2w7kmzurdnmflegkthgzaclgwpiccgztpkfdkfzb4265zuu\";\nState.init({\n  contractId,\n  tokenId,\n  description: \"\",\n  text: \"\",\n  message: false,\n  listings: [],\n  loadingBuying: false,\n  title: \"\",\n  owner: \"\",\n  imageUrl: null,\n});\nconst currentChainProps = {\n  near: {\n    img: \"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTrJuxjGxj4QmyreE6ix4ygqm5pK9Nn_rdc8Ndw6lmJcd0SSnm2zBIc2xJ_My1V0WmK2zg&usqp=CAU\",\n    livePrice: \"near\",\n    subgraph: \"https://api.thegraph.com/subgraphs/name/prometheo/near-mainnet\",\n    chain: \"near\",\n    id: \"1112\",\n    explorer: \"https://explorer.near.org/?query=\",\n    logoUrl:\n      \"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTrJuxjGxj4QmyreE6ix4ygqm5pK9Nn_rdc8Ndw6lmJcd0SSnm2zBIc2xJ_My1V0WmK2zg&usqp=CAU\",\n  },\n  aurora: {\n    img: \"https://s2.coinmarketcap.com/static/img/coins/200x200/14803.png\",\n    id: \"1313161554\",\n    chain: \"Aurora\",\n    explorer: \"https://aurorascan.dev/\",\n    explorerTx: \"https://aurorascan.dev/\",\n    livePrice: \"ethereum\",\n    contract: \"0xe93097f7C3bF7A0E0F1261c5bD88F86D878667B5\",\n    subgraph:\n      \"https://api.thegraph.com/subgraphs/name/prometheo/aurora-mainnet\",\n  },\n  arbitrum: {\n    img: \"https://assets.coingecko.com/coins/images/16547/large/photo_2023-03-29_21.47.00.jpeg?1680097630\",\n    id: \"42161\",\n    contract: \"0x27E52A81975F5Fb836e79007E3c478C6c0E6E9FB\",\n    chain: \"Arbitrum\",\n    explorer: \"https://arbiscan.io/\",\n    explorerTx: \"https://arbiscan.io/\",\n    livePrice: \"ethereum\",\n    subgraph: \"https://api.thegraph.com/subgraphs/name/prometheo/arbitrum\",\n  },\n  celo: {\n    img: \"https://assets.coingecko.com/coins/images/11090/large/InjXBNx9_400x400.jpg?1674707499\",\n    id: \"42220\",\n    livePrice: \"celo\",\n    contract: \"0x5616BCcc278F7CE8B003f5a48f3754DDcfA4db5a\",\n    explorer: \"https://explorer.celo.org/address/\",\n    explorerTx: \"https://explorer.celo.org/\",\n    chain: \"Celo\",\n    subgraph: \"https://api.thegraph.com/subgraphs/name/prometheo/celo-mainnet\",\n  },\n  polygon: {\n    img: \"https://altcoinsbox.com/wp-content/uploads/2023/03/matic-logo.webp\",\n    id: \"137\",\n    chain: \"Polygon\",\n    livePrice: \"matic-network\",\n    contract: \"0x57Eb0aaAf69E22D8adAe897535bF57c7958e3b1b\",\n    explorer: \"https://polygonscan.com/address/\",\n    explorerTx: \"https://polygonscan.com/\",\n    subgraph:\n      \"https://api.thegraph.com/subgraphs/name/prometheo/polygon-mainnet\",\n  },\n  aptos: {\n    img: \"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQqBinSwbRdx76qY4A3qvVkM9g_mKoGCBDT0sqTT02TgRvKquV2Vlc8fSRmLyuhBS3-CaA&usqp=CAU\",\n  },\n  sui: {\n    img: \"https://blog.sui.io/content/images/2023/04/Sui_Droplet_Logo_Blue-3.png\",\n  },\n};\nconst listAbi = [\n  \"function createMarketplaceItem(address nftContract, uint256 tokenId, uint256 price, string calldata category, address seller) public payable {}\",\n  \"function nftSale(uint256 price, uint256 tokenId, address seller, address nftContract) public payable {}\",\n];\nconst NoNFTLoading = styled.div`\n  width: 100%;\n  min-height: 80vh;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n`;\nconst nftMetadata =\n  nft.contractMetadata ?? Near.view(contractId, \"nft_metadata\");\nconst tokenMetadata =\n  nft.tokenMetadata ??\n  Near.view(contractId, \"nft_token\", {\n    token_id: tokenId,\n  }).metadata;\nif (contractId !== state.contractId || tokenId !== tokenId) {\n  State.update({\n    contractId,\n    tokenId,\n    imageUrl: null,\n  });\n}\nlet imageUrl = null;\nconst handleBuyClick = (price, owner) => {\n  const contract = new ethers.Contract(\n    currentChainProps[props.chainState].contract,\n    listAbi,\n    Ethers.provider().getSigner()\n  );\n  const nftContract = contractId.split(tokenId)[0];\n  State.update({\n    loadingBuying: true,\n  });\n  contract\n    .nftSale(price, tokenId, owner, nftContract, { value: price })\n    .then((transactionHash) => transactionHash.wait())\n    .then((ricit) => {\n      console.log(\"does not get hiere\", ricit);\n      State.update({\n        message: true,\n        error: false,\n        loadingBuying: false,\n        text: `${currentChainProps[props.chainState].explorerTx}/tx/${\n          ricit.transactionHash\n        }`,\n      });\n    })\n    .catch((err) => {\n      console.log(\"couldnt finish\", err);\n      State.update({\n        error: true,\n        loadingBuying: false,\n        text: err.reason,\n      });\n    });\n};\nfunction fetchTokens() {\n  asyncFetch(\"https://graph.mintbase.xyz/mainnet\", {\n    method: \"POST\",\n    headers: {\n      \"mb-api-key\": \"omni-site\",\n      \"Content-Type\": \"application/json\",\n      \"x-hasura-role\": \"anonymous\",\n    },\n    body: JSON.stringify({\n      query: `\n            query MyQuery {\n                mb_views_nft_tokens(\n                where: { nft_contract_id: { _eq: \"${contractId}\" }, token_id: {_eq: \"${tokenId}\"}}\n                order_by: {minted_timestamp: desc}\n              ) {\n                  attributes {\n                      attribute_display_type\n                      attribute_value\n                  }\n                  media \n                  owner\n                  token_id\n                  nft_contract_id\n                  description\n                  title\n                  listings {\n                      price\n                      unlisted_at\n                      listed_by\n                  }\n              }\n            }\n          `,\n    }),\n  }).then((res) => {\n    if (res.ok) {\n      const tokens = res.body.data.mb_views_nft_tokens;\n      const token = tokens[0];\n      State.update({\n        description: token.description,\n        owner: token.owner,\n        listings: token.listings[0],\n        title: token.title,\n      });\n      if (!token && props.chainState !== (\"aptos\" || \"sui\")) {\n        let response = fetch(currentChainProps[props.chainState]?.subgraph, {\n          method: \"POST\",\n          headers: {\n            \"Content-Type\": \"application/json\",\n          },\n          body: JSON.stringify({\n            query: `\n              query MyQuery {\n               nfts(where: {tokenID: \"${tokenId}\"}) {\n                  category\n                  chain\n                  createdAtTimestamp\n                  id\n                  isSold\n                  isListed\n                  price\n                  tokenID\n                  owner {\n                      id\n                  }\n                  tokenIPFSPath\n                  transactions {\n                    price\n                  }\n                  }\n              }\n          `,\n          }),\n        });\n        const collectionData = response.body.data.nfts;\n        if (collectionData) {\n          const nftBody = collectionData.map((data) => {\n            const fetchIPFSData = fetch(\n              data.tokenIPFSPath.replace(\"ipfs://\", \"https://ipfs.io/ipfs/\")\n            );\n            if (fetchIPFSData.ok) {\n              const nft = fetchIPFSData.body;\n              let nftObject = {};\n              nftObject.contract_id = data.id;\n              nftObject.sold = data.isSold;\n              nftObject.isListed = data.isListed;\n              nftObject.owner = data.owner.id;\n              nftObject.price = data.price;\n              nftObject.token_id = data.tokenID;\n              nftObject.name = nft?.name;\n              nftObject.description = nft?.description;\n              nftObject.attributes = nft?.properties;\n              nftObject.image = nft?.image.replace(\n                \"ipfs://\",\n                \"https://ipfs.io/ipfs/\"\n              );\n              return nftObject;\n            }\n          });\n          State.update({\n            title: nftBody[0].name,\n            imageUrl: nftBody[0].image,\n            owner: nftBody[0]?.owner,\n            description: nftBody[0]?.description,\n            price: nftBody[0].price,\n          });\n        }\n      }\n      if (!token) {\n        const response = fetch(\"https://api.indexer.xyz/graphql\", {\n          method: \"POST\",\n          headers: {\n            \"x-api-key\": \"Krqwh4b.bae381951d6050d351945c0c750f1510\",\n            \"x-api-user\": \"Banyan\",\n            \"Content-Type\": \"application/json\",\n          },\n          body: JSON.stringify({\n            query: `query MyQuery {\n    ${props.chainState} {\n      nfts(\n        where: { contract_id: { _eq: \"${contractId}\" }, token_id: {_eq: \"${tokenId}\"}}\n      ) {\n        contract_id\n        name\n        media_url\n        token_id\n        media_type\n        owner\n        \n        staked_owner\n        listings {\n          listed\n          price\n        }\n        attributes {\n          rarity\n          value\n          type\n          score\n        }\n       }\n       }\n      }`,\n          }),\n        });\n        const token = response.body.data[props.chainState].nfts;\n        if (token) {\n          State.update({\n            title: token[0].name,\n            listings: token[0].listings,\n            attributes: token[0].attributes,\n            imageUrl: token[0].media_url,\n          });\n        }\n      }\n    }\n  });\n}\nfetchTokens();\nif (props.contractId && props.tokenId && !state.title) {\n  return (\n    <NoNFTLoading>\n      <img\n        src=\"https://ipfs.near.social/ipfs/bafkreidoxgv2w7kmzurdnmflegkthgzaclgwpiccgztpkfdkfzb4265zuu\"\n        alt=\"\"\n      />\n    </NoNFTLoading>\n  );\n}\nif (nftMetadata && tokenMetadata) {\n  let tokenMedia = tokenMetadata.media || \"\";\n  imageUrl =\n    tokenMedia.startsWith(\"https://\") ||\n    tokenMedia.startsWith(\"http://\") ||\n    tokenMedia.startsWith(\"data:image\")\n      ? tokenMedia\n      : nftMetadata.base_uri\n      ? `${nftMetadata.base_uri}/${tokenMedia}`\n      : tokenMedia.startsWith(\"Qm\") || tokenMedia.startsWith(\"ba\")\n      ? `https://ipfs.near.social/ipfs/${tokenMedia}`\n      : tokenMedia;\n  if (!tokenMedia && tokenMetadata.reference) {\n    if (\n      nftMetadata.base_uri === \"https://arweave.net\" &&\n      !tokenMetadata.reference.startsWith(\"https://\")\n    ) {\n      const res = fetch(`${nftMetadata.base_uri}/${tokenMetadata.reference}`);\n      imageUrl = res.body.media;\n    } else if (\n      tokenMetadata.reference.startsWith(\"https://\") ||\n      tokenMetadata.reference.startsWith(\"http://\")\n    ) {\n      const res = fetch(tokenMetadata.reference);\n      imageUrl = JSON.parse(res.body).media;\n    } else if (tokenMetadata.reference.startsWith(\"ar://\")) {\n      const res = fetch(\n        `${\"https://arweave.net\"}/${tokenMetadata.reference.split(\"//\")[1]}`\n      );\n      imageUrl = JSON.parse(res.body).media;\n    }\n  }\n  if (!imageUrl) {\n    imageUrl = false;\n  }\n}\nconst replaceIpfs = (imageUrl) => {\n  if (state.oldUrl !== imageUrl && imageUrl) {\n    const match = rex.exec(imageUrl);\n    if (match) {\n      const newImageUrl = `https://ipfs.near.social/ipfs/${match[1]}${\n        match[2] || \"\"\n      }`;\n      if (newImageUrl !== imageUrl) {\n        State.update({\n          oldUrl: imageUrl,\n          imageUrl: newImageUrl,\n        });\n        return;\n      }\n    }\n  }\n  if (state.imageUrl !== false) {\n    State.update({\n      imageUrl: false,\n    });\n  }\n};\nconst getSender = () => {\n  return !state.sender\n    ? \"\"\n    : state.sender.substring(0, 6) +\n        \"...\" +\n        state.sender.substring(state.sender.length - 4, state.sender.length);\n};\nif (state.sender === undefined) {\n  const accounts = Ethers.send(\"eth_requestAccounts\", []);\n  if (accounts.length) {\n    State.update({ sender: accounts[0] });\n  }\n}\nconst thumb = (imageUrl) =>\n  thumbnail && imageUrl && !imageUrl.startsWith(\"data:image/\")\n    ? `https://i.near.social/${thumbnail}/${imageUrl}`\n    : imageUrl;\nconst img = state.imageUrl !== null ? state.imageUrl : imageUrl;\nconst src = img !== false ? img : fallbackUrl;\nconst Root = styled.div`\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  padding: 0;\n  align-items: center;\n  justify-content: center;\n`;\nconst MainContainer = styled.div`\n  padding: 30px;\n  height: auto;\n  max-width: 1300px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n`;\nconst TopSection = styled.div`\n  display: flex;\n  flex-direction: row;\n  flex-wrap: wrap;\n  align-items: flex-start;\n  justify-content: center;\n  width: 100%;\n  @media screen and (max-width: 600px) {\n    justify-content: center;\n    align-items: center;\n  }\n`;\nconst TopImageContainer = styled.div`\n  padding: 1em;\n  background: #ffffff;\n  width: 50%;\n  min-width: 355px;\n  border: 2px solid #cacdd5;\n  margin-right: 20px;\n  box-shadow: 2px 7px 22px rgba(28, 27, 28, 0.1);\n  border-radius: 0.7em;\n  & > img {\n    width: 100%;\n  }\n`;\nconst loadingAnimation = styled.keyframes`\n  0% {\n    content: \"Loading\";\n  }\n  25% {\n    content: \"Loading.\";\n  }\n  50% {\n    content: \"Loading..\";\n  }\n  75% {\n    content: \"Loading...\";\n  }\n`;\nconst BuyButton = styled.button`\n  padding: 10px 15px;\n  font-size: 14px;\n  margin-top: 20px;\n  background-color: #007bff;\n  color: #fff;\n  width: 120px;\n  border-radius: 16px;\n  border: none;\n  cursor: pointer;\n  transition: background-color 0.3s ease;\n  &:hover {\n    background-color: #0056b3;\n  }\n  &.loading {\n    background: #0056b5;\n    cursor: not-allowed;\n  }\n  &.loading::before {\n    content: \"Loading\";\n    animation: ${loadingAnimation} 1s infinite;\n    display: inline-block;\n  }\n`;\nconst HeaderText = styled.h1`\n  font-size: 1.5rem;\n`;\nconst PriceArea = styled.div`\n  display: flex;\n  align-items: center;\n  color: #0d99ff;\n  & > * {\n    margin: 0px;\n    padding: 0px;\n  }\n  & > h6 {\n    font-weight: 700;\n    margin-left: 5px;\n    margin-top: 4px;\n    margin-right: 3px;\n    font-size: 1.3rem;\n  }\n  & > span {\n    font-size: 1.2rem;\n    margin: 0px;\n  }\n`;\nconst PriceBucket = styled.div`\n  display: flex;\n  flex-direction: row;\n  align-items: flex-end;\n  justify-content: space-between;\n  margin-top: 30px;\n  width: 100%;\n`;\nconst Logo = styled.div`\n  & > img {\n    width: 20px;\n    margin-right: 5px;\n  }\n`;\nconst RightSection = styled.div`\n  width: 46%;\n  min-width: 350px;\n  margin-left: 10px;\n  display: flex;\n  flex-direction: column;\n  align-items: flex-end;\n  margin-right: 10px;\n`;\nconst Description = styled.div`\n  width: 100%;\n  border-radius: 1em;\n  background: #ffffff;\n  border: 2px solid #eeeff2;\n  padding: 1em;\n  margin-top: 40px;\n  box-shadow: 2px 7px 22px rgba(28, 27, 28, 0.1);\n  & > h6 {\n    font-weight: 600;\n    font-size: 1.5rem;\n  }\n`;\nconst AttributeContainer = styled.div`\n  display: flex;\n  flex-direction: row;\n  flex-wrap: wrap;\n  align-items: center;\n  justify-content: space-between;\n  width: 100%;\n`;\nconst SwapButton = styled.button`\n  background: white;\n  padding: 5px 7px;\n  width: 90px;\n  border-radius: 8px;\n  border: 1px solid #0d99ff;\n  color: #0d99ff;\n`;\nconst Attribute = styled.div`\n  display: flex;\n  align-items: flex-start;\n  justify-content: space-between;\n  padding: 0.5em;\n  border-radius: 0.5em;\n  width: 206px;\n  background: #fafafb;\n  margin-bottom: 20px;\n  border: 1px solid #86ccff;\n  border-radius: 10.6849px;\n  & > *span {\n    padding: 0;\n    color: #b2b7c2;\n  }\n`;\nconst TransactionTable = styled.div`\n  width: 100%;\n  max-width: 70%;\n  background: #ffffff;\n  border: 2px solid #eeeff2;\n  box-shadow: 2px 7px 22px rgba(28, 27, 28, 0.1);\n  border-radius: 16px;\n  margin-bottom: 40px;\n`;\nconst TableHeader = styled.div`\n  width: 100%;\n  padding: 0.5em;\n  font-weight: 600;\n  font-size: 1.5rem;\n  margin-bottom: 0.5em;\n  display: flex;\n  justify-content: flex-start;\n  gap: 1em;\n  background: #f5f6f7;\n  border-radius: 14px 14px 0px 0px;\n  & > h1 {\n    font-size: 24px;\n  }\n`;\nconst TableBody = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n  padding: 0.5em;\n  justify-content: space-between;\n  border-bottom: 1px solid #dde1e6;\n`;\nconst RowType = styled.div`\n  display: inline-flex;\n  align-items: center;\n  justify-content: flex-start;\n  gap: 0.5em;\n  font-size: 0.75rem;\n  padding: 0.25em 1em;\n  border-radius: 0.7em;\n  border: 1px solid #a4a9b6;\n`;\nconst RowBody = styled.div`\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  margin-top: 10px;\n  padding-left: 7px;\n  width: 100%;\n  justify-content: space-between;\n  p {\n    margin: 0;\n    border-bottom: 1px solid #e5e8eb;\n    font-size: 12px;\n    min-width: 100px;\n    text-align: center;\n  }\n  span {\n    font-size: 12px;\n  }\n`;\nconst Popup = styled.div`\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background-color: rgba(0, 0, 0, 0.5);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  backdrop-filter: blur(5px); /* Apply background blur */\n`;\nconst MintDetails = styled.div`\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: space-between;\n  color: #525c76;\n  & > span {\n    font-size: 14px;\n  }\n  & > a {\n    cursor: pointer;\n  }\n`;\nconst HandleList = () => {\n  console.log(props.singleNftProps);\n};\nconst closeModal = () => State.update({ message: false });\nconst getUsdValue = (price) => {\n  const res = fetch(\n    `https://api.coingecko.com/api/v3/simple/price?ids=${\n      currentChainProps[props.chainState]?.livePrice\n    }&vs_currencies=usd`\n  );\n  if (res.ok) {\n    const multiplyBy = Object.values(res?.body)[0]?.usd;\n    const value = multiplyBy * price.toFixed(2);\n    return value.toFixed(4) !== \"NaN\" ? `$${value.toFixed(2)}` : 0;\n  }\n};\nconst PRICE_CONVERSION_CONSTANT =\n  props.chainState == \"near\" ? 1000000000000000000000000 : 1000000000000000000;\nreturn (\n  <Root>\n    <MainContainer>\n      <TopSection>\n        <TopImageContainer>\n          <HeaderText>{state.title || \"AI Sunset\"}</HeaderText>\n          <img\n            src={\n              src ||\n              \"https://genadrop.mypinata.cloud/ipfs/QmZbtU8RnMymJAJRpTriZgDXVeeCpm5RyXMJNquGoVc4Rb\"\n            }\n            alt=\"NFT\"\n            width=\"100%\"\n            height=\"100%\"\n            className=\"rounded-3\"\n          />\n          <div\n            style={{\n              display: \"flex\",\n              marginTop: \"10px\",\n              justifyContent: \"space-between\",\n            }}\n          >\n            <p\n              style={{\n                marginBottom: \"0.5em\",\n                fontSize: \"0.85rem\",\n                color: \"#0d99ff\",\n              }}\n            >\n              Owner\n            </p>\n            <a\n              target=\"_blank\"\n              style={{ textDecoration: \"none\" }}\n              href={\n                state.owner && tokenId\n                  ? currentChainProps[props.chainState]?.explorer + state.owner\n                  : \"#\"\n              }\n            >\n              <span style={{ fontSize: \"0.9rem\", fontWeight: 600 }}>\n                {state.owner?.length > 25\n                  ? state.owner.slice(0, 8) + \"...\" + state.owner.slice(34)\n                  : state.owner?.length < 25\n                  ? state.owner.slice(0, 12) + \"...near\"\n                  : !state.owner && tokenId\n                  ? \"----\"\n                  : \"nft.genadrop.near\".slice(0, 8) + \"...\" + \"near\"}\n              </span>\n            </a>\n          </div>\n        </TopImageContainer>\n        <RightSection>\n          <PriceBucket>\n            <div>\n              <p style={{ color: \"#b2b7c2\", marginBottom: 0 }}>CURRENT PRICE</p>\n              <PriceArea>\n                {props.chainState ? (\n                  <Logo>\n                    <img src={currentChainProps[props.chainState]?.img} />\n                  </Logo>\n                ) : (\n                  <Widget src=\"bos.genadrop.near/widget/GenaDrop.NearLogo\" />\n                )}\n                <h6>\n                  {`${\n                    state.listings.price\n                      ? (\n                          state.listings.price / 1000000000000000000000000\n                        ).toFixed(2)\n                      : state.price\n                      ? (state.price / PRICE_CONVERSION_CONSTANT).toFixed(2)\n                      : \"0.00\"\n                  }`}\n                </h6>\n                <span>{` (${\n                  state.listings.price\n                    ? getUsdValue(\n                        state.listings.price / 1000000000000000000000000\n                      )\n                    : state.price\n                    ? getUsdValue(state.price / PRICE_CONVERSION_CONSTANT)\n                    : \"0.00\"\n                })`}</span>\n              </PriceArea>\n            </div>\n            <div>\n              {state.price && state.owner !== state.sender ? (\n                <BuyButton\n                  disabled={state.loadingBuying}\n                  className={state.loadingBuying ? \"loading\" : \"\"}\n                  onClick={() => handleBuyClick(state.price, state.owner)}\n                >\n                  {state.loadingBuying ? \"\" : \"BUY\"}\n                </BuyButton>\n              ) : state.owner === context.accountId ||\n                state.owner === state.sender ? (\n                <a\n                  href={`#/agwaze.near/widget/GenaDrop.NFTListing?tokenId=${tokenId}&contractId=${contractId}&chainState=${props.chainState}`}\n                >\n                  <button>List</button>\n                </a>\n              ) : (\n                <button\n                  style={{\n                    backgroundColor: \"#525c76\",\n                    borderColor: \"#525c76\",\n                    cursor: \"not-allowed\",\n                  }}\n                >\n                  Not Listed\n                </button>\n              )}\n            </div>\n          </PriceBucket>\n          <Description>\n            <h6>Description</h6>\n            <span>\n              {state.description\n                ? state.description\n                : tokenId && !state.description\n                ? \"--No Description--\"\n                : \"Ai generated sunset cliffs\"}\n            </span>\n          </Description>\n          <Description>\n            <h6>Attributes</h6>\n            <AttributeContainer>\n              {state.attributes ? (\n                state.attributes.map((data) => (\n                  <Attribute>\n                    <div>\n                      <span style={{ color: \"#b2b7c2\" }}>File Type</span>\n                      <p style={{ marginTop: \"10px\" }}>{data.type}</p>\n                    </div>\n                    <div>\n                      <span style={{ color: \"#b2b7c2\" }}>Rarity</span>\n                      <p style={{ marginTop: \"10px\" }}>{data.rarity}%</p>\n                    </div>\n                  </Attribute>\n                ))\n              ) : (\n                <Attribute>\n                  <div>\n                    <span style={{ color: \"#b2b7c2\" }}>File Type</span>\n                    <p style={{ marginTop: \"10px\" }}>PNG</p>\n                  </div>\n                  <div>\n                    <span style={{ color: \"#b2b7c2\" }}>Rarity</span>\n                    <p style={{ marginTop: \"10px\" }}>1%</p>\n                  </div>\n                </Attribute>\n              )}\n            </AttributeContainer>\n          </Description>\n          <Description>\n            <h6>Details</h6>\n            <MintDetails>\n              <span>Mint Address</span>\n              <a\n                target=\"_blank\"\n                href={\n                  state.owner && tokenId\n                    ? currentChainProps[props.chainState]?.explorer +\n                      state.owner\n                    : \"#\"\n                }\n              >\n                {state.owner?.length > 25\n                  ? state.owner.slice(0, 8) + \"...\" + state.owner.slice(34)\n                  : state.owner?.length < 25\n                  ? state.owner.slice(0, 12) + \"...near\"\n                  : !state.owner && tokenId\n                  ? \"----\"\n                  : \"genadrop-contract.nftgen.near\".slice(0, 8) +\n                    \"...\" +\n                    \"near\"}\n              </a>\n            </MintDetails>\n          </Description>\n          {state.error && (\n            <div className=\"bg-danger p-2 mt-4 rounded\">\n              <p className=\"text-center text-white pt-2\">\n                Something went wrong when trying to Buy, Please make sure you\n                are connected to the correct chain and have enough gas\n              </p>\n            </div>\n          )}\n        </RightSection>\n      </TopSection>\n    </MainContainer>\n    <Widget src=\"bos.genadrop.near/widget/GenaDrop.Footer\" />\n    {state.message && (\n      <Popup>\n        <Widget\n          src=\"bos.genadrop.near/widget/GenaDrop.SuccessModal\"\n          props={{\n            closeModal,\n            externalLink: state.text,\n            modalText: \"Successfully Purchased\",\n          }}\n        />\n      </Popup>\n    )}\n  </Root>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/bos.genadrop.near/widget/GenaDrop.NFT.Details", "fact_widget_deployments_id": "669cc95ced4af5e91a729764c2ddca89", "inserted_timestamp": "2024-04-24T23:05:50.652Z", "modified_timestamp": "2024-04-24T23:05:50.652Z", "__row_index": 0}