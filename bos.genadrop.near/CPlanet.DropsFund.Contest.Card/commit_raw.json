{"tx_hash": "A1dj5BVi5U7PsQLor9Bn972fGjVDVC4AjW5AmfxitExh", "action_id_social": "A1p8TEqz9SYVH4rzxGsdJQPrE5ZhbvtRnwAaFX8shPv4-0-widget", "block_id": 117657192, "block_timestamp": "2024-04-26T10:06:12.377Z", "signer_id": "bos.genadrop.near", "widget_name": "CPlanet.DropsFund.Contest.Card", "source_code": "const redFlag = (\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    width=\"16\"\n    height=\"17\"\n    viewBox=\"0 0 16 17\"\n    fill=\"none\"\n  >\n    <rect x=\"0.5\" y=\"1\" width=\"15\" height=\"15\" rx=\"7.5\" fill=\"#FF7777\" />\n    <rect x=\"0.5\" y=\"1\" width=\"15\" height=\"15\" rx=\"7.5\" stroke=\"#FF7777\" />\n    <path\n      d=\"M9.69231 13.125C9.69231 14.1589 8.86412 15 7.84615 15C6.82818 15 6 14.1589 6 13.125C6 12.0911 6.82818 11.25 7.84615 11.25C8.86412 11.25 9.69231 12.0911 9.69231 13.125ZM6.21369 3.5906L6.52754 9.9656C6.54228 10.265 6.78556 10.5 7.08069 10.5H8.61162C8.90675 10.5 9.15002 10.265 9.16477 9.9656L9.47862 3.5906C9.49442 3.2693 9.24222 3 8.92546 3H6.76685C6.45009 3 6.19788 3.2693 6.21369 3.5906Z\"\n      fill=\"#FFEEEE\"\n    />\n  </svg>\n);\nconst nearGreen = (\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    width=\"14\"\n    height=\"14\"\n    viewBox=\"0 0 14 14\"\n    fill=\"none\"\n  >\n    <circle\n      cx=\"7\"\n      cy=\"7\"\n      r=\"11.533\"\n      fill=\"#3BD07F\"\n      stroke=\"#3BD07F\"\n      stroke-width=\"0.933953\"\n    />\n  </svg>\n);\nconst Container = styled.div`\n  border: 1px solid\n    ${(p) => (p.selected ? \"#3BD07F\" : p.notOwner ? \"#F777\" : \"#eaeaea\")};\n  margin-bottom: 20px;\n  @media (max-width: 500px) {\n    width: 90%;\n    margin-left: auto;\n    margin-right: auto;\n  }\n`;\nconst Root = styled.div`\n  height: max-height;\n  max-width: 1000px;\n  display: flex;\n  padding: 16px;\n  border-bottom: 1px solid\n    ${(p) => (p.selected ? \"#3BD07F\" : p.notOwner ? \"#F777\" : \"#eaeaea\")};\n  background: ${(p) =>\n    p.selected ? \"#E4FFF0\" : p.notOwner ? \"#FFF8F8\" : \"#fff\"};\n  @media (max-width: 500px) {\n    width: 100% !important;\n    max-width: 100% !important;\n    margin-left: auto;\n    margin-right: auto;\n    flex-wrap: wrap;\n    height: 100%;\n  }\n  .cardContent {\n    width: 70%;\n    @media (max-width: 500px) {\n      width: 100%;\n    }\n  }\n`;\nconst Image = styled.div`\n  width: 144px;\n  height: 144px;\n  flex-shrink: 0;\n  margin-right: 5px;\n  background: rgba(160, 160, 160, 0.2);\n  margin-right: 20px;\n  img {\n    width: 100%;\n    border-radius: 6px;\n    height: 100%;\n    object-fit: cover;\n    cursor: pointer;\n  }\n  @media (max-width: 500px) {\n    width: 250px;\n    height: 250px;\n    margin-left: auto;\n    margin-right: auto;\n    margin-bottom: 20px;\n  }\n`;\nconst Header = styled.div`\n  .headerName {\n    display: flex;\n    flex-wrap: wrap;\n    align-items: center;\n  }\n  .dots {\n    width: 7px;\n    height: 7px;\n    margin-bottom: 13px;\n    margin-right: 5px;\n    margin-left: 5px;\n    background: #b0b0b0;\n    border-radius: 50%;\n  }\n  h1 {\n    color: #000;\n    leading-trim: both;\n    text-edge: cap;\n    font-family: Helvetica Neue;\n    font-size: 24px;\n    font-style: normal;\n    font-weight: 500;\n    line-height: normal;\n  }\n  p {\n    color: #b0b0b0;\n    font-family: Helvetica Neue;\n    display: flex;\n    align-item: center;\n    font-size: 16px;\n    font-style: normal;\n    font-weight: 500;\n    line-height: normal span {\n      color: ${(p) => (p.selected ? \"#3BD07F\" : \"#b0b0b0\")};\n      font-weight: ${(p) => (p.selected ? \"700\" : \"500\")};\n    }\n  }\n  img {\n    width: 16px !important;\n    height: 16px !important;\n    margin: 5px 3px 0 5px;\n    object-fit: cover;\n    border-radius: 50%;\n  }\n`;\nconst NoProfile = styled.div`\n  margin-top: 5px;\n  margin: 5px 3px 0 5px;\n  width: 16px;\n  height: 16px;\n  border-radius: 50%;\n  background: #808080;\n`;\nconst CardBody = styled.div`\n  display: flex;\n  width: 70%;\n  .desc {\n    min-width: 600px;\n  }\n  p {\n    overflow: hidden;\n    color: #b0b0b0;\n    font-family: Helvetica Neue;\n    font-size: 16px;\n    font-style: normal;\n    font-weight: 500;\n    line-height: 148%; /* 23.68px */\n  }\n  @media (max-width: 500px) {\n    .desc {\n      min-width: inherit;\n    }\n  }\n`;\nconst StartedButton = styled.div`\n  margin-top: 20px;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  align-items: center;\n  width: 132px;\n  .imageContainer {\n    display: flex;\n    align-items: center;   \n    img {\n      width: 24px;\n      margin-right: -10px;\n      height: 24px;\n      border-radius: 30px;\n      border: 1px solid #F8F8F8;\n      background: url(<path-to-image>), lightgray 50% / cover no-repeat;\n    }\n  }\n  .bannedUser {\n    display: flex;\n    margin-top: 5px;\n    align-items: center: !important;\n    svg {\n      margin-right: 7px;\n      width: 25px;\n    }\n    p {\n      color: #F77;\n      leading-trim: both;\n      text-edge: cap;\n      font-family: Helvetica Neue;\n      font-size: 12px;\n      font-style: normal;\n      font-weight: 500;\n      line-height: normal;\n    }\n  }\n  .proposal {\n    border-radius: 12px;\n    width: max-content;\n    border: 1px solid #3BD07F;\n    background: #3BD07F;\n    color: #E4FFF0;\n    font-size: 12px;\n    font-weight: 700;\n    padding: 10px 15px;\n    margin: 10px 0;\n    margin-right: 40px;\n    text-transform: uppercase;\n  }\n  .updateWinner {\n    border-radius: 12px;\n    width: max-content;\n    border: 1px solid #3BD07F;\n    background: #fff;\n    color: #3BD07F;\n    font-size: 12px;\n    font-weight: 700;\n    padding: 10px 15px;\n    margin: 10px 0;\n    margin-right: 40px;\n    text-transform: uppercase;\n  }\n  .vote {\n    gap: 8px;\n    padding: 12px 30px;\n    border-radius: 32px;\n    border: 0.357px solid #000;\n    background: #000;\n    color: #fff;\n    text-align: center;\n    font-family: Helvetica Neue;\n    font-size: 16px;\n    font-weight: 500;\n    :disabled {\n      background: #b0b0b0;\n      cursor: not-allowed;\n    }\n  }\n  .banned {\n    gap: 8px;\n    padding: 12px 30px;\n    border-radius: 32px;\n    border: 0.357px solid #F77;\n    background: #F77;\n    color: #fff;\n    text-align: center;\n    min-width: 100px;\n    font-family: Helvetica Neue;\n    font-size: 16px;\n    font-weight: 500;\n    cursor: not-allowed;\n  }\n  .won {\n    display: flex;\n    width: max-content;\n    padding: 8px 20px;\n    border-radius: 32px;\n    border: 1px solid #3bd07f;\n    background: #e4fff0;\n    gap: 8px;\n    color: #3bd07f;\n    font-family: Helvetica Neue;\n    font-size: 16px;\n    margin-right: 40px;\n    font-weight: 700;\n  }\n  .disabled {\n    height: 48px;\n    gap: 8px;\n    width: max-content;\n    min-width: 100px;\n    color: #b0b0b0;\n    font-size: 12px;\n    font-style: normal;\n    font-weight: 500;\n    border: 2px solid #b0b0b0;\n    background: none;\n    border-radius: 32px;\n    cursor: not-allowed;\n    text-transform: uppercase;\n    font-family: Helvetica Neue;\n    margin-bottom: 10px;\n  }\n  .disabled:hover {\n    background: none;\n    border-color: #b0b0b0;\n    color: #b0b0b0;\n  }\n  @media (max-width: 500px) {\n    display: block;\n  }\n`;\nconst Popup = styled.div`\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background-color: rgba(0, 0, 0, 0.5);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  backdrop-filter: blur(5px);\n  z-index: 9999;\n`;\nconst PopupContent = styled.div`\n  position: relative; /* Add this line */\n  border-radius: 5px;\n  align-items: center;\n  display: flex;\n  flex-direction: column;\n  width: 881px;\n  height: 881px;\n  flex-shrink: 0;\n  border-radius: 16px;\n  background: #ececec;\n  box-shadow: 4px 4px 40px 32px rgba(0, 0, 0, 0.12);\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  padding: 20px;\n  .cancel-button {\n    display: flex;\n    width: 100%;\n    flex-direction: row-reverse;\n    img {\n      cursor: pointer;\n      transition: 0.5s ease-in-out;\n    }\n    img:hover {\n      opacity: 0.7;\n    }\n  }\n  @media (max-width: 900px) {\n    width: 95%;\n    height: 75%;\n    .cancel-button {\n      img {\n        width: 50px;\n        height: 50px;\n      }\n    }\n  }\n`;\nconst FadeIn = styled.div`\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  top: auto;\n  height: 450px;\n  background-color: #000;\n  z-index: 99;\n  mask-image: linear-gradient(to bottom, transparent, white 100%, transparent);\n`;\nconst TextContent = styled.div`\n  position: relative;\n  z-index: 99999;\n  color: rgba(0, 0, 0, 1); /* Set the desired text color */\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n  align-items: flex-start;\n\n  .header-title {\n    color: #fff;\n    leading-trim: both;\n    text-edge: cap;\n    font-family: \"Helvetica Neue\";\n    font-size: 32px;\n    font-style: normal;\n    font-weight: 500;\n    line-height: normal;\n  }\n  .headerName {\n    display: flex;\n    flex-wrap: wrap;\n    align-items: center;\n  }\n  .dots {\n    width: 7px;\n    height: 7px;\n    margin-bottom: 13px;\n    margin-right: 5px;\n    margin-left: 5px;\n    background: #fff;\n    border-radius: 50%;\n  }\n  p {\n    color: #fff;\n    font-family: Helvetica Neue;\n    display: flex;\n    align-item: center;\n    font-size: 20px;\n    font-style: normal;\n    font-weight: 500;\n    line-height: normal span {\n      color: ${(p) => (p.selected ? \"#3BD07F\" : \"#b0b0b0\")};\n      font-weight: ${(p) => (p.selected ? \"700\" : \"500\")};\n    }\n  }\n  img {\n    width: 20px !important;\n    height: 20px !important;\n    margin: 5px 5px 0 5px;\n    object-fit: cover;\n    border-radius: 50%;\n  }\n  .desc {\n    p {\n      overflow: hidden;\n      color: #fff;\n      text-overflow: ellipsis;\n      font-family: \"Helvetica Neue\";\n      font-size: 12px;\n      font-style: normal;\n      font-weight: 500;\n      line-height: 137%; /* 16.44px */\n    }\n  }\n  .banned {\n    gap: 8px;\n    padding: 12px 30px;\n    border-radius: 32px;\n    border: 0.357px solid #f77;\n    background: #f77;\n    color: #fff;\n    text-align: center;\n\n    font-family: Helvetica Neue;\n    font-size: 16px;\n    font-weight: 500;\n    cursor: not-allowed;\n  }\n  .won {\n    display: flex;\n    width: max-content;\n    padding: 8px 20px;\n    border-radius: 32px;\n    border: 1px solid #3bd07f;\n    background: #e4fff0;\n    gap: 8px;\n    color: #3bd07f;\n    font-family: Helvetica Neue;\n    font-size: 16px;\n    margin-right: 40px;\n    font-weight: 700;\n  }\n  .disabled {\n    height: 48px;\n    gap: 8px;\n    width: max-content;\n    color: #b0b0b0;\n    font-size: 12px;\n    font-style: normal;\n    font-weight: 500;\n    border: 2px solid #b0b0b0;\n    background: none;\n    border-radius: 32px;\n    cursor: not-allowed;\n    padding: 0 10px;\n    text-transform: uppercase;\n    font-family: Helvetica Neue;\n    margin-bottom: 10px;\n  }\n  .disabled:hover {\n    background: none;\n    border-color: #b0b0b0;\n    color: #b0b0b0;\n  }\n  @media (max-width: 700px) {\n    .header-title {\n      font-size: 25px;\n    }\n    p {\n      font-size: 15px;\n    }\n  }\n`;\nconst testContract = props?.testContract;\nconst handleVoteClick = () => {\n  Near.call(\n    testContract ? \"fund-beta.genadrop.near\" : \"contest.genadrop.near\",\n    \"vote\",\n    {\n      submission_owner: props.owner,\n      contest_id: Number(props.contestId),\n    },\n    \"300000000000000\",\n    \"10000000000000000000000\"\n  );\n};\nconst [isAccountConnected, setIsAccountConnected] = useState(\n  !context.accountId\n);\nconst [winnerProposalId, setWinnerProposalId] = useState(null);\nconst [openModal, setOpenModal] = useState(false);\nconst [nftData, setNftData] = useState({});\nconst [isProposalPending, setIsProposalPending] = useState(false);\nconst formatTime = (time) => {\n  const timestamp = time * 1000; // Convert seconds to milliseconds\n  const date = new Date(timestamp);\n  // Format the date to \"Month day, year\" (e.g., \"Oct 31, 2023\")\n  const options = { month: \"short\", day: \"numeric\", year: \"numeric\" };\n  const formattedDate = date.toLocaleDateString(\"en-US\", options);\n  return formattedDate;\n};\nconst winnerDetails = Near.view(\n  testContract ? \"fund-beta.genadrop.near\" : \"contest.genadrop.near\",\n  \"get_winner_payout_info\",\n  {\n    subscribe: true,\n    contest_id: Number(props.contestId),\n    winner: props.owner,\n  }\n);\nconst totalUsersVoted = Near.view(\n  testContract ? \"fund-beta.genadrop.near\" : \"contest.genadrop.near\",\n  \"get_all_user_voted\",\n  {\n    subscribe: true,\n    contest_id: Number(props.contestId),\n  }\n);\nconst handleOnMouseEnter = () => {\n  setIsAccountConnected(true);\n};\nconst handleOnMouseLeave = () => {\n  setIsAccountConnected(false);\n};\nconst profileImage = Social.getr(`${props?.owner}/profile`);\nconst overlay = (\n  <div\n    className=\"border m-3 p-3 rounded-4 bg-white shadow\"\n    style={{ maxWidth: \"24em\", zIndex: 1070 }}\n    onMouseEnter={handleOnMouseEnter}\n    onMouseLeave={handleOnMouseLeave}\n  >\n    Please connect to a Near Wallet to vote\n  </div>\n);\nfunction fetchNFTDetails() {\n  asyncFetch(\"https://graph.mintbase.xyz/mainnet\", {\n    method: \"POST\",\n    headers: {\n      \"mb-api-key\": \"omni-site\",\n      \"Content-Type\": \"application/json\",\n      \"x-hasura-role\": \"anonymous\",\n    },\n    body: JSON.stringify({\n      query: `\n      query MyQuery {\n        mb_views_nft_tokens(\n          where: {nft_contract_id: {_eq: \"${props?.content?.contract_id}\"}, token_id: {_eq: \"${props?.content?.token_id}\"}}\n          limit: 30\n          order_by: {last_transfer_timestamp: desc}\n        ) {\n          nft_contract_id\n          title\n          description\n          media\n          owner\n          last_transfer_receipt_id\n        }\n      }\n      \n      `,\n    }),\n  }).then((data) => {\n    if (data.body.data?.mb_views_nft_tokens?.length) {\n      setNftData(data.body.data?.mb_views_nft_tokens[0]);\n    }\n  });\n}\nfetchNFTDetails();\nfunction makeDescriptionShorter(desc) {\n  if (desc.length > 200) {\n    return desc.slice(0, 200) + \"...\";\n  }\n  return desc;\n}\nconst gas = 200000000000000;\nconst deposit = 100000000000000000000000;\nlet ftMetadata = {\n  decimals: 24,\n};\nconst amountInYocto = Big(winnerDetails?.amount ?? 0)\n  .mul(Big(10).pow(ftMetadata.decimals))\n  .toFixed();\nconst lastProposalId = Near.view(props?.daoId, \"get_last_proposal_id\", {\n  subscribe: true,\n});\nfunction handleCreateProposal() {\n  Near.call([\n    {\n      contractName: props.daoId,\n      methodName: \"add_proposal\",\n      args: {\n        proposal: {\n          description:\n            state.description ??\n            `Transfer proposal for ${props?.owner}, who has secured ${winnerDetails?.amount} as one of the winners of the ${props?.contestName}.`,\n          kind: {\n            Transfer: {\n              token_id: \"\",\n              receiver_id: props?.owner,\n              amount: amountInYocto,\n            },\n          },\n        },\n      },\n      gas: gas,\n      deposit: deposit,\n    },\n    {\n      contractName: testContract\n        ? \"fund-beta.genadrop.near\"\n        : \"contest.genadrop.near\",\n      methodName: \"set_payout_proposal_id\",\n      args: {\n        contest_id: Number(props?.contestId),\n        proposal_id: lastProposalId,\n        winner: props.owner,\n      },\n      gas: \"300000000000000\",\n    },\n  ]);\n}\nconst notOwner = nftData?.owner && props?.owner !== nftData?.owner;\nconst votedUsers = Near.view(\n  testContract ? \"fund-beta.genadrop.near\" : \"contest.genadrop.near\",\n  \"get_specific_art_voters\",\n  {\n    contest_id: Number(props?.contestId),\n    artist: props?.owner,\n    subscribe: true,\n  }\n);\nconst userVoted = votedUsers ? votedUsers.includes(context.accountId) : false;\nconst bannedFromVoting = totalUsersVoted.includes(context.accountId);\nconst userProfileImage = (profile) => {\n  const getProfile = Social.get(`${profile}/profile/**`, \"final\");\n  return getProfile.image\n    ? getProfile.image.ipfs_cid\n    : \"bafkreih6spncoy6jyx2f46yxektxz44mmfq2juz4dvc36p7w5xwcnaqira\";\n};\nreturn (\n  <Container\n    selected={\n      props.winners ? props.winners?.some((data) => data === props.owner) : \"\"\n    }\n    notOwner={notOwner}\n  >\n    <Root\n      selected={\n        props.winners ? props.winners?.some((data) => data === props.owner) : \"\"\n      }\n      notOwner={notOwner}\n    >\n      <Image>\n        <img\n          src={props?.content?.image_url}\n          onClick={() => setOpenModal(true)}\n          alt=\"\"\n        />\n      </Image>\n      <div className=\"cardContent\">\n        <Header\n          selected={\n            props.winners\n              ? props.winners?.some((data) => data === props.owner)\n              : \"\"\n          }\n        >\n          <h1>{props?.content?.title}</h1>\n          <div className=\"headerName\">\n            <a\n              href={`#/bos.genadrop.near/widget/GenaDrop.Profile.Main?accountId=${props.owner}`}\n            >\n              <p>\n                NFT by{\" \"}\n                {\n                  <img\n                    src={`https://ipfs.near.social/ipfs/${profileImage?.image?.ipfs_cid}`}\n                  />\n                }{\" \"}\n                <span>{props?.owner}</span>\n              </p>\n            </a>\n            <span className=\"dots\"></span>\n            <p>{formatTime(props?.content?.timestamp)}</p>\n          </div>\n        </Header>\n        <CardBody>\n          <div className=\"desc\">\n            <p>{makeDescriptionShorter(nftData?.description ?? \"\")}</p>\n          </div>\n        </CardBody>\n      </div>\n      <StartedButton>\n        {!props.isClosed && !props.isOpen ? (\n          <OverlayTrigger\n            show={isAccountConnected || !context.accountId}\n            trigger={[\"hover\"]}\n            delay={{ show: 250, hide: 300 }}\n            overlay={overlay}\n            placement=\"auto\"\n          >\n            <button\n              disabled={\n                isAccountConnected ||\n                !context.accountId ||\n                notOwner ||\n                bannedFromVoting\n              }\n              onClick={handleVoteClick}\n              className={\n                bannedFromVoting ? \"disabled\" : notOwner ? \"banned\" : \"vote\"\n              }\n            >\n              {userVoted ? \"Already Voted\" : notOwner ? \"Banned\" : \"Vote\"}\n            </button>\n          </OverlayTrigger>\n        ) : props.winners?.some((data) => data === props.owner) ? (\n          <p className=\"won\">\n            <img\n              src=\"https://ipfs.near.social/ipfs/bafkreiawfm4tx4xxmqyzify4lmp45mfbqqxn4jkfwqdkg3zzkvlek5fjoi\"\n              alt=\"\"\n            />\n            {winnerDetails?.amount} Won\n          </p>\n        ) : (\n          <button className=\"disabled\">\n            {props.isOpen ? \"Not Started\" : \"Contest Ended\"}\n          </button>\n        )}\n        {isProposalPending ? (\n          <button className=\"proposal\">CREATING PROPOSAL...</button>\n        ) : (\n          props.isClosed &&\n          props?.councilMember &&\n          !winnerDetails?.proposal_id &&\n          winnerDetails && (\n            <>\n              <button onClick={handleCreateProposal} className=\"proposal\">\n                CREATE PROPOSAL\n              </button>\n            </>\n          )\n        )}\n        {props?.owner === nftData?.owner || nftData?.owner === undefined ? (\n          \"\"\n        ) : (\n          <div className=\"bannedUser\">\n            {redFlag}\n            <p className=\"\">Owner no longer owns the NFT</p>\n          </div>\n        )}\n        <div className=\"imageContainer\">\n          {votedUsers.slice(0, 5).map((data, index) => (\n            <img\n              key={index}\n              src={`https://ipfs.near.social/ipfs/${userProfileImage(data)}`}\n            />\n          ))}\n        </div>\n        {votedUsers?.length - 5 > 0 && (\n          <p>{votedUsers.length - 5} other Vote(s)</p>\n        )}\n      </StartedButton>\n    </Root>\n    {openModal && (\n      <Popup>\n        <PopupContent\n          style={{\n            backgroundImage: `url(${props?.content?.image_url})`,\n            backgroundSize: \"cover\",\n            backgroundRepeat: \"no-repeat\",\n            backgroundPosition: \"center center\",\n          }}\n        >\n          <div className=\"cancel-button\">\n            <img\n              onClick={() => setOpenModal(false)}\n              src={`https://ipfs.near.social/ipfs/bafkreifmoedfc7x34ly2q2qwqzyke4rpsmxvdudbjscsoljt3afmq7h3re`}\n            />\n          </div>\n          <FadeIn className=\"fade-in\"></FadeIn>\n          <TextContent>\n            <h1 className=\"header-title\">{props?.content?.title}</h1>\n            <div className=\"headerName\">\n              <a\n                href={`#/bos.genadrop.near/widget/GenaDrop.Profile.Main?accountId=${props.owner}`}\n              >\n                <p>\n                  NFT by{\" \"}\n                  {\n                    <img\n                      src={`https://ipfs.near.social/ipfs/${\n                        profileImage?.image?.ipfs_cid\n                          ? profileImage.image.ipfs_cid\n                          : \"bafkreih6spncoy6jyx2f46yxektxz44mmfq2juz4dvc36p7w5xwcnaqira\"\n                      }`}\n                    />\n                  }{\" \"}\n                  <span>{props?.owner}</span>\n                </p>\n              </a>\n              <span className=\"dots\"></span>\n              <p>{formatTime(props?.content?.timestamp)}</p>\n            </div>\n            <div className=\"desc\">\n              <p>{nftData?.description ?? \"\"}</p>\n            </div>\n            <button\n              disabled={\n                isAccountConnected ||\n                !context.accountId ||\n                notOwner ||\n                userVoted\n              }\n              onClick={handleVoteClick}\n              className={userVoted ? \"disabled\" : notOwner ? \"banned\" : \"vote\"}\n            >\n              {props?.isClosed\n                ? \"Contest Ended\"\n                : userVoted\n                ? \"Already Voted\"\n                : notOwner\n                ? \"Banned\"\n                : \"Vote\"}\n            </button>\n          </TextContent>\n        </PopupContent>\n      </Popup>\n    )}\n    <Widget\n      src=\"bos.genadrop.near/widget/CPlanet.DropsFund.Contest.Proposal\"\n      props={{ daoId: props.daoId, proposalId: winnerDetails?.proposal_id }}\n    />\n  </Container>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/bos.genadrop.near/widget/CPlanet.DropsFund.Contest.Card", "fact_widget_deployments_id": "57ef8e2d40b504801e566f23674e87a2", "inserted_timestamp": "2024-04-26T11:43:20.585Z", "modified_timestamp": "2024-04-26T11:43:20.585Z", "__row_index": 0}