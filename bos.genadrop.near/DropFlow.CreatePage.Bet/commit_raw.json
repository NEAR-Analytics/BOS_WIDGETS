{"tx_hash": "FS9KJ71zG9xK5Wi6ToMbusMaJJftRUidbaRL4KFoF5He", "action_id_social": "EbBJhvJWTtpdxY2ZBV1QVdFR8rDNT7SETQjf2iTtKhKx-0-widget", "block_id": 111034481, "block_timestamp": "2024-01-22T11:58:08.271Z", "signer_id": "bos.genadrop.near", "widget_name": "DropFlow.CreatePage.Bet", "source_code": "const accountId = props.accountId ?? context.accountId;\nconst widgetOwner = \"jgodwill.near\";\nconst isLoggedIn = context.accountId ? true : false;\n\nif (!isLoggedIn) {\n  return \"Please sign in with NEAR wallet to edit your profile\";\n}\n\nlet profile = Social.getr(`${accountId}/profile`);\n\nif (profile === null) {\n  return \"Loading\";\n}\n\nconst initialMetadata = profile ?? {};\n\nState.init({\n  profile,\n  account: accountId,\n  initialMetadata,\n  metadata: initialMetadata,\n  reportedMetadata: initialMetadata,\n  linktree: initialMetadata.linktree ?? {},\n  image: initialMetadata.image,\n  backgroundImage: initialMetadata.backgroundImage,\n  screenshots: initialMetadata.screenshots ?? {},\n  collectionContractIdIsValid: false,\n  nftTokenId: null,\n  nftContractId: null,\n  isValidCummunityContractId: false,\n  disabled: !initialMetadata.feed ? true : false,\n  portfolioImage: {},\n  nftsArray:\n    initialMetadata.pageNFTs.type === \"single\"\n      ? initialMetadata.pageNFTs.content\n      : [],\n  pageNFTs: initialMetadata.pageNFTs ?? {},\n  feedTabs: initialMetadata.feedTabs ?? {},\n  discussion: initialMetadata.discussion ?? {},\n  createPoll: false,\n  feed: initialMetadata.feed ?? {},\n  portfolio: initialMetadata.portfolio ?? {},\n  theme: initialMetadata.theme ?? 0,\n});\n\n// const feedTabs = { Feed: \"\", Discussions: \"\", NFTs: \"\" };\n// const metadata = {\n//   name: options.name ? state.metadata.name : undefined,\n//   description: options.name ? state.metadata.description : undefined,\n//   linktree:\n//     options.linktree && Object.keys(state.linktree).length > 0\n//       ? state.linktree\n//       : undefined,\n//   image:\n//     options.image && state.image && Object.keys(state.image).length > 0\n//       ? state.image\n//       : undefined,\n//   backgroundImage:\n//     options.backgroundImage &&\n//     state.backgroundImage &&\n//     Object.keys(state.backgroundImage).length > 0\n//       ? state.backgroundImage\n//       : undefined,\n//   tags: options.tags ? state.metadata.tags : undefined,\n//   discussion: options.discussion ? state.metadata.discussion : undefined,\n//   feed: options.feed ? state.metadata.feed : undefined,\n//   screenshots: options.screenshots ? state.metadata.screenshots : undefined,\n//   feedTabs: options.feedTabs ? state.metadata.feedTabs : undefined,\n//   pageNFTs: options.pageNFTs ? state.metadata.pageNFTs : undefined,\n// };\n\nconst onChange = (profile) => State.update({ profile });\nif (\n  onChange &&\n  JSON.stringify(state.reportedMetadata) !== JSON.stringify(state.metadata)\n) {\n  State.update({\n    reportedMetadata: state.metadata,\n  });\n  onChange(state.metadata);\n}\n\n// const debounce = (func, wait) => {\n//   const pause = wait || 350;\n//   let timeout;\n\n//   return (args) => {\n//     const later = () => {\n//       clearTimeout(timeout);\n//       func(args);\n//     };\n\n//     clearTimeout(timeout);\n//     timeout = setTimeout(later, pause);\n//   };\n// };\n\n// const onFeedTabsChange = debounce((e) => {\n\n//   });\n\n/* Feed Tabs start */\nconst [selectedTheme, setSelectedTheme] = useState(\n  state.initialMetadata.theme ?? 0\n);\nconst [selectedTabNames, setSelectedTabNames] = useState(\n  Object.keys(initialMetadata.feedTabs || {})\n);\n\nconst [singleOrCollectionActive, setSingleOrCollectionActive] = useState(\n  state.initialMetadata.pageNFTs.type ?? null\n);\nconst [discussionNFTContractId, setDiscussionNFTContractId] = useState(null);\nconst [discussionType, setDiscussionType] = useState(\n  state.initialMetadata.discussion.type ?? null\n);\nconst [collectionContractId, setCollectionContractId] = useState(\n  initialMetadata.pageNFTs.type === \"collection\"\n    ? JSON.parse(initialMetadata.pageNFTs.content)\n    : []\n);\nconst [createPoll, setCreatePoll] = useState(false);\nconst [isLoading, setIsLoading] = useState(false);\nconst [doc, setDoc] = useState(null);\nconst [msg, setMsg] = useState(\"Attach a file\");\nconst [portfolioEntryTitle, setPortfolioEntryTitle] = useState(null);\nconst [portfolioEntryText, setPortfolioEntryText] = useState(\n  \"Enter your portfolio content here\"\n);\nconst [allCollections, setAllCollections] = useState(null);\n\nfunction generateUID() {\n  const maxHex = 0xffffffff;\n\n  const randomNumber = Math.floor(Math.random() * maxHex);\n\n  return randomNumber.toString(16).padStart(8, \"0\");\n}\n\nconsole.log(\"single or collection active: \", singleOrCollectionActive);\n\nconst tabsData = [\n  {\n    name: \"Feed\",\n    desc: `Custom Web3 social feed that allows you to showcase your post,\n    different hashtags, and fellow artists/projects you may be affiliated\n    with.`,\n    active: true,\n  },\n  {\n    name: \"Discussions\",\n    desc: `Create a custom forum for your NFT community or your page.`,\n  },\n  {\n    name: \"NFTs\",\n    desc: `Showcase your favorite NFT and NFT collections.`,\n  },\n  {\n    name: \"Polls\",\n    desc: `Create polls to survey your audience. Add a NFT gate so only people who hold a certain NFT can answer.`,\n  },\n  {\n    name: \"Docs\",\n    desc: `Deploy on-chain documentation and embed them into your page.`,\n  },\n  {\n    name: \"Portfolio\",\n    desc: `Upload your favorite pieces of work to decentralized storage forever and showcase them beautifully.`,\n  },\n];\n\nfunction stringArrayToObject(stringArray) {\n  return stringArray.reduce((obj, stringValue) => {\n    obj[stringValue && stringValue.toLowerCase()] = \"\";\n    return obj;\n  }, {});\n}\n\n// const initialSelectedTabs = Object.keys(feedTabs); // Get tab names as array\n\n// const loadHandler = () => setSelectedTabNames(initialSelectedTabs);\n\nconst handleTabChange = (tabName) => {\n  const isAlreadySelected = selectedTabNames.includes(tabName);\n  setSelectedTabNames(\n    isAlreadySelected\n      ? selectedTabNames.filter((tab) => tab !== tabName)\n      : [...selectedTabNames, tabName]\n  );\n};\n// console.log(\"selectedTabNames: \", selectedTabNames);\n// console.log(\"contains nfts? \", selectedTabNames.includes(\"nfts\"));\n\nconsole.log(\"collectioninitial: \", collectionContractId);\n\nconst FeedTabs = () => {\n  // I need to add logic to disable a tab (for users who aren't human, and propbably add a toolti when it's disabled with a help message)\n  return (\n    <div key={selectedTabNames.join(\"-\")} className=\"tabsGrid\">\n      {tabsData.map((tab) => {\n        const { name, desc } = tab;\n        const lowerCaseName = name.toLowerCase();\n        return (\n          <TabCard\n            key={lowerCaseName}\n            active={selectedTabNames.includes(lowerCaseName)}\n          >\n            <div className=\"cardTop\">\n              <input\n                type=\"checkbox\"\n                id={lowerCaseName}\n                name={lowerCaseName}\n                checked={selectedTabNames.includes(lowerCaseName)}\n                onChange={() => handleTabChange(lowerCaseName)}\n                className=\"form-check-input rounded-circle\"\n              />\n              <label htmlFor={lowerCaseName}>{name}</label>\n            </div>\n            <div className=\"cardBottom\">\n              <p>{desc}</p>\n            </div>\n          </TabCard>\n        );\n      })}\n    </div>\n  );\n};\n\n/* Feed Tabs End */\n\nconst TabCard = styled.div`\n  display: flex;\n  padding: 16px 24px;\n  flex-direction: column;\n  align-items: flex-start;\n  gap: 8px;\n  border-radius: 32px;\n  border: 1px solid #fff;\n  background: ${({ active }) => (active ? \"#000\" : \"#fff\")};\n  color: ${({ active }) => (active ? \"#fff\" : \"#000\")};\n  border: 1px solid #000;\n  // max-width: 464px;\n  .cardTop {\n    display: flex;\n    align-items: center;\n    gap: 8px;\n  }\n  .form-check-input {\n    background-color: #fff;\n    border-color: #000;\n    :checked {\n      background-color: #000;\n      border-color: #fff;\n    }\n  }\n`;\n\nconst themesData = [\n  {\n    name: \"Default\",\n    colors: {\n      body: \"#fff\",\n      text: \"#000\",\n      button: {\n        text: \"#fff\",\n        background: \"#000\",\n      },\n      link: {\n        text: \"#000\",\n        opacity: 0.8,\n      },\n    },\n    border: {\n      color: \"#000\",\n      width: \"1px\",\n      radius: \"4px\",\n    },\n    fontFamily: \"Helvetica Neue\",\n  },\n  {\n    name: \"Midnight Muse\",\n    colors: {\n      body: \"#9be7ff\",\n      text: \"#0d47a1\",\n      button: {\n        text: \"#ffffff\",\n        background: \"#0d47a1\",\n      },\n      link: {\n        text: \"#0d47a1\",\n        opacity: 0.8,\n      },\n    },\n    border: {\n      color: \"#0d47a1\",\n      width: \"1px\",\n      radius: \"4px\",\n    },\n    fontsFamily: \"'Dancing Script', cursive\",\n    sideEffects: {\n      // Define any CSS animations, transitions, etc.\n      hover: \"transform: scale(1.1); transition: 0.5s ease-in-out\",\n    },\n  },\n  {\n    name: \"Neon Jungle\",\n    colors: {\n      body: \"#0C0B26\",\n      text: \"rgba(255, 255, 255, 1)\",\n      button: {\n        text: \"rgba(255, 255, 255, .8)\",\n        background: \"#AB1BA1\",\n      },\n      link: {\n        text: \"#AB1BA1\",\n        opacity: 0.8,\n      },\n    },\n    border: {\n      color: \"rgba(255, 255, 255, 1)\",\n      width: \"1px\",\n      radius: \"4px\",\n    },\n    fontFamily: \"'Bangers', cursive\",\n    sideEffects: {\n      // Define any CSS animations, transitions, etc.\n      hover: \"transform: scale(1.1); transition: 0.5s ease-in-out\",\n    },\n  },\n];\n\nconst handleThemeChange = (index) => {\n  setSelectedTheme(index);\n  State.update({\n    metadata: {\n      ...state.metadata,\n      theme: index,\n    },\n  });\n};\nconst displayThemes = themesData.map((theme, index) => {\n  const { name } = theme;\n  console.log(`${index} selected? ${Number(selectedTheme) === index}`);\n  return (\n    <div\n      key={index}\n      className=\"themeCard\"\n      style={{\n        backgroundColor: theme.colors.body,\n        color: theme.colors.text,\n        border: `${theme.border.width} solid ${theme.border.color}`,\n      }}\n    >\n      <input\n        type=\"radio\"\n        id={index}\n        name=\"theme\"\n        checked={Number(selectedTheme) === index}\n        onChange={() => handleThemeChange(index)}\n        className=\"form-check-input rounded-circle\"\n      />\n      <label htmlFor={index}>{name}</label>\n    </div>\n  );\n});\n\nconsole.log(\"selectedTheme: \", selectedTheme);\n\n// select all input tags that are not checkboxes or radio buttons with css\n\nconst Wrapper = styled.div`\n  max-width: 1440px;\n  padding: 32px;\n  * {\n    font-family: Helvetica Neue;\n    line-height: normal;\n    box-sizing: border-box;\n  }\n  .section {\n    margin-bottom: 32px;\n    padding-bottom: 2rem;\n    margin-top: 2rem;\n    border-bottom: 8px solid #efefef;\n  }\n  .section.portfolio {\n    border-bottom: none;\n  }\n  .tabsGrid {\n    display: grid;\n    grid-template-columns: repeat(2, 1fr);\n    row-gap: 16px;\n    column-gap: 28px;\n    margin: 0 auto;\n    align-items: center;\n    justify-content: center;\n    width: 100%;\n    @media (max-width: 768px) {\n      grid-template-columns: repeat(1, 1fr);\n    }\n  }\n  h4,\n  h6 {\n    font-weight: 900;\n  }\n  .btn {\n    border-radius: 32px;\n    font-size: 20px;\n    font-style: normal;\n    font-weight: 500;\n    background-color: #000;\n    border-color: #000;\n    color: #fff;\n    :hover {\n      background-color: #fff;\n      border-color: #000;\n      color: #000;\n    }\n  }\n  .form-check.ds-check {\n    display: flex;\n    align-items: center;\n    margin-bottom: 1rem;\n    gap: 0.3rem;\n    input {\n      margin-top: unset;\n    }\n    .form-check-input {\n      background-color: #fff;\n      border-color: #000;\n      :checked {\n        background-color: #000;\n        border-color: #fff;\n      }\n    }\n  }\n  .rbt-token-removeable {\n    display: flex;\n    align-items: center;\n    gap: 0.3rem;\n    color: #fff;\n    background: #000;\n    border-radius: 50px;\n    padding: 0.25rem 0.5rem;\n    button {\n      padding: unset;\n      :hover {\n        color: #fff;\n        border-radius: 50px;\n        background: #000;\n      }\n    }\n    .rbt-token-label {\n      padding: unset;\n    }\n  }\n  .feed {\n    .rbt-token-removeable {\n      color: #000;\n      background: #fff;\n      border: 1px solid #b0b0b0;\n      border-radius: 50px;\n      button {\n        color: #b0b0b0;\n        :hover {\n          color: #000;\n          border-radius: 50px;\n          background: #fff;\n        }\n      }\n    }\n  }\n  input {\n    :not([type=\"checkbox\"]):not([type=\"radio\"]) {\n      border-radius: 8px;\n      background: #fff;\n      border: 2px solid #efefef;\n      :placeholder {\n        color: #b0b0b0;\n      }\n      color: #000;\n      outline: none;\n      padding: 8px 264px 8px 16px;\n    }\n    :focus {\n      box-shadow: none;\n    }\n  }\n  .defaultDisc {\n    opacity: 0.5;\n    color: #b0b0b0;\n  }\n  .discussion-main {\n    padding-top: 1rem;\n  }\n  .txt,\n  .form-select {\n    max-width: 500px;\n  }\n  .attach-nft,\n  .attach-collection {\n    color: #b0b0b0;\n    border: 1px solid #efefef;\n    background: #f8f8f8;\n    :hover {\n      path {\n        fill: #000;\n      }\n    }\n  }\n  .attach-docs {\n    color: #b0b0b0;\n    border: 1px solid #efefef;\n    background: #f8f8f8;\n    :hover {\n      path {\n        stroke: #000;\n      }\n    }\n  }\n  .unselected-item {\n    border-radius: 32px;\n    font-size: 20px;\n    font-style: normal;\n    font-weight: 500;\n    padding: 0.6rem;\n    color: #c0c0c0;\n    background-color: #fff;\n    border: 1px solid #c0c0c0;\n    path {\n      fill: #c0c0c0;\n    }\n    :hover {\n      color: #fff;\n      background-color: #000;\n      border: 1px solid #fff;\n      path {\n        fill: #fff;\n      }\n    }\n  }\n  .selected-item {\n    color: #fff;\n    background-color: #000;\n    border: 1px solid #fff;\n    path {\n      fill: #fff;\n    }\n  }\n  .is-invalid {\n    border-color: #dd5353e9 !important;\n    color: #dd5353e9 !important;\n  }\n  .right-add-btn {\n    float: right;\n  }\n  .tooltip {\n    background-color: #000;\n    color: #fff;\n  }\n  .themesCard {\n    display: flex;\n    align-items: center;\n    gap: 1rem;\n    flex-wrap: wrap;\n  }\n  .themeCard {\n    padding: 16px 24px;\n    display: flex;\n    align-items: center;\n    gap: 5px;\n    border-radius: 32px;\n    width: 200px;\n    input {\n      margin-top: unset;\n      :hover {\n        cursor: pointer;\n      }\n    }\n  }\n`;\n\nconst Actions = styled.div`\n  display: flex;\n  gap: 0.5rem;\n  margin-left: 1rem;\n  .upload-image-button,\n  .mkd-butn {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    background: #f1f3f5;\n    color: #11181c;\n    border-radius: 40px;\n    height: 40px;\n    min-width: 40px;\n    font-size: 0;\n    border: none;\n    cursor: pointer;\n    transition: background 200ms, opacity 200ms;\n\n    &::before {\n      font-size: 16px;\n    }\n\n    :hover,\n    :focus {\n      background: #d7dbde;\n      outline: none;\n    }\n\n    &:disabled {\n      opacity: 0.5;\n      pointer-events: none;\n    }\n\n    span {\n      margin-left: 12px;\n    }\n  }\n`;\n\n// console.log(\"selectedTabNames: \", selectedTabNames);\n\nconst feedTabsObject =\n  selectedTabNames && stringArrayToObject(selectedTabNames);\n// console.log(\"tabsObject: \", feedTabsObject);\n// console.log(\"feeedtabsobj: \", state.metadata.feedTabs);\nselectedTabNames &&\n  State.update({\n    metadata: {\n      ...state.metadata,\n      feedTabs: feedTabsObject,\n    },\n  });\n\nconst submitHandler = () => {\n  console.log(\"initialMetadata\", initialMetadata);\n  console.log(\"state metadata\", state.metadata);\n  console.log(\"metadata\", metadata);\n  // const feedTabsObject = stringArrayToObject(selectedTabNames);\n  // console.log(\"tabsObject: \", feedTabsObject);\n  // State.update({\n  //   metadata: {\n  //     ...state.metadata,\n  //     feedTabs: feedTabsObject,\n  //   },\n  // });\n  console.log(\"feeedtabsobj: \", state.metadata.feedTabs);\n};\n\n/* Discussions start */\n\nconst TextareaWrapper = styled.div`\n  display: grid;\n  vertical-align: top;\n  align-items: center;\n  position: relative;\n  align-items: stretch;\n\n  textarea {\n    display: flex;\n    align-items: center;\n    transition: all 0.3s ease;\n  }\n\n  textarea::placeholder {\n    padding-top: 4px;\n    font-size: 20px;\n  }\n\n  textarea:focus::placeholder {\n    font-size: inherit;\n    padding-top: 0px;\n  }\n\n  &::after,\n  textarea,\n  iframe {\n    width: 100%;\n    padding: 8px 0;\n    min-width: 1em;\n    height: unset;\n    min-height: 3em;\n    font: inherit;\n    margin: 0;\n    resize: none;\n    background: none;\n    appearance: none;\n    border: 0px solid #eee;\n    grid-area: 1 / 1;\n    overflow: hidden;\n    outline: none;\n  }\n\n  iframe {\n    padding: 0;\n  }\n\n  textarea:focus,\n  textarea:not(:empty) {\n    border-bottom: 1px solid #eee;\n    min-height: 5em;\n  }\n\n  &::after {\n    content: attr(data-value) \" \";\n    visibility: hidden;\n    white-space: pre-wrap;\n  }\n  &.markdown-editor::after {\n    padding-top: 66px;\n    font-family: monospace;\n    font-size: 14px;\n  }\n`;\n\nconst Search = styled.div`\n  margin-top: 12px;\n  // justify-content: center;\n  display: flex;\n  width: 100%;\n  flex-wrap: wrap;\n  input {\n    border-radius: 8px;\n    flex-shrink: 0;\n    height: 48px;\n    width: 100%;\n    max-width: 500px;\n    padding: 0 16px;\n    background: #f8f8f8;\n    overflow: hidden;\n    color: #b0b0b0;\n    text-overflow: ellipsis;\n    font-family: Helvetica Neue;\n    font-style: normal;\n    font-weight: 400;\n    line-height: 148%; /* 29.6px */\n  }\n`;\n\nconst data = Social.keys(\"*/profile\", \"final\");\n\nif (!data) {\n  return \"Loading\";\n}\nconst accounts = Object.entries(data);\n\nconst allWidgets = [];\n\nfor (let i = 0; i < accounts.length; ++i) {\n  const accountId = accounts[i][0];\n  allWidgets.push(accountId);\n}\n\nconst fetchCollections = () => {\n  const response = fetch(\"https://graph.mintbase.xyz/mainnet\", {\n    method: \"POST\",\n    headers: {\n      \"mb-api-key\": \"anon\",\n      \"Content-Type\": \"application/json\",\n    },\n    body: JSON.stringify({\n      query: `query SearchCollections  {\n        nft_contracts(order_by: {id: asc}) {\n          id\n        }\n      }\n`,\n    }),\n  });\n  let collections = response?.body?.data?.nft_contracts;\n  return collections;\n};\n\nif (accountId) {\n  const fetchedCollections = fetchCollections();\n  // Extract id values and create a new list\n  const ids =\n    fetchedCollections &&\n    fetchedCollections?.map((collection) => collection.id);\n  setAllCollections(ids);\n}\n\nconst nftDataChangeHandler = (chain, tokenId, contractId) => {\n  State.update({\n    nftTokenId: tokenId,\n    nftContractId: contractId,\n    chain: chain,\n    nftsArray: [...state.nftsArray, { chain, tokenId, contractId }],\n    metadata: {\n      ...state.metadata,\n      pageNFTs: {\n        ...state.metadata.pageNFTs,\n        type: singleOrCollectionActive,\n        content: state.nftsArray,\n      },\n    },\n  });\n  console.log(\"NFTtokenId:\", state.nftTokenId);\n  console.log(\"NFTcontractId:\", state.nftContractId);\n  console.log(\"nftsArray:\", state.nftsArray);\n};\n\n// if (!state.metadata.pageNFTs.type || !state.initialMetadata.pageNFTs) {\n//   state.metadata.pageNFTs = null;\n// }\n\n// console.log(\"pageNFTs: \", state.initialMetadata.pageNFTs.type);\n\nif (!state.metadata.discussion.type) {\n  state.metadata.discussion = null;\n}\n\nconst onChangeAccount = (account) => {\n  State.update({\n    account: account[0],\n  });\n};\n\nconst onChangeCollection = (address) => {\n  setCollectionContractId(address);\n  State.update({\n    metadata: {\n      ...state.metadata,\n      pageNFTs: {\n        ...state.metadata.pageNFTs,\n        type: singleOrCollectionActive,\n        content: collectionContractId,\n      },\n    },\n  });\n  console.log(\"Address: \", address);\n};\n\n// console.log(\"tokenId and accoutId: \", state.nftTokenId);\n\nconst Card = styled.div`\n  padding: 1em;\n  border: 1px solid #e5e8eb;\n  gap: 2em;\n  margin: 10px auto;\n  border-radius: 0.7em;\n  width: 100%;\n`;\n\nconst discussionTypeSwitchHandler = (e) => {\n  e.preventDefault();\n  const { value } = e.target;\n  console.log(value);\n  setDiscussionType(value);\n  // equate the discussion data to the initial data that was there\n  state.metadata.discussion.data = state.initialMetadata.discussion.data ?? \"\";\n  console.log(\"discussionType: \", discussionType);\n};\n\nconst discussionNFTContractIdHandler = (e) => {\n  e.preventDefault();\n  const { value } = e.target;\n  // check for validity\n  const validNearAdress = isNearAddress(value);\n  State.update({\n    isValidCummunityContractId: validNearAdress,\n  });\n  setDiscussionNFTContractId(value);\n  console.log(\"discussionNFTContractId: \", value);\n  if (!state.isValidCummunityContractId) {\n    return;\n  }\n};\n\nconst handleAddNFTCommunity = () => {\n  // add the discussionNFTContractId to the a list of discussionNFTContractId which is an Object (optional)\n  const nftContractIdsObj = discussionNFTContractId && {\n    ...state.metadata.discussion.data,\n    [discussionNFTContractId]: \"\",\n  };\n\n  State.update({\n    metadata: {\n      ...state.metadata,\n      discussion: {\n        ...state.metadata.discussion,\n        type: discussionType,\n        data: nftContractIdsObj,\n      },\n    },\n  });\n  console.log(\"discussion tags: \", state.metadata.discussion.data);\n  setDiscussionNFTContractId(\"\");\n};\n\n/* HELPER FUNCTION */\nfunction isNearAddress(address) {\n  if (typeof address !== \"string\") {\n    return false;\n  }\n  if (!address.endsWith(\".near\")) {\n    return false;\n  }\n  const parts = address.split(\".\");\n  if (parts.length !== 2) {\n    return false;\n  }\n  if (parts[0].length < 2 || parts[0].length > 32) {\n    return false;\n  }\n  if (!/^[a-z0-9_-]+$/i.test(parts[0])) {\n    return false;\n  }\n  return true;\n}\n\nconst nftOrCollectionSwitchHandler = (clickedButtonId) => {\n  if (clickedButtonId === \"single\") {\n    setSingleOrCollectionActive(null);\n  } else if (clickedButtonId === \"collection\") {\n    setSingleOrCollectionActive(null);\n    state.nftsArray = [];\n  }\n  setSingleOrCollectionActive(clickedButtonId);\n  setCollectionContractId(null);\n  State.update({\n    metadata: {\n      ...state.metadata,\n      pageNFTs: {\n        ...state.metadata.pageNFTs,\n        type: singleOrCollectionActive,\n        content: undefined,\n      },\n    },\n  });\n};\n\nsingleOrCollectionActive && !collectionContractId;\nState.update({\n  metadata: {\n    ...state.metadata,\n    pageNFTs: {\n      ...state.metadata.pageNFTs,\n      type: singleOrCollectionActive,\n      content: collectionContractId ? collectionContractId : state.nftsArray,\n    },\n  },\n});\n\nconst onChangeDisabled = (e) => {\n  // e.preventDefault();\n  const { checked } = e.target;\n  console.log(e);\n  State.update({\n    disabled: checked,\n  });\n};\nstate.disabled &&\n  State.update({\n    metadata: {\n      ...state.metadata,\n      feed: {},\n    },\n  });\n\nconst handleCreatePoll = () => setCreatePoll(true);\n\nconst getFirstSBTToken = () => {\n  const view = Near.view(\"registry.i-am-human.near\", \"sbt_tokens_by_owner\", {\n    account: `${context.accountId}`,\n    issuer: \"fractal.i-am-human.near\",\n  });\n  return view?.[0]?.[1]?.[0];\n};\n\nconst hasSBTToken = getFirstSBTToken() !== undefined;\n\nconst [fileData, setFileData] = useState(null);\n\nconst portfolioDocHandler = (files) => {\n  setMsg(\"Uploading...\");\n\n  const file = fetch(\"https://ipfs.near.social/add\", {\n    method: \"POST\",\n    headers: { Accept: \"application/json\" },\n    body: files[0],\n  });\n\n  setDoc(file.body.cid);\n  console.log(\"doc: \", doc);\n  setMsg(\"Attach a file\");\n};\n\nconst portfolioEntryTitleHandler = (e) => {\n  const { value } = e.target;\n  setPortfolioEntryTitle(value);\n};\n\nconst addPortfolioEntryHandler = () => {\n  const entryId = generateUID();\n  const portfolioEntry = {\n    type: \"md\",\n    title: portfolioEntryTitle,\n    image: state.portfolioImage,\n    text: portfolioEntryText,\n    // file: doc,\n  };\n  console.log(\"portfolioEntry: \", portfolioEntry);\n  portfolioEntry.title &&\n    portfolioEntry.text &&\n    State.update({\n      metadata: {\n        ...state.metadata,\n        portfolio: {\n          ...state.metadata.portfolio,\n          [entryId]: portfolioEntry,\n        },\n        // index: {\n        //   portfolio: JSON.stringify({\n        //     key: \"portfolio\",\n        //     value: {\n        //       type: \"md\",\n        //     },\n        //   }),\n        // },\n      },\n    });\n  // Empty the portfolio entry text\n  setPortfolioEntryTitle(\"\");\n  setPortfolioEntryText(null);\n  // setDoc(null);\n  // setMsg(\"Attach a file\");\n  State.update({\n    portfolioImage: {},\n  });\n};\n\nconst imagetooltip = <Tooltip id=\"tooltip\">Upload an image</Tooltip>;\nreturn (\n  <Wrapper\n    className=\"container\"\n    selectedNFTButton={singleOrCollectionActive}\n    theme={selectedTheme}\n  >\n    <h1>Customize your Page </h1>\n    <div className=\"themes\">\n      <h6>Choose a Theme</h6>\n      <div className=\"themesCard\">{displayThemes}</div>\n    </div>\n    <div className=\"section\">\n      <h6>Select the Tabs that you want to display</h6>\n      <FeedTabs selectedTabNames={selectedTabNames} />\n    </div>\n    {\n      // if selectedTabNames array contains \"feed\" then show the feed section\n      selectedTabNames.includes(\"feed\") && (\n        <div className=\"section feed-tags\">\n          <div className=\"mb-2 feed\">\n            <h4>Your Feed</h4>\n            <div className=\"form-check ds-check\">\n              <input\n                className=\"form-check-input rounded-circle\"\n                type=\"checkbox\"\n                onChange={onChangeDisabled}\n                checked={state.disabled}\n              />\n              <label class=\"form-check-label\" for=\"flexCheckDefault\">\n                Display The Default Feed\n              </label>\n            </div>\n\n            <h6>{options.feed.label ?? \"Accounts To Display\"}</h6>\n            <Widget\n              src=\"jgodwill.near/widget/PageFeedsEditor\"\n              props={{\n                initialPageFeedsObject: state.metadata.feed,\n                pageFeedPattern: \"*/profile/feed/*\",\n                placeholder:\n                  \"Enter the usernames to display on your feed e.g. mob.near, jodwill.near, agwaze.near, etc\",\n                setPageFeedsObject: (feed) => {\n                  state.metadata.feed = feed;\n                  State.update();\n                },\n                disabled: state.disabled,\n              }}\n            />\n          </div>\n          {options.tags && (\n            <div className=\"mb-2\">\n              <h4>{options.tags.label ?? \"Tags\"}</h4>\n              <Widget\n                src=\"mob.near/widget/TagsEditor\"\n                props={{\n                  initialTagsObject: state.metadata.tags,\n                  tagsPattern: \"*/profile/tags/*\",\n                  placeholder:\n                    options.tags.placeholder ??\n                    \"rust, engineer, artist, humanguild, nft, learner, founder\",\n                  setTagsObject: (tags) => {\n                    state.metadata.tags = tags;\n                    State.update();\n                  },\n                }}\n              />\n            </div>\n          )}\n        </div>\n      )\n    }\n    {\n      // if selectedTabNames array contains \"discussions\" then show the discussions section\n      selectedTabNames.includes(\"discussions\") && (\n        <div className=\"section discussions\">\n          <div className=\"mb-2 feed\">\n            <h4>Your Discussions</h4>\n          </div>\n          <div className=\"discussions-main\">\n            <div className=\"discussion-type-select mb-4 d-flex align-items-center gap-2\">\n              <span className=\"select-label\">Choose Discussion Type</span>\n              <select\n                class=\"form-select\"\n                aria-label=\"Default select example\"\n                value={discussionType}\n                onChange={(e) => discussionTypeSwitchHandler(e)}\n              >\n                <option className=\"defaultDisc\" selected>\n                  Select Type from dropdown\n                </option>\n                <option value=\"hashtag\">Based on Hashtag</option>\n                <option value=\"nftcommunity\">For NFT Community</option>\n              </select>\n            </div>\n            <div className=\"discussion-main\">\n              {discussionType === \"hashtag\" && (\n                <div className=\"mb-2\">\n                  <h4>Create Hashtags</h4>\n                  <Widget\n                    src=\"mob.near/widget/TagsEditor\"\n                    props={{\n                      initialTagsObject:\n                        discussionType === \"hashtag\" &&\n                        state.metadata.discussion.data,\n                      tagsPattern: \"*/profile/tags/*\",\n                      placeholder: \"Enter the hashtag\",\n                      setTagsObject: (discussionTags) => {\n                        // state.metadata.discussion.data = discussionTags;\n                        State.update({\n                          metadata: {\n                            ...state.metadata,\n                            discussion: {\n                              ...state.metadata.discussion,\n                              type: discussionType,\n                              data: discussionTags,\n                            },\n                          },\n                        });\n                      },\n                    }}\n                  />\n                </div>\n              )}\n              {discussionType === \"nftcommunity\" && (\n                <div className=\"d-flex align-items-center gap-2\">\n                  <label htmlFor=\"nftcontractaddress\">\n                    NFT Contract Address\n                  </label>\n                  <input\n                    type=\"text\"\n                    name=\"nftcontractaddress\"\n                    id=\"nftcontractaddress\"\n                    className=\"txt w-100\"\n                    placeholder=\"Enter the NFT contract address\"\n                    value={discussionNFTContractId}\n                    onChange={(e) => discussionNFTContractIdHandler(e)}\n                  />\n                  <button\n                    disabled={!state.isValidCummunityContractId}\n                    onClick={() => handleAddNFTCommunity()}\n                  >\n                    Add Community\n                  </button>\n                </div>\n              )}\n            </div>\n          </div>\n        </div>\n      )\n    }\n    {\n      // if selectedTabNames array contains \"nfts\" then show the nfts section\n      selectedTabNames.includes(\"nfts\") && (\n        <div className=\"section nfts\">\n          <div className=\"mb-2 feed\">\n            <h4>NFTs to Display</h4>\n          </div>\n          <div className=\"nfts-tab-main\">\n            <div className=\"attach-nft-buttons d-flex align-items-center gap-2\">\n              <button\n                className={`unselected-item ${\n                  singleOrCollectionActive === \"single\" ? \"selected-item\" : \"\"\n                }`}\n                id=\"single\"\n                name=\"single\"\n                onClick={() => nftOrCollectionSwitchHandler(\"single\")}\n              >\n                <svg\n                  width=\"12\"\n                  height=\"16\"\n                  viewBox=\"0 0 12 16\"\n                  fill=\"none\"\n                  xmlns=\"http://www.w3.org/2000/svg\"\n                >\n                  <path\n                    d=\"M11.49 3.98879V4.17009H7.66V0.340088H7.8413C8.03175 0.340089 8.2144 0.415743 8.34907 0.550409L11.2796 3.48099C11.4143 3.61567 11.49 3.79833 11.49 3.98879ZM7.42062 5.12759C7.02566 5.12759 6.7025 4.80443 6.7025 4.40946V0.340088H0.718125C0.321511 0.340088 0 0.661598 0 1.05821V14.942C0 15.3386 0.321511 15.6601 0.718125 15.6601H10.7719C11.1685 15.6601 11.49 15.3386 11.49 14.942V5.12759H7.42062ZM3.36756 5.60634C4.16079 5.60634 4.80381 6.24936 4.80381 7.04259C4.80381 7.83582 4.16079 8.47884 3.36756 8.47884C2.57433 8.47884 1.93131 7.83582 1.93131 7.04259C1.93131 6.24936 2.57436 5.60634 3.36756 5.60634ZM9.59131 12.7876H1.93131L1.94582 11.3368L3.12818 10.1545C3.2684 10.0142 3.48123 10.0288 3.62144 10.169L4.80381 11.3513L7.90117 8.25397C8.04138 8.11376 8.26873 8.11376 8.40897 8.25397L9.59131 9.43634V12.7876Z\"\n                    fill={\n                      !singleOrCollectionActive ||\n                      singleOrCollectionActive === \"collection\"\n                        ? \"#C0C0C0\"\n                        : \"#fff\"\n                    }\n                  />\n                </svg>\n                <span>Attach an NFT</span>\n              </button>\n              <button\n                className={`unselected-item ${\n                  singleOrCollectionActive === \"collection\"\n                    ? \"selected-item\"\n                    : \"\"\n                }`}\n                id=\"collection\"\n                name=\"collection\"\n                onClick={() => nftOrCollectionSwitchHandler(\"collection\")}\n              >\n                <svg\n                  width=\"21\"\n                  height=\"16\"\n                  viewBox=\"0 0 21 16\"\n                  fill=\"none\"\n                  xmlns=\"http://www.w3.org/2000/svg\"\n                >\n                  <path\n                    d=\"M16.9045 13.4715V14.0187C16.9045 14.9252 16.1696 15.6601 15.2631 15.6601H2.13166C1.22512 15.6601 0.490234 14.9252 0.490234 14.0187V5.26437C0.490234 4.35783 1.22512 3.62295 2.13166 3.62295H2.67881V10.7358C2.67881 12.2443 3.90605 13.4715 5.41452 13.4715H16.9045ZM20.1874 10.7358V1.98152C20.1874 1.07497 19.4525 0.340088 18.5459 0.340088H5.41452C4.50797 0.340088 3.77309 1.07497 3.77309 1.98152V10.7358C3.77309 11.6423 4.50797 12.3772 5.41452 12.3772H18.5459C19.4525 12.3772 20.1874 11.6423 20.1874 10.7358ZM9.24452 3.62295C9.24452 4.52949 8.50964 5.26437 7.60309 5.26437C6.69655 5.26437 5.96166 4.52949 5.96166 3.62295C5.96166 2.7164 6.69655 1.98152 7.60309 1.98152C8.50964 1.98152 9.24452 2.7164 9.24452 3.62295ZM5.96166 8.54723L7.86008 6.64882C8.02032 6.48857 8.28015 6.48857 8.44043 6.64882L9.79166 8.00009L14.4258 3.36596C14.586 3.20571 14.8459 3.20571 15.0061 3.36596L17.9988 6.35866V10.1887H5.96166V8.54723Z\"\n                    fill={\n                      !singleOrCollectionActive ||\n                      singleOrCollectionActive === \"single\"\n                        ? \"#C0C0C0\"\n                        : \"#fff\"\n                    }\n                  />\n                </svg>\n                <span>Attach a collection</span>\n              </button>\n            </div>\n            <div className=\"nfts-collection-select my-4\">\n              {singleOrCollectionActive === \"single\" && (\n                <div className=\"\">\n                  <Card>\n                    Near Wallet Address:\n                    <Search>\n                      <Typeahead\n                        id=\"type\"\n                        className=\"type-ahead\"\n                        isLoading={isLoading}\n                        labelKey=\"single\"\n                        options={allWidgets}\n                        onChange={(value) => onChangeAccount(value)}\n                        placeholder={accountId}\n                        value={state.account}\n                      />\n                    </Search>\n                  </Card>{\" \"}\n                  <div>\n                    <div\n                      className=\"p-2 rounded mt-3\"\n                      style={{\n                        background: \"#fdfdfd\",\n                        border: \"solid 1px #dee2e6\",\n                        borderBottomLeftRadius: \".375rem\",\n                        borderBottomRightRadius: \".375rem\",\n                        minHeight: \"9em\",\n                      }}\n                    >\n                      <div>\n                        <div className=\"mt-2\">\n                          <Widget\n                            src={`jgodwill.near/widget/genadrop-nft-selector`}\n                            props={{\n                              onChange: ({ contractId, tokenId }) => {\n                                State.update({\n                                  contractId: contractId,\n                                  tokenId: tokenId,\n                                });\n\n                                nftDataChangeHandler(\n                                  \"Near\",\n                                  tokenId,\n                                  contractId\n                                );\n                              },\n                              accountId: state.account,\n                              headingText: \"Select an NFT to embed\",\n                            }}\n                          />\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              )}\n              {singleOrCollectionActive === \"collection\" && (\n                // <div className=\"\">Select Collection</div>\n                <div className=\"d-flex align-items-center gap-2\">\n                  <label htmlFor=\"nftcollecollectioncontractaddress\">\n                    NFT Contract Address\n                  </label>\n                  <Search>\n                    <Typeahead\n                      id=\"type\"\n                      className=\"type-ahead\"\n                      isLoading={isLoading}\n                      labelKey=\"collection\"\n                      options={allCollections}\n                      onChange={(v) => onChangeCollection(v)}\n                      placeholder={\"Enter or select the NFT contract address\"}\n                      selected={collectionContractId}\n                    />\n                  </Search>\n                </div>\n              )}\n            </div>\n          </div>\n        </div>\n      )\n    }\n    {selectedTabNames.includes(\"polls\") && (\n      <div className=\"section polls\">\n        <div className=\"mb-2 feed\">\n          <h4>Polls to Display</h4>\n          <p>\n            Your personal polling station! Manage and review your own polls,\n            watch them gain traction, and get insights from responses.\n          </p>\n        </div>\n        <div className=\"polls-main\">\n          <div className=\"polls-tab-main\">\n            <div className=\"attach-nft-buttons d-flex align-items-center gap-2\">\n              <div className=\"p-2 ms-auto\">\n                <p\n                  style={{\n                    margin: \"0\",\n                    fontWeight: \"bold\",\n                    fontSize: \"15px\",\n                    color: hasSBTToken ? \"#239F28\" : \"#DD5E56\",\n                  }}\n                >\n                  {!isLoggedIn\n                    ? \"Sign In To Use EasyPoll\"\n                    : hasSBTToken\n                    ? \"Verified Human\"\n                    : \"Non-Verified Human\"}\n                </p>\n              </div>\n              {isLoggedIn &&\n                (hasSBTToken ? (\n                  !createPoll && (\n                    <Widget\n                      src=\"rubycop.near/widget/NDC.StyledComponents\"\n                      props={{\n                        Button: {\n                          text: \"Create a Poll\",\n                          icon: <i className=\"bi bi-plus-lg\" />,\n                          onClick: () => handleCreatePoll(),\n                        },\n                      }}\n                    />\n                  )\n                ) : (\n                  <a\n                    href=\"https://i-am-human.app\"\n                    target=\"_blank\"\n                    className=\"text-decoration-none\"\n                  >\n                    <Widget\n                      src=\"rubycop.near/widget/NDC.StyledComponents\"\n                      props={{\n                        Button: {\n                          text: \"Verify as Human\",\n                          icon: (\n                            // should be replaced with I-AM-HUMAN logo svg but I couldn't find it :(\n                            <img\n                              height={25}\n                              width={25}\n                              style={{\n                                filter: \"brightness(100)\",\n                              }}\n                              src=\"data:image/png;base64,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\"\n                            />\n                          ),\n                          className:\n                            \"primary dark d-flex gap-2 align-items-center\",\n                          onClick: () => {},\n                        },\n                      }}\n                    />\n                  </a>\n                ))}\n            </div>\n            {!createPoll && (\n              <Widget\n                src={`${widgetOwner}/widget/EasyPoll.MyPolls`}\n                props={{\n                  indexVersion,\n                  blackList,\n                  tabs,\n                  whitelist,\n                  widgetOwner,\n                }}\n              />\n            )}\n\n            {createPoll && (\n              <Widget\n                src={`${widgetOwner}/widget/EasyPoll.CreatePoll`}\n                props={{\n                  indexVersion,\n                  blockHeight: props.blockHeight,\n                  src: props.src,\n                  whitelist,\n                }}\n              />\n            )}\n          </div>\n        </div>\n      </div>\n    )}\n    {\n      // if selectedTabNames array contains \"docs\" then show the docs section\n\n      selectedTabNames.includes(\"docs\") && (\n        <div className=\"section docs\">\n          <div className=\"mb-2 feed\">\n            <h4>Docs to Display</h4>\n          </div>\n          <div className=\"docs-main\">\n            <div className=\"docs-tab-main\">\n              <div className=\"attach-docs-buttons d-flex align-items-center gap-2\">\n                <button className=\"btn attach-docs\" id=\"docs\" name=\"docs\">\n                  <svg\n                    width=\"12\"\n                    height=\"12\"\n                    viewBox=\"0 0 12 12\"\n                    fill=\"none\"\n                    xmlns=\"http://www.w3.org/2000/svg\"\n                  >\n                    <path\n                      d=\"M6 1V11\"\n                      stroke=\"#C0C0C0\"\n                      strokeWidth=\"2\"\n                      strokeLinecap=\"round\"\n                      strokeLinejoin=\"round\"\n                    />\n                    <path\n                      d=\"M1 6H11\"\n                      stroke=\"#C0C0C0\"\n                      strokeWidth=\"2\"\n                      strokeLinecap=\"round\"\n                      strokeLinejoin=\"round\"\n                    />\n                  </svg>\n                  <span>Attach a Doc</span>\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n      )\n    }\n    {\n      // if selectedTabNames array contains \"portfolio\" then show the portfolio section\n\n      selectedTabNames.includes(\"portfolio\") && (\n        <div className=\"section portfolio\">\n          <div className=\"mb-2 feed\">\n            <h4>Portfolio to Display</h4>\n          </div>\n          <div className=\"portfolio-main\">\n            <div className=\"portfolio-tab-main\">\n              <div className=\"mb-2\">\n                <div className=\"portfolio-title d-flex align-items-center gap-2 mb-3\">\n                  <label htmlFor=\"portfoliotitle\">\n                    Add a Title to the Portfolio\n                  </label>\n                  <input\n                    type=\"text\"\n                    id=\"portfoliotitle\"\n                    name=\"portfoliotitle\"\n                    className=\"txt w-100\"\n                    placeholder=\"Enter the title of the portfolio\"\n                    onChange={(e) => portfolioEntryTitleHandler(e)}\n                    value={portfolioEntryTitle}\n                  />\n                  <OverlayTrigger placement=\"top\" overlay={imagetooltip}>\n                    <Actions>\n                      <IpfsImageUpload\n                        image={state.portfolioImage}\n                        className=\"upload-image-button bi bi-image\"\n                        title=\"Upload an image\"\n                      />\n                    </Actions>\n                  </OverlayTrigger>\n                </div>\n\n                <div className=\"portfolio-description mb-3\">\n                  <TextareaWrapper\n                    className={\"markdown-editor\"}\n                    data-value={portfolioEntryText || \"\"}\n                  >\n                    <Widget\n                      key={`markdown-editor-true`}\n                      src=\"mob.near/widget/MarkdownEditorIframe\"\n                      props={{\n                        initialText: portfolioEntryText,\n                        onChange: (text) => {\n                          setPortfolioEntryText(text);\n                          console.log(\"text\", text);\n                        },\n                        embedCss,\n                      }}\n                      placeholder=\"Enter the description of the portfolio\"\n                    />\n                  </TextareaWrapper>\n                </div>\n              </div>\n              {/* VM has some internal errors so I disabled attach doc button */}\n              {/* <div className=\"attach-portfolio-buttons d-flex align-items-center gap-2\">\n                <Files\n                  multiple={false}\n                  accepts={[\"application/pdf]}\n                  clickable\n                  className=\"btn btn-outline-primary\"\n                  onChange={portfolioDocHandler}\n                >\n                  <svg\n                    width=\"14\"\n                    height=\"16\"\n                    viewBox=\"0 0 14 16\"\n                    fill=\"none\"\n                    xmlns=\"http://www.w3.org/2000/svg\"\n                  >\n                    <path\n                      d=\"M7.67646 1.30089L7.78372 1.40575L1.45406 7.88029L1.3468 7.77543L1.45406 7.88029C-0.262376 9.63597 -0.292822 12.4769 1.41269 14.2367L1.30497 14.3411L1.41269 14.2367C3.12942 16.0081 5.94017 16.029 7.67856 14.2509L12.8706 8.94L12.9779 9.04486L12.8706 8.94C12.9991 8.80856 12.9967 8.59785 12.8653 8.46937L12.9701 8.36211L12.8653 8.46937L12.1749 7.79452C12.0435 7.66602 11.8328 7.66841 11.7043 7.79983L11.597 7.69498L11.7043 7.79984L6.51226 13.1107L6.405 13.0059L6.51226 13.1107C5.42513 14.2227 3.66902 14.2213 2.58393 13.1016C1.49675 11.9799 1.51591 10.1502 2.62032 9.02045L2.72758 9.12531L2.62032 9.02045L8.95001 2.54595C9.58816 1.89317 10.6134 1.89352 11.2513 2.54594L11.144 2.6508L11.2513 2.54594C11.9004 3.20993 11.9005 4.2887 11.2516 4.9524L11.2516 4.95245L5.73405 10.5907C5.54002 10.7893 5.23431 10.7853 5.04427 10.5839L5.04426 10.5838C4.84557 10.3732 4.86584 10.0285 5.06567 9.82409L5.06574 9.82402L9.40284 5.39359C9.53141 5.26225 9.52918 5.05154 9.39783 4.92295L8.70798 4.24765C8.57665 4.11909 8.36594 4.12132 8.23733 4.25267L3.89986 8.68344L7.67646 1.30089ZM7.67646 1.30089L7.78372 1.40575C9.06215 0.0980101 11.139 0.0978963 12.4176 1.40575L12.5241 1.3016L12.4176 1.40575C13.685 2.7022 13.6865 4.79481 12.4176 6.09278C12.4176 6.0928 12.4176 6.09281 12.4176 6.09283L6.90001 11.7312L6.89997 11.7312M7.67646 1.30089L6.89997 11.7312M6.89997 11.7312C6.05868 12.5917 4.68508 12.5798 3.85789 11.703M6.89997 11.7312L3.85789 11.703M3.85789 11.703C3.06114 10.8585 3.08522 9.51682 3.89979 8.68352L3.85789 11.703Z\"\n                      fill=\"#B0B0B0\"\n                      stroke=\"#F8F8F8\"\n                      stroke-width=\"0.3\"\n                    />\n                  </svg>\n                  {msg}\n                </Files>\n              </div> */}\n              <button\n                className={`btn ${\"right-add-btn\"}`}\n                onClick={addPortfolioEntryHandler}\n              >\n                Add\n              </button>\n            </div>\n          </div>\n        </div>\n      )\n    }\n    <div className=\"mb-2\">\n      <CommitButton\n        className=\"btn\"\n        data={{ profile: state.profile }}\n        onClick={submitHandler}\n      >\n        Save Page\n      </CommitButton>\n      <Link\n        className=\"btn btn-outline-primary ms-2\"\n        href={`/bos.genadrop.near/widget/DropFlow.ArtistPage?accountId=${accountId}`}\n      >\n        View Page\n      </Link>\n    </div>\n  </Wrapper>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/bos.genadrop.near/widget/DropFlow.CreatePage.Bet", "fact_widget_deployments_id": "07d3cac695794b8e4bb46a705a55e348", "inserted_timestamp": "2024-03-07T05:24:05.087Z", "modified_timestamp": "2024-03-07T05:24:05.087Z", "__row_index": 0}