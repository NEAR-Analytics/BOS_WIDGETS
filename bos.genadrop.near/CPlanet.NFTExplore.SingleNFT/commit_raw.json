{"tx_hash": "6U9HkFuKhSDjVqKGXcPP8kqiu1DzBnCgPgjzPv6JTbF1", "action_id_social": "CQrn9mZJjNQ3Ep189rd7txbRW8xCf1qQ5b8dN7jVv8NS-0-widget", "block_id": 106152571, "block_timestamp": "2023-11-20T20:24:11.829Z", "signer_id": "bos.genadrop.near", "widget_name": "CPlanet.NFTExplore.SingleNFT", "source_code": "const verifiedCheck = (\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    width=\"16\"\n    height=\"13\"\n    viewBox=\"0 0 16 13\"\n    fill=\"none\"\n  >\n    <rect y=\"0.5\" width=\"16\" height=\"12\" rx=\"6\" fill=\"#B0B0B0\" />\n    <path\n      d=\"M5 6.69231L7 9L11 4\"\n      stroke=\"white\"\n      stroke-linecap=\"round\"\n      stroke-linejoin=\"round\"\n    />\n  </svg>\n);\n\nconst trippleDots = (\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    width=\"18\"\n    height=\"4\"\n    viewBox=\"0 0 18 4\"\n    fill=\"none\"\n  >\n    <circle cx=\"2\" cy=\"2\" r=\"2\" fill=\"black\" />\n    <circle cx=\"9\" cy=\"2\" r=\"2\" fill=\"black\" />\n    <circle cx=\"16\" cy=\"2\" r=\"2\" fill=\"black\" />\n  </svg>\n);\n\nconst mintbaseImage =\n  \"data:image/png;base64,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\";\n\nconst dotSVG = (\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    width=\"4\"\n    height=\"5\"\n    viewBox=\"0 0 4 5\"\n    fill=\"none\"\n  >\n    <circle cx=\"2\" cy=\"2.5\" r=\"2\" fill=\"#B0B0B0\" />\n  </svg>\n);\n\nconst tradePortLogo = (\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    width=\"38\"\n    height=\"38\"\n    viewBox=\"0 0 38 38\"\n    fill=\"none\"\n  >\n    <path\n      d=\"M15.3076 7.74805L18.0078 10.4727L6.70031 21.8821L4 19.1574L15.3076 7.74805Z\"\n      fill=\"black\"\n    />\n    <path\n      d=\"M28.1357 20.6895L30.8361 23.414L19.5285 34.8235L16.8281 32.0988L28.1357 20.6895Z\"\n      fill=\"black\"\n    />\n    <path\n      d=\"M25.4345 10.4727L28.1348 13.1973L13.1143 28.3531L10.4141 25.6284L25.4345 10.4727Z\"\n      fill=\"black\"\n    />\n    <path\n      d=\"M34.5492 14.2174L31.8488 16.942L21.7227 6.72464L24.4229 4L34.5492 14.2174Z\"\n      fill=\"black\"\n    />\n  </svg>\n);\n\nconst Root = styled.div`\n  display: flex;\n  flex-wrap: wrap;\n  width: 100%;\n  margin-bottom: 30px;\n  justify-content: space-between;\n`;\n\nconst fewAndFarLogo = (\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    width=\"32\"\n    height=\"32\"\n    viewBox=\"0 0 32 32\"\n    fill=\"none\"\n  >\n    <g clip-path=\"url(#clip0_155_4752)\">\n      <path\n        fill-rule=\"evenodd\"\n        clip-rule=\"evenodd\"\n        d=\"M0.5 0.564453L0.604503 19.8572L3.91621 19.8379L3.83048 3.95389H19.3669V0.564453H0.5ZM8.51959 8.77372L8.63256 19.8651L11.9443 19.8297L11.8659 12.1631H19.367V8.77372H8.51959ZM22.8227 23.2105H11.9753V19.8212H19.4763L19.3979 12.1542L22.7097 12.1188L22.8227 23.2105ZM11.9753 31.4197H30.8421L30.7376 12.1266L27.4259 12.1458L27.5117 28.0302H11.9753V31.4197Z\"\n        fill=\"black\"\n      />\n    </g>\n    <defs>\n      <clipPath id=\"clip0_155_4752\">\n        <rect\n          width=\"30.9531\"\n          height=\"31.9849\"\n          fill=\"white\"\n          transform=\"translate(0.5)\"\n        />\n      </clipPath>\n    </defs>\n  </svg>\n);\n\nconst marketPlaceImage = {\n  tradeport: tradePortLogo,\n  fewandfar: fewAndFarLogo,\n  mintbase: (\n    <img src={mintbaseImage} alt=\"\" style={{ width: 20, height: 20 }} />\n  ),\n};\n\nconst Right = styled.div`\n  width: 50%;\n`;\n\nconst TopLeft = styled.div`\n  h1 {\n    overflow: hidden;\n    color: #000;\n    text-overflow: ellipsis;\n    whitespace: nowrap;\n    font-family: Helvetica Neue;\n    font-size: 24px;\n    font-style: normal;\n    font-weight: 700;\n    line-height: normal;\n    text-transform: uppercase;\n  }\n`;\n\nconst Top = styled.div`\n  display: flex;\n  width: 100%;\n  justify-content: space-between;\n  align-items: flex-start;\n  flex-direction: column;\n  > div:first-child {\n    display: flex;\n    align-items: flex-start;\n    justify-content: space-between;\n    width: 100%;\n  }\n`;\n\nconst Username = styled.div`\n      display: flex;\n      a {\n        text:decoration: none;\n         overflow: hidden;\n          color: #B0B0B0;\n          text-overflow: ellipsis;\n          font-family: Helvetica Neue;\n          font-size: 16px;\n          font-style: normal;\n          font-weight: 400;\n          line-height: normal;\n          cursor: pointer;\n      }\n      a:hover {\n        text:decoration: none;\n        opacity: 0.6;\n      }\n      svg {\n          margin: 7px;\n      }\n      h2 {\n          overflow: hidden;\n          color: #B0B0B0;\n          text-overflow: ellipsis;\n          font-family: Helvetica Neue;\n          font-size: 16px;\n          font-style: normal;\n          font-weight: 400;\n          line-height: normal;\n      }\n  `;\n\nconst Svg = styled.div`\n  svg {\n    margin-top: 2px;\n    margin-left: 3px;\n  }\n`;\n\nconst TopRight = styled.div`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  background: #fff;\n  p {\n    border: 1px solid #000;\n    border-radius: 32px;\n    color: #000;\n    padding: 7px 20px;\n    text-align: center;\n    font-family: Helvetica Neue;\n    font-size: 12px;\n    font-style: normal;\n    font-weight: 500;\n    margin-bottom: 0;\n    cursor: pointer;\n  }\n  p:hover {\n    background: black;\n    color: white;\n  }\n`;\n\nconst Left = styled.div`\n  display: flex;\n  flex-direction: column;\n`;\nconst ImageContainer = styled.div`\n  width: 544px;\n  height: 444px;\n  img {\n    width: 100%;\n    height: 100%;\n    object-fit: cover;\n  }\n`;\nconst PriceSection = styled.div`\n  margin-top: 20px;\n  width: 544px;\n  display: flex;\n  align-items: flex-start;\n  justify-content: space-between;\n`;\nconst Price = styled.div`\n  h1 {\n    color: #b0b0b0;\n    font-family: Helvetica Neue;\n    font-size: 16px;\n    font-style: normal;\n    font-weight: 400;\n    line-height: normal;\n    text-transform: uppercase;\n  }\n`;\n\nconst Owner = styled.div`\n  h2 {\n    margin: 0;\n    overflow: hidden;\n    color: #000;\n    text-overflow: ellipsis;\n    font-family: Helvetica Neue;\n    font-size: 32px;\n    font-style: normal;\n    font-weight: 700;\n    line-height: normal;\n    text-transform: uppercase;\n  }\n  p {\n    color: #b0b0b0;\n    font-family: Helvetica Neue;\n    font-size: 16px;\n    font-style: normal;\n    font-weight: 400;\n    line-height: normal;\n    text-transform: uppercase;\n    margin-bottom: 7px;\n  }\n`;\n\nconst PriceAmount = styled.div`\n  display: flex;\n  align-items: baseline;\n  img {\n    width: 22px;\n    height: 22px;\n    margin-right: 5px;\n  }\n  h2 {\n    color: #000;\n    font-family: Helvetica Neue;\n    font-size: 32px;\n    font-style: normal;\n    font-weight: 700;\n    line-height: normal;\n    text-transform: uppercase;\n  }\n  h5 {\n    color: #000;\n    font-family: Helvetica Neue;\n    font-size: 20px;\n    font-style: normal;\n    font-weight: 300;\n    line-height: normal;\n    text-transform: uppercase;\n    margin-left: 10px;\n  }\n`;\n\nconst Buttons = styled.div`\n  width: 100%;\n  display: flex;\n  justify-content: space-between;\n  button:first-child {\n    display: flex;\n    width: 268px;\n    padding: 7px 0px;\n    justify-content: center;\n    align-items: center;\n    border: 1px solid #000;\n    background: #000;\n    border-radius: 0;\n  }\n  button:first-child:hover {\n    background: white;\n    color: black;\n    border-color: black;\n  }\n  button:last-child {\n    display: flex;\n    width: 268px;\n    padding: 7px 0px;\n    justify-content: center;\n    align-items: center;\n    border: 1px solid #000;\n    background: #fff;\n    border-radius: 0;\n    color: black;\n  }\n  button:last-child:hover {\n    background: black;\n    color: white;\n  }\n`;\n\nconst Des = styled.div`\n  width: 90%;\n  h5 {\n    margin-top: 10px;\n    color: #000;\n    font-family: Helvetica Neue;\n    font-size: 16px;\n    font-style: normal;\n    font-weight: 400;\n    line-height: 148%; /* 23.68px */\n  }\n`;\n\nconst Share = styled.div`\n  display: flex;\n  width: 32px;\n  height: 32px;\n  padding: 0px 7px;\n  justify-content: center;\n  align-items: center;\n  border-radius: 32px;\n  border: 1px solid #000;\n  margin-left: 7px;\n`;\n\nconst Others = styled.div`\n  margin-top: 31px;\n  h1 {\n    color: #000;\n    font-family: Helvetica Neue;\n    font-size: 24px;\n    font-style: normal;\n    font-weight: 500;\n    line-height: 160%; /* 38.4px */\n  }\n`;\n\nconst Table = styled.div``;\n\nconst MarketRow = styled.div`\n  width: 480px;\n  display: flex;\n  align-items: center;\n  flex-direction: column;\n  justify-content: space-between;\n  width: 90%;\n  a {\n    display: flex;\n    justify-content: space-between;\n    cursor: pointer;\n    text-decoration: none;\n    width: 90%;\n    transition: 0.3s ease-in-out;\n    padding: 10px;\n    margin-bottom: 5px;\n  }\n\n  a:hover {\n    opacity: 0.7;\n    background: #e7e6e8;\n    border-radius: 8px;\n  }\n  p {\n    color: #363c42;\n    font-family: Helvetica Neue;\n    font-size: 14px;\n    font-style: normal;\n    font-weight: 500;\n  }\n`;\n\nconst TableHeader = styled.div`\n  display: flex;\n  flex-direction: row;\n  width: 480px;\n  justify-content: space-between;\n  h2 {\n    color: #000;\n    font-family: Helvetica Neue;\n    font-size: 16px;\n    font-style: normal;\n    font-weight: 700;\n    line-height: 160%; /* 25.6px */\n  }\n`;\n\nconst nft = props.nft ?? {\n  contractId: props.contractId,\n  tokenId: props.tokenId,\n};\n\nconst contractId = props.contractId;\nconst tokenId = props.tokenId;\nconst className = props.className ?? \"img-fluid\";\nconst style = props.style;\nconst alt = props.alt;\nconst thumbnail = props.thumbnail;\nconst fallbackUrl = props.fallbackUrl;\nconst loadingUrl =\n  props.loadingUrl ??\n  \"https://ipfs.near.social/ipfs/bafkreidoxgv2w7kmzurdnmflegkthgzaclgwpiccgztpkfdkfzb4265zuu\";\n\nState.init({\n  contractId,\n  tokenId,\n  description: \"\",\n  text: \"\",\n  message: false,\n  listings: [],\n  loadingBuying: false,\n  title: \"\",\n  owner: \"\",\n  imageUrl: null,\n});\n\nconst tokenInfo = Near.view(\n  contractId ?? \"genadrop-contract.nftgen.near\",\n  \"nft_token\",\n  {\n    token_id: tokenId,\n  }\n);\n\nconst tradeportLink = `https://www.tradeport.xyz/near/collection/${\n  state.contractId\n    ? state?.contractId?.includes(\"genadrop\")\n      ? \"genadrop-contract.nftgen.near\"\n      : state.contractId\n    : \"\"\n}?tab=items&tokenId=${state.tokenId}`;\n\n//Few and Far Link\nconst fewfarlink = `https://fewfar.com/${\n  state.contractId\n    ? state?.contractId?.includes(\"genadrop\")\n      ? \"genadrop-single-nft-c40d654de\"\n      : state.contractId\n    : \"\"\n}/${state.tokenId}`;\n\nconst currentChainProps = {\n  near: {\n    img: \"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTrJuxjGxj4QmyreE6ix4ygqm5pK9Nn_rdc8Ndw6lmJcd0SSnm2zBIc2xJ_My1V0WmK2zg&usqp=CAU\",\n    livePrice: \"near\",\n    subgraph: \"https://api.thegraph.com/subgraphs/name/prometheo/near-mainnet\",\n    chain: \"near\",\n    id: \"1112\",\n    explorer: \"https://explorer.near.org/?query=\",\n    logoUrl:\n      \"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTrJuxjGxj4QmyreE6ix4ygqm5pK9Nn_rdc8Ndw6lmJcd0SSnm2zBIc2xJ_My1V0WmK2zg&usqp=CAU\",\n  },\n  aurora: {\n    img: \"https://s2.coinmarketcap.com/static/img/coins/200x200/14803.png\",\n    id: \"1313161554\",\n    chain: \"Aurora\",\n    explorer: \"https://aurorascan.dev/\",\n    explorerTx: \"https://aurorascan.dev/\",\n    livePrice: \"ethereum\",\n    contract: \"0xe93097f7C3bF7A0E0F1261c5bD88F86D878667B5\",\n    subgraph:\n      \"https://api.thegraph.com/subgraphs/name/prometheo/aurora-mainnet\",\n  },\n  arbitrum: {\n    img: \"https://assets.coingecko.com/coins/images/16547/large/photo_2023-03-29_21.47.00.jpeg?1680097630\",\n    id: \"42161\",\n    contract: \"0x27E52A81975F5Fb836e79007E3c478C6c0E6E9FB\",\n    chain: \"Arbitrum\",\n    explorer: \"https://arbiscan.io/\",\n    explorerTx: \"https://arbiscan.io/\",\n    livePrice: \"ethereum\",\n    subgraph: \"https://api.thegraph.com/subgraphs/name/prometheo/arbitrum\",\n  },\n  celo: {\n    img: \"https://assets.coingecko.com/coins/images/11090/large/InjXBNx9_400x400.jpg?1674707499\",\n    id: \"42220\",\n    livePrice: \"celo\",\n    contract: \"0x5616BCcc278F7CE8B003f5a48f3754DDcfA4db5a\",\n    explorer: \"https://explorer.celo.org/address/\",\n    explorerTx: \"https://explorer.celo.org/mainnet/tx/\",\n    chain: \"Celo\",\n    subgraph: \"https://api.thegraph.com/subgraphs/name/prometheo/celo-mainnet\",\n  },\n  polygon: {\n    img: \"https://altcoinsbox.com/wp-content/uploads/2023/03/matic-logo.webp\",\n    id: \"137\",\n    chain: \"Polygon\",\n    livePrice: \"matic-network\",\n    contract: \"0x57Eb0aaAf69E22D8adAe897535bF57c7958e3b1b\",\n    explorer: \"https://polygonscan.com/address/\",\n    explorerTx: \"https://polygonscan.com/\",\n    subgraph:\n      \"https://api.thegraph.com/subgraphs/name/prometheo/polygon-mainnet\",\n  },\n};\n\nfunction fetchTokens() {\n  asyncFetch(\"https://graph.mintbase.xyz/mainnet\", {\n    method: \"POST\",\n    headers: {\n      \"mb-api-key\": \"omni-site\",\n      \"Content-Type\": \"application/json\",\n      \"x-hasura-role\": \"anonymous\",\n    },\n    body: JSON.stringify({\n      query: `\n            query MyQuery {\n                mb_views_nft_tokens(\n                where: { nft_contract_id: { _eq: \"${contractId}\" }, token_id: {_eq: \"${tokenId}\"}}\n                order_by: {minted_timestamp: desc}\n              ) {\n                  attributes {\n                      attribute_display_type\n                      attribute_value\n                  }\n                  media \n                  owner\n                  token_id\n                  nft_contract_id\n                  description\n                  title\n                  listings {\n                     price\n                    unlisted_at\n                    listed_by\n                    market_id\n                    metadata_id\n                    nft_contract_id\n                  }\n              }\n            }\n          `,\n    }),\n  }).then((res) => {\n    if (res.ok) {\n      const tokens = res.body.data.mb_views_nft_tokens;\n      const token = tokens[0];\n      State.update({\n        description: token.description,\n        owner: token.owner,\n        listings: token.listings[0],\n        title: token.title,\n        imageUrl: token.media,\n        listings: token.listings,\n        price: token.listings?.length ? token.listings[0]?.price : 0,\n      });\n    } else {\n      let response = fetch(currentChainProps[props.chainState]?.subgraph, {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify({\n          query: `\n              query MyQuery {\n               nfts(where: {tokenID: \"${tokenId}\"}) {\n                  category\n                  chain\n                  createdAtTimestamp\n                  id\n                  isSold\n                  isListed\n                  price\n                  tokenID\n                  owner {\n                      id\n                  }\n                  tokenIPFSPath\n                  transactions {\n                    price\n                    type\n                    txId\n                    from {\n                      id\n                    }\n                    to {\n                      id\n                    }\n                  }\n                  }\n              }\n          `,\n        }),\n      });\n      const collectionData = response.body.data.nfts;\n\n      if (collectionData) {\n        const nftBody = collectionData.map((data) => {\n          const fetchIPFSData = fetch(\n            data.tokenIPFSPath.replace(\"ipfs://\", \"https://ipfs.io/ipfs/\")\n          );\n\n          if (fetchIPFSData.ok) {\n            const nft = fetchIPFSData.body;\n            let nftObject = {};\n            nftObject.contract_id = data.id;\n            nftObject.sold = data.isSold;\n            nftObject.isListed = data.isListed;\n            nftObject.owner = data.owner.id;\n            nftObject.price = data.price;\n            nftObject.token_id = data.tokenID;\n            nftObject.name = nft?.name;\n            nftObject.transactions = data?.transactions;\n            nftObject.description = nft?.description;\n            nftObject.attributes = nft?.properties;\n            nftObject.image = nft?.image.replace(\n              \"ipfs://\",\n              \"https://ipfs.io/ipfs/\"\n            );\n            return nftObject;\n          }\n        });\n        State.update({\n          title: nftBody[0].name,\n          imageUrl: nftBody[0].image,\n          owner: nftBody[0]?.owner,\n          description: nftBody[0]?.description,\n          price: nftBody[0].price,\n          transactions: nftBody[0].transactions,\n        });\n      }\n    }\n  });\n}\n\nfetchTokens();\n\nconst getUsdValue = (price) => {\n  const res = fetch(\n    `https://api.coingecko.com/api/v3/simple/price?ids=${\n      currentChainProps[props.chainState]?.livePrice\n    }&vs_currencies=usd`\n  );\n  if (res.ok) {\n    const multiplyBy = Object.values(res?.body)[0]?.usd;\n    const value = multiplyBy * price;\n    return value !== \"NaN\" ? `$${value.toFixed(3)}` : 0;\n  }\n};\n\nconst keywordsToCheck = [\"tradeport\", \"mintbase\", \"fewandfar\", \"paras\"];\n\nconst matchedKeyWords = (inputString) => {\n  return keywordsToCheck.find((keyword) => inputString.includes(keyword));\n};\n\nconst PRICE_CONVERSION_CONSTANT =\n  props.chainState == \"near\" ? 1000000000000000000000000 : 1000000000000000000;\n\nfunction followUser(user, isFollowing) {\n  if (isFollowing) return;\n  const dataToSend = {\n    graph: { follow: { [user]: isFollowing ? null : \"\" } },\n    index: {\n      graph: JSON.stringify({\n        key: \"follow\",\n        value: {\n          type,\n          accountId: user,\n        },\n      }),\n      notify: JSON.stringify({\n        key: user,\n        value: {\n          type,\n        },\n      }),\n    },\n  };\n  Social.set(dataToSend, {\n    force: true,\n  });\n}\n\nreturn (\n  <Root>\n    <Right>\n      <Top>\n        <div>\n          <TopLeft>\n            <h1>{state.title ?? \"Lorem Ipsum Header\"}</h1>\n            <Username>\n              <a\n                target=\"_blank\"\n                href={`#/agwaze.near/widget/GenaDrop.Profile.Main?accountId=${state.owner}`}\n              >\n                {state.owner ?? \"My User\"}\n              </a>\n              <Svg>{verifiedCheck}</Svg>\n              {dotSVG}\n            </Username>\n          </TopLeft>\n\n          <TopRight>\n            <p>Follow Artist</p>\n            <Share>{trippleDots}</Share>\n          </TopRight>\n        </div>\n        <Des>\n          <h5>\n            {state.description ??\n              \"Lorem ih5sum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consuat.\"}\n          </h5>\n        </Des>\n      </Top>\n      {state.transactions && (\n        <Widget\n          src=\"agwaze.near/widget/CPlanet.Explore.NFTInfo\"\n          props={{\n            chainState: props.chainState,\n            transactions: state.transactions,\n            owner: state.owner,\n          }}\n        />\n      )}\n    </Right>\n    <Left>\n      <ImageContainer>\n        <img src={state.imageUrl} alt=\"\" />\n      </ImageContainer>\n      <PriceSection>\n        <Price>\n          <h1>CURRENT PRICE</h1>\n          <PriceAmount>\n            <img src={currentChainProps[props.chainState].img} />\n            <h2>\n              {state.price\n                ? (state.price / PRICE_CONVERSION_CONSTANT)?.toFixed(2)\n                : \"N/A\"}\n            </h2>\n\n            <h5>\n              {getUsdValue(\n                state.price ? state.price / PRICE_CONVERSION_CONSTANT : 0\n              )}\n            </h5>\n          </PriceAmount>\n        </Price>\n        <Owner>\n          <p>Current Owner</p>\n          <h2>\n            {state.owner.length > 5 && state.owner\n              ? `${state.owner.slice(0, 7)}${\n                  props.chainState === \"near\"\n                    ? \"...near\"\n                    : `...${state.owner.slice(40)}`\n                }`\n              : state.owner\n              ? state.owner\n              : \"LOREMIP...\"}\n          </h2>\n        </Owner>\n      </PriceSection>\n      <Buttons>\n        <button>Buy Now</button>\n        {props.chainState === \"near\" && <button>Trade NFT</button>}\n      </Buttons>\n      {props.chainState === \"near\" && (\n        <Others>\n          <h1>OTHER LISTINGS</h1>\n          <Table>\n            <TableHeader>\n              <h2>Marketplace</h2>\n              <h2>Price</h2>\n              <h2>USD Price</h2>\n            </TableHeader>\n            <MarketRow>\n              {tokenInfo &&\n                Object.keys(tokenInfo.approved_account_ids).map((key) => (\n                  <a\n                    target=\"_blank\"\n                    href={\n                      matchedKeyWords(key) === \"tradeport\"\n                        ? tradeportLink\n                        : fewfarlink\n                    }\n                  >\n                    {marketPlaceImage[matchedKeyWords(key)]}\n                    <p>\n                      {state.price\n                        ? (state.price / PRICE_CONVERSION_CONSTANT)?.toFixed(3)\n                        : \"N/A\"}\n                    </p>\n                    <p>\n                      {getUsdValue(\n                        state.price\n                          ? state.price / PRICE_CONVERSION_CONSTANT\n                          : 0\n                      )}\n                    </p>\n                  </a>\n                ))}\n            </MarketRow>\n            <MarketRow>\n              {state.listings.length > 0 &&\n                state.listings.map((data, key) => (\n                  <a\n                    target=\"_blank\"\n                    href={\n                      matchedKeyWords(data.nft_contract_id) === \"mintbase\"\n                        ? `https://www.mintbase.xyz/meta/${data?.metadata_id}`\n                        : fewfarlink\n                    }\n                  >\n                    {marketPlaceImage[matchedKeyWords(data.nft_contract_id)]}\n                    <p>\n                      {data.price\n                        ? (data.price / PRICE_CONVERSION_CONSTANT)?.toFixed(3)\n                        : \"N/A\"}\n                    </p>\n                    <p>\n                      {getUsdValue(\n                        data.price ? data.price / PRICE_CONVERSION_CONSTANT : 0\n                      )}\n                    </p>\n                  </a>\n                ))}\n            </MarketRow>\n          </Table>\n        </Others>\n      )}\n    </Left>\n  </Root>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/bos.genadrop.near/widget/CPlanet.NFTExplore.SingleNFT", "fact_widget_deployments_id": "54337f29f901abb066e6aa5780f32203", "inserted_timestamp": "2024-03-07T05:24:05.087Z", "modified_timestamp": "2024-03-07T05:24:05.087Z", "__row_index": 0}