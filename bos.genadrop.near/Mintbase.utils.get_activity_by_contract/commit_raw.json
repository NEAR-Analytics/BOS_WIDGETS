{"tx_hash": "7gpk5etwDV47NAAZVhiN7yiHc2Lp5XC1BZGdejrTcXC5", "action_id_social": "FEe7fUU1S22KgnbKXqzhN7XD9ULPFiLqiGq5LFa6a6sW-0-widget", "block_id": 118114416, "block_timestamp": "2024-05-02T20:48:49.264Z", "signer_id": "bos.genadrop.near", "widget_name": "Mintbase.utils.get_activity_by_contract", "source_code": "function fetchGraphQL(operationsDoc, operationName, variables) {\n  return asyncFetch(\"https://graph.mintbase.xyz/mainnet\", {\n    method: \"POST\",\n    headers: {\n      \"mb-api-key\": \"anon\",\n      \"Content-Type\": \"application/json\",\n    },\n    body: JSON.stringify({\n      query: operationsDoc,\n      variables: variables,\n      operationName: operationName,\n    }),\n  }).then((result) => result.body);\n}\nconst operationsDoc = `\n    query GetActivityByContract($contract: String!, $limit: Int!, $offset: Int!) {\n      activities: mb_views_nft_activities(\n        limit: $limit\n        offset: $offset\n        order_by: {timestamp: desc}\n        where: {nft_contract_id: {_eq: $contract}}\n      ) {\n        kind\n        description\n        media\n        title\n        timestamp\n        nft_contract_id\n        action_sender\n        receipt_id\n        action_receiver\n        token_id\n        price\n        currency\n        nft_contract {\n          name\n          id\n          base_uri\n        }\n        metadata_id\n      }\n      totalItems: mb_views_nft_activities_aggregate(\n        where: {nft_contract_id: {_eq: $contract}}\n      ) {\n        aggregate {\n          count\n        }\n      }\n    }\n  `;\nfunction getActivityByContract({ contract, limit, offset }) {\n  return fetchGraphQL(operationsDoc, \"GetActivityByContract\", {\n    contract: contract,\n    limit: limit || 20,\n    offset: offset || 0,\n  });\n}\nreturn {\n  getActivityByContract,\n};\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/bos.genadrop.near/widget/Mintbase.utils.get_activity_by_contract", "fact_widget_deployments_id": "4c5c707fe466a9621714a9b7efe0f064", "inserted_timestamp": "2024-05-02T22:39:31.622Z", "modified_timestamp": "2024-05-02T22:39:31.622Z", "__row_index": 0}