{"tx_hash": "ANAE6tt34MGwHey9fq6c49Cn12ud4Wgk4frsvobWZQiw", "action_id_social": "311c1kyj8rRGWskn6DdSSFx39CwaXBFkzGA7j181kJJQ-0-widget", "block_id": 117436302, "block_timestamp": "2024-04-23T07:26:49.644Z", "signer_id": "bos.genadrop.near", "widget_name": "Mintbase.App.LaunchPad.OpenOffersByAccount", "source_code": "/*\nThis is an example snippet - you should consider tailoring it\nto your service.\n*/\n\nfunction fetchGraphQL(operationsDoc, operationName, variables) {\n  return fetch(\"https://graph.mintbase.xyz/mainnet\", {\n    method: \"POST\",\n    headers: {\n      \"mb-api-key\": \"anon\",\n      \"Content-Type\": \"application/json\",\n    },\n    body: JSON.stringify({\n      query: operationsDoc,\n      variables: variables,\n      operationName: operationName,\n    }),\n  }).then((result) => result.json());\n}\n\nconst operationsDoc = `\n    query v2_omnisite_GetOpenOffersByAccount($account: String!, $limit: Int!, $offset: Int!) {\n      nft_offers(\n        where: {offered_by: {_eq: $account}, listing: {kind: {_eq: \"auction\"}}}\n        order_by: {offered_at: desc}\n        limit: $limit\n        offset: $offset\n      ) {\n        offered_by\n        offer_price\n        offered_at\n        invalidated_at\n        expires_at\n        receipt_id\n        withdrawn_at\n        nft_contract_id\n        token_id\n        market_id\n        accepted_at\n        currency\n        listing {\n          listed_by\n          unlisted_at\n          accepted_at\n          invalidated_at\n          approval_id\n          currency\n          token_id\n          offers {\n            invalidated_at\n            __typename\n          }\n          __typename\n        }\n        token {\n          metadata_id\n          __typename\n        }\n        nft_token {\n          media\n          base_uri\n          title\n          __typename\n        }\n        __typename\n      }\n      nft_offers_aggregate(\n        where: {offered_by: {_eq: $account}, listing: {kind: {_eq: \"auction\"}}}\n      ) {\n        aggregate {\n          count\n          __typename\n        }\n        __typename\n      }\n    }\n  `;\n\nfunction fetchV2_omnisite_GetOpenOffersByAccount(account, limit, offset) {\n  return fetchGraphQL(operationsDoc, \"v2_omnisite_GetOpenOffersByAccount\", {\n    account: account,\n    limit: limit,\n    offset: offset,\n  });\n}\n\nfetchV2_omnisite_GetOpenOffersByAccount(account, limit, offset)\n  .then(({ data, errors }) => {\n    if (errors) {\n      // handle those errors like a pro\n      console.error(errors);\n    }\n    // do something great with this precious data\n    console.log(data);\n  })\n  .catch((error) => {\n    // handle errors from fetch itself\n    console.error(error);\n  });\n\n//   {\n//     \"account\": \"nate.near\",\n//     \"limit\": 52,\n//     \"offset\": 0\n//   }\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/bos.genadrop.near/widget/Mintbase.App.LaunchPad.OpenOffersByAccount", "fact_widget_deployments_id": "3782c1a51fd0756cc6c875abc3664dda", "inserted_timestamp": "2024-04-23T09:44:05.024Z", "modified_timestamp": "2024-04-23T09:44:05.024Z", "__row_index": 0}