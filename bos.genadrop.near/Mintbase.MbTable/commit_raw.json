{"tx_hash": "Gkh2L5HDESqijUWXQyFy3spZzyR7MpcKZ6tKwg2v9qW1", "action_id_social": "G5iqrzLGMt8G4uqSEzx34i2P6dD2Yjpr7Kj1eqvZJC7B-0-widget", "block_id": 112887946, "block_timestamp": "2024-02-15T15:00:20.696Z", "signer_id": "bos.genadrop.near", "widget_name": "Mintbase.MbTable", "source_code": "const customStyles = props.customStyles;\nconst headerProps = props.headerProps;\nconst loading = props.loading;\nconst bodyProps = props.bodyProps ?? [];\nconst mode = props.mode || Storage.get(\"mode\");\nconst colsAmount = props.colsAmount || 5;\nconst cols = Array.from(Array(colsAmount).keys());\nconst hasLabel = props.hasLabel;\n\nconst isDarkModeOn = mode === \"dark\";\n\nconst TableRoot = styled.div`\n  background: ${isDarkModeOn ? \"var(--gray-850)\" : \"white\"};\n  .title {\n    padding: 1rem;\n    border-bottom-width: 1px;\n    border-color: ${isDarkModeOn ? \"#1F2937\" : \"#E5E7EB\"};\n    color: ${isDarkModeOn ? \"#FFF\" : \"#000\"};\n  }\n  .totalItems {\n    align-text: center;\n    @media (max-width: 768px) {\n      display: block;\n    }\n  }\n  .pagination {\n    display: flex;\n    justify-content: center;\n    @media (max-width: 768px) {\n      justify-content: flex-end;\n    }\n  }\n  .footer {\n    display: flex;\n    flex-direction: row;\n    padding-top: 1rem;\n    padding-bottom: 1rem;\n    align-items: center;\n    border-top-width: 1px;\n    border-color: ${isDarkModeOn ? \"#1F2937\" : \"#E5E7EB\"};\n    @media (max-width: 768px) {\n      padding-top: 6rem;\n      padding-bottom: 6rem;\n      padding-left: 6rem;\n      padding-right: 6rem;\n    }\n  }\n  ${customStyles}\n`;\n\nconst TableContent = styled.div`\n  overflow: auto;\n  td {\n    padding-top: 1rem;\n    padding-bottom: 1rem;\n    padding-left: 3rem;\n  }\n  tr {\n    border-bottom-width: 1px;\n    border-color: ${isDarkModeOn ? \"#1F2937\" : \"#E5E7EB\"};\n  }\n  td {\n    padding-top: 1rem;\n    padding-bottom: 1rem;\n    padding-left: 3rem;\n    padding-right: 3rem;\n    color: ${isDarkModeOn ? \"#FFF\" : \"#000\"};\n  }\n  table {\n    width: 100%;\n  }\n  thead {\n    border-bottom-width: 2px;\n    border-color: #e5e7eb;\n    text-align: left;\n    color: #374151;\n    width: 100%;\n  }\n  tbody {\n    color: ${isDarkModeOn ? \"#FFF\" : \"#000\"};\n    .animate-pulse {\n      animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;\n      @keyframes pulse {\n        0%,\n        100% {\n          opacity: 1;\n        }\n        50% {\n          opacity: 0.5;\n        }\n      }\n    }\n    .bodyContent {\n      border-radius: 0.25rem;\n      width: 9rem;\n      height: 1rem;\n      background-color: #6b7280;\n      @media (max-width: 950px) {\n        width: auto;\n      }\n    }\n  }\n`;\n\nconst [currentPage, setCurrentPage] = useState(1);\nconst [itemsPerPage, setItemsPerPage] = useState(10);\nconst [items, setItems] = useState([]);\n\nconst handle = (newPage) => {\n  setCurrentPage(newPage);\n};\n\nuseEffect(() => {\n  setItems(\n    bodyProps.slice(\n      currentPage > 1\n        ? currentPage > 2\n          ? currentPage * itemsPerPage\n          : itemsPerPage\n        : 0,\n      currentPage > 1 ? currentPage * itemsPerPage + itemsPerPage : itemsPerPage\n    )\n  );\n}, [currentPage, itemsPerPage]);\n\nreturn (\n  <TableRoot>\n    <div className=\"title\">{props.title ?? null}</div>\n    <TableContent>\n      <table>\n        <thead>{headerProps}</thead>\n        <tbody>\n          {loading\n            ? Array.from(Array(5).keys()).map((_, i) => (\n                <tr className=\"animate-pulse\" key={`row-${i}`}>\n                  {cols.map((_, i) => (\n                    <td key={`col-${i}`}>\n                      <div className=\"bodyContent\"></div>\n                    </td>\n                  ))}\n                </tr>\n              ))\n            : items}\n        </tbody>\n      </table>\n    </TableContent>\n    <div className=\"footer\">\n      <div className=\"totalItems\">\n        {itemsPerPage * currentPage < bodyProps.length\n          ? `1 - ${itemsPerPage}`\n          : bodyProps?.length}{\" \"}\n        of {bodyProps.length}\n      </div>\n      <div className=\"pagination\">\n        <Widget\n          src=\"bos.genadrop.near/widget/Mintbase.TablePagination\"\n          props={{\n            onPageChange: handle,\n            currentPage,\n            itemsPerPage,\n            totalItems: bodyProps?.length,\n            hasLabel,\n          }}\n        />\n      </div>\n    </div>\n  </TableRoot>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/bos.genadrop.near/widget/Mintbase.MbTable", "fact_widget_deployments_id": "c62ffb19686b5d06d4725f7f11e3096a", "inserted_timestamp": "2024-03-07T05:24:05.087Z", "modified_timestamp": "2024-03-07T05:24:05.087Z", "__row_index": 1}