{"tx_hash": "HWttjysKPdJBV9TinCmV9FkQ6SdgCSStZATaZvHQC6EY", "action_id_social": "BhZttRx5NxBDxgfRWeU1kVaqk7hXLrLwrvri6e7udQ2X-0-widget", "block_id": 98858359, "block_timestamp": "2023-08-15T11:42:45.607Z", "signer_id": "nomination.ndctools.near", "widget_name": "NDC.Nomination.Candidate.Page", "source_code": "let { ids, dev, house, accountId } = props;\nids = ids ? ids : [1, 2, 3]; // for testing purposes\n\nconst registryContract = dev\n  ? \"registry-v1.gwg-testing.near\"\n  : \"registry.i-am-human.near\";\nconst nominationContract = dev\n  ? \"nominations-v1.gwg-testing.near\"\n  : \"nominations.ndc-gwg.near\";\nconst apiKey = \"36f2b87a-7ee6-40d8-80b9-5e68e587a5b5\";\n\nconst widgets = {\n  header: \"election.ndctools.near/widget/NDC.Elections.Header\",\n  mobile: \"nomination.ndctools.near/widget/NDC.Nomination.Candidate.MobileView\",\n  desktop:\n    \"nomination.ndctools.near/widget/NDC.Nomination.Candidate.DesktopView\",\n  back: `#/nomination.ndctools.near/widget/NDC.Nomination.Page${\n    dev ? \"?dev=true\" : \"\"\n  }`,\n};\n\nconst time = Near.view(nominationContract, \"active_time\", {});\n\nState.init({\n  selectedHouse: ids[0],\n  comments: [],\n  profile: {},\n  nominations: {},\n});\n\nconst BackLink = styled.a`\n  color: black;\n\n  &:hover {\n    text-decoration: none;\n    color: black;\n  }\n`;\n\nasyncFetch(\n  `https://api.pikespeak.ai/nominations/candidates-comments-and-upvotes?candidate=${accountId}&contract=${nominationContract}`,\n  { headers: { \"x-api-key\": apiKey } }\n).then((res) => {\n  State.update({ comments: res.body });\n});\n\nlet profile = Social.getr(`${accountId}/profile`);\nlet nominations = Social.getr(`${accountId}/nominations`);\nState.update({ profile: profile });\nState.update({ nominations: nominations });\n\nconst Mobile = styled.div`\n  @media only screen and (min-width: 601px) {\n    display: none !important;\n  }\n`;\n\nconst Desktop = styled.div`\n  @media only screen and (max-width: 600px) {\n    display: none !important;\n  }\n`;\n\nreturn (\n  <div>\n    <Mobile className=\"d-flex justify-content-center\">\n      <Mobile>\n        <Widget\n          src={widgets.header}\n          props={{\n            startTime: time ? time[0] : 0,\n            endTime: time ? time[1] : 0,\n            type: \"Nomination\",\n          }}\n        />\n      </Mobile>\n    </Mobile>\n    <Mobile class=\"row\">\n      <div className=\"my-3\">\n        <BackLink href={widgets.back}>\n          <i className=\"bi bi-chevron-left mr-2\"></i>\n          Back\n        </BackLink>\n      </div>\n    </Mobile>\n    <Mobile>\n      <Widget\n        props={{\n          data: state,\n          house: props.house,\n          accountId,\n          nomination_contract: nominationContract,\n          registry_contract: registryContract,\n          api_key: apiKey,\n        }}\n        src={widgets.mobile}\n      />\n    </Mobile>\n    <Desktop className=\"w-100\">\n      <Widget\n        src={widgets.header}\n        props={{\n          startTime: time ? time[0] : 0,\n          endTime: time ? time[1] : 0,\n          type: \"Nomination\",\n        }}\n      />\n    </Desktop>\n    <Desktop class=\"row\">\n      <div className=\"my-3\">\n        <BackLink href={widgets.back}>\n          <i className=\"bi bi-chevron-left mr-2\"></i>\n          Back\n        </BackLink>\n      </div>\n    </Desktop>\n    <Desktop class=\"row\">\n      <Widget\n        props={{\n          data: state,\n          house: props.house,\n          accountId,\n          nomination_contract: nominationContract,\n          registry_contract: registryContract,\n          api_key: apiKey,\n        }}\n        src={widgets.desktop}\n      />\n    </Desktop>\n  </div>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/nomination.ndctools.near/widget/NDC.Nomination.Candidate.Page", "fact_widget_deployments_id": "cf296cd650c6db5124c3886684068494", "inserted_timestamp": "2024-03-07T05:24:05.087Z", "modified_timestamp": "2024-03-07T05:24:05.087Z", "__row_index": 0}