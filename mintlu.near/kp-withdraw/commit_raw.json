{"tx_hash": "8CLXQa1WGmADxLtKkz2JiStpah2NNGjBnff9so4L3mUb", "action_id_social": "5FCk7JgxkicN8S3qzbQFJAsB9WMA17CKtidWzekHxYJ3-0-widget", "block_id": 113026025, "block_timestamp": "2024-02-17T15:35:50.219Z", "signer_id": "mintlu.near", "widget_name": "kp-withdraw", "source_code": "const withdraw = () => {\n  Near.call([\n    {\n      contractName: \"v2.keypom.near\",\n      methodName: \"withdraw_from_balance\",\n      gas: \"100000000000000\",\n    },\n  ]);\n};\n\nconst Yocto2Near = (amount) =>\n  new Big(amount).div(new Big(10).pow(24)).toString();\n\nif (context.accountId) {\n  let current_balance = Near.view(\"v2.keypom.near\", \"get_user_balance\", {\n    account_id: context.accountId,\n  });\n\n  let current_balance_near = Yocto2Near(current_balance);\n\n  return (\n    <div style={{\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n    justifyContent: 'center',\n    height: '100vh', // Adjust this according to your layout\n  }}>\n    <div style={{ marginBottom: '20px' }}>\n      Current User Balance is: {current_balance_near} NEAR\n    </div>\n    <button\n      className=\"btn btn-lg btn-primary\"\n      onClick={(e) => withdraw()}\n    >\n      Withdraw Keypom Balance\n    </button>\n  </div>\n  );\n} else {\n  return <div>Please Sign In to Withdraw Balance.</div>;\n}\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/mintlu.near/widget/kp-withdraw", "fact_widget_deployments_id": "9e6829ed79d095e3aa4ef980c1059daf", "inserted_timestamp": "2024-03-07T05:24:05.087Z", "modified_timestamp": "2024-03-07T05:24:05.087Z", "__row_index": 1}