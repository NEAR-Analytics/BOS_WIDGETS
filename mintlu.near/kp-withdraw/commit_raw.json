{"tx_hash": "B2Vwp3qTpZEBzioJKeMXw7pwZe9Xkc3cY6dc6vda6DPZ", "action_id_social": "8Ms42s96BwKNica2hbvbd8JG1jLcd7UTdv45F38JHTCh-0-widget", "block_id": 113025868, "block_timestamp": "2024-02-17T15:32:18.286Z", "signer_id": "mintlu.near", "widget_name": "kp-withdraw", "source_code": "const withdraw = () => {\n  Near.call([\n    {\n      contractName: \"v2.keypom.near\",\n      methodName: \"withdraw_from_balance\",\n      gas: \"100000000000000\",\n    },\n  ]);\n};\n\nconst Yocto2Near = (amount) =>\n  new Big(amount).div(new Big(10).pow(24)).toString();\n\nif (context.accountId) {\n  let current_balance = Near.view(\"v2.keypom.near\", \"get_user_balance\", {\n    account_id: context.accountId,\n  });\n\n  let current_balance_near = Yocto2Near(current_balance);\n\n  return (\n    <div>\n      Current User Balance is: {current_balance_near} NEAR\n      <button\n        className=\"btn btn-lg btn-primary mt-3\"\n        onClick={(e) => withdraw()}\n      >\n        Withdraw Keypom Balance\n      </button>\n    </div>\n  );\n} else {\n  return <div>Please Sign In to Withdraw Balance.</div>;\n}\n", "metadata": {"platform": "jutsu.ai"}, "branch": {"draft": null}, "widget_modules_used": null, "widget_url": "https://near.social/#/mintlu.near/widget/kp-withdraw", "fact_widget_deployments_id": "df6bbeda2e1a4e9747c1c5b8076ca6cd", "inserted_timestamp": "2024-03-07T05:24:05.087Z", "modified_timestamp": "2024-03-07T05:24:05.087Z", "__row_index": 0}