{"tx_hash": "7rLeSystCgMMWj6ps1ptxTwYssT7X1bB2PBzo8okHBUA", "action_id_social": "4vtNwjpncvQQFbEaVZs6EGa95zcc2aFP8cvGYnvHHmpN-0-widget", "block_id": 97080005, "block_timestamp": "2023-07-22T16:11:01.671Z", "signer_id": "jamonix.near", "widget_name": "ZkClient", "source_code": "import { ethers } from \"ethers\";\nimport { createContext, useState } from \"react\";\nimport { ZkBobClient, ProverMode, deriveSpendingKeyZkBob } from \"zkbob-client-js\";\nimport { hexToBuf } from \"zkbob-client-js/lib/utils\";\nimport { config } from \"../js/config\";\n;\nconst ZkClientContext = createContext({\n    zkClient: undefined,\n    login: undefined,\n    getMnemonic: () => undefined\n});\nexport default ZkClientContext;\nexport const ZkClientProvider = (props) => {\n    const [zkClient, setZkClient] = useState(undefined);\n    const [mnemonic, setMnemonic] = useState(undefined);\n    async function login() {\n        const client = await ZkBobClient.create(config, 'BOB-sepolia');\n        const mnemonic = ethers.utils.entropyToMnemonic(hexToBuf(\"9f86d081884c7d659a2feaa0c55ad015a3bf4f1b2b0b822cd15d6c15b0f00a08\"));\n        console.log(\"mnemonic: \", mnemonic);\n        setMnemonic(mnemonic);\n        const accountConfig = {\n            sk: deriveSpendingKeyZkBob(mnemonic),\n            pool: 'BOB-sepolia',\n            birthindex: -1,\n            proverMode: ProverMode.Local,\n        };\n        await client.login(accountConfig);\n        console.log(`Shielded account balance: ${await client.getTotalBalance()} Gwei`);\n        console.log(client);\n        setZkClient(client);\n    }\n    const getMnemonic = () => {\n        return mnemonic;\n    };\n    return <ZkClientContext.Provider value={{ zkClient, login, getMnemonic }}>\n    {props.children}\n  </ZkClientContext.Provider>;\n};\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/jamonix.near/widget/ZkClient", "fact_widget_deployments_id": "72d9833ae0116b09586276ff2080043f", "inserted_timestamp": "2024-03-07T05:24:05.087Z", "modified_timestamp": "2024-03-07T05:24:05.087Z", "__row_index": 0}