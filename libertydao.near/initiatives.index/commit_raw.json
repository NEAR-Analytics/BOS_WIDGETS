{"tx_hash": "J821UvR2a3ZuJC3jvawbvD1Rjpb5bDixPnRHkXZf1qCV", "action_id_social": "AkcoMyKfs8Wz5UoGzHSXooSVuA6mhLtm2xSJqqtxx8qe-0-widget", "block_id": 102695863, "block_timestamp": "2023-10-05T19:45:51.033Z", "signer_id": "libertydao.near", "widget_name": "initiatives.index", "source_code": "const Wrapper = styled.div`\n  height: 100vh;\n  margin-top: var(--header-height);\n  background-color: var(--light-color);\n`;\n\nconst Container = styled.div`\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n  max-width: 800px;\n  margin: 0 auto;\n  background-color: var(--light-color);\n  padding-bottom: 80px;\n  padding: 40px;\n  border-radius: 8px;\n`;\n\nconst Title = styled.h1`\n  color: #1b856b;\n`;\n\nconst Subtitle = styled.h3`\n  margin-top: 10px;\n`;\n\nconst Subtext = styled.h3`\n  margin-top: 10px;\n  font-size: 16px;\n`;\n\nconst Header = styled.div`\n  font-size: 18px;\n  margin-bottom: 10px;\n  text-align: center;\n`;\n\nconst FormLabel = styled.label`\n  display: block;\n  margin-top: 10px;\n  font-weight: bold;\n`;\n\nconst TextInput = styled.textarea`\n  width: 100%;\n  padding: 8px;\n  margin-top: 5px;\n  border: 1px solid #ccc;\n  border-radius: 4px;\n`;\n\nconst SubmitButton = styled.button`\n  background-color: var(--dark-color);\n  margin-top: 20px;\n  padding: 10px 20px;\n  color: #fff;\n  border: none;\n  border-radius: 6px;\n  cursor: pointer;\n\n  &:hover {\n    background-color: #e5e5e5;\n    color: #111;\n  }\n`;\n\nState.init({\n  description: \"\",\n  forWho: \"\",\n  byWho: \"\",\n  status: \"\",\n  contact: \"\",\n  needs: \"\",\n});\n\nfunction handleSubmit() {\n  Social.set(\n    {\n      thing: {\n        libertydaoInitative: {\n          \"\": JSON.stringify(state),\n        },\n      },\n    },\n    {\n      onCommit: () => {\n        State.update({\n          description: \"\",\n          forWho: \"\",\n          byWho: \"\",\n          status: \"\",\n          contact: \"\",\n          needs: \"\",\n        });\n      },\n      onCancel: () => {\n        State.update({\n          description: \"\",\n          forWho: \"\",\n          byWho: \"\",\n          status: \"\",\n          contact: \"\",\n          needs: \"\",\n        });\n      },\n    }\n  );\n}\n\nreturn (\n  <Wrapper className=\"row\">\n    <div className=\"col\">\n      <Container>\n        <Header>\n          <Title>Hello! And thanks for helping us to Activate Liberty!</Title>\n          <Subtitle>\n            As with any other accomplishment, this doesn\u2019t come without\n            consensus, And that doesn\u2019t come without input. So we are enormously\n            grateful for Every suggestion and addition to our network and data\n            citizens projects.\n          </Subtitle>\n          <Subtext>But this is only the beginning!</Subtext>\n          <Subtext>\n            We need to hear the voices of the city to know what projects are\n            needed next! Tell us below what needs or initiatives you see, and\n            what we can make possible.\n          </Subtext>\n          <Subtext>Fill in whatever blanks you can, And Thank you!</Subtext>\n        </Header>\n\n        <FormLabel>Description:</FormLabel>\n        <TextInput\n          type=\"text\"\n          value={state.description}\n          onChange={(e) => State.update({ description: e.target.value })}\n        />\n\n        <FormLabel>For Who:</FormLabel>\n        <TextInput\n          type=\"text\"\n          value={state.forWho}\n          onChange={(e) => State.update({ forWho: e.target.value })}\n        />\n\n        <FormLabel>By Who:</FormLabel>\n        <TextInput\n          type=\"text\"\n          value={state.byWho}\n          onChange={(e) => State.update({ byWho: e.target.value })}\n        />\n\n        <FormLabel>Status:</FormLabel>\n        <TextInput\n          type=\"text\"\n          value={state.status}\n          onChange={(e) => State.update({ status: e.target.value })}\n        />\n\n        <FormLabel>Needs:</FormLabel>\n        <TextInput\n          type=\"text\"\n          value={state.needs}\n          onChange={(e) => State.update({ needs: e.target.value })}\n        />\n\n        <FormLabel>Contact:</FormLabel>\n        <TextInput\n          type=\"text\"\n          value={state.contact}\n          onChange={(e) => State.update({ contact: e.target.value })}\n        />\n\n        <SubmitButton onClick={handleSubmit}>Submit</SubmitButton>\n        <Subtext>\n          If you are not logged in, send us a screenshot of the form{\" \"}\n          <a href=\"mailto:newlibertysystems@gmail.com?subject=Suggested Addition to Projects Catalogue&body=[Title]  [Description]   [Additional Notes]\">\n            here.\n          </a>\n        </Subtext>\n      </Container>\n    </div>\n  </Wrapper>\n);\n\n// const { Feed } = VM.require(\"efiz.near/widget/Module.Feed\");\n// Feed = Feed || (() => <></>);\n\n// const Container = styled.div`\n//   display: flex;\n//   flex-direction: column;\n//   height: 100%;\n//   margin-top: var(--header-height);\n//   background-color: var(--light-color);\n\n//   @media (max-width: 768px) {\n//     flex-direction: column;\n//   }\n// `;\n\n// return (\n//   <Container>\n//     <div style={{ maxWidth: \"800px\" }}>\n//       <Widget\n//         src=\"libertydao.near/widget/initiatives.compose\"\n//         props={{\n//           index: {\n//             thing: JSON.stringify([\n//               {\n//                 key: \"libertydaoinitiatives\",\n//                 value: {\n//                   type: \"md\",\n//                 },\n//               },\n//             ]),\n//           },\n//         }}\n//       />\n//       <Feed\n//         index={[\n//           {\n//             action: \"thing\",\n//             key: \"libertydaoinitiatives\",\n//             options: {\n//               limit: 10,\n//               order: \"desc\",\n//               accountId: props.accounts,\n//             },\n//             cacheOptions: {\n//               ignoreCache: true,\n//             },\n//           },\n//         ]}\n//         Item={(p) => (\n//           <Widget\n//             loading={<div className=\"w-100\" style={{ height: \"200px\" }} />}\n//             src=\"libertydao.near/widget/initiatives.post\"\n//             props={{ accountId: p.accountId, blockHeight: p.blockHeight }}\n//           />\n//         )}\n//       />\n//     </div>\n//   </Container>\n// );\n\n// const Column = styled.div`\n//   flex: 1;\n//   padding: 20px;\n// `;\n\n// const Card = styled.div`\n//   padding: 20px;\n//   display: flex;\n//   align-items: center;\n//   margin-bottom: 10px;\n\n//   @media (min-width: 769px) and (max-width: 1024px) {\n//     flex-direction: column;\n//   }\n// `;\n\n// const Icon = styled.i`\n//   font-size: 24px;\n//   margin-right: 20px;\n\n//   @media (min-width: 769px) and (max-width: 1024px) {\n//     margin-right: 0;\n//     margin-bottom: 10px;\n//   }\n// `;\n\n// const Title = styled.h3``;\n\n// const VerticalDivider = styled.div`\n//   width: 1px;\n//   height: 100%;\n//   background-color: #000;\n\n//   @media (max-width: 768px) {\n//     height: 1px;\n//     width: 100%;\n//   }\n// `;\n\n// const HorizontalDivider = styled.div`\n//   width: 100%;\n//   height: 1px;\n//   background-color: #000;\n\n//   @media (min-width: 769px) {\n//     display: none;\n//   }\n// `;\n\n// const ColumnTitle = styled.h2`\n//   margin-bottom: 20px;\n// `;\n\n// const CardItem = ({ iconClass, title }) => (\n//   <Card className=\"l__card\">\n//     <Icon className={iconClass}></Icon>\n//     <Title>{title}</Title>\n//   </Card>\n// );\n\n// return (\n//   <Container>\n//     <Column>\n//       <ColumnTitle>Actions</ColumnTitle>\n//       <CardItem iconClass=\"bi bi-brush\" title=\"Painting\" />\n//       <CardItem iconClass=\"bi bi-music-note-beamed\" title=\"Singing\" />\n//     </Column>\n//     <VerticalDivider />\n//     <Column>\n//       <ColumnTitle>Disciplines</ColumnTitle>\n//       <CardItem iconClass=\"bi bi-book\" title=\"Philosophy\" />\n//       <CardItem iconClass=\"bi bi-gear\" title=\"Engineering\" />\n//     </Column>\n//     <VerticalDivider />\n//     <Column>\n//       <ColumnTitle>Objects</ColumnTitle>\n//       <CardItem iconClass=\"bi bi-book-half\" title=\"Books\" />\n//       <CardItem iconClass=\"bi bi-laptop\" title=\"Computers\" />\n//     </Column>\n//   </Container>\n// );\n\n// const accountId = props.accountId ?? context.accountId;\n// const groupId = props.groupId ?? \"f8ad9d1a76259lmdpjnd74e69162a0a014\";\n// const creatorId = props.creatorId ?? \"hack.near\";\n\n// // We get all of the groups that have been indexed\n// const groups = Social.index(\"every\", \"group\", { limit: 10 });\n\n// // TODO: We can put an infinite scroll for groups\n// // And then we could do a Social.get([...groups]) constructed from each index\n\n// if (!groups) {\n//   return \"\";\n// }\n\n// // we check if they are a member ? Do we need this here?\n// // Ohhhh you join everyone\n// const isMember = Social.keys(\n//   `${accountId}/graph/${groupId}/${accountId}`,\n//   undefined,\n//   {\n//     values_only: true,\n//   }\n// );\n\n// const type = join ? \"leave\" : \"join\";\n\n// const handleJoin = () => {\n//   Social.set({\n//     graph: { [groupId]: { [accountId]: \"\" } },\n//     index: {\n//       graph: JSON.stringify({\n//         key: groupId,\n//         value: {\n//           type,\n//           accountId,\n//         },\n//       }),\n//       notify: JSON.stringify({\n//         key: creatorId, // in that case, who should the creator be?\n//         value: {\n//           type,\n//           accountId,\n//           message: \"everyone is growing!\",\n//         },\n//       }),\n//     },\n//   });\n// };\n\n// const GroupCard = styled.div`\n//   flex-basis: calc(33.33% - 20px);\n//   margin: 0;\n// `;\n\n// const Grid = styled.div`\n//   display: grid;\n//   grid-template-columns: repeat(3, 1fr);\n//   grid-gap: 10px;\n\n//   @media (hover: none) {\n//     grid-template-columns: repeat(1, 1fr);\n//   }\n// `;\n\n// const { Feed } = VM.require(\"efiz.near/widget/Module.Feed\");\n// Feed = Feed || (() => <></>);\n\n// const Header = styled.div`\n//   background: black;\n// `;\n\n// const Container = styled.div`\n//   margin: 0;\n//   display: flex;\n//   flex-direction: row;\n//   justify-content: space-between;\n//   width: 100%;\n//   flex: 1;\n//   height: 100vh;\n//   margin-top: var(--header-height);\n//   background-color: var(--light-color);\n// `;\n\n// const ActivityContainer = styled.div`\n//   overflow-y: scroll;\n// `;\n\n// const Left = styled.div`\n//   padding: 20px;\n//   background: #f8f8f9;\n//   flex: 3;\n// `;\n\n// const Center = styled.div`\n//   flex: 9;\n// `;\n\n// const H5 = styled.h5`\n//   margin-bottom: 20px;\n// `;\n\n// const Title = styled.h2`\n//   margin: 20px 0;\n// `;\n\n// const CardWrapper = styled.div`\n//   display: flex;\n//   flex-direction: row;\n//   flex-wrap: wrap;\n//   padding: 20px;\n// `;\n\n// return (\n//   <Container>\n//     <Center>\n//       {state.groupId && state.creatorId ? (\n// <Widget\n//   src={\"libertydao.near/widget/initiatives.page\"}\n//   props={{\n//     creatorId: state.creatorId,\n//     groupId: state.groupId,\n//   }}\n// />\n//       ) : (\n//         <CardWrapper>\n//           <Feed\n//             index={{\n//               action: \"every\",\n//               key: \"group\",\n//               options: {\n//                 limit: 10,\n//                 order: \"desc\",\n//                 accountId: undefined,\n//               },\n//             }}\n//             Item={(p) => {\n//               return (\n//                 <Widget\n//                   key={p}\n//                   src={\"libertydao.near/widget/initiatives.card\"}\n//                   props={{\n//                     creatorId: p.accountId,\n//                     groupId: p.value.id,\n//                     onClick: () =>\n//                       State.update({\n//                         creatorId: p.accountId,\n//                         groupId: p.value.id,\n//                       }),\n//                   }}\n//                 />\n//               );\n//             }}\n//             Layout={Grid}\n//           />\n//         </CardWrapper>\n//       )}\n//     </Center>\n//     {state.showModal && (\n//       <Widget\n//         src={\"libertydao.near/widget/initiatives.create\"}\n//         props={{\n//           handleClose: () => State.update({ showModal: false }),\n//         }}\n//       />\n//     )}\n//   </Container>\n// );\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/libertydao.near/widget/initiatives.index", "fact_widget_deployments_id": "518f646d797470613ffcb207094f84cc", "inserted_timestamp": "2024-03-07T05:24:05.087Z", "modified_timestamp": "2024-03-07T05:24:05.087Z", "__row_index": 0}