{"tx_hash": "2V4HyESPBRS9oQzhs39j3AXFe5vtvdTuFiY3rMXwrRj9", "action_id_social": "G4eooL1jJgnHZwB7deKHYZF7Y44vsHssjjEQmGd3t2KZ-0-widget", "block_id": 101239612, "block_timestamp": "2023-09-16T08:07:15.529Z", "signer_id": "opencann.near", "widget_name": "feed", "source_code": "// TODO //\n// create feed modal (or add existing)\n// add search for filtering left side rooms\nconst feeds = [\n  {\n    name: \"all\",\n    data: {\n      sources: [\n        {\n          domain: \"post\",\n          key: \"main\",\n        },\n      ],\n      typeWhitelist: [\"md\"],\n    },\n  },\n  {\n    name: \"#cannabis\",\n    data: {\n      sources: [\n        {\n          domain: \"post\",\n          key: \"main\",\n        },\n      ],\n      typeWhitelist: [\"md\"],\n      hashtagWhitelist: [\n        \"cannabis\",\n        \"420\",\n        \"marijuana\",\n        \"weed\",\n        \"ganja\",\n        \"bluntDAO\",\n      ],\n    },\n  },\n  {\n    name: \"#data\",\n    data: {\n      sources: [\n        {\n          domain: \"post\",\n          key: \"main\",\n        },\n      ],\n      typeWhitelist: [\"md\"],\n      hashtagWhitelist: [\"data\", \"data-science\", \"database\"],\n    },\n  },\n  {\n    name: \"#vibes\",\n    data: {\n      sources: [\n        {\n          domain: \"post\",\n          key: \"main\",\n        },\n      ],\n      typeWhitelist: [\"md\"],\n      hashtagWhitelist: [\"vibes\", \"proofofvibes\", \"chill\"],\n      composeTemplate: \"proofofvibes.near/widget/Vibes.Feed.Post.create\",\n      postTemplate: \"proofofvibes.near/widget/Vibes.Feed.View.main\",\n    },\n  },\n  {\n    name: \"#gm\",\n    data: {\n      sources: [\n        {\n          domain: \"post\",\n          key: \"main\",\n        },\n      ],\n      typeWhitelist: [\"md\"],\n      hashtagWhitelist: [\"nyc\", \"proofofvibes\"],\n      composeTemplate: \"proofofvibes.near/widget/Vibes.Feed.Post.create\",\n      postTemplate: \"proofofvibes.near/widget/Vibes.Feed.View.main\",\n    },\n  },\n];\n\nState.init({\n  selectedRoom: feeds[0],\n});\n\nconst Container = styled.div`\n  display: flex;\n  height: 100%;\n  width: 100%;\n`;\n\nconst LeftPanel = styled.div`\n  flex: 1;\n  padding: 20px;\n  background-color: #f1f1f1;\n`;\n\nconst ProfileContainer = styled.div`\n  /* Add your styles for the profile container here */\n`;\n\nconst CreateButton = styled.button`\n  /* Add your styles for the create button here */\n`;\n\nconst ChatRoomList = styled.ul`\n  list-style: none;\n  padding: 0;\n  margin: 0;\n`;\n\nconst ChatRoomItem = styled.li`\n  cursor: pointer;\n  padding: 10px;\n  border-bottom: 1px solid #ccc;\n  background-color: ${(props) =>\n    props.isSelected ? \"#f5f5f5\" : \"transparent\"};\n\n  &:last-child {\n    border-bottom: none;\n  }\n`;\n\nconst RightPanel = styled.div`\n  flex: 3;\n  background-color: #ffffff;\n  padding: 20px;\n`;\n\nconst Header = styled.div`\n  display: flex;\n  flex-direction: row;\n  justify-content: flex-end;\n  height: 40px;\n  background-color: #f1f1f1;\n`;\n\nconst Content = styled.div`\n  /* Add your styles for the content here */\n`;\n\nconst handleRoomSelect = (roomId) => {\n  State.update({ selectedRoom: roomId });\n};\n\nreturn (\n  <Container>\n    <LeftPanel>\n      <Header>\n        <Widget\n          src=\"nui.sking.near/widget/Layout.Modal\"\n          props={{\n            open: state.modalOpen,\n            onOpenChange: (open) => {\n              State.update({\n                ...state,\n                modalOpen: open,\n              });\n            },\n            toggle: (\n              <Widget\n                src=\"nui.sking.near/widget/Input.Button\"\n                props={{\n                  children: <i className=\"bi bi-pencil-square\"></i>,\n                  variant: \"icon rounded\",\n                  size: \"md\",\n                }}\n              />\n            ),\n            content: (\n              <div className=\"p-4 bg-white rounded\">\n                <p>create new feed</p>\n              </div>\n            ),\n          }}\n        />\n      </Header>\n\n      <ChatRoomList>\n        {feeds.map((room) => (\n          <ChatRoomItem\n            key={room}\n            onClick={() => handleRoomSelect(room)}\n            isSelected={state.selectedRoom === room}\n          >\n            {room.name}\n          </ChatRoomItem>\n        ))}\n      </ChatRoomList>\n    </LeftPanel>\n    <RightPanel>\n      <Header>\n        <h2>{state.selectedRoom.name}</h2>\n      </Header>\n      <Content>\n        {state.selectedRoom ? (\n          <div>\n            <Widget\n              src=\"efiz.near/widget/every.feed.view\"\n              props={{ data: state.selectedRoom.data }}\n            />\n          </div>\n        ) : (\n          <div></div>\n        )}\n      </Content>\n    </RightPanel>\n  </Container>\n);\n", "metadata": {}, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/opencann.near/widget/feed", "fact_widget_deployments_id": "e3e81ac58910eb738b6fecb43319d2e0", "inserted_timestamp": "2023-09-16T10:16:59.366Z", "modified_timestamp": "2023-09-16T10:16:59.366Z", "__row_index": 4}