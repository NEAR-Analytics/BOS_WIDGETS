{"tx_hash": "8SPh77Yx1oJiPHmnw2xqpD2GAiNdRi8JzGgxT8wi4Lqy", "action_id_social": "HZMMMPJqRSQaNMdq895MP7FAEqR7ReDuNjZ4sauxQh5M-0-widget", "block_id": 101082120, "block_timestamp": "2023-09-14T04:04:46.198Z", "signer_id": "opencann.near", "widget_name": "profile.edit", "source_code": "const accountId = context.accountId;\r\nconst ownerId = \"opencann.near\";\r\n\r\nif (!accountId) {\r\n  return \"Please sign in with NEAR wallet to edit your profile\";\r\n}\r\n\r\nlet profile = Social.getr(`${accountId}/profile`);\r\n\r\nif (profile === null) {\r\n  return \"Loading\";\r\n}\r\n\r\nState.init({\r\n  profile,\r\n  skills: [],\r\n  skillsError: \"\",\r\n});\r\n\r\nconst Wrapper = styled.div`\r\n  #pills-tab,\r\n  #pills-tabContent {\r\n    display: none;\r\n  }\r\n`;\r\n\r\nreturn (\r\n  <Wrapper>\r\n    <div className=\"row\">\r\n      <div className=\"col-lg-6\">\r\n        <div>\r\n          <h4>Edit profile of @{accountId}</h4>\r\n        </div>\r\n        <a href=\"#/opencann.near/widget/profile.demographics\">\r\n          Click here to edit your demographic data.\r\n        </a>\r\n        <hr></hr>\r\n        <div className=\"mb-2\">\r\n          <Widget\r\n            src=\"opencann.near/widget/MetadataEditor\"\r\n            props={{\r\n              initialMetadata: profile,\r\n              onChange: (profile) => State.update({ profile }),\r\n              options: {\r\n                name: { label: \"Profile Name\" },\r\n                image: { label: \"Profile picture\" },\r\n                backgroundImage: { label: \"Background image\" },\r\n                description: { label: \"About\" },\r\n                tags: {\r\n                  label: \"Tags\",\r\n                  tagsPattern: \"*/profile/tags/*\",\r\n                  placeholder:\r\n                    \"rust, engineer, artist, humanguild, nft, learner, founder\",\r\n                },\r\n                linktree: {\r\n                  links: [\r\n                    {\r\n                      label: \"Twitter\",\r\n                      prefix: \"https://twitter.com/\",\r\n                      name: \"twitter\",\r\n                    },\r\n                    {\r\n                      label: \"Github\",\r\n                      prefix: \"https://github.com/\",\r\n                      name: \"github\",\r\n                    },\r\n                    {\r\n                      label: \"Telegram\",\r\n                      prefix: \"https://t.me/\",\r\n                      name: \"telegram\",\r\n                    },\r\n                    {\r\n                      label: \"Website\",\r\n                      prefix: \"https://\",\r\n                      name: \"website\",\r\n                    },\r\n                    {\r\n                      label: \"Discord\",\r\n                      prefix: \"https://\",\r\n                      name: \"discord\",\r\n                    },\r\n                  ],\r\n                },\r\n              },\r\n            }}\r\n          />\r\n        </div>\r\n        <Widget\r\n          src={`${ownerId}/widget/profile.skills`}\r\n          props={{\r\n            label: \"Skills\",\r\n            placeholder: \"Add skills\",\r\n            value: state.skills,\r\n            onChange: (skills) =>\r\n              State.update({\r\n                skills: skills.map(({ name }) => ({\r\n                  name: name.trim().replaceAll(/\\s+/g, \"-\"),\r\n                })),\r\n              }),\r\n          }}\r\n        />\r\n        <p></p>\r\n        <div className=\"mb-2\">\r\n          <CommitButton data={{ profile: state.profile }}>\r\n            Save profile\r\n          </CommitButton>\r\n          <a\r\n            className=\"btn btn-outline-primary ms-2\"\r\n            href={`#/opencann.near/widget/profile.page?accountId=${accountId}`}\r\n          >\r\n            View profile\r\n          </a>\r\n        </div>\r\n      </div>\r\n      <div className=\"col-lg-6\">\r\n        <div>\r\n          <Widget\r\n            src=\"opencann.near/widget/profile.page\"\r\n            props={{ accountId, profile: state.profile }}\r\n          />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </Wrapper>\r\n);\r\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/opencann.near/widget/profile.edit", "fact_widget_deployments_id": "bbf88866589a8bfbacd6911883d6e639", "inserted_timestamp": "2023-09-14T05:47:58.286Z", "modified_timestamp": "2023-09-14T05:47:58.286Z", "__row_index": 6}