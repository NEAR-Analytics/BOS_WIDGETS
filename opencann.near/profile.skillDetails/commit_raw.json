{"tx_hash": "Bdxo9trgTwfgEniLSM1VXV2V3sLp32XRwB1smnWPBm8j", "action_id_social": "5EdxFSa2PsZ3enUz4pK7ySfJLNU8Z5zFW1LFwkdZK4Mg-0-widget", "block_id": 101237952, "block_timestamp": "2023-09-16T07:34:37.384Z", "signer_id": "opencann.near", "widget_name": "profile.skillDetails", "source_code": "// LabelDetails\nconst ownerId = \"zavodil.near\";\nconst appName = \"skilltag\";\n\nif (!props.skill) {\n  return \"Undefined skill\";\n}\n\nlet skill = props.skill;\nconst data = Social.get(`*/${appName}/*/skills/${skill}`, \"final\");\n\nif (!data) {\n  return \"Loading\";\n}\n\nconst records = [];\n\nlet counter = 0;\n\nObject.keys(data).forEach((accountId) => {\n  Object.keys(data[accountId][appName]).forEach((contractId) => {\n    Object.values(data[accountId][appName][contractId]).forEach((skills) => {\n      if (Object.keys(skills).includes(skill)) {\n        let text =\n          accountId == contractId ? (\n            `skillged themself`\n          ) : (\n            <>\n              skillged{\" \"}\n              <Widget\n                src={`${ownerId}/widget/ProfileLine`}\n                props={{ accountId: contractId }}\n              />\n            </>\n          );\n        records.push(\n          <li className=\"list-group-item\">\n            <Widget\n              src={`${ownerId}/widget/ProfileLine`}\n              props={{ accountId }}\n            />{\" \"}\n            {text}\n            <span className=\"public-skills collapse show\">\n              <button\n                className=\"btn btn-sm btn-outline-secondary border-0\"\n                data-bs-toggle=\"collapse\"\n                data-bs-target={`.public-skills-${counter}`}\n                aria-expanded=\"false\"\n                aria-controls={`public-skills-${counter}`}\n                type=\"button\"\n              >\n                <i className=\"bi bi-arrows-angle-expand me-1\"></i>All skills\n              </button>\n            </span>\n            <div className={`collapse public-skills-${counter}`}>\n              <Widget\n                src={`${ownerId}/widget/PublicSkills`}\n                props={{ accountId: contractId }}\n              />\n            </div>\n          </li>\n        );\n\n        counter++;\n      }\n    });\n  });\n});\n\nreturn (\n  <>\n    <h4 className=\"ms-3\">\n      Public Skill{\" \"}\n      <span className=\"badge rounded-pill bg-primary\">{skill}</span>\n    </h4>\n    <ul className=\"list-group list-group-flush\">{records}</ul>\n  </>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/opencann.near/widget/profile.skillDetails", "fact_widget_deployments_id": "90505c02c920fd04bd825e981da35e50", "inserted_timestamp": "2024-03-07T05:24:05.087Z", "modified_timestamp": "2024-03-07T05:24:05.087Z", "__row_index": 0}