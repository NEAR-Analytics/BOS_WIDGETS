{"tx_hash": "FzzdihZeHPrAzLZAt8Loz4WfhtAYxSB6wo9n2oPiMwnB", "action_id_social": "3EXTQw8tp9E4MMAkL2q8YxPtKo6FLLLmo7a1knazxCuh-0-widget", "block_id": 102153737, "block_timestamp": "2023-09-28T14:30:22.015Z", "signer_id": "scopalaffairs.near", "widget_name": "AccountProfile", "source_code": "const accountId = props.accountId || context.accountId;\nconst profile = props.profile || Social.get(`${accountId}/profile/**`, \"final\");\nconst profileUrl = `#/scopalaffairs.near/widget/ProfilePage?accountId=${accountId}`;\n\nconst Wrapper = styled.a`\n  display: inline-grid;\n  width: 100%;\n  align-items: center;\n  gap: 12px;\n  grid-template-columns: auto 1fr;\n  cursor: pointer;\n  margin: 0;\n  color: #687076 !important;\n  outline: none;\n  text-decoration: none !important;\n  background: none !important;\n  border: none;\n  text-align: left;\n  padding: 0;\n\n  > * {\n    min-width: 0;\n  }\n\n  .hover-state1 {\n    opacity: 0;\n  }\n\n  .hover-state2 {\n    opacity: 1;\n  }\n\n  &:hover,\n  &:focus {\n    div.hover {\n      border-color: #d0d5dd;\n    }\n    .hover-state1 {\n      opacity: 1;\n      transition: opacity 0.3s ease;\n    }\n    .hover-state2 {\n      opacity: 0;\n      transition: opacity 0.3s ease;\n    }\n  }\n`;\n\nconst AvatarCount = styled.div`\n  color: rgb(104, 112, 118);\n  font-size: 14px;\n  font-weight: 300;\n  position: absolute;\n  right: 0px;\n  padding-right: 20px;\n`;\n\nconst Text = styled.p`\n  margin: 0;\n  font-size: 14px;\n  line-height: 20px;\n  color: ${(p) => (p.bold ? \"#11181C\" : \"#687076\")};\n  font-weight: ${(p) => (p.bold ? \"600\" : \"400\")};\n  font-size: ${(p) => (p.small ? \"10px\" : \"14px\")};\n  overflow: ${(p) => (p.ellipsis ? \"hidden\" : \"\")};\n  text-overflow: ${(p) => (p.ellipsis ? \"ellipsis\" : \"\")};\n  white-space: nowrap;\n`;\n\nconst Avatar = styled.div`\n  width: ${props.avatarSize || \"40px\"};\n  height: ${props.avatarSize || \"40px\"};\n  flex-shrink: 0;\n  border: 1px solid #eceef0;\n  overflow: hidden;\n  border-radius: 40px;\n  transition: border-color 200ms;\n\n  img {\n    object-fit: cover;\n    width: 100%;\n    height: 100%;\n  }\n`;\n\nconst Name = styled.div`\n  display: flex;\n  gap: 6px;\n  align-items: center;\n`;\n\nconst AccountProfile = (\n  <Wrapper\n    as={props.onClick ? \"button\" : \"a\"}\n    href={!props.onClick && profileUrl}\n    onClick={props.onClick && (() => props.onClick(accountId))}\n  >\n    <Avatar className=\"hover\">\n      <Widget\n        src=\"mob.near/widget/Image\"\n        props={{\n          image: profile.image,\n          alt: profile.name,\n          fallbackUrl:\n            \"https://ipfs.near.social/ipfs/bafkreibiyqabm3kl24gcb2oegb7pmwdi6wwrpui62iwb44l7uomnn3lhbi\",\n        }}\n      />\n    </Avatar>\n\n    <div>\n      <Name>\n        <Text ellipsis bold>\n          {profile.name || accountId.split(\".near\")[0]}\n        </Text>\n\n        {props.inlineContent}\n\n        {props.blockHeight && (\n          <Text small style={{ marginLeft: \"auto\" }}>\n            Joined{\" \"}\n            <Widget\n              src=\"mob.near}/widget/TimeAgo\"\n              props={{ blockHeight: props.blockHeight }}\n            />{\" \"}\n            ago\n          </Text>\n        )}\n\n        {props.scope == \"friends\" && props.becauseYouFollow.length > 0 && (\n          <>\n            <AvatarCount className=\"hover-state1\">\n              <Widget\n                src=\"scopalaffairs.near/widget/Recommender.Views.RecommendedAvatars\"\n                props={{\n                  avatarSize: \"25px\",\n                  becauseYouFollow: props.becauseYouFollow,\n                }}\n              />\n            </AvatarCount>\n            <AvatarCount className=\"hover-state2\">\n              {props.becauseYouFollow.length} friends follow\n            </AvatarCount>\n          </>\n        )}\n\n        {props.scope == \"similar\" && (\n          <AvatarCount>Shared interests</AvatarCount>\n        )}\n      </Name>\n\n      {!props.hideAccountId && <Text ellipsis>@{accountId}</Text>}\n    </div>\n  </Wrapper>\n);\n\nif (props.noOverlay) return AccountProfile;\n\nreturn (\n    <Widget\n      src=\"scopalaffairs.near/widget/AccountProfileOverlay\"\n      props={{\n        accountId: props.accountId,\n        profile,\n        children: AccountProfile,\n        placement: props.overlayPlacement,\n        becauseYouFollow:\n          props.scope === \"friends\" ? props.becauseYouFollow : null,\n        scope: props.scope,\n        onFollow: { removeListProfileOnFollow },\n      }}\n    />\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/scopalaffairs.near/widget/AccountProfile", "fact_widget_deployments_id": "4c2a56717246a89da6d75342f9171295", "inserted_timestamp": "2024-03-07T05:24:05.087Z", "modified_timestamp": "2024-03-07T05:24:05.087Z", "__row_index": 12}