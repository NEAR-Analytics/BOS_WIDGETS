{"tx_hash": "6FMnVVpqzVzEWAi7LmY3ZFp4DGheaY6abVA4mfb54zLC", "action_id_social": "8hvfiW1MJc9wmGYdWJ8LdUsQYgAfgvTp35TaKpfPzjDp-0-widget", "block_id": 103118547, "block_timestamp": "2023-10-11T09:56:59.226Z", "signer_id": "scopalaffairs.near", "widget_name": "Recommender.Views.RecommendedUsersView", "source_code": "const ButtonLink = styled.a`\n  display: block;\n  width: 100%;\n  padding: 8px;\n  height: 32px;\n  background: #fbfcfd;\n  border: 1px solid #d7dbdf;\n  border-radius: 50px;\n  font-weight: 600;\n  font-size: 12px;\n  line-height: 15px;\n  text-align: center;\n  cursor: pointer;\n  color: #11181c !important;\n  margin: 0;\n\n  &:hover,\n  &:focus {\n    background: #ecedee;\n    text-decoration: none;\n    outline: none;\n  }\n\n  span {\n    color: #687076 !important;\n  }\n`;\n\nconst CategoryHeader = styled.div`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n`;\n\nconst RecommendationsView = styled.div`\n  display: flex;\n  flex-direction: column;\n  gap: 12px;\n`;\n\nconst H3 = styled.h3`\n  font-weight: 600;\n  font-size: 24px;\n  line-height: normal;\n  color: #11181c;\n  margin: 1.8rem 0 1.5rem 0;\n`;\n\nconst RetroLinkButton = styled.button`\n  background: none;\n  border: none;\n  cursor: pointer;\n  color: blue;\n  font-size: 16px;\n  padding: 0;\n  margin: 0;\n  outline: none;\n  transition: color 0.3s;\n\n  &:hover {\n    color: purple;\n  }\n\n  &:active {\n    color: red;\n  }\n`;\n\nState.init({\n  expandedList: \"\",\n});\n\nconst handleToggleList = (listId) => {\n  if (state.expandedList === listId) {\n    State.update({ expandedList: \"\" });\n  } else {\n    State.update({ expandedList: listId });\n  }\n};\n\nconst STORE = \"storage.googleapis.com\";\nconst BUCKET = \"databricks-near-query-runner\";\nconst BASE_URL = `https://${STORE}/${BUCKET}/output/recommendations`;\n\nconst similarProfiles = \"similarity_estimation\";\n\nconst recommendedProfilesURL = `${BASE_URL}/${recommendedProfiles}_${context.accountId}`;\nconst similarProfilesURL = `${BASE_URL}/${similarProfiles}_${context.accountId}`;\n\nreturn (\n  <RecommendationsView>\n    {state.expandedList !== \"list2\" && (\n      <>\n        {props.sidebar ? (\n          <></>\n        ) : (\n          <CategoryHeader>\n            <H3>Friends of Friends</H3>\n            <RetroLinkButton onClick={() => handleToggleList(\"list1\")}>\n              {state.expandedList === \"list1\"\n                ? \"Back to categories\"\n                : \"View all\"}\n            </RetroLinkButton>\n          </CategoryHeader>\n        )}\n        <Widget\n          src={`${REPL_ACCOUNT}/widget/Recommender.Views.FriendsOfFriends`}\n          props={{\n            returnElements: state.expandedList === \"list1\" ? null : 4,\n            sidebar: props.sidebar || null,\n            scope: \"friends\",\n            fromContext: props.fromContext,\n            gridCols: props.gridCols,\n            accountId: props.accountId,\n          }}\n        />\n      </>\n    )}\n\n    {state.expandedList !== \"list1\" && (\n      <>\n        {props.sidebar ? (\n          <></>\n        ) : (\n          <CategoryHeader>\n            <H3>Similar to you</H3>\n            <RetroLinkButton onClick={() => handleToggleList(\"list2\")}>\n              {state.expandedList === \"list2\"\n                ? \"Back to categories\"\n                : \"View all\"}\n            </RetroLinkButton>\n          </CategoryHeader>\n        )}\n        <Widget\n          src={`${REPL_ACCOUNT}/widget/Recommender.Views.SimilarProfiles`}\n          props={{\n            returnElements: state.expandedList === \"list2\" ? null : 4,\n            sidebar: props.sidebar || null,\n            scope: \"similar\",\n            fromContext: props.fromContext,\n            gridCols: props.gridCols,\n            accountId: props.accountId,\n          }}\n        />\n      </>\n    )}\n\n    {props.sidebar && (\n      <ButtonLink href=\"#/${REPL_ACCOUNT}/widget/PeoplePage?tab=recommended\">\n        View Recommended Profiles\n      </ButtonLink>\n    )}\n  </RecommendationsView>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/scopalaffairs.near/widget/Recommender.Views.RecommendedUsersView", "fact_widget_deployments_id": "2cbd6807375157013e50e38de52dbe1b", "inserted_timestamp": "2024-03-07T05:24:05.087Z", "modified_timestamp": "2024-03-07T05:24:05.087Z", "__row_index": 1}