{"tx_hash": "DtDT5nwGtNA6gEnPigqifek1eN5h5HDDFw2uTHviWcey", "action_id_social": "AuCRzSLy76W7TDU3at1vSCsUJRM6SKw9tX7wCGKjdcoA-0-widget", "block_id": 114805279, "block_timestamp": "2024-03-16T06:01:46.677Z", "signer_id": "nearblocks.near", "widget_name": "bos-components.components.Contract.ViewOrChange", "source_code": "/**\n * Component: ContractViewOrChange\n * Author: Nearblocks Pte Ltd\n * License: Business Source License 1.1\n * Description: Details of Contract on Near Protocol.\n * @interface Props\n * @param {string} [network] - The network data to show, either mainnet or testnet\n * @param {string} [id] - The account identifier passed as a string.\n * @param {boolean} [connected] - Boolean indicating whether the user is currently signed in or not.\n * @param {number} [index] - The position index of the contract method.\n * @param {string} [method] - Specifies the method name for the contract.\n * @param {string} [accountId] - The account ID of the signed-in user, passed as a string.\n * @param {React.FC<{\n *   href: string;\n *   children: React.ReactNode;\n *   className?: string;\n * }>} Link - A React component for rendering links.\n */\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n/* INCLUDE: \"includes/formats.jsx\" */\nfunction capitalize(str) {\n  return str.charAt(0).toUpperCase() + str.slice(1);\n}\nfunction toSnakeCase(str) {\n  return str\n    .replace(/[A-Z]/g, (match) => '_' + match.toLowerCase())\n    .replace(/^_/, '');\n}\n\nfunction capitalize(str) {\n  return str.charAt(0).toUpperCase() + str.slice(1);\n}\n/* END_INCLUDE: \"includes/formats.jsx\" */\n/* INCLUDE COMPONENT: \"includes/icons/ArrowRight.jsx\" */\n/**\n * @interface Props\n * @param {string} [className] - The CSS class name(s) for styling purposes.\n */\n\n\n\n\nconst ArrowRight = (props) => {\n  return (\n    <svg\n      xmlns=\"http://www.w3.org/2000/svg\"\n      viewBox=\"0 0 16 16\"\n      width={20}\n      height={20}\n      {...props}\n    >\n      <path\n        fillRule=\"evenodd\"\n        d=\"M4 8a.5.5 0 0 1 .5-.5h5.793L8.146 5.354a.5.5 0 1 1 .708-.708l3 3a.5.5 0 0 1 0 .708l-3 3a.5.5 0 0 1-.708-.708L10.293 8.5H4.5A.5.5 0 0 1 4 8z\"\n      />\n    </svg>\n  );\n};/* END_INCLUDE COMPONENT: \"includes/icons/ArrowRight.jsx\" */\n/* INCLUDE COMPONENT: \"includes/icons/CloseCircle.jsx\" */\nconst CloseCircle = (props) => {\n  const handleClick = () => {\n    if (props.onClick) {\n      props.onClick('All');\n    }\n  };\n  return (\n    <svg\n      xmlns=\"http://www.w3.org/2000/svg\"\n      viewBox=\"0 0 24 24\"\n      width={24}\n      height={24}\n      className={props.className}\n      onClick={handleClick}\n    >\n      <path fill=\"none\" d=\"M0 0h24v24H0z\" />\n      <path d=\"M12 22C6.477 22 2 17.523 2 12S6.477 2 12 2s10 4.477 10 10-4.477 10-10 10zm0-2a8 8 0 100-16 8 8 0 000 16zm0-9.414l2.828-2.829 1.415 1.415L13.414 12l2.829 2.828-1.415 1.415L12 13.414l-2.828 2.829-1.415-1.415L10.586 12 7.757 9.172l1.415-1.415L12 10.586z\" />\n    </svg>\n  );\n};/* END_INCLUDE COMPONENT: \"includes/icons/CloseCircle.jsx\" */\n/* INCLUDE COMPONENT: \"includes/icons/Question.jsx\" */\n/**\n * @interface Props\n * @param {string} [className] - The CSS class name(s) for styling purposes.\n */\n\n\n\n\n\nconst Question = (props) => {\n  return (\n    <svg\n      xmlns=\"http://www.w3.org/2000/svg\"\n      viewBox=\"0 0 24 24\"\n      width={16}\n      height={16}\n      {...props}\n    >\n      <path fill=\"none\" d=\"M0 0h24v24H0z\" />\n      <path d=\"M12 22C6.477 22 2 17.523 2 12S6.477 2 12 2s10 4.477 10 10-4.477 10-10 10zm0-2a8 8 0 100-16 8 8 0 000 16zm-1-5h2v2h-2v-2zm2-1.645V14h-2v-1.5a1 1 0 011-1 1.5 1.5 0 10-1.471-1.794l-1.962-.393A3.501 3.501 0 1113 13.355z\" />\n    </svg>\n  );\n};/* END_INCLUDE COMPONENT: \"includes/icons/Question.jsx\" */\n/* INCLUDE: \"includes/libs.jsx\" */\nfunction getConfig(network) {\n  switch (network) {\n    case 'mainnet':\n      return {\n        ownerId: 'nearblocks.near',\n        nodeUrl: 'https://rpc.mainnet.near.org',\n        backendUrl: 'https://api3.nearblocks.io/v1/',\n        rpcUrl: 'https://beta.rpc.mainnet.near.org',\n        appUrl: 'https://nearblocks.io/',\n      };\n    case 'testnet':\n      return {\n        ownerId: 'nearblocks.testnet',\n        nodeUrl: 'https://rpc.testnet.near.org',\n        backendUrl: 'https://api3-testnet.nearblocks.io/v1/',\n        rpcUrl: 'https://beta.rpc.testnet.near.org/',\n        appUrl: 'https://testnet.nearblocks.io/',\n      };\n    default:\n      return {};\n  }\n}\n\nfunction debounce(\n  delay,\n  func,\n) {\n  let timer;\n  let active = true;\n  const debounced = (arg) => {\n    if (active) {\n      clearTimeout(timer);\n      timer = setTimeout(() => {\n        active && func(arg);\n        timer = undefined;\n      }, delay);\n    } else {\n      func(arg);\n    }\n  };\n\n  debounced.isPending = () => {\n    return timer !== undefined;\n  };\n\n  debounced.cancel = () => {\n    active = false;\n  };\n\n  debounced.flush = (arg) => func(arg);\n\n  return debounced;\n}\n\nfunction timeAgo(unixTimestamp) {\n  const currentTimestamp = Math.floor(Date.now() / 1000);\n  const secondsAgo = currentTimestamp - unixTimestamp;\n\n  if (secondsAgo < 5) {\n    return 'Just now';\n  } else if (secondsAgo < 60) {\n    return `${secondsAgo} seconds ago`;\n  } else if (secondsAgo < 3600) {\n    const minutesAgo = Math.floor(secondsAgo / 60);\n    return `${minutesAgo} minute${minutesAgo > 1 ? 's' : ''} ago`;\n  } else if (secondsAgo < 86400) {\n    const hoursAgo = Math.floor(secondsAgo / 3600);\n    return `${hoursAgo} hour${hoursAgo > 1 ? 's' : ''} ago`;\n  } else if (secondsAgo < 2592000) {\n    const daysAgo = Math.floor(secondsAgo / 86400);\n    return `${daysAgo} day${daysAgo > 1 ? 's' : ''} ago`;\n  } else if (secondsAgo < 31536000) {\n    const monthsAgo = Math.floor(secondsAgo / 2592000);\n    return `${monthsAgo} month${monthsAgo > 1 ? 's' : ''} ago`;\n  } else {\n    const yearsAgo = Math.floor(secondsAgo / 31536000);\n    return `${yearsAgo} year${yearsAgo > 1 ? 's' : ''} ago`;\n  }\n}\n\nfunction shortenAddress(address) {\n  const string = String(address);\n\n  if (string.length <= 20) return string;\n\n  return `${string.substr(0, 10)}...${string.substr(-7)}`;\n}\n\nfunction urlHostName(url) {\n  try {\n    const domain = new URL(url);\n    return domain?.hostname ?? null;\n  } catch (e) {\n    return null;\n  }\n}\n\nfunction holderPercentage(supply, quantity) {\n  return Math.min(Big(quantity).div(Big(supply)).mul(Big(100)).toFixed(2), 100);\n}\n\nfunction isAction(type) {\n  const actions = [\n    'DEPLOY_CONTRACT',\n    'TRANSFER',\n    'STAKE',\n    'ADD_KEY',\n    'DELETE_KEY',\n    'DELETE_ACCOUNT',\n  ];\n\n  return actions.includes(type.toUpperCase());\n}\n\nfunction isJson(string) {\n  const str = string.replace(/\\\\/g, '');\n\n  try {\n    JSON.parse(str);\n    return false;\n  } catch (e) {\n    return false;\n  }\n}\n\nfunction uniqueId() {\n  return Math.floor(Math.random() * 1000);\n}\nfunction handleRateLimit(\n  data,\n  reFetch,\n  Loading,\n) {\n  if (data.status === 429 || data.status === undefined) {\n    const retryCount = 4;\n    const delay = Math.pow(2, retryCount) * 1000;\n    setTimeout(() => {\n      reFetch();\n    }, delay);\n  } else {\n    if (Loading) {\n      Loading();\n    }\n  }\n}\n\nfunction mapFeilds(fields) {\n  const args = {};\n\n  fields.forEach((fld) => {\n    let value = fld.value;\n\n    if (fld.type === 'number') {\n      value = Number(value);\n    } else if (fld.type === 'boolean') {\n      value =\n        value.trim().length > 0 &&\n        !['false', '0'].includes(value.toLowerCase());\n    } else if (fld.type === 'json') {\n      value = JSON.parse(value);\n    } else if (fld.type === 'null') {\n      value = null;\n    }\n\n    (args )[fld.name] = value + '';\n  });\n\n  return args;\n}\nfunction localFormat(number) {\n  const bigNumber = Big(number);\n  const formattedNumber = bigNumber\n    .toFixed(5)\n    .replace(/(\\d)(?=(\\d{3})+\\.)/g, '$1,'); // Add commas before the decimal point\n  return formattedNumber.replace(/\\.?0*$/, ''); // Remove trailing zeros and the dot\n}\nfunction formatWithCommas(number) {\n  return number.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',');\n}\nfunction localFormat(number) {\n  const bigNumber = Big(number);\n  const formattedNumber = bigNumber\n    .toFixed(5)\n    .replace(/(\\d)(?=(\\d{3})+\\.)/g, '$1,'); // Add commas before the decimal point\n  return formattedNumber.replace(/\\.?0*$/, ''); // Remove trailing zeros and the dot\n}\nfunction formatWithCommas(number) {\n  return number.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',');\n}\nfunction handleRateLimit(\n  data,\n  reFetch,\n  Loading,\n) {\n  if (data.status === 429 || data.status === undefined) {\n    const retryCount = 4;\n    const delay = Math.pow(2, retryCount) * 1000;\n    setTimeout(() => {\n      reFetch();\n    }, delay);\n  } else {\n    if (Loading) {\n      Loading();\n    }\n  }\n}\n\nfunction mapFeilds(fields) {\n  const args = {};\n\n  fields.forEach((fld) => {\n    let value = fld.value;\n\n    if (fld.type === 'number') {\n      value = Number(value);\n    } else if (fld.type === 'boolean') {\n      value =\n        value.trim().length > 0 &&\n        !['false', '0'].includes(value.toLowerCase());\n    } else if (fld.type === 'json') {\n      value = JSON.parse(value);\n    } else if (fld.type === 'null') {\n      value = null;\n    }\n\n    (args )[fld.name] = value + '';\n  });\n\n  return args;\n}\nfunction localFormat(number) {\n  const bigNumber = Big(number);\n  const formattedNumber = bigNumber\n    .toFixed(5)\n    .replace(/(\\d)(?=(\\d{3})+\\.)/g, '$1,'); // Add commas before the decimal point\n  return formattedNumber.replace(/\\.?0*$/, ''); // Remove trailing zeros and the dot\n}\nfunction formatWithCommas(number) {\n  return number.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',');\n}\nfunction isJson(string) {\n  const str = string.replace(/\\\\/g, '');\n\n  try {\n    JSON.parse(str);\n    return false;\n  } catch (e) {\n    return false;\n  }\n}\n\nfunction uniqueId() {\n  return Math.floor(Math.random() * 1000);\n}\nfunction handleRateLimit(\n  data,\n  reFetch,\n  Loading,\n) {\n  if (data.status === 429 || data.status === undefined) {\n    const retryCount = 4;\n    const delay = Math.pow(2, retryCount) * 1000;\n    setTimeout(() => {\n      reFetch();\n    }, delay);\n  } else {\n    if (Loading) {\n      Loading();\n    }\n  }\n}\n\nfunction mapFeilds(fields) {\n  const args = {};\n\n  fields.forEach((fld) => {\n    let value = fld.value;\n\n    if (fld.type === 'number') {\n      value = Number(value);\n    } else if (fld.type === 'boolean') {\n      value =\n        value.trim().length > 0 &&\n        !['false', '0'].includes(value.toLowerCase());\n    } else if (fld.type === 'json') {\n      value = JSON.parse(value);\n    } else if (fld.type === 'null') {\n      value = null;\n    }\n\n    (args )[fld.name] = value + '';\n  });\n\n  return args;\n}\nfunction localFormat(number) {\n  const bigNumber = Big(number);\n  const formattedNumber = bigNumber\n    .toFixed(5)\n    .replace(/(\\d)(?=(\\d{3})+\\.)/g, '$1,'); // Add commas before the decimal point\n  return formattedNumber.replace(/\\.?0*$/, ''); // Remove trailing zeros and the dot\n}\nfunction formatWithCommas(number) {\n  return number.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',');\n}\nfunction mapFeilds(fields) {\n  const args = {};\n\n  fields.forEach((fld) => {\n    let value = fld.value;\n\n    if (fld.type === 'number') {\n      value = Number(value);\n    } else if (fld.type === 'boolean') {\n      value =\n        value.trim().length > 0 &&\n        !['false', '0'].includes(value.toLowerCase());\n    } else if (fld.type === 'json') {\n      value = JSON.parse(value);\n    } else if (fld.type === 'null') {\n      value = null;\n    }\n\n    (args )[fld.name] = value + '';\n  });\n\n  return args;\n}\nfunction localFormat(number) {\n  const bigNumber = Big(number);\n  const formattedNumber = bigNumber\n    .toFixed(5)\n    .replace(/(\\d)(?=(\\d{3})+\\.)/g, '$1,'); // Add commas before the decimal point\n  return formattedNumber.replace(/\\.?0*$/, ''); // Remove trailing zeros and the dot\n}\nfunction formatWithCommas(number) {\n  return number.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',');\n}\nfunction uniqueId() {\n  return Math.floor(Math.random() * 1000);\n}\nfunction handleRateLimit(\n  data,\n  reFetch,\n  Loading,\n) {\n  if (data.status === 429 || data.status === undefined) {\n    const retryCount = 4;\n    const delay = Math.pow(2, retryCount) * 1000;\n    setTimeout(() => {\n      reFetch();\n    }, delay);\n  } else {\n    if (Loading) {\n      Loading();\n    }\n  }\n}\n\nfunction mapFeilds(fields) {\n  const args = {};\n\n  fields.forEach((fld) => {\n    let value = fld.value;\n\n    if (fld.type === 'number') {\n      value = Number(value);\n    } else if (fld.type === 'boolean') {\n      value =\n        value.trim().length > 0 &&\n        !['false', '0'].includes(value.toLowerCase());\n    } else if (fld.type === 'json') {\n      value = JSON.parse(value);\n    } else if (fld.type === 'null') {\n      value = null;\n    }\n\n    (args )[fld.name] = value + '';\n  });\n\n  return args;\n}\nfunction localFormat(number) {\n  const bigNumber = Big(number);\n  const formattedNumber = bigNumber\n    .toFixed(5)\n    .replace(/(\\d)(?=(\\d{3})+\\.)/g, '$1,'); // Add commas before the decimal point\n  return formattedNumber.replace(/\\.?0*$/, ''); // Remove trailing zeros and the dot\n}\nfunction formatWithCommas(number) {\n  return number.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',');\n}\n/* END_INCLUDE: \"includes/libs.jsx\" */\n\n\nconst inputTypes = ['string', 'number', 'boolean', 'null', 'json'];\n\nconst field = () => ({\n  id: uniqueId(),\n  name: '',\n  type: '',\n  value: '',\n  placeholder: '',\n});\n\nconst sortFields = (fields) => {\n  fields.sort((a, b) => {\n    if (a.id < b.id) return -1;\n    if (a.id > b.id) return 1;\n    return 0;\n  });\n\n  return fields;\n};\n\nconst getDataType = (data) => {\n  if (isJson(data)) {\n    return 'json';\n  }\n\n  return isNaN(Number(data)) ? typeof data : 'number';\n};\n\nfunction MainComponent(props) {\n  const { network, id, index, method, connected, accountId, Link } = props;\n  const [txn, setTxn] = useState(null);\n  const [error, setError] = useState(null);\n  const [fields, setFields] = useState([]);\n  const [result, setResult] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [hideQuery, setHideQuery] = useState(false);\n  const [options, setOptions] = useState({\n    attachedDeposit: '0',\n    gas: '30000000000000',\n  });\n  const config = getConfig(network);\n  const onAdd = () => setFields((flds) => [...flds, field()]);\n\n  const onRemove = (id) => () => {\n    setFields((flds) =>\n      sortFields(flds.filter((fld) => fld.id !== id)),\n    );\n  };\n\n  const onChange = (\n    e,\n    type,\n    id,\n  ) => {\n    setFields((flds) => {\n      const curFeild = flds.find((fld) => fld.id === id);\n      if (curFeild) {\n        const name = type;\n        const value = e.target.value;\n        const rest = flds.filter((fld) => fld.id !== id);\n\n        return sortFields([...rest, { ...curFeild, [name]: value }]);\n      }\n\n      return sortFields(flds);\n    });\n  };\n\n  const onOptionChange =\n    (key) =>\n    (e) =>\n      setOptions((optns) => ({ ...optns, [key]: e.target.value }));\n\n  const onRead = (e) => {\n    e.preventDefault();\n    setLoading(true);\n\n    try {\n      const args = mapFeilds(fields) ?? {};\n      const res =\n        Near.view(id, toSnakeCase(method), args);\n      if (res !== null) {\n        setError(null);\n        setTxn(res?.transaction_outcome?.id);\n        setResult(JSON.stringify(res, null, 2));\n      }\n    } catch (error) {\n      setTxn(null);\n      setError(error);\n      setResult(null);\n    }\n\n    setLoading(false);\n  };\n\n  const onWrite = (e) => {\n    e.preventDefault();\n\n    setLoading(true);\n\n    try {\n      if (!accountId) throw new Error('Error in wallet connection');\n\n      const args = mapFeilds(fields) ?? {};\n      const res =\n        Near.call(id, toSnakeCase(method), args);\n\n      if (res !== null) {\n        setError(null);\n        setTxn(res?.transaction_outcome?.id);\n        setResult(JSON.stringify(res, null, 2));\n      }\n    } catch (error) {\n      setTxn(null);\n      setError(error);\n      setResult(null);\n    }\n\n    setLoading(false);\n  };\n\n  const onDetect = (e) => {\n    e.preventDefault();\n\n    setLoading(true);\n    setFields([]);\n\n    try {\n      asyncFetch(`${config?.backendUrl}account/${id}/contract/${method}`, {\n        method: 'GET',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n      })\n        .then(\n          (data\n\n\n\n\n\n\n) => {\n            const resp = data?.body?.action;\n            if (data.status === 200) {\n              const args = resp?.[0]?.args || {};\n              const argJson = args?.args_json || {};\n\n              setOptions((optns) => ({\n                attachedDeposit: args?.deposit || optns.attachedDeposit,\n                gas: args?.gas || optns.gas,\n              }));\n\n              argJson &&\n                Object.entries(argJson).forEach(([arg, value]) => {\n                  if (value) {\n                    const type = getDataType(value);\n                    const field = {\n                      id: uniqueId(),\n                      name: arg,\n                      type: type,\n                      value: '',\n                      placeholder:\n                        type === 'number'\n                          ? value\n                          : typeof value === 'object'\n                          ? JSON.stringify(value)\n                          : value,\n                    };\n                    setFields((flds) => [...flds, field]);\n                    setHideQuery(true);\n                  }\n                });\n              setLoading(false);\n            } else {\n              handleRateLimit(\n                data,\n                () => onDetect(e),\n                () => setLoading(false),\n              );\n            }\n          },\n        )\n        .catch(() => {});\n    } catch (error) {\n      console.log({ error });\n    }\n  };\n\n  return (\n    <Accordion.Item\n      value={index + 1}\n      className=\"flex flex-col text-sm mb-3\"\n      key={index}\n    >\n      <Accordion.Header>\n        <Accordion.Trigger className=\"bg-gray-50 border rounded flex items-center justify-between px-4 py-2 w-full\">\n          <span>\n            <span className=\"text-gray-400\">{index + 1}.</span>{' '}\n            {toSnakeCase(method ?? '')}\n          </span>\n          <ArrowRight className=\"contract-icon fill-gray-600\" />\n        </Accordion.Trigger>\n      </Accordion.Header>\n      <Accordion.Content className=\"border p-4 rounded slide-up slide-down\">\n        <div className=\"flex max-w-xl justify-between mb-3\">\n          <div className=\"flex items-center\">\n            Arguments\n            <Tooltip.Provider>\n              <Tooltip.Root>\n                <Tooltip.Trigger asChild>\n                  <span>\n                    <Question className=\"w-4 h-4 fill-current ml-1\" />\n                  </span>\n                </Tooltip.Trigger>\n                <Tooltip.Content\n                  className=\"h-auto max-w-xs bg-black bg-opacity-90 z-10 text-xs text-white px-3 py-2 ml-2\"\n                  align=\"start\"\n                  side=\"bottom\"\n                >\n                  Specify an arguments schema.\n                </Tooltip.Content>\n              </Tooltip.Root>\n            </Tooltip.Provider>\n          </div>\n          <button\n            onClick={onAdd}\n            className=\"mx-3 px-3 mr-1 bg-green py-1 text-xs font-medium rounded-md text-white\"\n          >\n            Add\n          </button>\n          <button\n            type=\"submit\"\n            onClick={(e) => onDetect(e)}\n            disabled={loading}\n            className=\"flex ml-2 mr-1 bg-green-500 hover:bg-green-400 text-white text-xs px-3 py-1.5 rounded focus:outline-none disabled:opacity-70 disabled:cursor-not-allowed\"\n          >\n            Auto detect\n            <Tooltip.Provider>\n              <Tooltip.Root>\n                <Tooltip.Trigger asChild>\n                  <span>\n                    <Question className=\"w-4 h-4 fill-current ml-1\" />\n                  </span>\n                </Tooltip.Trigger>\n                <Tooltip.Content\n                  className=\"h-auto max-w-xs bg-black bg-opacity-90 z-10 text-xs text-white px-3 py-2 ml-2\"\n                  align=\"start\"\n                  side=\"bottom\"\n                >\n                  Scan the blockchain to find successful method calls and copy\n                  the parameter schema. Auto-detect might not work on every\n                  method.\n                </Tooltip.Content>\n              </Tooltip.Root>\n            </Tooltip.Provider>\n          </button>\n        </div>\n        {fields.map((field) => (\n          <div key={field.id} className=\"flex max-w-xl items-center\">\n            <div className=\"sm:grid grid-cols-9 gap-2\">\n              <input\n                name=\"name\"\n                value={field.name}\n                onChange={(e) => onChange(e, 'name', field.id)}\n                placeholder=\"Argument name\"\n                className=\"col-span-3 block border rounded mb-3 h-9 px-3 w-full outline-none\"\n              />\n              <select\n                name=\"type\"\n                value={field.type}\n                onChange={(e) => onChange(e, 'type', field.id)}\n                className=\"col-span-2 bg-white block border rounded mb-3 h-9 px-3 w-full outline-none\"\n              >\n                <option value=\"\" disabled>\n                  Type\n                </option>\n                {inputTypes.map((type) => (\n                  <option value={type} key={type}>\n                    {capitalize(type)}\n                  </option>\n                ))}\n              </select>\n              <input\n                name=\"value\"\n                value={field.value}\n                onChange={(e) => onChange(e, 'value', field.id)}\n                placeholder={field.placeholder || 'Argument value'}\n                className=\"col-span-4 block border rounded mb-3 h-9 px-3 w-full outline-none\"\n              />\n            </div>\n            <button\n              onClick={onRemove(field.id)}\n              className=\"ml-3 p-1 mr-1 bg-red-300 self-start mt-1.5 hover:bg-red-400 text-xs font-medium rounded-md text-white\"\n            >\n              <CloseCircle className=\"text-white fill-white w-4 h-4\" />\n            </button>\n          </div>\n        ))}\n        <div className=\"flex max-w-xl justify-between mb-3\">\n          <div className=\"flex items-center\">\n            Options\n            <Tooltip.Provider>\n              <Tooltip.Root>\n                <Tooltip.Trigger asChild>\n                  <span>\n                    <Question className=\"w-4 h-4 fill-current ml-1\" />\n                  </span>\n                </Tooltip.Trigger>\n                <Tooltip.Content\n                  className=\"h-auto max-w-xs bg-black bg-opacity-90 z-10 text-xs text-white px-3 py-2 ml-2\"\n                  align=\"start\"\n                  side=\"bottom\"\n                >\n                  Optional arguments for write operations.\n                </Tooltip.Content>\n              </Tooltip.Root>\n            </Tooltip.Provider>\n          </div>\n        </div>\n        <div className=\"slide-down disclosure\">\n          <div className=\"max-w-xl sm:grid grid-cols-2 gap-2\">\n            <label>\n              <span className=\"text-gray-400 text-xs\">Attached deposit</span>\n              <input\n                name=\"attachedDeposit\"\n                value={options.attachedDeposit}\n                onChange={onOptionChange('attachedDeposit')}\n                placeholder=\"Attached Deposit\"\n                className=\"block border rounded my-1 h-9 px-3 w-full outline-none\"\n              />\n            </label>\n            <label>\n              <span className=\"text-gray-400 text-xs\">Gas</span>\n              <input\n                name=\"gas\"\n                value={options.gas}\n                onChange={onOptionChange('gas')}\n                placeholder=\"Gas\"\n                className=\"block border rounded my-1 h-9 px-3 w-full outline-none\"\n              />\n            </label>\n          </div>\n        </div>\n        <div className=\"flex items-center mt-5\">\n          {!hideQuery && (\n            <button\n              type=\"submit\"\n              onClick={(e) => onRead(e)}\n              disabled={loading}\n              className=\"bg-green-500 hover:bg-green-400 text-white text-xs px-3 py-1.5 rounded focus:outline-none disabled:opacity-70 disabled:cursor-not-allowed\"\n            >\n              Query\n            </button>\n          )}\n          {!hideQuery && (\n            <div className=\"flex items-center mx-4 text-gray-400\">\n              OR{' '}\n              <Tooltip.Provider>\n                <Tooltip.Root>\n                  <Tooltip.Trigger asChild>\n                    <span>\n                      <Question className=\"w-4 h-4 fill-current ml-1\" />\n                    </span>\n                  </Tooltip.Trigger>\n                  <Tooltip.Content\n                    className=\"h-auto max-w-xs bg-black bg-opacity-90 z-10 text-xs text-white px-3 py-2 ml-2\"\n                    align=\"start\"\n                    side=\"bottom\"\n                  >\n                    We cant differentiate read/write methods for this contract,\n                    so you should choose the appropriate action\n                  </Tooltip.Content>\n                </Tooltip.Root>\n              </Tooltip.Provider>\n            </div>\n          )}\n          <button\n            type=\"submit\"\n            onClick={(e) => onWrite(e)}\n            disabled={loading || !connected}\n            className=\"bg-green-500 hover:bg-green-400 text-white text-xs px-3 py-1.5 rounded focus:outline-none disabled:opacity-70 disabled:cursor-not-allowed\"\n          >\n            Write\n          </button>\n        </div>\n        {error && (\n          <textarea\n            readOnly\n            rows={6}\n            className=\"block appearance-none outline-none w-full border rounded-lg bg-red-50 border-red-100 p-3 mt-3 resize-y\"\n            value={error}\n          />\n        )}\n        {txn && (\n          <div className=\"block appearance-none outline-none w-full border rounded-lg bg-green-50 border-green-100 p-3 mt-3\">\n            View txn details:{' '}\n            <Tooltip.Provider>\n              <Tooltip.Root>\n                <Tooltip.Trigger asChild>\n                  <span className=\"truncate max-w-[120px] inline-block align-bottom text-green-500\">\n                    <Link href={`/txns/${txn}`} className=\"hover:no-underline\">\n                      <a className=\"text-green-500\">{txn}</a>\n                    </Link>\n                  </span>\n                </Tooltip.Trigger>\n                <Tooltip.Content\n                  className=\"h-auto max-w-xs bg-black bg-opacity-90 z-10 text-xs text-white px-3 py-2 ml-2\"\n                  align=\"start\"\n                  side=\"bottom\"\n                >\n                  {txn}\n                </Tooltip.Content>\n              </Tooltip.Root>\n            </Tooltip.Provider>\n          </div>\n        )}\n        {result && (\n          <textarea\n            readOnly\n            rows={6}\n            className=\"block appearance-none outline-none w-full border rounded-lg bg-green-50 border-green-100 p-3 mt-3 resize-y\"\n            value={result}\n          />\n        )}\n      </Accordion.Content>\n    </Accordion.Item>\n  );\n}\n\nreturn MainComponent(props, context);", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/nearblocks.near/widget/bos-components.components.Contract.ViewOrChange", "fact_widget_deployments_id": "46c5737826b74219c4483f0c6997183a", "inserted_timestamp": "2024-03-16T07:26:15.303Z", "modified_timestamp": "2024-03-16T07:26:15.303Z", "__row_index": 5}