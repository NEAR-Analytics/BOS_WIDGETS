{"tx_hash": "6uAxfmbSN9BaPetBT2m4oHMSUsm2pdQDVoeiauAqDKLc", "action_id_social": "5BuBZhp5fQLbyhAhvGmZRPA1CVecYrh5QBWMf7XzZ4Am-0-widget", "block_id": 100827561, "block_timestamp": "2023-09-10T18:28:33.004Z", "signer_id": "anhtn512.near", "widget_name": "anhtn512-calendar", "source_code": null, "metadata": null, "branch": {"draft": {"": "State.init({\n  events: [],\n  greating: \"Hi\",\n});\n\nfunction get_events() {\n  const API_URL = \"https://nearweek.com/api/google-calendar/events\";\n  asyncFetch(API_URL, {\n    headers: {\n      Accept: \"*/*\",\n      Authorization:\n        \"Bearer 15699f0723aa9fe9f655b1a94e450552476c08807f67b525b5a3c8011eecc8aee6d45923443620f17815b897858be058cd7bd89ddf23a28aabaecb178e7ebc55d380293beeb51a8ce87b40e1518ce4708e4d51a06b115f27fa64ab5cbee5a3511cec785d7ae6a155ecd05ac8196aadae3e9b8e9401b8df8d8b69904f7364f925\",\n    },\n  }).then((res) => {\n    // console.log(res.body);\n    State.update({\n      events: res.body,\n    });\n    console.log(\"done\");\n  });\n}\n\nget_events();\n\nconst srcData = `\n<!DOCTYPE html>\n<html>\n\n<head>\n\n    <script src='https://cdn.jsdelivr.net/npm/fullcalendar/index.global.min.js'></script>\n    <style>\n        html,\n        body {\n            height: 100%;\n            font-family: Inter, Space Grotesk, Open Sans, sans-serif;\n        }\n\n        #calendar {\n            height: 100%;\n        }\n    </style>\n    <link rel=\"stylesheet\" href=\"https://anhtn512.github.io/widget_nw/styles/83b0e3d8f3a03150.css\">\n    <link rel=\"stylesheet\" href=\"https://anhtn512.github.io/widget_nw/styles/f98edba19df5696e.css\">\n    <script src=\"./scripts/raw.js\"></script>\n    <script>\n\n        document.addEventListener('DOMContentLoaded', function () {\n            var calendarEl = document.getElementById('calendar');\n\n            var calendar = new FullCalendar.Calendar(calendarEl, {\n                timeZone: 'UTC',\n                initialView: 'dayGridMonth',\n                height: \"auto\",\n                events: ${JSON.stringify(state.events)},\n                customButtons: {\n                    header: {\n                        ariaLabel: 'Do the custom action',\n                        text: \"COMMUNITY CALENDAR\",\n                    },\n                },\n                headerToolbar: {\n                    left: \"header\",\n                    center: \"\",\n                    right: \"prev,title,next\",\n                }\n            });\n\n            calendar.render();\n        })\n    </script>\n\n</head>\n\n<body>\n    <div class=\"bg-white\">\n        <div class=\"fc-view-front\">\n            <div id='calendar'></div>\n        </div>\n    </div>\n\n</body>\n\n</html>\n`;\n\nreturn (\n  <>\n    <iframe\n      srcDoc={srcData}\n      onMessage={(data) => {\n        console.log(data);\n      }}\n      style={{\n        height: \"100vh\",\n        width: \"100%\",\n      }}\n    />\n  </>\n);\n"}}, "widget_modules_used": null, "widget_url": "https://near.social/#/anhtn512.near/widget/anhtn512-calendar", "fact_widget_deployments_id": "ed6095a7c78de3e8cf4dbd43c7d1b145", "inserted_timestamp": "2023-09-10T20:27:03.985Z", "modified_timestamp": "2023-09-10T20:27:03.985Z", "__row_index": 5}