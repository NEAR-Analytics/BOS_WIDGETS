{"tx_hash": "4zk8uYprxSW1TPDbPYYLjFj2zSatZrFTrwqT9bJLbyt6", "action_id_social": "96Pkmovveu5eiD2ARMursWFJX93JtZZwq253uzmwtYen-0-widget", "block_id": 100533706, "block_timestamp": "2023-09-06T18:04:05.291Z", "signer_id": "anhtn512.near", "widget_name": "anhtn512-calendar", "source_code": "State.init({\n  events: [],\n  greating: \"Hi\",\n});\n\nfunction get_events() {\n  const API_URL = \"https://nearweek.com/api/google-calendar/events\";\n  asyncFetch(API_URL, {\n    headers: {\n      Accept: \"*/*\",\n      Authorization:\n        \"Bearer 15699f0723aa9fe9f655b1a94e450552476c08807f67b525b5a3c8011eecc8aee6d45923443620f17815b897858be058cd7bd89ddf23a28aabaecb178e7ebc55d380293beeb51a8ce87b40e1518ce4708e4d51a06b115f27fa64ab5cbee5a3511cec785d7ae6a155ecd05ac8196aadae3e9b8e9401b8df8d8b69904f7364f925\",\n    },\n  }).then((res) => {\n    // console.log(res.body);\n    State.update({\n      events: res.body,\n    });\n    console.log(\"done\");\n  });\n}\n\nget_events();\n\nconst srcData = `\n<!DOCTYPE html>\n<html>\n  <head>\n    <script src='https://cdn.jsdelivr.net/npm/fullcalendar/index.global.min.js'></script>\n    <script>\n\n      document.addEventListener('DOMContentLoaded', function() {\n        var calendarEl = document.getElementById('calendar');\n\n        var calendar = new FullCalendar.Calendar(calendarEl, {\n            timeZone: 'UTC',\n            initialView: 'dayGridMonth',\n            events: ${JSON.stringify(state.events)}\n        });\n\n        calendar.render();\n      })\n    </script>\n    \n  </head>\n  <body>\n    <div id='calendar'></div>\n  </body>\n</html>\n\n<style>\nhtml,\nbody {\n  height: 100%;\n}\n\n#calendar {\n  height: 100%;\n}\n\n</style>\n\n`;\n\nreturn (\n  <>\n    <iframe\n      srcDoc={srcData}\n      onMessage={(data) => {\n        console.log(data);\n      }}\n      style={{\n        height: \"100vh\",\n        width: \"100%\",\n      }}\n    />\n  </>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/anhtn512.near/widget/anhtn512-calendar", "fact_widget_deployments_id": "58e17f0a507aa02e572d96d62e682fd2", "inserted_timestamp": "2023-09-06T19:48:52.352Z", "modified_timestamp": "2023-09-06T19:48:52.352Z", "__row_index": 7}