{"tx_hash": "F4h6nuqGf4qzAq263c8TjxzWuqsFwGC4jGtABdiZV4kf", "action_id_social": "5jDsPt1wtYtZd13aFvrb93KAVDZuCbYMDqMw7AKYuS38-0-widget", "block_id": 113978030, "block_timestamp": "2024-03-02T23:32:51.738Z", "signer_id": "roshaan.near", "widget_name": "ModelMarketplace.Model.ModelCard", "source_code": "const { href } = VM.require(\"devhub.near/widget/core.lib.url\");\n\n// return JSON.stringify(props);\n\nif (!href) {\n  return <></>;\n}\n\nfunction shortenEthAddress(address, length) {\n  if (address.length <= length * 2) {\n    return address;\n  }\n  return `${address.slice(0, length)}...${address.slice(-length)}`;\n}\nconst Card = styled.div`\n  cursor: pointer;\n  background-color: white;\n  border-radius: 0.5rem;\n  padding: 1.5rem;\n  gap: 1rem;\n  height: 100%;\n  min-height: 12rem;\n\n  transition: all 300ms;\n  box-shadow:\n    0 1px 3px 0 rgb(0 0 0 / 0.1),\n    0 1px 2px -1px rgb(0 0 0 / 0.1);\n\n  &:hover {\n    box-shadow:\n      0 4px 6px -1px rgb(0 0 0 / 0.1),\n      0 2px 4px -2px rgb(0 0 0 / 0.1);\n  }\n\n  img.logo {\n    height: 6rem;\n    width: 6rem;\n    border-radius: 50%;\n\n    object-fit: cover;\n  }\n\n  h3,\n  p {\n    margin: 0;\n  }\n\n  h3 {\n    font-size: 1.25rem;\n    font-weight: 600;\n  }\n\n  p {\n    font-size: 1rem;\n    font-weight: 400;\n  }\n`;\nconst CardBody = styled.div`\n  display: flex;\n  align-items: center;\n`;\nconst Break = styled.div`\n  flex-basis: 100%;\n  height: 0;\n`;\nconst Actions = styled.div`\n  padding-top: 16px;\n  display: flex;\n  align-items: center;\n  gap: 12px;\n`;\nconst ModelCard = ({ item }) => {\n  const {accountId, name,  modelOwnerAddress, modelName, modelDescription, modelLogo: logoUrl, tokenId } = item;\n  const agentComponent = `roshaan.near/widget/ModelMarketplace.Model.AgentChat`;\n  const imageUrl =\n    logoUrl ?? \"https://ipfs.near.social/ipfs/bafkreibysr2mkwhb4j36h2t7mqwhynqdy4vzjfygfkfg65kuspd2bawauu\";\n  const chatLink = href({\n    widgetSrc: agentComponent,\n    params: { src: `${accountId}/agent/${name}`, tokenId },\n  });\n  const detailsLink = href({\n    widgetSrc: `roshaan.near/widget/ModelMarketplace.Model.AgentDetails`,\n    params: { src: `${accountId}/agent/${name}`, tokenId },\n  });\n\n  const agentChatUrl = `https://${REPL_NEAR_URL}/${agentComponent}?src=${accountId}/agent/${item.name}`;\n  const editType = accountId === context.accountId ? \"edit\" : \"fork\";\n\n  return (\n    <Card>\n      <Link to={chatLink} style={{ all: \"unset\" }}>\n        <div className=\"row\">\n          <div className=\"col-4\">\n            <img className=\"logo\" src={imageUrl} alt=\"agent logo\" />\n          </div>\n\n          <div className=\"col\">\n            <h3>{modelName}</h3>\n            <p>by {shortenEthAddress(modelOwnerAddress, 6)}</p>\n            <Widget\n              src=\"near/widget/DIG.Tooltip\"\n              props={{\n                content: <span style={{ whiteSpace: \"pre-line\" }}>{modelDescription}</span>,\n                trigger: <p>{modelDescription ? modelDescription.substring(0, 20) : \"\"}...</p>,\n              }}\n            />\n          </div>\n        </div>\n      </Link>\n      <Actions>\n        <Widget\n          src=\"near/widget/CopyUrlButton\"\n          props={{\n            url: agentChatUrl,\n          }}\n        />\n        <Widget\n          src=\"near/widget/ShareButton\"\n          props={{\n            postType: \"AI Agent\",\n            url: agentChatUrl,\n          }}\n        />\n        <Widget\n          src=\"near/widget/DIG.Tooltip\"\n          props={{\n            content: \"View Details\",\n            trigger: (\n              <Link to={detailsLink} style={{ all: \"unset\" }}>\n                <Widget\n                  src=\"near/widget/DIG.Button\"\n                  props={{\n                    iconLeft: \"ph-bold ph-eye\",\n                    variant: \"secondary\",\n                    fill: \"ghost\",\n                    size: \"small\",\n                  }}\n                />\n              </Link>\n            ),\n          }}\n        />\n        <Widget\n          src=\"near/widget/DIG.Tooltip\"\n          props={{\n            content: \"Use Model\",\n            trigger: (\n              <Link to={chatLink} style={{ all: \"unset\" }}>\n                <Widget\n                  src=\"near/widget/DIG.Button\"\n                  props={{\n                    iconLeft: \"ph-bold ph-chat-teardrop-text\",\n                    variant: \"secondary\",\n                    fill: \"ghost\",\n                    size: \"small\",\n                  }}\n                />\n              </Link>\n            ),\n          }}\n        />\n      </Actions>\n    </Card>\n  );\n};\n\nreturn ModelCard(props);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/roshaan.near/widget/ModelMarketplace.Model.ModelCard", "fact_widget_deployments_id": "4b0cd31bac8921eb1d9c7bd599bd0ce5", "inserted_timestamp": "2024-03-07T05:24:05.087Z", "modified_timestamp": "2024-03-07T05:24:05.087Z", "__row_index": 0}