{"tx_hash": "8dSxY6pGxWsmBEE4TYcv5p2h7aLn12PCFSFLgjk4xTXL", "action_id_social": "DigiooHccBbpwGUq4mcnKFF2zgpRpxyjP2BRuD9Bwcfj-0-widget", "block_id": 98455968, "block_timestamp": "2023-08-10T00:20:14.131Z", "signer_id": "testbrrr.near", "widget_name": "Untitled-1-fork", "source_code": "const wethContractAddress = \"0x7b79995e5f793a07bc00c21412e50ecae098e7f9\";\n\nconst wethAbi = fetch(\n  \"https://api-sepolia.etherscan.io/api?module=contract&action=getabi&address=0x7b79995e5f793a07bc00c21412e50ecae098e7f9\"\n);\n\nif (!wethAbi.ok) return \"loading...\";\n\n// const iface = new ethers.utils.Interface(borrowerOperationAbi.body);\n\nconst wrap = () => {\n  const wethContract = new ethers.Contract(\n    wethContractAddress,\n    wethAbi.body.result,\n    Ethers.provider().getSigner()\n  );\n\n  wethContract.deposit({\n    value: ethers.BigNumber.from(\n      (props.amount * 1000000000000000000).toString()\n    ),\n    // gasPrice: state.gasPrice,\n    gasLimit: 25000000,\n  });\n};\n\nconst unwrap = () => {\n  const wethContract = new ethers.Contract(\n    wethContractAddress,\n    wethAbi.body.result,\n    Ethers.provider().getSigner()\n  );\n\n  wethContract.withdraw({\n    ethers.BigNumber.from(\n      (props.amount * 1000000000000000000).toString()\n    ),\n    value: ethers.BigNumber.from(\n      (props.amount * 1000000000000000000).toString()\n    ),\n    // gasPrice: state.gasPrice,\n    gasLimit: 25000000,\n  });\n};\n\nif (\n  state.sender &&\n  state.chainId === 11155111 &&\n  state.isOpenTrove === undefined\n) {\n  const troveManagerContract = new ethers.Contract(\n    troveManagerAddress,\n    troveManagerAbi.body,\n    Ethers.provider().getSigner()\n  );\n\n  troveManagerContract.getTroveStatus(state.sender).then((res) => {\n    const isOpenTrove = ethers.utils.formatEther(res).includes(\"1\");\n    State.update({ isOpenTrove });\n  });\n}\n\nif (props.action === \"wrap\" && props.amount) {\n} else if (props.action === \"unwrap\" && props.amount) {\n} else {\n  props.resendPrompt(props);\n}\n\nreturn <div></div>;\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/testbrrr.near/widget/Untitled-1-fork", "fact_widget_deployments_id": "5dc88263dc9e9600f93bf20fc0866631", "inserted_timestamp": "2024-03-07T05:24:05.087Z", "modified_timestamp": "2024-03-07T05:24:05.087Z", "__row_index": 0}