{"tx_hash": "6ntYwk6qw8QE6FZ1zayimtzKzvdVYehyLsuPjhYyTJWd", "action_id_social": "9hDJyMMe5AnjsVJAbiZgSMFak1YSGss5EpPyQeZifaga-0-widget", "block_id": 101347849, "block_timestamp": "2023-09-17T19:16:43.945Z", "signer_id": "harrydhillon.near", "widget_name": "ProfilePage.WidgetItem", "source_code": "const gateway = \"https://near.social/#/\";\n\ninitState({\n  imageData: [],\n});\n\nconst WidgetItem = styled.a`\n  border: 1px solid ${props.theme.borderColor};\n\n  gap: 5px;\n  padding: 15px 20px 20px 20px;\n  border-radius: 5px;\n\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  transition: all 0.2s ease-in-out;\n  text-decoration: none;\n\n\n  &:hover: {\n    border: 1px solid #828a94;\n    cursor: pointer;\n    text-decoration: none;\n  }\n`;\n\nasync function fetchGraphQL(operationsDoc, operationName, variables) {\n  asyncFetch(\"https://near-queryapi.api.pagoda.co/v1/graphql\", {\n    method: \"POST\",\n    body: JSON.stringify({\n      query: operationsDoc,\n      variables: variables,\n      operationName: operationName,\n    }),\n    headers: {\n      \"x-hasura-role\": \"harrydhillon_near\",\n      \"content-type\": \"application/json\",\n    },\n  }).then(({ body: { data } }) => {\n    State.update({ imageData: Object.values(data) });\n  });\n}\n\nconst operationsDoc = `\nquery MyQuery {\n    harrydhillon_near_jutsu_widget_activity_search_widget_activity(\n      where: {widget_search_term: {_iregex: \"${props.accountId}.${props.name}\"}, _and: {widget_image: {_neq: \"\"}}}\n    ) {\n      widget_image\n    }\n  }\n`;\n\nfunction fetchMyQuery() {\n  return fetchGraphQL(operationsDoc, \"MyQuery\", {});\n}\n\nfetchMyQuery();\n\nreturn (\n  <WidgetItem\n    href={`${gateway + props.accountId}/widget/${props.name}`}\n    target=\"_blank\"\n  >\n    {state.imageData[0]?.[0]?.widget_image?.ipfs_cid ? (\n      <img\n        style={{ width: 200 }}\n        src={\n          `https://ipfs.near.social/ipfs/${state.imageData[0]?.[0]?.widget_image?.ipfs_cid}` ??\n          ``\n        }\n      />\n    ) : props.theme.mode !== \"dark\" ? (\n      <svg\n        width=\"200\"\n        height=\"200\"\n        viewBox=\"0 0 1173 1173\"\n        fill=\"none\"\n        xmlns=\"http://www.w3.org/2000/svg\"\n      >\n        <path\n          fill-rule=\"evenodd\"\n          clip-rule=\"evenodd\"\n          d=\"M879 658C878.868 735.395 848.012 809.592 793.182 864.329C738.234 919.183 663.708 950 586 950C508.292 950 433.766 919.183 378.818 864.329C323.87 809.474 293 735.076 293 657.5V546H446.25V657.5L446.251 657.5C446.251 694.501 460.974 729.986 487.182 756.149C513.39 782.312 548.936 797.011 586 797.011C623.064 797.011 658.61 782.312 684.818 756.149C711.026 729.986 725.749 694.501 725.749 657.5H726V364.25L294 364.25L294 211L726 211H879V364.25V657.5L879 657.667C879 657.778 879 657.889 879 658Z\"\n          fill=\"#0C121F\"\n        />\n        <circle cx=\"370.098\" cy=\"455.153\" r=\"48.8012\" fill=\"#FFD37C\" />\n      </svg>\n    ) : (\n      <>\n        <svg\n          width=\"200\"\n          height=\"200\"\n          viewBox=\"0 0 1173 1173\"\n          fill=\"none\"\n          xmlns=\"http://www.w3.org/2000/svg\"\n        >\n          <path\n            fill-rule=\"evenodd\"\n            clip-rule=\"evenodd\"\n            d=\"M879 658C878.868 735.395 848.012 809.592 793.182 864.329C738.234 919.183 663.708 950 586 950C508.292 950 433.766 919.183 378.818 864.329C323.87 809.474 293 735.076 293 657.5V546H446.25V657.5L446.251 657.5C446.251 694.501 460.974 729.986 487.182 756.149C513.39 782.312 548.936 797.011 586 797.011C623.064 797.011 658.61 782.312 684.818 756.149C711.026 729.986 725.749 694.501 725.749 657.5H726V364.25L294 364.25L294 211L726 211H879V364.25V657.5L879 657.667C879 657.778 879 657.889 879 658Z\"\n            fill=\"white\"\n          />\n          <circle cx=\"370.098\" cy=\"455.153\" r=\"48.8012\" fill=\"#FFD37C\" />\n        </svg>\n      </>\n    )}\n    <h3\n      className=\"max1Lines\"\n      style={{\n        color: props.theme.textColor,\n        fontSize: \"1.17em\",\n        fontWeight: 600,\n        margin: 0,\n        padding: 0,\n      }}\n    >\n      {props.name}\n    </h3>\n    <p\n      className=\"max1Lines\"\n      style={{\n        fontSize: \"0.9rem\",\n        color: props.theme.textColor3,\n        overflowWrap: \"break-word\",\n        margin: 0,\n        padding: 0,\n      }}\n    >{`${props.accountId}/widget/${props.name}`}</p>\n\n    <div\n      style={{\n        display: \"flex\",\n        alignItems: \"center\",\n        gap: 10,\n        marginTop: 15,\n      }}\n    >\n      <div\n        style={{\n          display: \"flex\",\n          alignItems: \"center\",\n          gap: 5,\n          color: props.theme.textColor3,\n        }}\n      >\n        <Widget\n          src={`harrydhillon.near/widget/SearchPage.ComponentItem.TimeAgo`}\n          props={{\n            blockHeight: props.commits[props.commits.length - 1],\n          }}\n        />\n      </div>\n    </div>\n  </WidgetItem>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/harrydhillon.near/widget/ProfilePage.WidgetItem", "fact_widget_deployments_id": "771313281956d05b6fffc969cc828bb7", "inserted_timestamp": "2023-09-17T20:49:15.677Z", "modified_timestamp": "2023-09-17T20:49:15.677Z", "__row_index": 9}