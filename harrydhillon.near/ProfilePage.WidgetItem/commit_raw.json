{"tx_hash": "DFejsY6yKd2dt5cNW2g111D5k7u8MEanshnH44A1ZyKp", "action_id_social": "HSYcrGJUh4zrBzGQgYsf8ngUxfd6o3oT1NKujjd66tBw-0-widget", "block_id": 101347409, "block_timestamp": "2023-09-17T19:07:45.841Z", "signer_id": "harrydhillon.near", "widget_name": "ProfilePage.WidgetItem", "source_code": "const gateway = \"https://near.social/#/\";\n\nconst WidgetItem = styled.a`\n  border: 1px solid ${props.theme.borderColor};\n\n  gap: 5px;\n  padding: 15px 20px 20px 20px;\n  border-radius: 5px;\n\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  transition: all 0.2s ease-in-out;\n  text-decoration: none;\n\n\n  &:hover: {\n    border: 1px solid #828a94;\n    cursor: pointer;\n    text-decoration: none;\n  }\n`;\n\nasync function fetchGraphQL(operationsDoc, operationName, variables) {\n  asyncFetch(\"https://near-queryapi.api.pagoda.co/v1/graphql\", {\n    method: \"POST\",\n    body: JSON.stringify({\n      query: operationsDoc,\n      variables: variables,\n      operationName: operationName,\n    }),\n    headers: {\n      \"x-hasura-role\": \"harrydhillon_near\",\n      \"content-type\": \"application/json\",\n    },\n  }).then(({ body: { data } }) => {\n    State.update({ imageData: Object.values(data) });\n  });\n}\n\nconst operationsDoc = `\nquery MyQuery {\n    harrydhillon_near_jutsu_widget_activity_search_widget_activity(\n      where: {widget_search_term: {_iregex: \"${props.accountId}.${props.name}\"}, _and: {widget_image: {_neq: \"\"}}}\n    ) {\n      widget_image\n    }\n  }\n`;\n\nfunction fetchMyQuery() {\n  return fetchGraphQL(operationsDoc, \"MyQuery\", {});\n}\n\nfetchMyQuery();\n\nreturn (\n  <WidgetItem\n    href={`${gateway + props.accountId}/widget/${props.name}`}\n    target=\"_blank\"\n  >\n    <p>{JSON.stringify(state.imageData)}</p>\n    <h3\n      className=\"max1Lines\"\n      style={{\n        color: props.theme.textColor,\n        fontSize: \"1.17em\",\n        fontWeight: 600,\n        margin: 0,\n        padding: 0,\n      }}\n    >\n      {props.name}\n    </h3>\n    <p\n      className=\"max1Lines\"\n      style={{\n        fontSize: \"0.9rem\",\n        color: props.theme.textColor3,\n        overflowWrap: \"break-word\",\n        margin: 0,\n        padding: 0,\n      }}\n    >{`${props.accountId}/widget/${props.name}`}</p>\n\n    <div\n      style={{\n        display: \"flex\",\n        alignItems: \"center\",\n        gap: 10,\n        marginTop: 15,\n      }}\n    >\n      <div\n        style={{\n          display: \"flex\",\n          alignItems: \"center\",\n          gap: 5,\n          color: props.theme.textColor3,\n        }}\n      >\n        <Widget\n          src={`harrydhillon.near/widget/SearchPage.ComponentItem.TimeAgo`}\n          props={{\n            blockHeight: props.commits[props.commits.length - 1],\n          }}\n        />\n      </div>\n    </div>\n  </WidgetItem>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/harrydhillon.near/widget/ProfilePage.WidgetItem", "fact_widget_deployments_id": "db67b86c80d87150da8fb6962273db05", "inserted_timestamp": "2023-09-17T20:44:23.320Z", "modified_timestamp": "2023-09-17T20:44:23.320Z", "__row_index": 7}