{"tx_hash": "5Vak2oyWCDA7CY7oyyZMyT5RWh7wCgUzyj28Cdh3qC81", "action_id_social": "5LWBYk4txax6EEoYUM5EcxGGmBEuirvgiPzk65cgcYJk-0-widget", "block_id": 101392245, "block_timestamp": "2023-09-18T09:18:31.184Z", "signer_id": "harrydhillon.near", "widget_name": "ProfilePage.UserInfo", "source_code": "const accountId = props.accountId || context.accountId;\n\nif (!accountId) return \"Login or send accountId in the props\";\n\nconst profile = Social.getr(`${accountId}/profile`);\n\nconst name = profile?.name;\nconst image = profile?.image;\n\nconst url = image.ipfs_cid\n  ? `https://ipfs.near.social/ipfs/${image?.ipfs_cid}`\n  : \"https://thewiki.io/static/media/sasha_anon.6ba19561.png\";\n\nState.init({\n  showEditProfile: false,\n});\n\nconst following = Social.keys(`${accountId}/graph/follow/*`, \"final\", {\n  return_type: \"BlockHeight\",\n  values_only: true,\n});\n\nconst followers = Social.keys(`*/graph/follow/${accountId}`, \"final\", {\n  return_type: \"BlockHeight\",\n  values_only: true,\n});\n\nconst numFollowing = following\n  ? Object.keys(following[accountId].graph.follow || {}).length\n  : null;\nconst numFollowers = followers ? Object.keys(followers || {}).length : null;\n\nconst SocialCardStyle = styled.div`\n    background-color:${props.theme.ui2}73;\n    width:100%;\n    display: flex;\n    justify-content:space-around;\n    padding-top:20px;\n    text-align: center;\n    padding-bottom:18px;\n    border-radius:10px;\n`;\n\nreturn (\n  <div\n    style={{\n      display: \"flex\",\n      flexDirection: \"column\",\n      gap: 16,\n      paddingTop: 16,\n      paddingInline: 16,\n    }}\n  >\n    <div>\n      <div\n        style={{\n          display: \"flex\",\n        }}\n      >\n        <div style={{ width: 160 }}>\n          <img\n            style={{\n              width: 160,\n              height: 160,\n              objectFit: \"cover\",\n              borderRadius: 100,\n              outline: \"2px solid #dbdcdd\",\n            }}\n            src={url}\n            alt=\"profile\"\n          />\n        </div>\n        <div style={{ padding: 10, paddingLeft: 20, width: \"100%\" }}>\n          <h3 style={{ color: props.theme.textColor }}>{name}</h3>\n          <p style={{ color: props.theme.textColor3 }}>@{accountId}</p>\n          <SocialCardStyle>\n            <div\n              style={{\n                width: \"100%\",\n                border: `0px solid ${props.theme.textColor3}`,\n                borderRightWidth: 1,\n              }}\n            >\n              <div style={{ transform: \"translateY(6px)\" }}>\n                <h5 style={{ color: props.theme.textColor }}>\n                  {numFollowers ?? 0}\n                </h5>\n                <p style={{ color: props.theme.textColor }}>Followers</p>\n              </div>\n            </div>\n            <div\n              style={{\n                width: \"100%\",\n                border: `0px solid ${props.theme.textColor3}`,\n                borderRightWidth: 1,\n              }}\n            >\n              <div style={{ transform: \"translateY(6px)\" }}>\n                <h5 style={{ color: props.theme.textColor }}>\n                  {numFollowing ?? 0}\n                </h5>\n                <p style={{ color: props.theme.textColor }}>Following</p>\n              </div>\n            </div>\n            <div\n              style={{\n                width: \"100%\",\n                borderRightWidth: 1,\n                borderColor: \"#ffffff\",\n              }}\n            >\n              <div style={{ transform: \"translateY(6px)\" }}>\n                <h5 style={{ color: props.theme.textColor }}>Verified</h5>\n                <p style={{ color: props.theme.textColor }}>Status</p>\n              </div>\n            </div>\n          </SocialCardStyle>\n        </div>\n      </div>\n    </div>\n\n    {state.showEditProfile ? (\n      <>\n        <Widget\n          src=\"saidulbadhon.near/widget/ProfileSidebar.Editor\"\n          props={{ showEditProfile, theme: props?.theme }}\n        />\n\n        <button\n          style={{ marginBottom: 20, backgroundColor: props.theme.buttonColor }}\n          onClick={() => {\n            State.update({\n              showEditProfile: false,\n            });\n          }}\n        >\n          Cancel\n        </button>\n      </>\n    ) : (\n      <>\n        {props.myAccountId === accountId && (\n          <button\n            onClick={() => {\n              State.update({\n                showEditProfile: true,\n              });\n            }}\n          >\n            Edit Profile\n          </button>\n        )}\n\n        <div style={{ display: \"flex\", flexDirection: \"column\", gap: 10 }}>\n          <div>\n            <h3 style={{ color: props.theme.textColor }}>Total Statistics</h3>\n            <div\n              style={{\n                display: \"flex\",\n                justifyContent: \"space-around\",\n                textAlign: \"center\",\n                alignItems: \"center\",\n                gap: \"10px\",\n              }}\n            >\n              <div\n                style={{\n                  backgroundColor: props.theme.ui2,\n                  width: \"100%\",\n                  borderRadius: 5,\n                  padding: 8,\n                }}\n              >\n                <div\n                  style={{\n                    backgroundColor: props.theme.ui,\n                    height: 140,\n                    display: \"flex\",\n                    alignItems: \"center\",\n                    justifyContent: \"center\",\n                    width: \"100%\",\n                    borderRadius: 5,\n                    marginBottom: 15,\n                  }}\n                >\n                  <Widget src=\"harrydhillon.near/widget/ProfilePage.PullRequestIcon\" />\n                </div>\n                <h4 style={{ color: props.theme.textColor }}>210</h4>\n                <h6 style={{ color: props.theme.textColor }}>Pull Requests</h6>\n              </div>\n              <div\n                style={{\n                  backgroundColor: props.theme.ui2,\n                  width: \"100%\",\n                  borderRadius: 5,\n                  padding: 8,\n                }}\n              >\n                <div\n                  style={{\n                    backgroundColor: props.theme.ui,\n                    height: 140,\n                    display: \"flex\",\n                    alignItems: \"center\",\n                    justifyContent: \"center\",\n                    width: \"100%\",\n                    borderRadius: 5,\n                    marginBottom: 15,\n                  }}\n                >\n                  <Widget src=\"harrydhillon.near/widget/ProfilePage.PullRequestIcon\" />\n                </div>\n                <h4 style={{ color: props.theme.textColor }}>605</h4>\n                <h6 style={{ color: props.theme.textColor }}>Deployments</h6>\n              </div>\n              <div\n                style={{\n                  backgroundColor: props.theme.ui2,\n                  width: \"100%\",\n                  borderRadius: 5,\n                  padding: 8,\n                }}\n              >\n                <div\n                  style={{\n                    backgroundColor: props.theme.ui,\n                    height: 140,\n                    display: \"flex\",\n                    alignItems: \"center\",\n                    justifyContent: \"center\",\n                    width: \"100%\",\n                    borderRadius: 5,\n                    marginBottom: 15,\n                  }}\n                >\n                  <Widget src=\"harrydhillon.near/widget/ProfilePage.PullRequestIcon\" />\n                </div>\n                <h4 style={{ color: props.theme.textColor }}>6372</h4>\n                <h6 style={{ color: props.theme.textColor }}>Lines of Code</h6>\n              </div>\n            </div>\n          </div>\n          <div\n            style={{\n              gap: 10,\n              marginTop: 20,\n              alignItems: \"center\",\n            }}\n          >\n            <h3 style={{ color: props.theme.textColor }}>Bio</h3>\n            <h6\n              style={{\n                color: props.theme.textColor,\n                fontWeight: 500,\n                margin: 0,\n                padding: 0,\n              }}\n            >\n              {profile?.description ??\n                \"Full-Stack Developer for Jutsu.AI with a keen eye for fixing bugs and developing great products in a timely manner.\"}\n            </h6>\n          </div>\n          <div\n            style={{\n              marginTop: 10,\n              alignItems: \"center\",\n            }}\n          >\n            <h3 style={{ color: props.theme.textColor }}>Location</h3>\n            <h6\n              style={{\n                color: props.theme.textColor,\n                fontWeight: 500,\n                margin: 0,\n                padding: 0,\n              }}\n            >\n              {profile?.location ?? \"Dhaka, Bangladesh\"}\n            </h6>\n          </div>\n          <div\n            style={{\n              marginTop: 10,\n              alignItems: \"center\",\n            }}\n          >\n            <h3 style={{ color: props.theme.textColor }}>Member Since</h3>\n            <h6\n              style={{\n                color: props.theme.textColor,\n                fontWeight: 500,\n                margin: 0,\n                padding: 0,\n              }}\n            >\n              {profile?.location ?? \"October 2022\"}\n            </h6>\n          </div>\n        </div>\n        <div\n          style={{\n            display: \"flex\",\n            width: \"100%\",\n            marginTop: 10,\n          }}\n        >\n          <Widget\n            src=\"saidulbadhon.near/widget/ProfileSidebar.SocialLinks\"\n            props={{ profile, theme: props.theme }}\n          />\n        </div>\n      </>\n    )}\n  </div>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/harrydhillon.near/widget/ProfilePage.UserInfo", "fact_widget_deployments_id": "a76b6e39d99abf225a298ae99c955529", "inserted_timestamp": "2024-03-07T05:24:05.087Z", "modified_timestamp": "2024-03-07T05:24:05.087Z", "__row_index": 0}