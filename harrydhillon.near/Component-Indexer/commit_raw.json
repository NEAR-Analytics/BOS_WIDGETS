{"tx_hash": "mTt9PvYzUjSXuaWEKWfmXXb8MGQoXBHQ13uwR957TtU", "action_id_social": "JDPcjFvgvVF8D2k1ZCcDVCcYWaG11JecTaaQ6tcLNm95-0-widget", "block_id": 100235365, "block_timestamp": "2023-09-02T14:38:51.491Z", "signer_id": "harrydhillon.near", "widget_name": "Component-Indexer", "source_code": "/*\nThis is an example snippet - you should consider tailoring it\nto your service.\n*/\nState.init({ widgetData: [] });\n\nasync function fetchGraphQL(operationsDoc, operationName, variables) {\n  asyncFetch(\"https://near-queryapi.api.pagoda.co/v1/graphql\", {\n    method: \"POST\",\n    body: JSON.stringify({\n      query: operationsDoc,\n      variables: variables,\n      operationName: operationName,\n    }),\n    headers: {\n      \"x-hasura-role\": \"harrydhillon_near\",\n      \"content-type\": \"application/json\",\n    },\n  }).then(({ body: { data } }) => {\n    State.update({ widgetData: Object.values(data) });\n  });\n}\n\n\nconst operationsDoc = `\nquery MyQuery {\n  harrydhillon_near_widget_search_widget_activity(limit: 10) {\n    widget_code\n    widget_name\n    widget_search_term\n    receipt_id\n    id\n    block_timestamp\n    account_id\n    block_height\n  }\n}\n`;\n\nfunction fetchMyQuery() {\n  return fetchGraphQL(operationsDoc, \"MyQuery\", {});\n}\n\nasync function startFetchMyQuery() {\n  const { errors, data } = fetchMyQuery();\n\n  if (errors) {\n    // handle those errors like a pro\n    console.error(errors);\n  }\n\n  // do something great with this precious data\n  console.log(data, \"mydatssa\");\n}\nstartFetchMyQuery();\nconsole.log(state.widgetData[0][0]);\n\nreturn (\n  <div>\n    {state.widgetData.map((item) => (\n      <div style={{ padding: 10, backgroundColor: \"lightGray\", margin: 3 }}>\n        <p style={{ paddingBottom: -20 }}>\n          Widget Name :{item[0].widget_name}{\" \"}\n        </p>\n        <p>Widget Name :{item[0].widget_search_term} </p>\n        <p>Widget Code :{item[0].widget_code} </p>\n      </div>\n    ))}\n  </div>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/harrydhillon.near/widget/Component-Indexer", "fact_widget_deployments_id": "6f31ea4cf2bd7d649f27d200052d7cbf", "inserted_timestamp": "2023-09-02T16:34:56.002Z", "modified_timestamp": "2023-09-02T16:34:56.002Z", "__row_index": 1}