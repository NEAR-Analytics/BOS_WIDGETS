{"tx_hash": "BVN3r7VWhzWXLNoGuWvkdTNNVJ1GEcvbGowxYxRhgwZe", "action_id_social": "CnbPf17cz8eXU3rXPSBgDovN5xVd7iYdJo8K5eARzn9z-0-widget", "block_id": 99049039, "block_timestamp": "2023-08-17T23:57:07.266Z", "signer_id": "harrydhillon.near", "widget_name": "Keypom.Review.TicketTable", "source_code": "const Table = styled.table`\n  width: 100%;\n  border-radius: 8px;\n  overflow:hidden;\n  border:0.1px solid #30C9F3;\n  margin: 20px 0;\n  border-collapse: separate;\n  border-spacing: 0;\n`;\n\nconst TableHead = styled.thead`\n  background-color: #F8FAFC;\n`;\n\nconst TableRow = styled.tr`\n\n`;\n\nconst TableHeader = styled.th`\n  padding: 8px;\n  font-weight:500;\n  text-align: left;\n`;\n\nconst TableCell = styled.td`\n  padding: 8px;\n`;\n\nconst UnstyledButton = styled.button`\n  background-color:transparent;\n  border-width:0px;\n  color:#00A7E4;\n`;\n\nconst ActionButton = styled.button`\n  color: black;\n  padding: 5px 10px;\n  padding-bottom:8px;\n  background-color:transparent;\n  border:1px solid lightgray;\n  border-radius: 5px;\n  cursor: pointer;\n`;\n\nconst ticketObj = {\n  selected: \"Custom Amount\",\n  ticketName: \"Gold ticket (VIP)\",\n  description:\n    \"This ticket provides you access to the best in class events across the board\",\n  from: \"2023-08-09\",\n  to: \"2023-08-22\",\n  passValid: \"2023-08-30\",\n  numberOfTickets: \"200\",\n  nearAmountForTicket: \"7.3\",\n  ticketPricing: \"7.3\",\n};\n\nState.init({ tickets: [ticketObj, ticketObj, ticketObj] });\n\nfunction extractDateComponents(dateStr) {\n  const dateObj = new Date(dateStr);\n\n  const month = dateObj.toLocaleString(\"default\", { month: \"long\" }); // e.g., \"August\"\n  const date = dateObj.getDate(); // e.g., 3\n  const year = dateObj.getFullYear(); // e.g., 2023\n\n  return `${month} ${date}, ${year}`;\n}\n\nfunction ellipsisIfExceeds(str) {\n  if (str.length <= maxLength) {\n    return str;\n  }\n  return str.substring(0, 35 - 3) + \"...\";\n}\n\nconst bottomTickets = [\"Gold ticket (VIP)\", \"Bronze ticket\", \"Silver ticket\"];\n\nreturn (\n  <>\n    <Table>\n      <TableHead>\n        <TableRow>\n          <TableHeader>Ticket</TableHeader>\n          <TableHeader />\n          <TableHeader># of tickets</TableHeader>\n          <TableHeader>Price (NEAR)</TableHeader>\n          <TableHeader />\n        </TableRow>\n      </TableHead>\n      <tbody style={{ borderRadius: 10 }}>\n        {state.tickets.map((item, index) => (\n          <TableRow key={index}>\n            <TableCell style={{ width: \"30%\" }}>\n              <div style={{ fontSize: 16, fontWeight: \"500\" }}>\n                {item.ticketName}\n              </div>\n              <p\n                style={{\n                  textOverflow: \"ellipsis\",\n                  width: 200,\n                  fontSize: 12,\n                  whiteSpace: \"nowrap\",\n                  marginBottom: 0,\n                }}\n              >\n                {ellipsisIfExceeds(item.description)}\n              </p>\n              <div style={{ fontSize: 12, color: \"#94A3B8\" }}>\n                {extractDateComponents(item.from)} -{\" \"}\n                {extractDateComponents(item.to)}\n              </div>\n            </TableCell>\n            <TableCell>\n              <UnstyledButton\n                onClick={() => {\n                  State.update({ ticketPreview: item });\n                }}\n              >\n                Preview Ticket\n              </UnstyledButton>\n            </TableCell>\n            <TableCell>{item.numberOfTickets}</TableCell>\n            <TableCell>{item.ticketPricing}</TableCell>\n            <TableCell>\n              <ActionButton\n                onClick={() => {\n                  State.update({\n                    tickets: state.tickets.filter((item, idx) => idx !== index),\n                  });\n                }}\n              >\n                <Widget src=\"harrydhillon.near/widget/Keypom.Tickets.DeleteSVG\" />\n              </ActionButton>\n            </TableCell>\n          </TableRow>\n        ))}\n      </tbody>\n    </Table>\n    <div style={{ width: 350, marginLeft: \"auto\" }}>\n      {bottomTickets.map((item) => (\n        <div style={{ display: \"flex\", alignItems: \"center\" }} key={item}>\n          <div style={{ width: \"60%\", fontWeight: \"600\" }}>{item}</div>\n          <div>1.7161 NEAR</div>\n        </div>\n      ))}\n      <div\n        style={{\n          display: \"flex\",\n          alignItems: \"center\",\n          marginTop: 10,\n          fontWeight: \"500\",\n        }}\n      >\n        <div style={{ width: \"60%\" }}>Total</div>\n        <div>1.7161 NEAR</div>\n      </div>\n    </div>\n  </>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/harrydhillon.near/widget/Keypom.Review.TicketTable", "fact_widget_deployments_id": "908a25692afe4252f8e66cfe02213298", "inserted_timestamp": "2023-08-18T01:51:53.012Z", "modified_timestamp": "2023-08-18T01:51:53.012Z", "__row_index": 13}