{"tx_hash": "8SzwVxCGy2vkPPy7WVQVdpB5o5JCYuXPLzdvjku415sd", "action_id_social": "639DjSJNWT2zF2ivR3BMHVSJJofCeyWuzroeqoBiR5xX-0-widget", "block_id": 111688348, "block_timestamp": "2024-01-30T12:11:54.165Z", "signer_id": "evaluator.near", "widget_name": "Curriculum.GuestBookMD", "source_code": "const evaluationName = \"Guest Book\";\nconst evaluationMethod = \"evaluate_guestbook\";\nconst accentColor = \"#F9A8D4\";\n\nconst text = (userAccountId) => (`\n# GuestBook\n\n### Concept:\nAttaching deposit to a function call.\n\n### Resources:\n- [https://docs.near.org/sdk/rust/contract-interface/payable-methods](https://docs.near.org/sdk/rust/contract-interface/payable-methods)\n- [https://docs.near.org/sdk/js/contract-interface/payable-methods](https://docs.near.org/sdk/js/contract-interface/payable-methods)\n\n### Task:\nIn this evaluation we will create a Guestbook that any user can **'add_message'** to, the user can optionally attach a payment to the message to make it a premium.\n\n### TODO:\n- Add a **'[payable]'** function **'add_message'** that takes a text (String) as argument and stores it in the messages vector in the contract state.\n  If the user attaches more than 0.01N the message should be premium.\n- Add a function **'get_messages'** that returns a list of messages from the contract state.\n  The function should take two optional arguments: **'from_index'** and **'limit'**. to implement pagination.\n  The function should return a list of messages starting from **'from_index'** and up to **'limit'** number of messages.\n- Add a function **'total_messages'** that returns the total number of messages in the contract state.\n\n### Interacting with the contract:\n\\`\\`\\`bash\n$ near call guestbook.${userAccountId} add_message '{\"text\": \"My message\"}' --accountId ${userAccountId}\n> ''\n\\`\\`\\`\n\n\\`\\`\\`bash\n$ near call guestbook.${userAccountId} add_message '{\"text\": \"My Premium Message\"}' --deposit 1 --accountId ${userAccountId}\n> ''\n\\`\\`\\`\n\n\\`\\`\\`bash\n$ near view guestbook.${userAccountId} total_messages\n> '2'\n\\`\\`\\`\n\n\\`\\`\\`bash\n$ near view guestbook.${userAccountId} view_messages \n> '[\n  { premium: false, sender: '${userAccountId}', text: 'My message' },\n  { premium: true, sender: '${userAccountId}', text: 'My Premium Message' }\n]'\n\\`\\`\\`\n\n### Run the tests:\n\nAfter we have made sure we are in the relevant directory we can run the tests by \\`npm run test - ts\\` or \\`npm run test - rs\\`\n`);\n\nreturn { evaluationName, evaluationMethod, accentColor, text }\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/evaluator.near/widget/Curriculum.GuestBookMD", "fact_widget_deployments_id": "4918c658d1cbda404e5b333183f233c5", "inserted_timestamp": "2024-03-07T05:24:05.087Z", "modified_timestamp": "2024-03-07T05:24:05.087Z", "__row_index": 0}