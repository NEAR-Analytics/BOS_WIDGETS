{"tx_hash": "2PSBZdaxvQaKjnXSuEKL8DDgb7N3fHFypyoa3u1topaq", "action_id_social": "9xupRKW9A9faBXn4A6qrW7NgyQZzK7p3R8QJGWX5BjKC-0-widget", "block_id": 112869112, "block_timestamp": "2024-02-15T08:15:28.782Z", "signer_id": "daotooling.near", "widget_name": "CreateDAO", "source_code": "const { Button } = VM.require(\"buildhub.near/widget/components.Button\");\n\nconst defaultConfig = {\n  name: \"${context.accountId}-DAO\",\n  purpose: \"build\",\n  metadata: \"\",\n};\n\nconst defaultPolicy = [\"infinity.near\", \"council.near\"];\n\nState.init({\n  args: {\n    config: defaultConfig,\n    policy: defaultPolicy,\n  },\n});\n\nconst dao_args = Buffer.from(JSON.stringify(state.args), \"utf-8\").toString(\n  \"base64\"\n);\n\nconst handleCreate = () => {\n  Near.call([\n    {\n      contractName: \"sputnik-dao.near\",\n      methodName: \"create\",\n      args: {\n        name: defaultConfig.name,\n        args: dao_args,\n      },\n      deposit: \"7000000000000000000000000\",\n      gas: \"200000000000000\",\n    },\n  ]);\n};\n\nfunction CreateDAO({ input }) {\n  if (input) {\n    return (\n      <div className=\"mb-3\">\n        <Button onClick={handleCreate} variant=\"primary\">\n          Create DAO\n        </Button>\n      </div>\n    );\n  }\n}\n\nreturn { CreateDAO };\n", "metadata": {"fork_of": "hack.near/widget/CreateDAO@86808994"}, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/daotooling.near/widget/CreateDAO", "fact_widget_deployments_id": "c8892a096489ba50a40a57c0c544e92d", "inserted_timestamp": "2024-03-07T05:24:05.087Z", "modified_timestamp": "2024-03-07T05:24:05.087Z", "__row_index": 1}