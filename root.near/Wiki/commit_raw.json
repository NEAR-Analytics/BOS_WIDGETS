{"tx_hash": "5B6ZfLypUwQsN813AM6qySUBZV5YF13EmrSos9HFxZBA", "action_id_social": "CSsKUzcTfmW54zb4wP9TCXG6PTtabNSAa5QMH4YiJVPg-0-widget", "block_id": 82333536, "block_timestamp": "2023-01-06T13:48:21.415Z", "signer_id": "root.near", "widget_name": "Wiki", "source_code": "const articleId = props.articleId ?? \"\";\nconst blockId = props.blockId ?? \"final\";\n\ninitState({ articleId, blockId });\n\nconst article = Near.view(\n  \"thewiki.near\",\n  \"get_article\",\n  {\n    article_id: state.articleId,\n  },\n  state.blockId\n);\n\nlet articleNavigation = null;\nif (article.navigation_id) {\n  articleNavigation = Near.view(\n    \"thewiki.near\",\n    \"get_article\",\n    {\n      article_id: article.navigation_id,\n    },\n    state.blockId\n  );\n}\n\nconst updateArticle = (event) => {\n  console.log(event);\n  State.update({\n    articleId: event.target.href.substr(\"https://near.social/\".length),\n  });\n};\n\nreturn (\n  <div>\n    {article ? (\n      <div>\n        <div className=\"row justify-content-md-center\">\n          {articleNavigation && (\n            <div className=\"article-navigation col-md-3\">\n              <Markdown\n                text={articleNavigation.body}\n                onLinkClick={updateArticle}\n              />\n            </div>\n          )}\n          <div className=\"article col\">\n            <Markdown text={article.body} onLinkClick={updateArticle} />\n          </div>\n        </div>\n        <div className=\"mt-5 alert alert-secondary\">\n          <div>\n            Last edit by{\" \"}\n            <Widget\n              src=\"mob.near/widget/Profile\"\n              props={{ accountId: content.author }}\n            />\n            <br />\n            Edited on {article.timestamp}\n            <br />\n            Edit versions: {article.edit_version + 1}\n          </div>\n        </div>\n      </div>\n    ) : (\n      \"Article doesn't exists\"\n    )}\n  </div>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/root.near/widget/Wiki", "fact_widget_deployments_id": "787ca7a9ca6483a696ffbef172aecf1f", "inserted_timestamp": "2000-01-01T00:00:00.000Z", "modified_timestamp": "2000-01-01T00:00:00.000Z", "__row_index": 7}