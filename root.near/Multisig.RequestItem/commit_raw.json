{"tx_hash": "cEW8DehoSeQUQbtf68WCDHht8nKTjoeosfFNC5PKYtX", "action_id_social": "JDZjusfBu76AARNTszUKo6z2CCa7TkKrWJrLULYd8ArZ-0-widget", "block_id": 110908803, "block_timestamp": "2024-01-20T22:14:13.604Z", "signer_id": "root.near", "widget_name": "Multisig.RequestItem", "source_code": "const contract_id = props.contract_id;\nconst request_id = props.request_id;\n\nconst request = Near.view(contract_id, \"get_request\", { request_id });\nconst confirmations = Near.view(contract_id, \"get_confirmations\", {\n  request_id,\n});\n\nconsole.log(request, confirmations);\n\nlet repr = [];\nfor (let i = 0; i < request.actions.length; ++i) {\n  const action = request.actions[i];\n  switch (action.type) {\n    case \"Transfer\":\n      repr.push(`Transfer ${action.amount}N`);\n      break;\n    case \"FunctionCall\":\n      let args = atob(action.args);\n      console.log(args);\n      if (action.method_name === \"ft_transfer\") {\n        repr.push(\n          `Transfer ${args.amount} of ${request.receiver_id} token to ${args.receiver_id}`\n        );\n      } else {\n        repr.push(\n          `Call ${request.receiver_id}'s method ${action.method_name}(${args}) with ${action.deposit}N deposit and ${action.gas} gas`\n        );\n      }\n      break;\n    default:\n      repr.push(JSON.stringify(action));\n      break;\n  }\n}\n\nconsole.log(JSON.stringify(repr));\n\nfunction onConfirm() {\n  Near.call(contract_id, \"confirm\", { request_id: request_id });\n}\n\nfunction onDelete() {\n  Near.call(contract_id, \"delete\", { request_id: request_id });\n}\n\nreturn (\n  <div>\n    {repr}\n    <a onClick={onConfirm}>Confirm</a>\n    <a onClick={onDelete}>Delete</a>\n  </div>\n);\n", "metadata": {"platform": "jutsu.ai"}, "branch": {"draft": null}, "widget_modules_used": null, "widget_url": "https://near.social/#/root.near/widget/Multisig.RequestItem", "fact_widget_deployments_id": "7c8846513b4cc0e3c7c86bb9c8c047e3", "inserted_timestamp": "2024-03-07T05:24:05.087Z", "modified_timestamp": "2024-03-07T05:24:05.087Z", "__row_index": 0}