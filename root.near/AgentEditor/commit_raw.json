{"tx_hash": "BeJ62TpQxJQ4L18DcLSLAiW5YJnftJeUQunvLAXiGPQ6", "action_id_social": "9gycF9KrP5tKP2npDNVCs75XwD2ZcX3RZJSN7WpjYQYi-0-widget", "block_id": 106569007, "block_timestamp": "2023-11-26T09:03:01.145Z", "signer_id": "root.near", "widget_name": "AgentEditor", "source_code": "const [accountId, unused, agentName] = props.src ? props.src.split(\"/\") : [null, null, null];\n\nconst initialData = {};\n\nif (agentName) {\n    initialData =\n        props.data ??\n        Social.getr(`${accountId}/agent/${agentName}`, \"final\") ??\n        {};\n}\n\nState.init({\n    initialData,\n    data: initialData,\n});\n\nconst debounce = (func, wait) => {\n    const pause = wait || 350;\n    let timeout;\n\n    return (args) => {\n        const later = () => {\n            clearTimeout(timeout);\n            func(args);\n        };\n\n        clearTimeout(timeout);\n        timeout = setTimeout(later, pause);\n    };\n};\n\nconst onNameChange = debounce((e) => {\n    State.update({\n        data: {\n            ...state.data,\n            name: e.target.value,\n        },\n    });\n});\nconst onDescriptionChange = debounce((e) => {\n    State.update({\n        data: {\n            ...state.data,\n            description: e.target.value,\n        },\n    });\n});\nconst onPromptChange = debounce((e) => {\n    State.update({\n        data: {\n            ...state.data,\n            prompt: e.target.value,\n        },\n    });\n});\nfunction agentData() {\n    const saveData = { agent: {} };\n    saveData.agent[state.data.name] = state.data;\n    return saveData;\n}\n\nconst Wrapper = styled.div`\n.message {\n  border-radius: 2rem;  \n  border: 1px solid rgb(222, 226, 230);\n  padding: 1em;\n  margin-bottom: 1em;\n\n  &.system {\n    margin-right: 5em;\n  }\n\n  &.system:before {\n    content: \"AI\";\n    color: #999;\n  }\n\n  &.user {\n    margin-left: 5em;\n  }\n\n\n  p:last-child {\n    margin-bottom: 0;\n  }\n}\n`;\n\nreturn (<Wrapper>\n    <div className=\"mb-2\">\n        Name\n        <input\n            type=\"text\"\n            defaultValue={state.data.name}\n            onChange={onNameChange}\n        />\n    </div>\n    <div className=\"mb-2\">\n        Description\n        <input\n            type=\"text\"\n            defaultValue={state.data.description}\n            onChange={onDescriptionChange}\n        />\n    </div>\n    <div className=\"mb-2\">\n        Prompt\n        <input\n            type=\"text\"\n            defaultValue={state.data.prompt}\n            onChange={onPromptChange}\n        />\n    </div>\n    <div className=\"mb-2\">\n        <CommitButton data={agentData}>\n            Save agent\n        </CommitButton>\n    </div>\n</Wrapper>);", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/root.near/widget/AgentEditor", "fact_widget_deployments_id": "3d3dccd8706ab4d0a3bd8cd17af3396b", "inserted_timestamp": "2024-03-07T05:24:05.087Z", "modified_timestamp": "2024-03-07T05:24:05.087Z", "__row_index": 0}