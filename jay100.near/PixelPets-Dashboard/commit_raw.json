{"tx_hash": "5CTq7nR4pDhyJmxVvHy62mMVZXqrPCR7GvyF8bhqc38M", "action_id_social": "AvpLCYaV6WQ4BTfRJpBVB7eGX3EacrT6wRfu7mJeyJR4-0-widget", "block_id": 97705999, "block_timestamp": "2023-07-30T18:59:18.448Z", "signer_id": "jay100.near", "widget_name": "PixelPets-Dashboard", "source_code": "const pixelFont = fetch(\n  \"https://fonts.googleapis.com/css?family=Press+Start+2P\"\n).body;\n\nconst PlayerDashboard = () => {\n  let playerData = Near.view(\"pixeltoken.near\", \"get_player_data\", {\n    account_id: context.accountId,\n  });\n\n  let player_balance = playerData.balance;\n\n  let own_sungen = playerData.owns_sungen;\n  let sungen_timer = playerData.sungen_timer;\n\n  let pets_ids = playerData.playerdata.pet_ids.map((id) => {\n    return id;\n  });\n\n  let pets_data = Near.view(\"pixeltoken.near\", \"get_pets_by_ids\", {\n    pet_ids: pets_ids,\n  });\n\n  let hatching = playerData.playerdata.hatching;\n  let train_timer = playerData.playerdata.train_timer;\n  let matches_won = playerData.playerdata.matches_won;\n  let matches_lost = playerData.playerdata.matches_lost;\n  let rating = playerData.playerdata.rating;\n  let fight_balance = playerData.playerdata.fight_balance;\n\n  let PXTDecimalPlace = Near.view(\n    \"pixeltoken.near\",\n    \"ft_metadata\",\n    {}\n  ).decimals;\n\n  const DashBoardContainer = styled.div`\n    font-family: \"Pixel Emulator\", \"Press Start 2P\", \"Courier new\", \"monospace\";\n    ${pixelFont}\n    background-color: rgb(12, 12, 31);\n    padding: 0.6rem;\n    color: white;\n    overflow-x: hidden;\n  `;\n\n  const PetsContainer = styled.div`\n     display: flex;\n     align-items: center;\n     justify-content: space-around;\n    overflow-y: scroll;\n    height: 80vh;\n  `;\n\n  const PetDataContainer = styled.div`\n    background-color: rgb(40, 40, 128);\n    box-shadow: rgb(200, 224, 224) 0px 0px 0px 1px, rgb(128, 128, 128) 0px 0px 0px 2px, rgb(40, 48, 48) 0px 0px 0px 3px, rgb(48, 48, 136) 0px 0px 0px 1px inset;\n    border-radius: 5px;\n    display: flex;\n    flex-direction: column;\n    padding: 1rem;\n    margin: 0.5rem;\n    width: fit-content;\n    height: fit-content;\n  `;\n\n  const PetDataList = styled.ul`\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    flex-direction: column;\n    padding: 0.2rem;\n  `;\n\n  const PetDetailItem = styled.li`\n      list-style: inside url(data:image/gif;base64,R0lGODlhEAAQAJEAAAAAAP///////wAAACH5BAEAAAIALAAAAAAQABAAQAIOlI+py+0Po5y02ouzPgUAOw==) square;\n    font-size: 0.85rem;\n    padding: 0.3rem;\n    display: flex;\n  `;\n\n  return (\n    <DashBoardContainer>\n      <div className=\"row\">\n        <div className=\"col\">\n          <p>Player:{context.accountId}</p>\n          <p>\n            PixelToken:\n            {(parseInt(player_balance.pixeltoken) / 1000000).toFixed(\n              PXTDecimalPlace\n            )}\n          </p>\n        </div>\n      </div>\n      <div className=\"row\">\n        <div className=\"col\">\n          <p>Common Eggs:{player_balance.egg_common}</p>\n          <p>Rare Eggs:{player_balance.egg_rare}</p>\n        </div>\n        <div className=\"col\">\n          <p>Epic Eggs:{player_balance.egg_rare}</p>\n          <p>Legendary Eggs:{player_balance.egg_rare}</p>\n        </div>\n      </div>\n\n      <div className=\"row\">\n        <div className=\"col\">\n          <p>Matches Won:{matches_won}</p>\n          <p>Matches Lost:{matches_lost}</p>\n        </div>\n        <div className=\"col\">\n          <p>Rating:{rating}</p>\n          <p>Fight Balance:{fight_balance}</p>\n        </div>\n      </div>\n\n      <PetsContainer className=\"row\">\n        {pets_data.map((pet) => {\n          return (\n            <PetDataContainer>\n              <PetDataList>\n                <PetDetailItem>Token ID:{pet.token_id}</PetDetailItem>\n                <PetDetailItem>Pet Type:{pet.pet_type}</PetDetailItem>\n                <PetDetailItem>Train Level:{pet.train_level}</PetDetailItem>\n                <PetDetailItem>Exp:{pet.xp}</PetDetailItem>\n                <PetDetailItem>Level:{pet.level}</PetDetailItem>\n                <PetDetailItem>Power Level:{pet.power_level}</PetDetailItem>\n                <PetDetailItem>Price:{pet.price}</PetDetailItem>\n                <PetDetailItem>Rarity:{pet.rarity}</PetDetailItem>\n                <PetDetailItem>State:{pet.state}</PetDetailItem>\n                <PetDetailItem>State Timer:</PetDetailItem>\n                <PetDetailItem>{pet.state_timer}</PetDetailItem>\n              </PetDataList>\n            </PetDataContainer>\n          );\n        })}\n      </PetsContainer>\n    </DashBoardContainer>\n  );\n};\n\nreturn (\n  <>\n    <PlayerDashboard />\n  </>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/jay100.near/widget/PixelPets-Dashboard", "fact_widget_deployments_id": "174c93f7e4fb6d4303cda5a869a60460", "inserted_timestamp": "2024-03-07T05:24:05.087Z", "modified_timestamp": "2024-03-07T05:24:05.087Z", "__row_index": 0}