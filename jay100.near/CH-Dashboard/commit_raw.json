{"tx_hash": "A5uUzpYf2dHWVoys69nxqc7azExWj2BuuHogcSn5tpJ9", "action_id_social": "6ydiZ69rSCK8FZZNUpKB81evFxtixFiBQQBnf72scRJn-0-widget", "block_id": 97706229, "block_timestamp": "2023-07-30T19:03:36.751Z", "signer_id": "jay100.near", "widget_name": "CH-Dashboard", "source_code": "const pixelFont = fetch(\n  \"https://fonts.googleapis.com/css?family=Press+Start+2P\"\n).body;\n\nState.init({\n  display_weapons: true,\n});\n\nconst PlayerDashboard = () => {\n  let playerData = Near.view(\"pixeltoken.near\", \"ch_get_player_data\", {\n    account_id: context.accountId,\n  });\n\n  let joined_raids = playerData.playerdata.joined_raids;\n\n  let fight_balance = playerData.playerdata.fight_balance;\n\n  let items_ids = playerData.playerdata.item_ids.map((id) => {\n    return id;\n  });\n\n  let character_ids = playerData.playerdata.character_ids.map((id) => {\n    return id;\n  });\n\n  let items_data = Near.view(\"pixeltoken.near\", \"ch_get_items_by_ids\", {\n    token_ids: items_ids,\n  });\n\n  let characters_data = Near.view(\n    \"pixeltoken.near\",\n    \"ch_get_characters_by_ids\",\n    {\n      character_ids: character_ids,\n    }\n  );\n\n  let PXTDecimalPlace = Near.view(\n    \"pixeltoken.near\",\n    \"ft_metadata\",\n    {}\n  ).decimals;\n\n  const DashBoardContainer = styled.div`\n    font-family: \"Pixel Emulator\", \"Press Start 2P\", \"Courier new\", \"monospace\";\n    ${pixelFont}\n    background-color: rgb(12, 12, 31);\n    padding: 0.6rem;\n    color: white;\n    overflow-x: hidden;\n  `;\n\n  const WeaponsContainer = styled.div`\n     display: flex;\n     align-items: center;\n     justify-content: space-around;\n    overflow-y: scroll;\n    height: 80vh;\n  `;\n\n  const CharactersContainer = styled.div`\n     display: flex;\n     align-items: center;\n     justify-content: space-around;\n    overflow-y: scroll;\n    height: 80vh;\n  `;\n\n  const WeaponDataContainer = styled.div`\n    background-color: rgb(40, 40, 128);\n    box-shadow: rgb(200, 224, 224) 0px 0px 0px 1px, rgb(128, 128, 128) 0px 0px 0px 2px, rgb(40, 48, 48) 0px 0px 0px 3px, rgb(48, 48, 136) 0px 0px 0px 1px inset;\n    border-radius: 5px;\n    display: flex;\n    flex-direction: column;\n    padding: 1rem;\n    margin: 0.5rem;\n    width: fit-content;\n    height: fit-content;\n  `;\n\n  const CharacterDataContainer = styled.div`\n    background-color: rgb(40, 40, 128);\n    box-shadow: rgb(200, 224, 224) 0px 0px 0px 1px, rgb(128, 128, 128) 0px 0px 0px 2px, rgb(40, 48, 48) 0px 0px 0px 3px, rgb(48, 48, 136) 0px 0px 0px 1px inset;\n    border-radius: 5px;\n    display: flex;\n    flex-direction: column;\n    padding: 1rem;\n    margin: 0.5rem;\n    width: fit-content;\n    height: fit-content;\n  `;\n\n  const CharacterDataList = styled.ul`\n    padding: 0.2rem;\n  `;\n\n  const WeaponDataList = styled.ul`\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    flex-direction: column;\n    padding: 0.2rem;\n  `;\n\n  const CharacterDetailItem = styled.li`\n      list-style: inside url(data:image/gif;base64,R0lGODlhEAAQAJEAAAAAAP///////wAAACH5BAEAAAIALAAAAAAQABAAQAIOlI+py+0Po5y02ouzPgUAOw==) square;\n    font-size: 0.85rem;\n    padding: 0.3rem;\n  `;\n\n  const WeaponDetailItem = styled.li`\n      list-style: inside url(data:image/gif;base64,R0lGODlhEAAQAJEAAAAAAP///////wAAACH5BAEAAAIALAAAAAAQABAAQAIOlI+py+0Po5y02ouzPgUAOw==) square;\n    font-size: 0.85rem;\n    padding: 0.3rem;\n    display: flex;\n  `;\n\n  const WeaponButton = styled.button`\n    width: 100%;\n    padding: 0.5rem;\n    border-radius: 8px;\n    border: none;\n    color: white;\n    background-color: red;\n  `;\n  const CharacterButton = styled.button`\n    width: 100%;\n    padding: 0.5rem;\n    border-radius: 8px;\n    border: none;\n    color: white;\n    background-color: blue;\n  `;\n\n  return (\n    <DashBoardContainer>\n      <div className=\"row\">\n        <div className=\"col\">\n          <p>Player:{context.accountId}</p>\n          <p>Fight Balance:{fight_balance}</p>\n        </div>\n\n        <div className=\"col\">\n          <WeaponButton\n            onClick={() => {\n              State.update({\n                display_weapons: true,\n              });\n            }}\n            className=\"btn\"\n          >\n            Weapons\n          </WeaponButton>\n          <CharacterButton\n            onClick={() => {\n              State.update({\n                display_weapons: false,\n              });\n            }}\n            className=\"btn\"\n          >\n            Characters\n          </CharacterButton>\n        </div>\n      </div>\n      {state.display_weapons ? (\n        <WeaponsContainer className=\"row\">\n          {items_data.map((item) => {\n            return (\n              <WeaponDataContainer>\n                <WeaponDataList>\n                  <WeaponDetailItem>Token ID:{item.token_id}</WeaponDetailItem>\n                  <WeaponDetailItem>\n                    Item Type:{item.item_type}\n                  </WeaponDetailItem>\n                  <WeaponDetailItem>Rarity:{item.rarity_type}</WeaponDetailItem>\n                  <WeaponDetailItem>Strength:{item.strength}</WeaponDetailItem>\n                  <WeaponDetailItem>\n                    Dexterity:{item.dexterity}\n                  </WeaponDetailItem>\n                  <WeaponDetailItem>\n                    Endurance:{item.endurance}\n                  </WeaponDetailItem>\n                  <WeaponDetailItem>\n                    Intelligence:{item.intelligence}\n                  </WeaponDetailItem>\n                  <WeaponDetailItem>Luck:{item.luck}</WeaponDetailItem>\n                  <WeaponDetailItem>Price:{item.price}</WeaponDetailItem>\n                  <WeaponDetailItem>CD:{item.cd}</WeaponDetailItem>\n                </WeaponDataList>\n              </WeaponDataContainer>\n            );\n          })}\n        </WeaponsContainer>\n      ) : (\n        <CharactersContainer className=\"row\">\n          {characters_data.map((character) => {\n            return (\n              <CharacterDataContainer className=\"col\">\n                <CharacterDataList>\n                  <CharacterDetailItem>\n                    Character ID:{character.character_id}\n                  </CharacterDetailItem>\n                  <CharacterDetailItem>\n                    Class ID:{character.class_type}\n                  </CharacterDetailItem>\n                  <CharacterDetailItem>\n                    Exp:{character.experience}\n                  </CharacterDetailItem>\n                  <CharacterDetailItem>\n                    Level:{character.level}\n                  </CharacterDetailItem>\n                  <CharacterDetailItem>\n                    Injured Time:{character.injured_timer}\n                  </CharacterDetailItem>\n                </CharacterDataList>\n              </CharacterDataContainer>\n            );\n          })}\n        </CharactersContainer>\n      )}\n    </DashBoardContainer>\n  );\n};\n\nreturn (\n  <>\n    <PlayerDashboard />\n  </>\n);\n", "metadata": {"platform": "jutsu.ai"}, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/jay100.near/widget/CH-Dashboard", "fact_widget_deployments_id": "9a6abc21ba5ea01561b18057c0ca4000", "inserted_timestamp": "2024-03-07T05:24:05.087Z", "modified_timestamp": "2024-03-07T05:24:05.087Z", "__row_index": 0}