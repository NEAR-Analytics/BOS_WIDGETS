{"tx_hash": "9WfdMCuDKNqvGbcTKzysPqoeUdvB2NwQxjhLrbKXQGGB", "action_id_social": "5BqF71nLbAXDZkaRnCdrZtvWjEKiEeGaH1mLZkGoyQeK-0-widget", "block_id": 97157828, "block_timestamp": "2023-07-23T16:32:03.348Z", "signer_id": "jay100.near", "widget_name": "CTTDashboard", "source_code": "const pixelFont = fetch(\n  \"https://fonts.googleapis.com/css?family=Press+Start+2P\"\n).body;\n\nconst PlayerDashboard = () => {\n  let playerData = Near.view(\"pixeltoken.near\", \"ctt_get_player_data\", {\n    account_id: context.accountId,\n  });\n\n  let units_ids = playerData.playerdata.unit_ids.map((id) => {\n    return id;\n  });\n\n  let units_data = Near.view(\"pixeltoken.near\", \"ctt_get_units_by_ids\", {\n    token_ids: units_ids,\n  });\n\n  let PXTDecimalPlace = Near.view(\n    \"pixeltoken.near\",\n    \"ft_metadata\",\n    {}\n  ).decimals;\n\n  const DashBoardContainer = styled.div`\n    font-family: \"Pixel Emulator\", \"Press Start 2P\", \"Courier new\", \"monospace\";\n    ${pixelFont}\n    background-color: rgb(12, 12, 31);\n    padding: 0.6rem;\n    color: white;\n    overflow-x: hidden;\n  `;\n\n  const TroopsContainer = styled.div`\n     display: flex;\n     align-items: center;\n     justify-content: space-around;\n    overflow-y: scroll;\n    height: 80vh;\n  `;\n\n  const TroopDataContainer = styled.div`\n    background-color: rgb(40, 40, 128);\n    box-shadow: rgb(200, 224, 224) 0px 0px 0px 1px, rgb(128, 128, 128) 0px 0px 0px 2px, rgb(40, 48, 48) 0px 0px 0px 3px, rgb(48, 48, 136) 0px 0px 0px 1px inset;\n    border-radius: 5px;\n    display: flex;\n    flex-direction: column;\n    padding: 1rem;\n    margin: 0.5rem;\n    width: fit-content;\n    height: fit-content;\n  `;\n\n  const TroopDataList = styled.ul`\n    padding: 0.2rem;\n  `;\n\n  const TroopDetailItem = styled.li`\n      list-style: inside url(data:image/gif;base64,R0lGODlhEAAQAJEAAAAAAP///////wAAACH5BAEAAAIALAAAAAAQABAAQAIOlI+py+0Po5y02ouzPgUAOw==) square;\n    font-size: 0.9rem;\n    padding: 0.3rem;\n  `;\n\n  return (\n    <DashBoardContainer>\n      <div className=\"row\">\n        <p>Player:{context.accountId}</p>\n        <p>\n          PixelTokens:\n          {(parseInt(playerData.balance.pixeltoken) / 1000000).toFixed(\n            PXTDecimalPlace\n          )}\n        </p>\n        <p>Units:{playerData.balance.tokens}</p>\n      </div>\n      <TroopsContainer className=\"row\">\n        {units_data.map((unit) => {\n          const troopDetails = {\n            name: unit.metadata.title.split(\"|\")[0].split(\"-\")[1].trim(),\n            power: unit.metadata.title.split(\"|\")[1].trim(),\n          };\n          return (\n            <TroopDataContainer>\n              <TroopDataList>\n                <TroopDetailItem>ID:{unit.token_id}</TroopDetailItem>\n                <TroopDetailItem>Type:{unit.unit_type}</TroopDetailItem>\n                <TroopDetailItem>Health mod:{unit.health_mod}</TroopDetailItem>\n                <TroopDetailItem>Damage mod:{unit.damage_mod}</TroopDetailItem>\n                <TroopDetailItem>Speed mod:{unit.speed_mod}</TroopDetailItem>\n                <TroopDetailItem>Price:{unit.price}</TroopDetailItem>\n                <TroopDetailItem>Class:{troopDetails.name}</TroopDetailItem>\n                <TroopDetailItem>Power:{troopDetails.power}</TroopDetailItem>\n              </TroopDataList>\n            </TroopDataContainer>\n          );\n        })}\n      </TroopsContainer>\n    </DashBoardContainer>\n  );\n};\n\nreturn (\n  <>\n    <PlayerDashboard />\n  </>\n);\n", "metadata": {"platform": "nearpad"}, "branch": {"draft": null}, "widget_modules_used": null, "widget_url": "https://near.social/#/jay100.near/widget/CTTDashboard", "fact_widget_deployments_id": "b68a8bfe88cef8977260a9dd8b37fdba", "inserted_timestamp": "2000-01-01T00:00:00.000Z", "modified_timestamp": "2000-01-01T00:00:00.000Z", "__row_index": 2}