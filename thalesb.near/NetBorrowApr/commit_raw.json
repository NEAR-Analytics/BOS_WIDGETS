{"tx_hash": "3aqzycTuetwo4S8ow9ENhjPWdUmbS7psvFeRSHUZieB1", "action_id_social": "2xb7sZNiNWhC44J7QSBLAdtGmNqeAf2Hzb4w9VXtYKbW-0-widget", "block_id": 112322029, "block_timestamp": "2024-02-07T17:21:39.247Z", "signer_id": "thalesb.near", "widget_name": "NetBorrowApr", "source_code": "const SectionHeader = styled.span`\n  color: #fff;\n  font-size: 18px;\n  font-weight: 700;\n`;\n\nconst InfoSection = styled.div`\n  background: #292a3d;\n  border-radius: 8px;\n  color: white;\n  width: 100%;\n  margin-top: ${(props) => props.marginTop || 0}px;\n`;\n\nconst InfoRow = styled.div`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 10px 0;\n  border-bottom: 1px solid #333;\n\n  &:last-child {\n    border-bottom: none;\n  }\n`;\n\nconst InfoLabel = styled.span`\n  color: #fff;\n`;\n\nconst InfoValue = styled.span`\n  color: #888baf;\n`;\n\nconst { getApr } = VM.require(\"thalesb.near/widget/compound-requests\");\n\nState.init({\n  aprData,\n});\n\nuseEffect(() => {\n  getApr({\n    cometAddress: props.selectedItem.contractInfo.address,\n    rpcUrl: props.selectedItem.contractInfo.httpRpcUrl,\n  }).then((data) => {\n    State.update({ aprData: data });\n  });\n}, []);\n\nconst borrowRewardsApr = (state.aprData.rewards.earn_rewards_apr || 0) * 100;\n\nreturn (\n  <>\n    <SectionHeader>Net Borrow APR</SectionHeader>\n    <InfoSection marginTop={12}>\n      <InfoRow>\n        <InfoLabel>APR</InfoLabel>\n        <InfoValue>\n          {Number(state.aprData.borrowApr || 0).toFixed(2)}%\n        </InfoValue>\n      </InfoRow>\n      <InfoRow>\n        <InfoLabel>Fee</InfoLabel>\n        <InfoValue>{Number(borrowRewardsApr || 0).toFixed(2)}%</InfoValue>\n      </InfoRow>\n      <InfoRow>\n        <InfoLabel>Interest</InfoLabel>\n        <InfoValue>\n          {Number(state.aprData.borrowApr - borrowRewardsApr || 0).toFixed(2)}%\n        </InfoValue>\n      </InfoRow>\n    </InfoSection>\n  </>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/thalesb.near/widget/NetBorrowApr", "fact_widget_deployments_id": "be1eb24962532f59d69a54786d84362d", "inserted_timestamp": "2024-03-07T05:24:05.087Z", "modified_timestamp": "2024-03-07T05:24:05.087Z", "__row_index": 2}