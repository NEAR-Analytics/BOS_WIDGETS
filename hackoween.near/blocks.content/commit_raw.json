{"tx_hash": "2jEW9Cn3NEdTz4Fxh3W8MFwEwTGRFoJVbRQS4ccVYjGu", "action_id_social": "J8mrSbwv1EnTha56ZGBZx2Pq8cCxN3eXPrBDiUgbkij1-0-widget", "block_id": 105626272, "block_timestamp": "2023-11-13T17:37:30.557Z", "signer_id": "hackoween.near", "widget_name": "blocks.content", "source_code": "const Container = styled.div`\n  padding: 20px;\n  height: auto;\n  overflow: auto;\n`;\n\nconst ButtonRow = styled.div`\n  display: flex;\n  gap: 10px;\n  margin-bottom: 20px;\n`;\n\nconst Header = styled.div`\n  display: flex;\n  justify-content: space-between;\n  width: 100%;\n`;\n\nconst Button = styled.button`\n  background-color: #ed7d31;\n  color: #f6f1ee;\n  padding: 10px 20px;\n  border: 2px solid #6c5f5b;\n  border-radius: 5px;\n  font-size: 16px;\n  cursor: pointer;\n  transition: background-color 0.3s, box-shadow 0.3s, transform 0.3s;\n\n  &:hover {\n    background-color: #6c5f5b;\n    box-shadow: outset 6px 8px rgba(0, 0, 0, 0.15);\n  }\n\n  &:active {\n    background-color: #4f4a45;\n    box-shadow: outset 2px 4px rgba(0, 0, 0, 0.1);\n    transform: translateY(2px);\n  }\n`;\n\nconst Content = styled.div`\n  position: relative;\n  width: 100%;\n  height: 100%;\n  padding: 20px;\n  padding-bottom: 40px;\n  background: white;\n  border-radius: 5px;\n  box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);\n`;\n\nconst ImageWrapper = styled.div`\n  border-radius: 50%;\n  overflow: hidden;\n  width: 40px;\n  height: 40px;\n  margin-right: 10px;\n`;\n\nconst Image = styled.img`\n  width: 100%;\n  height: 100%;\n`;\n\nconst Name = styled.div`\n  flex: 1;\n  align-self: center;\n  font-size: 2em;\n`;\n\nconst Logo = styled.div`\n  display: flex;\n  align-items: center;\n`;\n\nconst { selectedItem } = props;\n\nconst [activeView, setActiveView] = useState(\"post\");\n\nfunction PostContent({ data }) {\n  data = data.post;\n  return (\n    <div key={JSON.stringify(data)}>\n      <Widget\n        src=\"mob.near/widget/MainPage.N.Post.Page\"\n        props={{ accountId: data.accountId, blockHeight: data.blockHeight }}\n        loading={<div style={{ height: \"200px\" }} />}\n      />\n    </div>\n  );\n}\n\nconst PrizeContainer = styled.div`\n  margin: 20px;\n  padding: 10px;\n  border: 1px solid #ccc;\n  border-radius: 8px;\n`;\n\nconst PrizeItem = styled.div`\n  margin: 10px 0;\n  font-size: 16px;\n`;\n\nconst TotalItem = styled.div`\n  margin-top: 15px;\n  font-size: 18px;\n  font-weight: bold;\n`;\n\nconst getEmojiForPrize = (name) => {\n  switch (name) {\n    case \"Grand Prize\":\n      return \"\ud83c\udfc6\";\n    case \"Build City\":\n      return \"\ud83c\udfd9\ufe0f\";\n    case \"Data Citizens\":\n      return \"\ud83d\udc65\";\n    case \"Runner Up\":\n      return \"\ud83e\udd48\";\n    case \"Green Blocks\":\n      return \"\u267b\ufe0f\"; // Sustainability emoji\n    case \"Everything\":\n      return \"\u26ab\"; // Black dot emoji\n    case \"EdgeAI\":\n      return \"\ud83e\udd16\";\n    case \"Builders Badge\":\n      return \"\ud83d\udee0\ufe0f\";\n    default:\n      return \"\ud83c\udf81\";\n  }\n};\n\nconst StyledPre = styled.pre`\n  background-color: #333;\n  color: #fff;\n  padding: 15px;\n  border-radius: 8px;\n  white-space: pre-wrap;\n`;\n\nconst formatPrizes = (prizes) => {\n  return prizes.tracks\n    .map(\n      (track) =>\n        `${getEmojiForPrize(track.name)} ${track.name}: $${track.amount}`\n    )\n    .join(\"\\n\");\n};\n\nconst TextPost = ({ data, metadata }) => {\n  const parsedData = JSON.parse(data);\n  const team = parsedData.team.join(\", \");\n  const prizesText = formatPrizes(parsedData.prizes);\n  const nearSocialPost = metadata.linktree.nearsocial;\n\n  return (\n    <>\n      <button\n        className=\"classic\"\n        onClick={() => {\n          clipboard.writeText(`\n**Team**: ${team}\n          \n**Prizes**:\n          ${prizesText}\n\n**Near Social Post**: ${nearSocialPost}\n        `);\n        }}\n      >\n        Copy to clipboard\n      </button>\n      <StyledPre>\n        **Team**: {team}\n        **Prizes**:\n        {prizesText}\n        **Near Social Post**: {nearSocialPost}\n      </StyledPre>\n    </>\n  );\n};\n\nfunction PrizesContent({ data }) {\n  data = data.prizes;\n  if (!data.tracks) {\n    return <h3>No Prizes Won</h3>;\n  }\n\n  const totalAmount =\n    data.tracks.length &&\n    data.tracks.reduce((total, track) => total + parseInt(track.amount, 10), 0);\n  return (\n    <div key={JSON.stringify(data)}>\n      {data.tracks.length && (\n        <PrizeContainer>\n          {data.tracks.map((track) => (\n            <PrizeItem key={track.name}>\n              {getEmojiForPrize(track.name)} {track.name}: ${track.amount}\n            </PrizeItem>\n          ))}\n          <TotalItem>Total: ${totalAmount}</TotalItem>\n        </PrizeContainer>\n      )}\n      {data.postId ? (\n        <Widget\n          src=\"devhub.near/widget/devhub.entity.post.Post\"\n          props={{ id: data.postId }}\n          loading={<div style={{ height: \"200px\" }} />}\n        />\n      ) : (\n        totalAmount !== 0 && (\n          <p>\n            No post found. Reply to the following{\" \"}\n            <a\n              href=\"https://near.social/devhub.near/widget/app?page=post&id=1485\"\n              target=\"_blank\"\n              style={{ color: \"blue\", textDecoration: \"underline\" }}\n            >\n              Original Hackathon Proposal Post\n            </a>{\" \"}\n            as a \"Solution\" with the following content:\n            \n            <TextPost\n              data={selectedItem.data}\n              metadata={selectedItem.metadata}\n            />\n            \n            Once this is done, the NEAR DevHub team will be getting in touch\n            with you to remit your payments.\n          </p>\n        )\n      )}\n    </div>\n  );\n}\n\nif (!selectedItem) {\n  return <></>;\n}\n\nreturn (\n  <Container>\n    <Header>\n      <Logo>\n        <ImageWrapper>\n          <Image\n            src={selectedItem.metadata.image.href}\n            alt={selectedItem.metadata.name}\n          />\n        </ImageWrapper>\n        <Name>{selectedItem.metadata.name}</Name>\n      </Logo>\n      <ButtonRow>\n        <Button\n          onClick={() => setActiveView(\"post\")}\n          className={activeView === \"post\" ? \"active\" : \"\"}\n        >\n          Post\n        </Button>\n        <Button\n          onClick={() => setActiveView(\"demo\")}\n          className={activeView === \"demo\" ? \"active\" : \"\"}\n        >\n          Demo\n        </Button>\n        <Button\n          onClick={() => setActiveView(\"prizes\")}\n          className={activeView === \"prizes\" ? \"active\" : \"\"}\n        >\n          Prizes\n        </Button>\n        <Button\n          onClick={() => setActiveView(\"data\")}\n          className={activeView === \"data\" ? \"active\" : \"\"}\n        >\n          Data\n        </Button>\n      </ButtonRow>\n    </Header>\n    <Content>\n      {activeView === \"post\" && (\n        <PostContent data={JSON.parse(selectedItem.data)} />\n      )}\n      {activeView === \"demo\" && (\n        <Widget src={JSON.parse(selectedItem.data).demo} />\n      )}\n      {activeView === \"prizes\" && (\n        <PrizesContent data={JSON.parse(selectedItem.data)} />\n      )}\n      {activeView === \"data\" && (\n        <pre>{JSON.stringify(selectedItem, null, 2)}</pre>\n      )}\n    </Content>\n  </Container>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/hackoween.near/widget/blocks.content", "fact_widget_deployments_id": "a1cc564fd6686efc3f23c8e2a46d04ef", "inserted_timestamp": "2024-03-07T05:24:05.087Z", "modified_timestamp": "2024-03-07T05:24:05.087Z", "__row_index": 2}