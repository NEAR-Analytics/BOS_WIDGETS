{"tx_hash": "2N7Z2uqDK1HZXfam31yA4EUih1XpG15qabvHPmMAcsAc", "action_id_social": "FABfa8KkadVCfupt543eGDUz2v5e2o5zQDd6vq6wM3Gv-0-widget", "block_id": 113805731, "block_timestamp": "2024-02-29T07:59:30.521Z", "signer_id": "magicbuild.near", "widget_name": "ui-stack", "source_code": "const element = props.element || \"div\";\r\nconst styleSheet = props.styleSheet || \"\";\r\nconst styleClass = props.styleClass || \"\";\r\nconsole.log(props.isEditor);\r\nState.init({\r\n  stack: null,\r\n  children: props.children || [],\r\n  isEditor: props.isEditor || true,\r\n  childListSave: [],\r\n});\r\n\r\nconst collapseWidget = () => {\r\n  props.isEditor = false;\r\n  State.update({\r\n    isEditor: !state.isEditor,\r\n  });\r\n};\r\n\r\nif (!state.stack) {\r\n  State.update({\r\n    stack: styled[element]`\r\n    ${styleSheet}`,\r\n  });\r\n}\r\n\r\nconst Stack = state.stack;\r\n// when user render how to get element without add button ?\r\nreturn (\r\n  <Stack class={\"col \" + styleClass}>\r\n    <button type=\"button\" onClick={collapseWidget}>\r\n      {\"Collapse\"}\r\n    </button>\r\n    <button type=\"button\" class=\"btn btn-danger\" onClick={updateStateEditor}>\r\n      {\"Remove\"}\r\n    </button>\r\n    {state.isEditor == true ? (\r\n      <>\r\n        <Widget\r\n          src=\"magicbuild.near/widget/add-block-button\"\r\n          props={{\r\n            selectWidget: (widgetUrl) => {\r\n              const blockList = state.children;\r\n              const id = Date.now();\r\n              const block = {\r\n                [id]: (\r\n                  <Widget\r\n                    src={widgetUrl}\r\n                    props={{\r\n                      children: [],\r\n                      isEditor: state.isEditor,\r\n                    }}\r\n                  />\r\n                ),\r\n              };\r\n              Object.assign(blockList, block);\r\n              State.update({\r\n                children: blockList,\r\n              });\r\n            },\r\n          }}\r\n        />\r\n        {Object.keys(state.children).map(\r\n          (blockId, index) => state.children[blockId]\r\n        )}\r\n      </>\r\n    ) : (\r\n      <>\r\n        {Object.keys(state.children).map(\r\n          (blockId, index) => state.children[blockId]\r\n        )}\r\n      </>\r\n    )}\r\n  </Stack>\r\n);\r\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/magicbuild.near/widget/ui-stack", "fact_widget_deployments_id": "84d28c46dc0d2c4fc562f41156467ce7", "inserted_timestamp": "2024-03-07T05:24:05.087Z", "modified_timestamp": "2024-03-07T05:24:05.087Z", "__row_index": 9}