{"tx_hash": "357jyRPDtxmNG6nicu5gt2JH2mssLHNrotUrBNbbSugE", "action_id_social": "Gfyw4Exwc5Ze29nyUgFcTEAhiFAKcex6EBz2tGMLctmN-0-widget", "block_id": 105176155, "block_timestamp": "2023-11-07T21:47:41.676Z", "signer_id": "magicbuild.near", "widget_name": "ui", "source_code": "State.init({\r\n  blockList: [],\r\n  openModalBlock: false,\r\n  clickedModalBlock: false,\r\n  widgetUrl,\r\n  widgetProps,\r\n});\r\nconst addBlock = () => {\r\n  const blockList = state.blockList;\r\n  const block = {\r\n    id: Date.now(),\r\n    widget: state.widgetUrl,\r\n    props: state.widgetProps,\r\n  };\r\n  blockList.push(block);\r\n  State.update({ blockList: blockList, openModalBlock: false });\r\n};\r\nconst removeBlock = (index) => {\r\n  const blockList = state.blockList;\r\n  blockList.splice(index, 1);\r\n  State.update({ blockList: blockList });\r\n};\r\nconst openModalBlock = (e, type) => {\r\n  if (type == \"show\") {\r\n    State.update({ openModalBlock: true, clicked: false });\r\n  }\r\n  if (type == \"close\") {\r\n    State.update({ openModalBlock: false });\r\n  }\r\n};\r\nconst onInputChangeWidgetUrl = (e) => {\r\n  State.update({ widgetUrl: e.target.value });\r\n};\r\nconst onInputChangeWidgetProps = (e) => {\r\n  State.update({ widgetPropst: e.target.value });\r\n};\r\nreturn (\r\n  <div class=\"container \">\r\n    {state.openModalBlock && (\r\n      <>\r\n        <div\r\n          style={{ display: \"block\" }}\r\n          className={`modal fade show`}\r\n          id=\"createClient\"\r\n          tabindex=\"-1\"\r\n          aria-labelledby=\"createClientLabel\"\r\n        >\r\n          <div class=\"modal-dialog\">\r\n            <div class=\"modal-content\">\r\n              <div class=\"modal-header\">\r\n                <h1 class=\"modal-title fs-5\" id=\"createClientLabel\">\r\n                  Choose Block\r\n                </h1>\r\n                <button\r\n                  type=\"button\"\r\n                  class=\"btn-close\"\r\n                  onClick={(e) => openModalBlock(e, \"close\")}\r\n                ></button>\r\n              </div>\r\n              <div class=\"modal-body\">\r\n                <div class=\"form-group\">\r\n                  <label>Widget Url:</label>\r\n                  <input\r\n                    class=\"form-control\"\r\n                    value={state.widgetUrl}\r\n                    onChange={(e) => onInputChangeWidgetUrl(e)}\r\n                  />\r\n                </div>\r\n                <div class=\"form-group\">\r\n                  <label>Props:</label>\r\n                  <input\r\n                    class=\"form-control\"\r\n                    value={state.widgetProps}\r\n                    onChange={(e) => onInputChangeWidgetProps(e)}\r\n                  />\r\n                </div>\r\n              </div>\r\n              <div class=\"modal-footer\">\r\n                <button\r\n                  type=\"button\"\r\n                  class=\"btn btn-secondary\"\r\n                  onClick={(e) => openModalBlock(e, \"close\")}\r\n                >\r\n                  Close\r\n                </button>\r\n                <button\r\n                  type=\"button\"\r\n                  onClick={addBlock}\r\n                  class=\"btn btn-primary\"\r\n                >\r\n                  Add\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"modal-backdrop fade show\"></div>\r\n      </>\r\n    )}\r\n    <div class=\"row mb-3\">\r\n      <div class=\"form-group col-md-3 \">\r\n        <div class=\"card\">\r\n          <div class=\"card-header\">Block</div>\r\n          <div class=\"card-body\">\r\n            <ul class=\"nav nav-tabs\" role=\"tablistBlock\">\r\n              <li class=\"nav-item\" role=\"presentation\">\r\n                <span\r\n                  class=\"nav-link px-3 active\"\r\n                  id=\"block-list-tab-home\"\r\n                  data-bs-toggle=\"pill\"\r\n                  data-bs-target=\"#pills-block-list\"\r\n                  type=\"button\"\r\n                  role=\"tab\"\r\n                  aria-controls=\"pills-block-list\"\r\n                  aria-selected=\"true\"\r\n                >\r\n                  Block\r\n                </span>\r\n              </li>\r\n              <li class=\"nav-item\" role=\"presentation\">\r\n                <span\r\n                  class=\"nav-link px-3 \"\r\n                  id=\"layout-tab-home\"\r\n                  data-bs-toggle=\"pill\"\r\n                  data-bs-target=\"#pills-layout-list\"\r\n                  type=\"button\"\r\n                  role=\"tab\"\r\n                  aria-controls=\"pills-layout-list\"\r\n                  aria-selected=\"true\"\r\n                >\r\n                  Layout\r\n                </span>\r\n              </li>\r\n            </ul>\r\n\r\n            <div class=\"tab-content\">\r\n              <div\r\n                class=\"tab-pane fade show active \"\r\n                id={`pills-block-list`}\r\n                role=\"tabpanel\"\r\n                aria-labelledby={`pills-tab-block-list`}\r\n                tabindex=\"0\"\r\n              >\r\n                1\r\n              </div>\r\n              <div\r\n                class=\"tab-pane fade \"\r\n                id={`pills-layout-list`}\r\n                role=\"tabpanel\"\r\n                aria-labelledby={`pills-tab-layout-list`}\r\n                tabindex=\"0\"\r\n              >\r\n                2\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"form-group col-md-7 border rounded p-3 border-2\">\r\n        <div>\r\n          {state.blockList &&\r\n            state.blockList.map((block, index) => (\r\n              <div class=\"row border rounded p-3 border-2 m-2 \">\r\n                <div class=\"row pb-2\">\r\n                  <div class=\"col-sm-11 \">\r\n                    <h6>\r\n                      <span class=\"text-info\">{block.url}</span>\r\n                    </h6>\r\n                  </div>\r\n                  <div class=\"col-sm-1 \">\r\n                    <button\r\n                      type=\"button\"\r\n                      onClick={(e) => removeBlock(index)}\r\n                      class=\"btn-close\"\r\n                    ></button>\r\n                  </div>\r\n                </div>\r\n                <Widget src={widget.url} props={widget.props} />\r\n              </div>\r\n            ))}\r\n        </div>\r\n        <button\r\n          type=\"button\"\r\n          onClick={(e) => openModalBlock(e, \"show\")}\r\n          class=\"btn btn-outline-primary btn-lg btn-block\"\r\n        >\r\n          Add Block +\r\n        </button>\r\n      </div>\r\n      <div class=\"form-group col-md-2 \">\r\n        <div class=\"card\">\r\n          <div class=\"card-header\">Edit</div>\r\n          <div class=\"card-body\"></div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n);\r\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/magicbuild.near/widget/ui", "fact_widget_deployments_id": "0ff338c04e57718b6e79a7741ea17e10", "inserted_timestamp": "2023-11-07T23:41:21.972Z", "modified_timestamp": "2023-11-07T23:41:21.972Z", "__row_index": 8}