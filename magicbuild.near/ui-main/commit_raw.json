{"tx_hash": "HoraBaWuQFk8ax21ccGVxQR7jDRRGWKSf3gKGdAE9Nzw", "action_id_social": "F4kawwB7gA9Zhv8YWK4ucr5KgVExxoxxpYHhLPebCXvw-0-widget", "block_id": 113826661, "block_timestamp": "2024-02-29T16:03:12.583Z", "signer_id": "magicbuild.near", "widget_name": "ui-main", "source_code": "State.init({\n  main: null,\n  styleClass: props.styleClass || \"\",\n  styleSheet: props.styleSheet || \"\",\n  element: props.element || \"div\",\n  children: props.children || [],\n  action: props.action || \"\",\n  isEditor: props.isEditor || true,\n  isRemove: props.isRemove || false,\n});\n\nconst updateStateEditor = () => {\n  State.update({\n    isEditor: !state.isEditor,\n  });\n};\nconst removeChildren = () => {\n  State.update({\n    isRemove: !state.isRemove,\n  });\n};\nif (!state.main) {\n  State.update({\n    main: styled[state.element]`\n    ${state.styleSheet}`,\n  });\n}\n\nconst Main = state.main;\n\nreturn (\n  <>\n    {state.isRemove ? (\n      \"\"\n    ) : (\n      <Main class={state.styleClass}>\n        <div class=\"d-flex justify-content-between\">\n          <div>{state.action}</div>\n          <div>\n            <button\n              type=\"button\"\n              class=\"btn btn-sm  btn-light\"\n              onClick={updateStateEditor}\n            >\n              {state.isEditor ? (\n                <i class=\"bi bi-caret-down-fill\"></i>\n              ) : (\n                <i class=\"bi bi-caret-right-fill\"></i>\n              )}\n            </button>\n            <button\n              type=\"button\"\n              class=\"btn btn-sm btn-danger\"\n              onClick={removeChildren}\n            >\n              <i class=\"bi bi-trash\"></i>\n            </button>\n          </div>\n        </div>\n\n        {state.isEditor == true ? (\n          <>\n            <Widget\n              src=\"magicbuild.near/widget/add-block-button\"\n              props={{\n                selectWidget: (widgetUrl) => {\n                  const childrenColection = state.children;\n                  childrenColection.push(\n                    <Widget\n                      src={widgetUrl}\n                      props={{\n                        children: [],\n                        isEditor: state.isEditor,\n                      }}\n                    />\n                  );\n                  State.update({\n                    children: childrenColection,\n                  });\n                },\n              }}\n            />\n            {state.children && state.children.map((widget) => widget)}\n          </>\n        ) : (\n          state.children && state.children.map((widget) => widget)\n        )}\n      </Main>\n    )}\n  </>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/magicbuild.near/widget/ui-main", "fact_widget_deployments_id": "b969900fcb50a118724c42fd75082ef8", "inserted_timestamp": "2024-03-07T05:24:05.087Z", "modified_timestamp": "2024-03-07T05:24:05.087Z", "__row_index": 7}