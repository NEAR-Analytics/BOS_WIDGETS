{"tx_hash": "CzqeLJeBPBhHx5JVdHrdFryftRFfn2JwEWTV6zdLYXxD", "action_id_social": "HqADw5oXaay9mACSaodd1FMUaU7hPdie2ByXWiPNZTXJ-0-widget", "block_id": 113827773, "block_timestamp": "2024-02-29T16:28:19.798Z", "signer_id": "magicbuild.near", "widget_name": "ui-main", "source_code": "State.init({\r\n  main: null,\r\n  styleClass: props.styleClass || \"\",\r\n  styleSheet: props.styleSheet || \"\",\r\n  element: props.element || \"div\",\r\n  children: props.children || [],\r\n  action: props.action || \"\",\r\n  isEditor: props.isEditor || true,\r\n  isRemove: props.isRemove || false,\r\n});\r\nconsole.log(\"styleClass\", styleClass);\r\nconst runAction = props.runAction ?? (() => {});\r\nconst updateStateEditor = () => {\r\n  State.update({\r\n    isEditor: !state.isEditor,\r\n  });\r\n};\r\nconst removeChildren = () => {\r\n  State.update({\r\n    isRemove: !state.isRemove,\r\n  });\r\n};\r\nif (!state.main) {\r\n  State.update({\r\n    main: styled[state.element]`\r\n    ${state.styleSheet}`,\r\n  });\r\n}\r\n\r\nconst Main = state.main;\r\n\r\nreturn (\r\n  <>\r\n    {state.isRemove ? (\r\n      \"\"\r\n    ) : (\r\n      <Main class={state.styleClass}>\r\n        <div class=\"d-flex justify-content-between\">\r\n          <div>\r\n            {state.action &&\r\n              state.action.map((actionBtn) => (\r\n                <button onClick={runAction}>{actionBtn.label}</button>\r\n              ))}\r\n          </div>\r\n          <div>\r\n            <button\r\n              type=\"button\"\r\n              class=\"btn btn-sm  btn-light\"\r\n              onClick={updateStateEditor}\r\n            >\r\n              {state.isEditor ? (\r\n                <i class=\"bi bi-caret-down-fill\"></i>\r\n              ) : (\r\n                <i class=\"bi bi-caret-right-fill\"></i>\r\n              )}\r\n            </button>\r\n            <button\r\n              type=\"button\"\r\n              class=\"btn btn-sm btn-danger\"\r\n              onClick={removeChildren}\r\n            >\r\n              <i class=\"bi bi-trash\"></i>\r\n            </button>\r\n          </div>\r\n        </div>\r\n\r\n        {state.isEditor == true ? (\r\n          <>\r\n            <Widget\r\n              src=\"magicbuild.near/widget/add-block-button\"\r\n              props={{\r\n                selectWidget: (widgetUrl) => {\r\n                  const childrenColection = state.children;\r\n                  childrenColection.push(\r\n                    <Widget\r\n                      src={widgetUrl}\r\n                      props={{\r\n                        children: [],\r\n                        isEditor: state.isEditor,\r\n                      }}\r\n                    />\r\n                  );\r\n                  State.update({\r\n                    children: childrenColection,\r\n                  });\r\n                },\r\n              }}\r\n            />\r\n            {state.children && state.children.map((widget) => widget)}\r\n          </>\r\n        ) : (\r\n          state.children && state.children.map((widget) => widget)\r\n        )}\r\n      </Main>\r\n    )}\r\n  </>\r\n);\r\n", "metadata": {"fork_of": "magicbuild.near/widget/ui@105302607"}, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/magicbuild.near/widget/ui-main", "fact_widget_deployments_id": "3a845f2b02899a09034d2008e8bea94b", "inserted_timestamp": "2024-03-07T05:24:05.087Z", "modified_timestamp": "2024-03-07T05:24:05.087Z", "__row_index": 14}