{"tx_hash": "HQFrkFkc3xYN1wWinFuMWjWkkxojAwHYKKBbDjGRtLoA", "action_id_social": "GwZ4qn6KWWPS2Y1q8Ji21Lcu5W5WB5hGybVxifcj5y96-0-widget", "block_id": 113828883, "block_timestamp": "2024-02-29T16:52:51.743Z", "signer_id": "magicbuild.near", "widget_name": "ui-main", "source_code": "const element = props.element || \"div\";\r\nconst styleSheet = props.styleSheet || \"\";\r\nconst styleClass = props.styleClass || \"\";\r\n\r\nState.init({\r\n  main: null,\r\n  children: props.children || [],\r\n  action: props.action || \"\",\r\n  isEditor: props.isEditor || true,\r\n  isRemove: props.isRemove || false,\r\n});\r\nconst runAction = props.runAction ?? (() => {});\r\nconst updateStateEditor = () => {\r\n  State.update({\r\n    isEditor: !state.isEditor,\r\n  });\r\n};\r\nconst removeChildren = () => {\r\n  State.update({\r\n    isRemove: !state.isRemove,\r\n  });\r\n};\r\nif (!state.main) {\r\n  State.update({\r\n    main: styled[element]`\r\n    ${styleSheet}`,\r\n  });\r\n}\r\n\r\nconst Main = state.main;\r\n\r\nreturn (\r\n  <>\r\n    {state.isRemove ? (\r\n      \"\"\r\n    ) : (\r\n      <Main class={styleClass}>\r\n        <div class=\"d-flex justify-content-between\">\r\n          <div>\r\n            {state.action &&\r\n              state.action.map((actionBtn) => (\r\n                <button onClick={() => runAction(actionBtn.eventName)}>\r\n                  {actionBtn.label}\r\n                </button>\r\n              ))}\r\n          </div>\r\n          <div>\r\n            <button\r\n              type=\"button\"\r\n              class=\"btn btn-sm  btn-light\"\r\n              onClick={updateStateEditor}\r\n            >\r\n              {state.isEditor ? (\r\n                <i class=\"bi bi-caret-down-fill\"></i>\r\n              ) : (\r\n                <i class=\"bi bi-caret-right-fill\"></i>\r\n              )}\r\n            </button>\r\n            <button\r\n              type=\"button\"\r\n              class=\"btn btn-sm btn-danger\"\r\n              onClick={removeChildren}\r\n            >\r\n              <i class=\"bi bi-trash\"></i>\r\n            </button>\r\n          </div>\r\n        </div>\r\n\r\n        {state.isEditor == true ? (\r\n          <>\r\n            <Widget\r\n              src=\"magicbuild.near/widget/add-block-button\"\r\n              props={{\r\n                selectWidget: (widgetUrl) => {\r\n                  const childrenColection = state.children;\r\n                  childrenColection.push(\r\n                    <Widget\r\n                      src={widgetUrl}\r\n                      props={{\r\n                        children: [],\r\n                        isEditor: state.isEditor,\r\n                      }}\r\n                    />\r\n                  );\r\n                  State.update({\r\n                    children: childrenColection,\r\n                  });\r\n                },\r\n              }}\r\n            />\r\n            {state.children && state.children.map((widget) => widget)}\r\n          </>\r\n        ) : (\r\n          state.children && state.children.map((widget) => widget)\r\n        )}\r\n      </Main>\r\n    )}\r\n  </>\r\n);\r\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/magicbuild.near/widget/ui-main", "fact_widget_deployments_id": "66ed9a8fdf53fa93d081014500d8ba9b", "inserted_timestamp": "2024-03-07T05:24:05.087Z", "modified_timestamp": "2024-03-07T05:24:05.087Z", "__row_index": 18}