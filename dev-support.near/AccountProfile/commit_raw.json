{"tx_hash": "AzT7eUknk4ZpyxiAa1LEUrkTfisXJvYygeUUnB6M8pxH", "action_id_social": "G1AfR1D1Uju36UeJZsc5d6QxrLn1TzPTS59s9gXSMZ4v-0-widget", "block_id": 90096846, "block_timestamp": "2023-04-21T13:31:44.797Z", "signer_id": "dev-support.near", "widget_name": "AccountProfile", "source_code": "const accountId = props.accountId || context.accountId;\nconst blockHeight = props.blockHeight || \"now\";\nconst profile = props.profile || Social.get(`${accountId}/profile/**`, \"final\");\nconst profileUrl = `/#/mob.near/widget/ProfilePage?accountId=${accountId}`;\nconst includeValidButton = props.includeValidButton;\n\nconst handleValidAnswerClick = () => {\n  Near.call(props.adminContract, \"mark_useful\", {\n    id: { account_id: accountId, block_height: blockHeight },\n    amount: \"1\",\n  });\n};\n\nconst Wrapper = styled.div`\n  display: inline-grid;\n  width: 100%;\n  align-items: center;\n  gap: 12px;\n  grid-template-columns: auto 1fr;\n  margin: 0;\n  color: #687076 !important;\n  outline: none;\n  text-decoration: none !important;\n  background: none !important;\n  border: none;\n  text-align: left;\n  padding: 0;\n\n  > * {\n    min-width: 0;\n  }\n`;\n\nconst Text = styled.p`\n  margin: 0;\n  font-size: 14px;\n  line-height: 20px;\n  color: ${(p) => (p.bold ? \"#11181C\" : \"#687076\")};\n  font-weight: ${(p) => (p.bold ? \"600\" : \"400\")};\n  font-size: ${(p) => (p.small ? \"10px\" : \"14px\")};\n  overflow: ${(p) => (p.ellipsis ? \"hidden\" : \"\")};\n  text-overflow: ${(p) => (p.ellipsis ? \"ellipsis\" : \"\")};\n  white-space: nowrap;\n`;\nconst ProfileLink = styled.p`\n\n  margin: 0;\n  font-size: 14px;\n  line-height: 20px;\n  color: ${(p) => (p.bold ? \"#11181C\" : \"#687076\")};\n  font-weight: ${(p) => (p.bold ? \"600\" : \"400\")};\n  font-size: ${(p) => (p.small ? \"10px\" : \"14px\")};\n  overflow: ${(p) => (p.ellipsis ? \"hidden\" : \"\")};\n  text-overflow: ${(p) => (p.ellipsis ? \"ellipsis\" : \"\")};\n  white-space: nowrap;\n\n\n  &:hover {\n    color: initial;\n  }\n`;\n\nconst Avatar = styled.div`\n  width: ${props.avatarSize || \"40px\"};\n  height: ${props.avatarSize || \"40px\"};\n  flex-shrink: 0;\n  border: 1px solid #eceef0;\n  overflow: hidden;\n  border-radius: 40px;\n  transition: border-color 200ms;\n\n  img {\n    object-fit: cover;\n    width: 100%;\n    height: 100%;\n  }\n`;\n\nconst Item = styled.div`\n  padding: 0;\n  .btn {\n    &:hover,\n    &:focus {\n      background-color: #ECEDEE;\n      text-decoration: none;\n      outline: none;\n    }\n\n    &.valid-btn {\n      i {\n        color: #30A46C;\n      }\n    }\n    span {\n      font-weight: 500;\n    }\n  }\n`;\n\nconst Name = styled.div`\n  display: flex;\n  gap: 6px;\n  align-items: center;\n`;\n\nreturn (\n  <Wrapper>\n    <Avatar>\n      <Widget\n        src=\"mob.near/widget/Image\"\n        props={{\n          image: profile.image,\n          alt: profile.name,\n          fallbackUrl:\n            \"https://ipfs.near.social/ipfs/bafkreibiyqabm3kl24gcb2oegb7pmwdi6wwrpui62iwb44l7uomnn3lhbi\",\n        }}\n      />\n    </Avatar>\n\n    <div>\n      <Name>\n        <ProfileLink as=\"a\" href={profileUrl} ellipsis bold>\n          {profile.name || accountId.split(\".near\")[0]}\n        </ProfileLink>\n\n        <div class=\"d-flex align-items-center flex-fill\">\n          <Text as=\"span\">\uff65</Text>\n          <Text>\n            {blockHeight === \"now\" ? (\n              \"now\"\n            ) : (\n              <>\n                <Widget src=\"mob.near/widget/TimeAgo\" props={{ blockHeight }} />\n                ago\n              </>\n            )}\n          </Text>\n          {includeValidButton && (\n            <div class=\"dropdown ms-auto\">\n              <button\n                class=\"btn border-0 p-0\"\n                type=\"button\"\n                data-bs-toggle=\"dropdown\"\n                aria-expanded=\"false\"\n              >\n                <i class=\"bi bi-three-dots\" />\n              </button>\n              <ul class=\"dropdown-menu\">\n                <li>\n                  <Item className=\"dropdown-item\">\n                    <button\n                      disabled={\n                        state.loading || dataLoading || !context.accountId\n                      }\n                      className={`btn ${props.className}`}\n                      onClick={handleValidAnswerClick}\n                    >\n                      <i class=\"bi bi-check-circle me-1\" />\n                      <span>Mark as valid</span>\n                    </button>\n                  </Item>\n                </li>\n              </ul>\n            </div>\n          )}\n        </div>\n      </Name>\n\n      {!props.hideAccountId && <Text ellipsis>@{accountId}</Text>}\n    </div>\n  </Wrapper>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/dev-support.near/widget/AccountProfile", "fact_widget_deployments_id": "392d57a526a55c81d5ec08649d3faa39", "inserted_timestamp": "2000-01-01T00:00:00.000Z", "modified_timestamp": "2000-01-01T00:00:00.000Z", "__row_index": 2}