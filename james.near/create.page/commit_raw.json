{"tx_hash": "BcHbxEyzPAP9p15uMACZeZ6XML6WQSnMH34RBB9Bmzgp", "action_id_social": "5GaHVwTnEWmjUZyy6bVpgAQ9Lz29ya6nUKURdk3rpJPA-0-widget", "block_id": 98611723, "block_timestamp": "2023-08-12T03:35:21.944Z", "signer_id": "james.near", "widget_name": "create.page", "source_code": "const accountId = props.accountId ?? context.accountId;\n\nconst template = Social.get(`${accountId}/settings/dev/src`);\n\nif (template === null) {\n  return \"Loading...\";\n}\n\nconst src = \"hack.near/widget/community.page\";\n\nState.init({\n  h1,\n  h2,\n  tagline,\n  accountId,\n  buttonText,\n  link,\n  mainColor,\n  name,\n});\n\nconst handleCreate = () =>\n  Social.set({\n    widget: {\n      [`${state.name}`]: {\n        \"\": `const path = props.path || \"${accountId}/thing/page/${state.name}}\"; const template = props.template || \"hack.near/widget/community.page\"; const thing = JSON.parse(Social.get(path) || \"null\"); return <Widget src={thing.template || template} props={thing} />`,\n        metadata: {\n          tags: {\n            build: \"\",\n          },\n        },\n      },\n    },\n  });\n\nreturn (\n  <>\n    <h3>Create Your Own Page</h3>\n    <p>\n      <i>\n        \u21b3 read the{\" \"}\n        <a href=\"https://docs.near.org/bos/home#props-receiving-input\">\n          documentation\n        </a>\n        about props\n      </i>\n    </p>\n    <hr />\n    <div className=\"mt-3\">\n      <div>\n        <h5>h1</h5>\n        <input type=\"text\" placeholder=\"Multi\" value={state.h1} />\n      </div>\n    </div>\n    <div className=\"mt-3\">\n      <h5>h2</h5>\n      <input type=\"text\" placeholder=\"DAO\" value={state.h2} />\n    </div>\n    <div className=\"mt-3\">\n      <h5>accountId (of the community)</h5>\n      <input type=\"text\" placeholder=\"every.near\" value={state.communityId} />\n    </div>\n    <div className=\"mt-3\">\n      <h5>contractId (for an NFT gate)</h5>\n      <input\n        type=\"text\"\n        placeholder=\"mint.sharddog.near\"\n        value={state.contractId}\n      />\n    </div>\n    <div className=\"mt-3\">\n      <h5>tagline</h5>\n      <input\n        type=\"text\"\n        placeholder=\"Everyone builds everything together!\"\n        value={state.tagline}\n      />\n    </div>\n    <div className=\"mt-3\">\n      <h5>buttonText</h5>\n      <input type=\"text\" placeholder=\"Get Started\" value={state.buttonText} />\n    </div>\n    <div className=\"mt-3\">\n      <h5>link</h5>\n      <input\n        type=\"text\"\n        placeholder=\"https://everything.dev\"\n        value={state.link}\n      />\n    </div>\n    <div className=\"mt-3\">\n      <h5>mainColor</h5>\n      <input type=\"text\" placeholder=\"#000\" value={state.mainColor} />\n    </div>\n    <div className=\"mt-3\">\n      <h5>name (for this page)</h5>\n      <input type=\"text\" placeholder=\"community\" value={state.name} />\n    </div>\n    <div className=\"mt-3\">\n      <button\n        disabled={\n          !state.name ??\n          !state.h1 ??\n          !state.h2 ??\n          !state.tagline ??\n          !state.buttonText ??\n          !state.link ??\n          !state.mainColor ??\n          !state.name\n        }\n        className=\"btn btn-success mx-1\"\n        onClick={handleCreate}\n      >\n        Create\n      </button>\n      <a\n        className=\"btn btn-outline-success mx-1\"\n        href=\"#/edit/hack.near/widget/community.page\"\n      >\n        Edit Template\n      </a>\n    </div>\n    <hr />\n    <h3>Preview</h3>\n    <div className=\"mb-2\">\n      <Widget\n        src={src}\n        props={{\n          h1: state.h1,\n          h2: state.h2,\n          tagline: state.tagline,\n          communityId: state.communityId,\n          contractId: state.contractId,\n          buttonText: state.buttonText,\n          link: state.link,\n          mainColor: state.mainColor,\n          name: state.name,\n        }}\n      />\n    </div>\n  </>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/james.near/widget/create.page", "fact_widget_deployments_id": "2a5db5ac0e8d7ccc6d1cdf5c0d85356e", "inserted_timestamp": "2024-03-07T05:24:05.087Z", "modified_timestamp": "2024-03-07T05:24:05.087Z", "__row_index": 0}