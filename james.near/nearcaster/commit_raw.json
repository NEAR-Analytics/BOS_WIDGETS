{"tx_hash": "EP8AMP3r3tcxvteaPtG3YDfBofvNhmZ1XE3k3kb8muvS", "action_id_social": "Hx15g44xmv9qvPHmtdD3fE1ia8DR6vxZGcupt8TVcB4p-0-widget", "block_id": 111697605, "block_timestamp": "2024-01-30T14:56:48.145Z", "signer_id": "james.near", "widget_name": "nearcaster", "source_code": "const [apiKey, setApiKey] = useState(\"\");\nconst [viewerId, setViewerId] = useState(\"\");\nconst [targetId, setTargetId] = useState(\"\");\n\nconst [farData, setFarData] = useState(null);\nconst [error, setError] = useState(null);\nconst [isLoading, setIsLoading] = useState(false);\n\nconst headers = {\n  method: \"GET\",\n  headers: {\n    api_key: `${apiKey}`,\n  },\n};\n\nfunction fetchData() {\n  const params = {\n    target_fid: targetId, // 195725\n    viewer_fid: viewerId, // 235259\n  };\n\n  console.log(params);\n\n  const urlSearchParams = Object.keys(params)\n    .map((param) => `${param}=${params[param]}`)\n    .join(\"&\");\n\n  console.log(urlSearchParams);\n\n  let promise = asyncFetch(\n    `https://api.neynar.com/v2/farcaster/followers/relevant?${urlSearchParams}`,\n    headers\n  );\n\n  promise.then((data) => {\n    setFarData(data);\n  });\n}\n\nreturn (\n  <>\n    <div className=\"m-3\">\n      <h3 className=\"m-2\">Social Hub</h3>\n      <h5 className=\"m-2 mt-3\">Farcaster Social Graph</h5>\n      <div className=\"m-2\">\n        <input\n          type=\"text\"\n          placeholder=\"Neynar API Key\"\n          value={apiKey}\n          onChange={(e) => setApiKey(e.target.value)}\n        />\n      </div>\n      <h5 className=\"m-2 mt-3\">Target FID</h5>\n      <div className=\"m-2\">\n        <input\n          type=\"text\"\n          placeholder=\"whose profile you are looking at\"\n          value={targetId}\n          onChange={(e) => setTargetId(e.target.value)}\n        />\n      </div>\n      <h5 className=\"m-2 mt-3\">Viewer FID</h5>\n      <div className=\"m-2\">\n        <input\n          type=\"text\"\n          placeholder=\"who is looking at the profile\"\n          value={viewerId}\n          onChange={(e) => setViewerId(e.target.value)}\n        />\n      </div>\n      <div className=\"m-2\">\n        <button className=\"btn btn-outline-success mt-2\" onClick={fetchData}>\n          Get Data\n        </button>\n      </div>\n    </div>\n    <div className=\"m-3\">\n      <p className=\"m-3\">{farData && JSON.stringify(farData)}</p>\n    </div>\n  </>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/james.near/widget/nearcaster", "fact_widget_deployments_id": "65bf41adad15c10da7a9ba7e5135f341", "inserted_timestamp": "2024-03-07T05:24:05.087Z", "modified_timestamp": "2024-03-07T05:24:05.087Z", "__row_index": 2}