{"tx_hash": "7dx3PVYk19qFpLM7u4dJQjHmJwYV6MhFA5PRDoiDhoji", "action_id_social": "HZhUV3QrS5nzN4wcArGKZpKWJkRmmfFc3eW2tARddC5H-0-widget", "block_id": 98379676, "block_timestamp": "2023-08-08T23:32:46.714Z", "signer_id": "james.near", "widget_name": "mutuals", "source_code": "const accountId = props.accountId ?? context.accountId;\r\n\r\nif (!accountId) {\r\n  return \"Please connect your NEAR account :)\";\r\n}\r\n\r\nconst mutualFollowers = [];\r\n\r\nconst followers = Social.get(`${accountId}/graph/follow/*`);\r\n\r\nif (followers) {\r\n  for (const follower of Object.keys(followers)) {\r\n    if (allAccounts[follower]?.graph?.follow?.[account]) {\r\n      if (!mutualFollowers[account]) {\r\n        mutualFollowers[account] = [];\r\n      }\r\n      mutualFollowers[account].push(follower);\r\n    }\r\n  }\r\n}\r\n\r\nconst FollowButtonWrapper = styled.div`\r\n  width: 100%;\r\n  padding: 2px;\r\n  display: flex;\r\n  justify-content: space-between;\r\n\r\n  div,\r\n  button {\r\n    flex-grow: 1;\r\n    padding: 8px;\r\n    margin: 4px;\r\n  }\r\n\r\n  @media (max-width: 1200px) {\r\n    width: auto;\r\n    div,\r\n    button {\r\n      width: auto;\r\n    }\r\n  }\r\n`;\r\n\r\nreturn (\r\n  <>\r\n    <p>{JSON.stringify(followers)}</p>\r\n    {mutualFollowers.map((accountId, i) => (\r\n      <div key={i} className=\"d-flex border-bottom justify-content-between\">\r\n        <div className=\"d-flex align-items-center\">\r\n          <div className=\"p-3\">\r\n            <h5>{i + 1}</h5>\r\n          </div>\r\n          <div className=\"p-2\">\r\n            <Widget src=\"mob.near/widget/Profile\" props={{ accountId }} />\r\n          </div>\r\n        </div>\r\n        <div className=\"p-1 m-3\">\r\n          <Widget src=\"mob.near/widget/FollowButton\" props={{ accountId }} />\r\n        </div>\r\n      </div>\r\n    ))}\r\n  </>\r\n);\r\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/james.near/widget/mutuals", "fact_widget_deployments_id": "d06732d343125e52e3767de2983326e7", "inserted_timestamp": "2023-08-09T00:55:19.225Z", "modified_timestamp": "2023-08-09T00:55:19.225Z", "__row_index": 4}