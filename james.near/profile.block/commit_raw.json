{"tx_hash": "DhQ7NaQSr5v45e2fY2E8eFys9nnvEh81cfdKwtRvdz25", "action_id_social": "xwXDFx56xqvAQU1Q5293dDhy5eGURUK8hrqzeCetooJ-0-widget", "block_id": 111955380, "block_timestamp": "2024-02-02T19:57:22.891Z", "signer_id": "james.near", "widget_name": "profile.block", "source_code": "const accountId = props.accountId ?? context.accountId;\nif (!accountId) {\n  return \"No account ID\";\n}\nconst fast = !!props.fast;\n\nconst link =\n  props.link &&\n  (props.link === true\n    ? `https://near.social/mob.near/widget/ProfilePage?accountId=${accountId}`\n    : props.link);\n\nconst profile = props.profile ?? Social.getr(`${accountId}/profile`);\n\nif (profile === null) {\n  return \"Loading\";\n}\n\nconst showEditButton =\n  profile !== undefined &&\n  (!props.profile || props.showEditButton) &&\n  accountId &&\n  accountId === context.accountId;\n\nconst name = profile.name || \"Nameless profile\";\nconst image = profile.image;\nconst backgroundImage = profile.backgroundImage;\nconst tags = Object.keys(profile.tags ?? {});\n\nconst nameHeader = <h4 className=\"mt-0 mb-0 text-truncate\">{name}</h4>;\n\nconst Wrapper = styled.div`\n  overflow: hidden;\n  margin: 0 -12px; \n`;\n\nconst shareSvg = (\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    width=\"24\"\n    height=\"24\"\n    fill=\"currentColor\"\n    viewBox=\"0 0 16 16\"\n    stroke=\"currentColor\"\n    strokeWidth=\"0.363\"\n  >\n    <path d=\"M4.715 6.542 3.343 7.914a3 3 0 1 0 4.243 4.243l1.828-1.829A3 3 0 0 0 8.586 5.5L8 6.086a1.002 1.002 0 0 0-.154.199 2 2 0 0 1 .861 3.337L6.88 11.45a2 2 0 1 1-2.83-2.83l.793-.792a4.018 4.018 0 0 1-.128-1.287z\" />\n    <path d=\"M6.586 4.672A3 3 0 0 0 7.414 9.5l.775-.776a2 2 0 0 1-.896-3.346L9.12 3.55a2 2 0 1 1 2.83 2.83l-.793.792c.112.42.155.855.128 1.287l1.372-1.372a3 3 0 1 0-4.243-4.243L6.586 4.672z\" />\n  </svg>\n);\n\nreturn (\n  <Wrapper>\n    <div className=\"px-4 pt-0 pb-5 bg-dark position-relative\">\n      {backgroundImage && (\n        <Widget\n          src=\"mob.near/widget/Image\"\n          props={{\n            image: backgroundImage,\n            alt: \"profile background\",\n            className: \"position-absolute w-100 h-100\",\n            style: { objectFit: \"cover\", left: 0, top: 0 },\n            fallbackUrl:\n              \"https://ipfs.near.social/ipfs/bafkreibmiy4ozblcgv3fm3gc6q62s55em33vconbavfd2ekkuliznaq3zm\",\n          }}\n        />\n      )}\n      <div\n        className=\"profile-picture d-inline-block\"\n        style={{ transform: \"translateY(7rem)\" }}\n      >\n        <Widget\n          src=\"mob.near/widget/ProfileImage\"\n          props={{\n            profile,\n            fast,\n            accountId,\n            style: { width: \"10rem\", height: \"10rem\" },\n            className: \"mb-2\",\n            imageClassName: \"rounded-circle w-100 h-100 img-thumbnail d-block\",\n            thumbnail: false,\n          }}\n        />\n      </div>\n    </div>\n    <div style={{ backgroundColor: \"#000\" }} className=\"px-4 pb-4\">\n      <div\n        className=\"d-flex justify-content-end align-items-center\"\n        style={{ height: \"4rem\" }}\n      >\n        {showEditButton && (\n          <div className=\"mt-3\">\n            <a\n              href=\"/mob.near/widget/ProfileEditor\"\n              className=\"btn btn-outline-light rounded-5\"\n            >\n              Edit profile\n            </a>\n          </div>\n        )}\n      </div>\n      <div className=\"d-md-flex justify-content-between mb-2 float-clear\">\n        <div>\n          <div className=\"me-2 d-sm-flex gap-1 flex-row align-items-center\">\n            <div style={{ color: \"#fff\" }} className=\"me-2 position-relative\">\n              <div className=\"d-flex text-truncate mb-2\">\n                {link ? (\n                  <a className=\"text-truncate text-light\" href={link}>\n                    {nameHeader}\n                  </a>\n                ) : (\n                  nameHeader\n                )}\n                <div className=\"ms-1\">\n                  <Widget\n                    src=\"james.near/widget/BuilderHat\"\n                    props={{ accountId }}\n                  />\n                </div>\n              </div>\n              <div className=\"small text-truncate\">\n                <i className=\"bi bi-person-fill text-light m-1\"></i>\n                {accountId}\n                <span className=\"ms-2\">\n                  <Widget\n                    src=\"james.near/widget/CopyButton\"\n                    props={{\n                      text: accountId,\n                      className: \"btn btn-sm btn-outline-light\",\n                    }}\n                  />\n                </span>\n                <Widget\n                  src=\"james.near/widget/FollowsYouBadge\"\n                  props={{ accountId }}\n                />\n              </div>\n            </div>\n\n            <div>\n              <Widget\n                src=\"james.near/widget/FollowButton\"\n                props={{ accountId }}\n              />\n              <Widget\n                src=\"james.near/widget/request.collab\"\n                props={{ accountId }}\n              />\n            </div>\n          </div>\n          <div className=\"mt-2\">\n            <Widget src=\"james.near/widget/FollowStats\" props={{ accountId }} />\n          </div>\n        </div>\n        <div style={{ minWidth: \"12rem\" }}>\n          <Widget\n            src=\"mob.near/widget/LinkTree\"\n            props={{ linktree: profile.linktree }}\n          />\n        </div>\n      </div>\n\n      {tags.length > 0 && (\n        <div className=\"mb-2\">\n          {tags.map((tag, i) => (\n            <span key={i} className=\"me-1 mb-1 fw-bold badge text-bg-success\">\n              #{tag}\n            </span>\n          ))}\n        </div>\n      )}\n\n      <div>\n        <div className=\"float-end\">\n          <Widget\n            src=\"james.near/widget/CopyButton\"\n            props={{\n              text: link,\n              label: \"Share\",\n              clipboardIcon: shareSvg,\n              className: \"btn btn-outline-light rounded-5\",\n            }}\n          />\n        </div>\n\n        <Widget src=\"hack.near/widget/every.tag\" props={{ accountId }} />\n      </div>\n    </div>\n  </Wrapper>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/james.near/widget/profile.block", "fact_widget_deployments_id": "f40736a3a676d092e0b18591b6b6c189", "inserted_timestamp": "2024-03-07T05:24:05.087Z", "modified_timestamp": "2024-03-07T05:24:05.087Z", "__row_index": 1}