{"tx_hash": "Afbtshw91by97isZ2dkbHfdXc4k5GVgnLAzeq1v89Yqo", "action_id_social": "3ojCqJGYamzfcpydXJRo2aQ3Yt9e6ED9WamQhomu4C4J-0-widget", "block_id": 98795009, "block_timestamp": "2023-08-14T15:59:14.892Z", "signer_id": "james.near", "widget_name": "TalentLayer.dashboard.mints", "source_code": "const data = fetch(\n  \"https://api.dune.com/api/v1/query/2785733/results?api_key=lu4oef7rzoaUwWuC8aqtFnDKjKbRvLSW\"\n);\n\nif (!data) {\n  return <p>Loading...</p>;\n}\n\nconst ChartContainer = styled.div`\n  width: 100%;\n  max-width: 800px;\n  margin: 0 auto;\n`;\n\nconst ChartSVG = styled.svg`\n  width: 100%;\n  height: auto;\n`;\n\nconst rows = data.body.result.rows.reverse();\n\nconst mintedPoints = rows.map((row) => ({\n  x: new Date(row.period).getTime(),\n  y: row.minted,\n}));\n\nconst totalMintedPoints = rows.map((row) => ({\n  x: new Date(row.period).getTime(),\n  y: row.total_minted,\n}));\n\nconst minX = mintedPoints[0].x;\nconst maxX = mintedPoints[mintedPoints.length - 1].x;\n\nconst scaleY = (y) =>\n  100 -\n  (y / Math.max(...rows.map((row) => Math.max(row.minted, row.total_minted)))) *\n    100;\n\nconst mintedPath = mintedPoints\n  .map(\n    (point) => `${((point.x - minX) / (maxX - minX)) * 100},${scaleY(point.y)}`\n  )\n  .join(\" \");\nconst totalMintedPath = totalMintedPoints\n  .map(\n    (point) => `${((point.x - minX) / (maxX - minX)) * 100},${scaleY(point.y)}`\n  )\n  .join(\" \");\n\nreturn (\n  <>\n    <ChartContainer>\n      <h3>v2 - Total TalentLayer Mints</h3>\n      <br />\n      <div className=\"p-5\">\n        <ChartSVG viewBox=\"0 0 100 100\">\n          <polyline\n            points={mintedPath}\n            fill=\"none\"\n            stroke=\"blue\"\n            strokeWidth=\"0.5\"\n          />\n          <polyline\n            points={totalMintedPath}\n            fill=\"none\"\n            stroke=\"red\"\n            strokeWidth=\"0.5\"\n          />\n        </ChartSVG>\n      </div>\n    </ChartContainer>\n  </>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/james.near/widget/TalentLayer.dashboard.mints", "fact_widget_deployments_id": "176cf1cff1f0524bd789f87807c8248f", "inserted_timestamp": "2023-08-14T17:22:18.846Z", "modified_timestamp": "2023-08-14T17:22:18.846Z", "__row_index": 0}