{"tx_hash": "8pJyo6aF3KXnN9vZkgoJHyWZHkmAYsM16EbLiiTQXWDC", "action_id_social": "41ThvTt8d4Hcz1VeYhbqGiCHNqJ5Htx7XMDi5j6aP8BY-0-widget", "block_id": 101403804, "block_timestamp": "2023-09-18T13:18:22.673Z", "signer_id": "itexpert120-contra.near", "widget_name": "EventFeed", "source_code": "const events = props.events;\r\nconst currentDate = props.date;\r\n\r\nconst groupedEvents = {};\r\n\r\nevents.forEach((event) => {\r\n  const startDate = new Date(event.start);\r\n  const yearMonth = startDate.toISOString().substr(0, 7); // Extract 'year-month' from the ISO string\r\n  const day = startDate.toISOString().substr(8, 2); // Extract 'day' from the ISO string\r\n\r\n  if (!groupedEvents[yearMonth]) {\r\n    groupedEvents[yearMonth] = {};\r\n  }\r\n\r\n  if (!groupedEvents[yearMonth][day]) {\r\n    groupedEvents[yearMonth][day] = [];\r\n  }\r\n\r\n  groupedEvents[yearMonth][day].push(event);\r\n});\r\n\r\n// Format currentDate to match the 'year-month' format\r\nconst currentDateFormatted = currentDate.toISOString().substr(0, 7);\r\n\r\n// Format currentDate to match the 'day' format\r\nconst currentDayFormatted = currentDate.toISOString().substr(8, 2);\r\n\r\n// Access events for the selected year, month, and day\r\nconst eventsOfMonths = groupedEvents[currentDateFormatted] || [];\r\n\r\nconst dateH2 = styled.h2`\r\n  color: #000;\r\n  font-size: 24px;\r\n  font-style: normal;\r\n  font-weight: 600;\r\n  line-height: normal;\r\n  width: 69px;\r\n`;\r\n\r\nconst monthSpan = styled.span`\r\n  margin-left: 1rem;\r\n  color: #525252;\r\n  font-size: 16px;\r\n  font-style: normal;\r\n  font-weight: 400;\r\n  line-height: normal;\r\n`;\r\n\r\nconst eventsContainer = styled.div`\r\n  @media (width <= 575px) {\r\n    flex-direction: column;\r\n    justify-content: start;\r\n    align-items: center;\r\n  }\r\n`;\r\n\r\nreturn (\r\n  <div className=\"border border-light-subtle p-3\">\r\n    {Object.keys(eventsOfMonths).map((date) => (\r\n      <eventsContainer key={date} className=\"d-flex align-items-start\">\r\n        <dateH2 className=\"d-flex align-items-center\">\r\n          {Number(date)}{\" \"}\r\n          <monthSpan>\r\n            {currentDate.toLocaleString(\"en-us\", { month: \"short\" })}\r\n          </monthSpan>\r\n        </dateH2>\r\n        <ul className=\"ps-4 w-100\">\r\n          {eventsOfMonths[date].map((event) => {\r\n            return (\r\n              <Widget\r\n                src=\"itexpert120-contra.near/widget/EventCard\"\r\n                props={{ data: event }}\r\n              />\r\n            );\r\n          })}\r\n          {eventsOfMonths[date].length === 0 && <p>No Events Found</p>}\r\n        </ul>\r\n      </eventsContainer>\r\n    ))}\r\n  </div>\r\n);\r\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/itexpert120-contra.near/widget/EventFeed", "fact_widget_deployments_id": "459051ec342cbb578f2f8f8bd6622dcd", "inserted_timestamp": "2023-09-18T14:41:01.726Z", "modified_timestamp": "2023-09-18T14:41:01.726Z", "__row_index": 0}