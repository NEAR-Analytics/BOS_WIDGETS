{"tx_hash": "HED5vNSP71MpZbuEt81Jqty8cYexMpkJidi74JMGKPNX", "action_id_social": "CQX3hCf3T8D3h8JvuL1AhouxvvzZLHgzwBrhzTcFMwh1-0-widget", "block_id": 102227180, "block_timestamp": "2023-09-29T13:51:38.602Z", "signer_id": "itexpert120-contra.near", "widget_name": "HomepageSelector", "source_code": "const accountId = context.accountId;\r\n\r\nif (!accountId) {\r\n  return \"Please sign in with NEAR wallet to edit your homepage\";\r\n}\r\n\r\nconst defaultHomepage = \"devs.near/widget/Home\";\r\n\r\nconst homepage = Social.get(`${accountId}/settings/discover.bos/homepage`);\r\n\r\nif (homepage === null) {\r\n  return \"Loading\";\r\n}\r\n\r\ninitState({\r\n  homepage: homepage ?? defaultHomepage,\r\n});\r\n\r\nconst resetHomepage = () => {\r\n  state.homepage = defaultHomepage;\r\n  State.update();\r\n};\r\n\r\nreturn (\r\n  <div>\r\n    <div>\r\n      <h4>Edit your homepage</h4>\r\n    </div>\r\n    <div className=\"mb-2\">\r\n      Widget:\r\n      <input type=\"text\" value={state.homepage} placeholder={defaultHomepage} />\r\n    </div>\r\n    <div className=\"mb-2\">\r\n      <CommitButton\r\n        data={{ settings: { \"discover.bos\": { homepage: state.homepage } } }}\r\n      >\r\n        Save homepage\r\n      </CommitButton>\r\n      {state.homepage !== defaultHomepage && (\r\n        <button\r\n          className=\"btn btn-outline-primary ms-2\"\r\n          onClick={resetHomepage}\r\n        >\r\n          Reset homepage\r\n        </button>\r\n      )}\r\n      {homepage === state.homepage && (\r\n        <a className=\"btn btn-outline-primary ms-2\" href={`/`}>\r\n          Open homepage\r\n        </a>\r\n      )}\r\n    </div>\r\n    <hr />\r\n    <div className=\"mb-2\">\r\n      <Widget src={state.homepage} />\r\n    </div>\r\n  </div>\r\n);\r\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/itexpert120-contra.near/widget/HomepageSelector", "fact_widget_deployments_id": "25ad31ccc7ae018ab1e148a935f77765", "inserted_timestamp": "2024-03-07T05:24:05.087Z", "modified_timestamp": "2024-03-07T05:24:05.087Z", "__row_index": 1}