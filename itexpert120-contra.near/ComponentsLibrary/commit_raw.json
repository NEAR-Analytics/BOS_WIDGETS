{"tx_hash": "TTbYNLZYoUkhXGyBUxhyZNyKwFkuQQFKfTiN5YJxb69", "action_id_social": "BWfXrc6PrJtkyScJGcv3eY9UPrYSMExDQv7ZCpyGqWo9-0-widget", "block_id": 101624426, "block_timestamp": "2023-09-21T12:20:17.356Z", "signer_id": "itexpert120-contra.near", "widget_name": "ComponentsLibrary", "source_code": "const componentsURL =\r\n  \"https://raw.githubusercontent.com/NEARBuilders/BOSLibraries/main/library.json\";\r\n\r\nfunction loadComponents() {\r\n  const res = fetch(componentsURL);\r\n  return res.body && JSON.parse(res.body);\r\n}\r\n\r\nconst componentList = loadComponents();\r\nif (!componentList) {\r\n  return \"\u29d7 Loading Components...\";\r\n}\r\n\r\nState.init({\r\n  components: componentList,\r\n});\r\n\r\nconst Sidebar = () => {\r\n  const sidebarDiv = styled.div`\r\n    min-width: 20%;\r\n  `;\r\n\r\n  return (\r\n    <sidebarDiv className=\"me-4\">\r\n      <h2 className=\"mb-4\">\ud83d\udcda Libraries</h2>\r\n      <div>\r\n        <div\r\n          style={{ cursor: \"pointer\" }}\r\n          className=\"border p-2 d-flex align-items-center rounded-pill justify-content-center mb-2 shadow-sm \"\r\n          onClick={() => {\r\n            State.update({ components: componentList });\r\n          }}\r\n        >\r\n          All Components\r\n        </div>\r\n        <hr />\r\n        {componentList.map((it) => (\r\n          <div\r\n            style={{ cursor: \"pointer\" }}\r\n            className=\"border p-2 d-flex align-items-center rounded-pill justify-content-center mb-2 shadow-sm \"\r\n            onClick={() => {\r\n              const filterCategory = componentList.filter(\r\n                (cat) => cat.category === it.category\r\n              );\r\n              State.update({ components: filterCategory });\r\n            }}\r\n          >\r\n            {it.category}\r\n          </div>\r\n        ))}\r\n      </div>\r\n    </sidebarDiv>\r\n  );\r\n};\r\n\r\nconst componentView = ({ it }) => {\r\n  const categoryDiv = styled.div`\r\n    margin-bottom: 1rem;\r\n    width: 100%;\r\n  `;\r\n\r\n  return (\r\n    <>\r\n      <categoryDiv key={`category-${it.id}`}>\r\n        <h5>{it.category}</h5>\r\n        <hr />\r\n        <div className=\"d-flex flex-column\">\r\n          {it.components.map((comp) => (\r\n            <div className=\"mb-2\" style={{ maxWidth: \"100%\" }}>\r\n              <Widget\r\n                src=\"near/widget/ComponentCard\"\r\n                props={{\r\n                  src: `${comp.accountId}/widget/${comp.widgetName}`,\r\n                }}\r\n              />\r\n            </div>\r\n          ))}\r\n        </div>\r\n      </categoryDiv>\r\n    </>\r\n  );\r\n};\r\n\r\nconst responsiveSidebar = styled.div`\r\n  display: flex;\r\n  flex-direction: row;\r\n\r\n  @media (width < 786px) {\r\n    flex-direction: column;\r\n  }\r\n`;\r\n\r\nreturn (\r\n  <div className=\"container\">\r\n    <responsiveSidebar>\r\n      <Sidebar />\r\n      <div style={{ flex: 1, marginRight: \"1rem\" }}>\r\n        <div className=\"mb-4\">\r\n          <h1>Component Libraries</h1>\r\n          <p className=\"lead\">Libraries for building a better BOS.</p>\r\n\r\n          <div>\r\n            <Widget src=\"mob.near/widget/Editor.ComponentSearch\" />\r\n          </div>\r\n        </div>\r\n        <div className=\"mb-4\">\r\n          <h2>Libraries</h2>\r\n          <p className=\"text-body-secondary\">\r\n            A curated list of common librairies grouped by categories.\r\n          </p>\r\n        </div>\r\n\r\n        {state.components.map((it) => (\r\n          <componentView it={it} />\r\n        ))}\r\n      </div>\r\n    </responsiveSidebar>\r\n  </div>\r\n);\r\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/itexpert120-contra.near/widget/ComponentsLibrary", "fact_widget_deployments_id": "d950d8c6e0f41c87b8de3c5dfac18f40", "inserted_timestamp": "2023-09-21T14:24:02.433Z", "modified_timestamp": "2023-09-21T14:24:02.433Z", "__row_index": 1}