{"tx_hash": "4BzSRFxkEKf1Vj2fDZjcp7A5fakoqMS7eWsoeeabYY99", "action_id_social": "D5GdmSRUDKbVFnUbMS7TBjehaHtoSVrwKmLxyfCNzsGo-0-widget", "block_id": 101132184, "block_timestamp": "2023-09-14T20:45:23.440Z", "signer_id": "itexpert120-contra.near", "widget_name": "CreateEvent", "source_code": "const UUID = {\r\n  generate: (template) => {\r\n    if (typeof template !== \"string\") {\r\n      template = \"xxxxxxxx-xxxx-xxxx-yxxx-xxxxxxxxxxxx\";\r\n    }\r\n    return template.replace(/[xy]/g, (c) => {\r\n      var r = (Math.random() * 16) | 0;\r\n      var v = c === \"x\" ? r : (r & 0x3) | 0x8;\r\n      return v.toString(16);\r\n    });\r\n  },\r\n};\r\n\r\n\r\nconst accountId = context.accountId;\r\nconst toggleNewEventModal = props.toggleNewEventModal;\r\n\r\nif (!accountId) {\r\n  return \"Please connect your NEAR account\";\r\n}\r\n\r\nconst addEvent = (target) => {\r\n  const thingId = target.data.id;\r\n\r\n  // index new event\r\n  Social.set({\r\n    thing: {\r\n      [thingId]: target,\r\n    },\r\n    index: {\r\n      every: JSON.stringify({\r\n        key: \"every.near/type/event\",\r\n        value: {\r\n          type: \"every.near/type/event\",\r\n          id: thingId,\r\n        },\r\n      }),\r\n    },\r\n  });\r\n\r\n  State.update({ event: target });\r\n  toggleNewEventModal();\r\n};\r\n\r\nconst proposeEvent = (target) => {\r\n  console.log(target);\r\n};\r\n\r\nreturn (\r\n  <>\r\n    <div>\r\n      <Widget\r\n        src=\"itexpert120-contra.near/widget/EventForm\"\r\n        props={{ addEvent: addEvent, proposeEvent: proposeEvent }}\r\n      />\r\n    </div>\r\n  </>\r\n);\r\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/itexpert120-contra.near/widget/CreateEvent", "fact_widget_deployments_id": "873ffc7a2f55eb81bbfc5b1546c6f5b9", "inserted_timestamp": "2024-03-07T05:24:05.087Z", "modified_timestamp": "2024-03-07T05:24:05.087Z", "__row_index": 3}