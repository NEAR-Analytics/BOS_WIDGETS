{"tx_hash": "4GP8E63orNZMvr1g6Y4murCTgmDU53iihnMe6Rs6YCBu", "action_id_social": "8fdUketngrCwutKwXBSicsaMaTRQeMe4NjjcBxEc5EGT-0-widget", "block_id": 99909800, "block_timestamp": "2023-08-29T06:46:52.351Z", "signer_id": "itexpert120-contra.near", "widget_name": "EventTest", "source_code": "const UUID = {\r\n  generate: (template) => {\r\n    if (typeof template !== \"string\") {\r\n      template = \"xxxxxxxx-xxxx-xxxx-yxxx-xxxxxxxxxxxx\";\r\n    }\r\n    return template.replace(/[xy]/g, (c) => {\r\n      var r = (Math.random() * 16) | 0;\r\n      var v = c === \"x\" ? r : (r & 0x3) | 0x8;\r\n      return v.toString(16);\r\n    });\r\n  },\r\n};\r\n\r\n\r\nState.init({\r\n  event: props.event || null,\r\n});\r\n\r\nconst addEvent = (target) => {\r\n  const thingId = UUID.generate();\r\n\r\n  // index new event\r\n  Social.set({\r\n    thing: {\r\n      [thingId]: target,\r\n    },\r\n    index: {\r\n      every: JSON.stringify({\r\n        key: \"every.near/type/event\",\r\n        value: {\r\n          type: \"every.near/type/event\",\r\n          id: thingId,\r\n        },\r\n      }),\r\n    },\r\n  });\r\n\r\n  State.update({ event: target });\r\n  console.log(\"Events: \", state.event);\r\n};\r\n\r\nreturn (\r\n  <>\r\n    <div>\r\n      {!state.event ? (\r\n        <Widget\r\n          src=\"itexpert120.near/widget/EventForm\"\r\n          props={{ addEvent: addEvent }}\r\n        />\r\n      ) : (\r\n        <Widget\r\n          src=\"itexpert120.near/widget/EventView\"\r\n          props={{ data: state.event.data }}\r\n        />\r\n      )}\r\n    </div>\r\n  </>\r\n);\r\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/itexpert120-contra.near/widget/EventTest", "fact_widget_deployments_id": "232e36f8591929e0195414e7b1bc5eec", "inserted_timestamp": "2024-03-07T05:24:05.087Z", "modified_timestamp": "2024-03-07T05:24:05.087Z", "__row_index": 0}