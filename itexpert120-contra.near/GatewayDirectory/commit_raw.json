{"tx_hash": "HgbhbFqvtQkqdT8LY7YMqPAMmYKVnADrpa1paHGSX5fu", "action_id_social": "CqMmjtK14o7NP2xksRE9UeCn8n97z51uwASA2tYcp6ux-0-widget", "block_id": 101645146, "block_timestamp": "2023-09-21T19:01:31.344Z", "signer_id": "itexpert120-contra.near", "widget_name": "GatewayDirectory", "source_code": "const social = props.data;\r\n\r\nconst Wrapper = styled.div`\r\n  --section-gap: 42px;\r\n  padding-top: 42px;\r\n\r\n  @media (max-width: 1160px) {\r\n    .line-rounded-corners {\r\n      display: none !important;\r\n    }\r\n  }\r\n\r\n  @media (max-width: 900px) {\r\n    padding-top: 0;\r\n  }\r\n`;\r\n\r\nconst H1 = styled.h1`\r\n  font-family: \"FK Grotesk\", sans-serif;\r\n  font-style: normal;\r\n  font-weight: 500;\r\n  font-size: 90px;\r\n  line-height: 1;\r\n  text-align: center;\r\n  letter-spacing: -0.03em;\r\n  color: #000;\r\n  margin: 0;\r\n  max-width: 700px;\r\n\r\n  span {\r\n    display: inline-block;\r\n    background: #6ce89f;\r\n    border-radius: 20px;\r\n    position: relative;\r\n    padding: 0.1em 0.2em 0;\r\n\r\n    svg {\r\n      position: absolute;\r\n      bottom: -8px;\r\n      right: -10px;\r\n      width: 24px;\r\n    }\r\n  }\r\n\r\n  @media (max-width: 900px) {\r\n    font-size: 50px;\r\n\r\n    span {\r\n      border-radius: 12px;\r\n      svg {\r\n        position: absolute;\r\n        bottom: -6px;\r\n        right: -7px;\r\n        width: 16px;\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nconst Flex = styled.div`\r\n  display: flex;\r\n  gap: 15px;\r\n  align-items: center;\r\n  flex-direction: column;\r\n  flex-wrap: \"nowrap\";\r\n\r\n  @media (max-width: 900px) {\r\n    flex-direction: column;\r\n    gap: var(--section-gap);\r\n  }\r\n`;\r\n\r\nconst Container = styled.div`\r\n  display: flex;\r\n  max-width: 1060px;\r\n  margin: 0 auto;\r\n  gap: var(--section-gap);\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: center;\r\n  text-align: center;\r\n  padding: var(--section-gap) 24px;\r\n`;\r\n\r\nState.init({ uniqueCategories: null, searchValue: null });\r\nconst setCategories = () => {\r\n  const categoriesList = [];\r\n  social.data.map((gateway) => categoriesList.push(...gateway.category));\r\n\r\n  // console.log(categoriesList);\r\n  const cats = [\r\n    \"All\",\r\n    ...categoriesList.filter(\r\n      (gateway, index) => categoriesList.indexOf(gateway) === index\r\n    ),\r\n  ];\r\n  //   console.log(cats);\r\n  State.update({\r\n    uniqueCategories: cats,\r\n  });\r\n};\r\nsetCategories();\r\n\r\nconst Cards = styled.div`\r\n  display: flex;\r\n  gap: 1.4rem;\r\n  flex-wrap: wrap;\r\n  justify-content: center;\r\n  padding-top: 4rem;\r\n`;\r\n\r\nconst Card = styled.div`\r\n  width: 25%;\r\n  min-width: 250px;\r\n  display: flex;\r\n  flex-flow: column nowrap;\r\n  -ms-flex-flow: column nowrap;\r\n  align-items: center;\r\n  //  background-color:#09011a;\r\n  border-radius: 10px;\r\n  border: 1.41429px solid rgba(28, 27, 28, 0.1);\r\n  box-shadow: 5.65714px 5.65714px 11.3143px rgba(28, 27, 28, 0.04);\r\n  padding: 8px;\r\n  //  color: #fff;\r\n  margin: 0 auto;\r\n  max-width: 400px;\r\n  flex: 1;\r\n  &:hover img {\r\n    transform: scale(1.05);\r\n  }\r\n  & img {\r\n    width: 100%;\r\n    height: 100%;\r\n    object-fit: cover;\r\n    overflow: hidden;\r\n    transition: all 0.3s ease-in-out;\r\n  }\r\n`;\r\n\r\nconst Hero = styled.div`\r\n  height: 20vh;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  align-content: center;\r\n  // background-color:#09011a;\r\n  // color: white;\r\n`;\r\n\r\nconst CardHeading = styled.h5`\r\n  font-size: 1.25rem;\r\n  font-weight: 500;\r\n  color: #09011a;\r\n`;\r\n\r\nconst Text = styled.div`\r\n  opacity: 0.6;\r\n`;\r\n\r\nconst ImageCard = styled.div`\r\n  height: 200px;\r\n  width: 100%;\r\n  border-radius: inherit;\r\n  overflow: hidden;\r\n  margin-bottom: 0.5rem;\r\n  & > img {\r\n    object-fit: cover;\r\n    transition: all 0.3s ease-in-out;\r\n  }\r\n  & > img:hover {\r\n    transform: scale(1.05);\r\n  }\r\n`;\r\n\r\nconst displayCategories = (value) => {\r\n  state.searchValue !== null;\r\n  value = value.join(\" \");\r\n  State.update({ searchValue: value });\r\n  console.log(\"search value\", state.searchValue);\r\n\r\n  const newArray = social.data.filter((item) =>\r\n    item.category.join(\" \").includes(state.searchValue)\r\n  );\r\n  //   social.data.filter((item) =>\r\n  //     item.category.some((cat) => {\r\n  //       //   console.log(\"cat\", cat);\r\n  //       return cat.includes(state?.searchValue);\r\n  //     })\r\n  //   );\r\n  console.log(\r\n    \"searched\",\r\n    // social.data.filter((item) =>\r\n    //   item.category.join(\" \").includes(state.searchValue)\r\n    // )\r\n    // currentCat.filter((cat) => cat.includes(state.searchValue))\r\n    newArray\r\n  );\r\n  const dataNow = allCategories(newArray);\r\n  //   console.log(\r\n  //     \"data:\",\r\n  //     social.data.map((item) => item.category.join(\" \"))\r\n  //   );\r\n  State.update({\r\n    viewableCats: dataNow,\r\n  });\r\n};\r\n\r\nconst words = [\"hello\", \"world\", \"hi\", \"there\"];\r\nconst search = \"hello\";\r\n\r\nconst result = words.filter((word) => search.includes(word));\r\nconsole.log(result);\r\n\r\nconst allCategories = (filteredCats) =>\r\n  filteredCats.map((gateway) => (\r\n    <Card key={gateway.key}>\r\n      <ImageCard>\r\n        <a href={gateway.url} target=\"_blank\" rel=\"noopener noreferrer\">\r\n          <img src={gateway.image} alt=\"...\" />\r\n        </a>\r\n      </ImageCard>\r\n      <div className=\"card-body p-2 mt-3\">\r\n        <CardHeading>{gateway.name}</CardHeading>\r\n        <Text className=\"pb-3 text-secondary\">\r\n          {`${gateway.description.trim().slice(0, 36)}...`}\r\n        </Text>\r\n      </div>\r\n      {false && <div>{gateway.category.map((cat) => cat).join(\" \")}</div>}\r\n\r\n      <div className=\"row my-3\">\r\n        <div className=\"d-flex justify-content-between\">\r\n          <div className=\"float-left mx-3\">\r\n            {gateway.github && (\r\n              <Widget\r\n                src=\"ndcplug.near/widget/Deploy.GithubButton\"\r\n                props={{ link: gateway.github }}\r\n              />\r\n            )}\r\n          </div>\r\n          {gateway.deploy && (\r\n            <Widget\r\n              src=\"ndcplug.near/widget/Deploy.VercelButton\"\r\n              props={{ link: gateway.deploy }}\r\n            />\r\n          )}\r\n        </div>\r\n      </div>\r\n    </Card>\r\n  ));\r\n\r\nconst dispData = null;\r\nif (!state.searchValue || state.searchValue === \"\") {\r\n  dispData = allCategories(social.data);\r\n} else if (state.viewableCats.length > 0) {\r\n  dispData = state.viewableCats;\r\n} else {\r\n  dispData = \"No gateways found with all these categories\";\r\n}\r\nreturn (\r\n  <div className=\"container\">\r\n    <div className=\"row\">\r\n      <Wrapper>\r\n        <Container>\r\n          <H1>\r\n            BOS Gateway{\" \"}\r\n            <span>\r\n              {\" \"}\r\n              Directory{\" \"}\r\n              <svg viewBox=\"0 0 26 24\" fill=\"none\" aria-hidden=\"true\">\r\n                <path\r\n                  d=\"M24.3767 8.06326L1.51965 0.0649912C1.10402 -0.0830767 0.639031 0.026026 0.327308 0.340346C0.0181841 0.657263 -0.0831256 1.12225 0.0701378 1.53788L8.071 23.2519C8.23726 23.7013 8.66587 24 9.14385 24H9.14644C9.62702 24 10.0556 23.6961 10.2167 23.2441L13.734 13.495L24.3325 10.2349C24.8053 10.0895 25.13 9.65824 25.1378 9.16468C25.1482 8.67112 24.8391 8.22691 24.3715 8.06326H24.3767Z\"\r\n                  fill=\"#323330\"\r\n                />\r\n              </svg>\r\n            </span>\r\n          </H1>\r\n        </Container>\r\n      </Wrapper>\r\n      <div className=\"input-group  row w-75 text-center mx-auto\">\r\n        <Typeahead\r\n          options={state.uniqueCategories.slice(1)}\r\n          multiple\r\n          onChange={(value) => {\r\n            displayCategories(value);\r\n          }}\r\n          placeholder=\"Choose a tag to filter...\"\r\n        />\r\n      </div>\r\n      <Cards>{dispData}</Cards>\r\n    </div>\r\n  </div>\r\n);\r\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/itexpert120-contra.near/widget/GatewayDirectory", "fact_widget_deployments_id": "7ff14e05f1c72c8fad90074037f26170", "inserted_timestamp": "2024-03-07T05:24:05.087Z", "modified_timestamp": "2024-03-07T05:24:05.087Z", "__row_index": 0}