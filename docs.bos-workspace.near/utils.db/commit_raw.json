{"tx_hash": "4sqqDy8JRQf4D9cEwkhV8YdWrmsECXDDJ6mk6rG65P29", "action_id_social": "4uJR13viqDpzdG1mV6bDeiHUnubvGUj58NS4U3bDHWmL-0-widget", "block_id": 116872936, "block_timestamp": "2024-04-15T04:08:22.691Z", "signer_id": "docs.bos-workspace.near", "widget_name": "utils.db", "source_code": "// const { normalize } = VM.require(\"devs.near/widget/lib.stringUtils\") || {\n//   normalize: (str) => str,\n// };\nconst normalize = (text, delimiter) => {\n  // If no delimiter is provided, default to an underscore\n  delimiter = delimiter || \"-\";\n  return (\n    text\n      // Convert to lowercase\n      .toLowerCase()\n      // Replace spaces with dashes\n      .replace(/\\s+/g, delimiter)\n      // Replace any non-alphanumeric characters (excluding dashes) with nothing\n      .replace(`/[^a-z0-9${delimiter}]/g`, \"\")\n      // Replace multiple consecutive dashes with a single dash\n      .replace(`/${delimiter}+/g`, \"-\")\n      // Trim dashes from the start and end of the string\n      .replace(`/^${delimiter}+|${delimiter}+$/g`, \"\")\n  );\n};\nlet github = VM.require(\"docs.bos-workspace.near/widget/PR.adapter.github\");\nconst data = {\n  \"\": JSON.stringify({\n    title: \"My Documentation\",\n    sections: [\n      {\n        title: \"Getting Started\",\n        content: \"\",\n        subsections: [\n          {\n            title: \"Migration Guide\",\n            content: \"# Instructions for installing the software.\",\n          },\n          {\n            title: \"Installation\",\n            content: \"# Instructions for installing the software.\",\n          },\n          {\n            title: \"Setup\",\n            content: \"Guidelines for setting up the environment.\",\n          },\n        ],\n      },\n      {\n        title: \"Usage\",\n        content: \"Hello 2\",\n        subsections: [\n          {\n            title: \"Aliases\",\n            content: \"Instructions for basic usage.\",\n          },\n          {\n            title: \"Deploy\",\n            content: \"Instructions for advanced usage.\",\n          },\n        ],\n      },\n      {\n        title: \"Examples\",\n        content: \"Hello 3\",\n        subsections: [\n          {\n            title: \"Example 1\",\n            content: \"Description and usage of Example 1.\",\n          },\n          {\n            title: \"Example 2\",\n            content: \"Description and usage of Example 2.\",\n          },\n        ],\n      },\n      {\n        title: \"Blocks\",\n        content: {},\n        subsections: [\n          {\n            title: \"Template\",\n            content: \"Description and usage of Example 1.\",\n          },\n        ],\n      },\n    ],\n  }),\n  metadata: {\n    name: \"bos-workspace\",\n    description: `bos-workspace is a comprehensive toolset designed to simplify the\n      development and deployment of NEAR components and applications. With\n      support for hot reload, TypeScript, and multiple app management, it caters\n      to developers looking for an efficient and scalable developer environment.`,\n  },\n};\nconst documentation = JSON.parse(data[\"\"] || \"null\");\nconst contentMap = {};\n// Iterate over sections and subsections to populate content map\ndocumentation.sections.forEach((section) => {\n  const sectionPath = normalize(section.title, \"_\");\n  contentMap[sectionPath] = { title: section.title, content: section.content };\n  section.subsections.forEach((subsection) => {\n    const subsectionPath = `${sectionPath}/${normalize(subsection.title, \"_\")}`;\n    contentMap[subsectionPath] = {\n      title: subsection.title,\n      content: subsection.content,\n    };\n  });\n});\nreturn {\n  get: (params) => {\n    if (params) {\n      let path = params.path;\n      let parts = path.split(\"/\");\n      if (parts.length === 1) {\n        parts.push(\"index\");\n        path = parts.join(\"/\");\n      }\n      return github.get(path + \".md\");\n    }\n    return contentMap; // index\n  },\n  create: (k, v) => {\n    console.log(\"create\");\n  },\n};\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/docs.bos-workspace.near/widget/utils.db", "fact_widget_deployments_id": "de237da09d2915363719d666ab491c26", "inserted_timestamp": "2024-04-15T05:22:37.742Z", "modified_timestamp": "2024-04-15T05:22:37.742Z", "__row_index": 1}