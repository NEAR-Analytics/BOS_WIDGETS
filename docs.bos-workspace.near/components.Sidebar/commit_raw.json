{"tx_hash": "2f2P6zvcSMo6Pn1FEJ6Q1igueqhamVs5EvMnbbHAuX2F", "action_id_social": "EqkaYG1XsDJdbgcGasxUgwVB9wCo6g4HXfN8wRaDCmpp-0-widget", "block_id": 116869840, "block_timestamp": "2024-04-15T03:02:22.451Z", "signer_id": "docs.bos-workspace.near", "widget_name": "components.Sidebar", "source_code": "const { basePath, param } = props;\nconst { get } = VM.require(\"docs.bos-workspace.near/widget/utils.db\");\nconst documents = get();\n// Preprocess documents to group paths by their parent sections\nconst groupedSections = {};\nObject.keys(documents).forEach((path) => {\n  const parts = path.split(\"/\");\n  const parentSection = parts[0];\n  const childSection = parts.length > 1 ? parts[1] : null;\n\n  if (!groupedSections[parentSection]) {\n    groupedSections[parentSection] = [];\n  }\n  // Ensure child section is only added once per parent section\n  if (childSection && !groupedSections[parentSection].includes(childSection)) {\n    groupedSections[parentSection].push(childSection);\n  }\n});\nreturn (\n  <div className=\"sidebar\">\n    {Object.keys(groupedSections).map((parentSection) => (\n      <div key={parentSection}>\n        {/* Render parent section */}\n        <div className=\"parent-section\">\n          <Link to={`/${basePath}?${param}=${parentSection}`}>\n            <button className=\"button\">{documents[parentSection].title}</button>\n          </Link>\n        </div>\n\n        {/* Render child sections */}\n        <div className=\"nested-section\">\n          {groupedSections[parentSection].map((childSection) => (\n            <div className=\"child-section\" key={childSection}>\n              <Link\n                to={`/${basePath}?${param}=${parentSection}/${childSection}`}\n              >\n                <button className=\"button\">\n                  {documents[`${parentSection}/${childSection}`].title}\n                </button>\n              </Link>\n            </div>\n          ))}\n        </div>\n\n        {/* Render separator */}\n        <div className=\"separator\"></div>\n      </div>\n    ))}\n  </div>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/docs.bos-workspace.near/widget/components.Sidebar", "fact_widget_deployments_id": "ee14d0935c4e2b89f78e848c7514b3e1", "inserted_timestamp": "2024-04-15T05:22:37.742Z", "modified_timestamp": "2024-04-15T05:22:37.742Z", "__row_index": 1}