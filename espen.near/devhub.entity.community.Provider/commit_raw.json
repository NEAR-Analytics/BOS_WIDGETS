{"tx_hash": "FqYpFk8kSREwWsnwCijPPnmoxcuW1nEYmPDda3qXfX9t", "action_id_social": "7yj1ex7yuZSwXHDL5g2Bx2fj4WePkKCo1rh7fPzn6v3V-0-widget", "block_id": 105785749, "block_timestamp": "2023-11-15T23:55:20.015Z", "signer_id": "espen.near", "widget_name": "devhub.entity.community.Provider", "source_code": "const { handle, Children } = props;\n\nconst {\n  getAccountCommunityPermissions,\n  createCommunity,\n  updateCommunity,\n  deleteCommunity,\n  getCommunity,\n  setCommunityAddons,\n} = VM.require(\"${REPL_DEVHUB}/widget/core.adapter.devhub-contract\");\n\nif (\n  !getCommunity ||\n  !getAccountCommunityPermissions ||\n  !createCommunity ||\n  !updateCommunity ||\n  !deleteCommunity ||\n  !setCommunityAddons\n) {\n  return <p>Loading modules...</p>;\n}\n\nconst CenteredMessage = styled.div`\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  width: 100%;\n  height: ${(p) => p.height ?? \"100%\"};\n`;\n\nconst [isLoading, setIsLoading] = useState(false);\nconst [error, setError] = useState(null);\n\nconst community = getCommunity({ handle });\n\nconst permissions = getAccountCommunityPermissions({\n  account_id: context.accountId,\n  community_handle: handle,\n}) || {\n  can_configure: false,\n  can_delete: false,\n};\n\nif (isLoading) {\n  return (\n    <CenteredMessage height={\"384px\"}>\n      <h2>Loading...</h2>\n    </CenteredMessage>\n  );\n} else if (!community) {\n  return (\n    <CenteredMessage height={\"384px\"}>\n      <h2>{`Community with handle \"${handle}\" not found.`}</h2>\n    </CenteredMessage>\n  );\n}\n\nfunction handleUpdateCommunity(v) {\n  updateCommunity(v);\n}\n\nreturn (\n  <Children\n    permissions={permissions}\n    community={community}\n    setCommunityAddons={setCommunityAddons}\n    createCommunity={createCommunity}\n    updateCommunity={handleUpdateCommunity}\n    deleteCommunity={deleteCommunity}\n  />\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/espen.near/widget/devhub.entity.community.Provider", "fact_widget_deployments_id": "a16024882d0ce8d12e35e42acdb7e858", "inserted_timestamp": "2024-03-07T05:24:05.087Z", "modified_timestamp": "2024-03-07T05:24:05.087Z", "__row_index": 30}