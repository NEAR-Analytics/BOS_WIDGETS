{"tx_hash": "2dmLRY5UeozS8bmunNxPxgMLFseC3Vs7X5pqz1HYe1UZ", "action_id_social": "3TdkCCYtuMrTeAPvpNCshCFopftknnsjptmHT8mcJjS4-0-widget", "block_id": 105786227, "block_timestamp": "2023-11-16T00:03:43.201Z", "signer_id": "espen.near", "widget_name": "devhub.entity.addon.wiki.Configurator", "source_code": "const { data, onSubmit } = props;\n\nconst initialData = data;\nconst [content, setContent] = useState(data.content || \"\");\nconst [title, setTitle] = useState(data.title || \"\");\nconst [subtitle, setSubtitle] = useState(data.subtitle || \"\");\n\nconst [textAlign, setTextAlign] = useState(data.textAlign || \"left\");\n\nconst Container = styled.div`\n  width: 100%;\n  margin: 0 auto;\n  padding: 20px;\n  text-align: left;\n`;\n\nconst FormContainer = styled.div`\n  padding-top: 1rem;\n\n  & > *:not(:last-child) {\n    margin-bottom: 1rem;\n  }\n`;\n\nconst hasDataChanged = () => {\n  return (\n    content !== initialData.content ||\n    title !== initialData.title ||\n    subtitle !== initialData.subtitle ||\n    textAlign !== initialData.textAlign\n  );\n};\n\nconst handleSubmit = () => {\n  if (title) onSubmit({ title, subtitle, content, textAlign });\n};\n\nreturn (\n  <Container>\n    <ul className=\"nav nav-tabs\" id=\"editPreviewTabs\" role=\"tablist\">\n      <li className=\"nav-item\" role=\"presentation\">\n        <button\n          className=\"nav-link active\"\n          id=\"edit-tab\"\n          data-bs-toggle=\"tab\"\n          data-bs-target=\"#edit\"\n          type=\"button\"\n          role=\"tab\"\n          aria-controls=\"edit\"\n          aria-selected=\"true\"\n        >\n          Edit\n        </button>\n      </li>\n      <li className=\"nav-item\" role=\"presentation\">\n        <button\n          className=\"nav-link\"\n          id=\"preview-tab\"\n          data-bs-toggle=\"tab\"\n          data-bs-target=\"#preview\"\n          type=\"button\"\n          role=\"tab\"\n          aria-controls=\"preview\"\n          aria-selected=\"false\"\n        >\n          Preview\n        </button>\n      </li>\n    </ul>\n    <div className=\"tab-content\" id=\"editPreviewTabsContent\">\n      <div\n        className=\"tab-pane show active p-4\"\n        id=\"edit\"\n        role=\"tabpanel\"\n        aria-labelledby=\"edit-tab\"\n        style={{ position: \"relative\" }}\n      >\n        <div style={{ position: \"absolute\", top: 10, right: 0 }}>\n          <Widget\n            // LEGACY\n            src=\"${REPL_DEVHUB_LEGACY}/widget/gigs-board.components.molecule.button-switch\"\n            props={{\n              currentValue: textAlign,\n              key: \"textAlign\",\n              onChange: (e) => setTextAlign(e.target.value),\n              options: [\n                { label: \"Left\", value: \"left\" },\n                { label: \"Center\", value: \"center\" },\n                { label: \"Right\", value: \"right\" },\n              ],\n            }}\n          />\n        </div>\n        <FormContainer>\n          <div className=\"flex-grow-1\">\n            <Widget\n              src=\"${REPL_DEVHUB}/widget/devhub.components.molecule.Input\"\n              props={{\n                label: \"Title\",\n                className: \"flex-grow-1\",\n                onChange: (e) => setTitle(e.target.value),\n                value: title,\n                inputProps: {\n                  min: 2,\n                  max: 60,\n                  required: true,\n                },\n              }}\n            />\n          </div>\n          <div className=\"flex-grow-1\">\n            <Widget\n              src=\"${REPL_DEVHUB}/widget/devhub.components.molecule.Input\"\n              props={{\n                label: \"Subtitle\",\n                className: \"flex-grow-1\",\n                onChange: (e) => setSubtitle(e.target.value),\n                value: subtitle,\n                inputProps: {\n                  min: 2,\n                  max: 250,\n                },\n              }}\n            />\n          </div>\n          <Widget\n            src=\"${REPL_DEVHUB}/widget/devhub.components.molecule.MarkdownEditor\"\n            props={{ data: { content }, onChange: setContent }}\n          />\n        </FormContainer>\n        <div\n          className={\"d-flex align-items-center justify-content-end gap-3 mt-4\"}\n        >\n          <Widget\n            src={\"${REPL_DEVHUB}/widget/devhub.components.molecule.Button\"}\n            props={{\n              classNames: { root: \"btn-success\" },\n              disabled: !hasDataChanged() || !title || !content,\n              icon: {\n                type: \"bootstrap_icon\",\n                variant: \"bi-check-circle-fill\",\n              },\n              label: \"Publish\",\n              onClick: handleSubmit,\n            }}\n          />\n        </div>\n      </div>\n      <div\n        className=\"tab-pane\"\n        id=\"preview\"\n        role=\"tabpanel\"\n        aria-labelledby=\"preview-tab\"\n      >\n        <div className=\"w-100 h-100 p-4\">\n          <Widget\n            src=\"${REPL_DEVHUB}/widget/devhub.entity.addon.wiki.Viewer\"\n            props={{ title, subtitle, content, textAlign }}\n          />\n        </div>\n      </div>\n    </div>\n  </Container>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/espen.near/widget/devhub.entity.addon.wiki.Configurator", "fact_widget_deployments_id": "9384ac16ff509c42372af25cc7b8c664", "inserted_timestamp": "2024-03-07T05:24:05.087Z", "modified_timestamp": "2024-03-07T05:24:05.087Z", "__row_index": 64}