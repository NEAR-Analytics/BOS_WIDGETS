{"tx_hash": "9DhLQjBS2zURkBRmpXRwRc9YGMKZnNMuFDt2iJEg1brb", "action_id_social": "BcZHPf55ZaiTeCyc2WszjZsSFthoKEX73HqaZ9pqrMoz-0-widget", "block_id": 116134821, "block_timestamp": "2024-04-04T20:18:50.850Z", "signer_id": "dawnkelly.near", "widget_name": "monster.create", "source_code": "const accountId = context.accountId;\n\nconst [monster, setMonster] = useState(() => {\n  const initialData = Social.getr(`${accountId}/game/monster`) ?? {\n    metadata: {\n      name: \"\",\n      description: \"\",\n      morals: \"\",\n      ethics: \"\",\n      type: \"\",\n      size: \"\",\n      challenge: \"\",\n      armorClass: \"\",\n      hitPoints: \"\",\n      image: {},\n    },\n  };\n  return initialData;\n});\n\nconst handleNameChange = (e) => {\n  const newName = e.target.value;\n  setMonster((prevMonster) => ({\n    ...prevMonster,\n    metadata: { ...prevMonster.metadata, name: newName },\n  }));\n};\n\nconst handleImageChange = (newImage) => {\n  setMonster((prevMonster) => ({\n    ...prevMonster,\n    metadata: { ...prevMonster.metadata, image: newImage },\n  }));\n};\n\nconst handleDescriptionChange = (e) => {\n  const newDescription = e.target.value;\n  setMonster((prevMonster) => ({\n    ...prevMonster,\n    metadata: { ...prevMonster.metadata, description: newDescription },\n  }));\n};\n\nconst handleMoralsChange = (e) => {\n  const newMorals = e.target.value;\n  setMonster((prevMonster) => ({\n    ...prevMonster,\n    metadata: { ...prevMonster.metadata, morals: newMorals },\n  }));\n};\n\nconst handleEthicsChange = (e) => {\n  const newEthics = e.target.value;\n  setMonster((prevMonster) => ({\n    ...prevMonster,\n    metadata: { ...prevMonster.metadata, ethics: newEthics },\n  }));\n};\n\nconst handleTypeChange = (e) => {\n  const newType = e.target.value;\n  setMonster((prevMonster) => ({\n    ...prevMonster,\n    metadata: { ...prevMonster.metadata, type: newType },\n  }));\n};\n\nconst handleSizeChange = (e) => {\n  const newSize = e.target.value;\n  setMonster((prevMonster) => ({\n    ...prevMonster,\n    metadata: { ...prevMonster.metadata, size: newSize },\n  }));\n};\n\nconst handleChallengeChange = (e) => {\n  const newChallenge = e.target.value;\n  setMonster((prevMonster) => ({\n    ...prevMonster,\n    metadata: { ...prevMonster.metadata, challenge: newChallenge },\n  }));\n};\n\nconst handleArmorClassChange = (e) => {\n  const newArmorClass = e.target.value;\n  setMonster((prevMonster) => ({\n    ...prevMonster,\n    metadata: { ...prevMonster.metadata, armorClass: newArmorClass },\n  }));\n};\n\nconst handleHitPointsChange = (e) => {\n  const newHitPoints = e.target.value;\n  setMonster((prevMonster) => ({\n    ...prevMonster,\n    metadata: { ...prevMonster.metadata, hitPoints: newHitPoints },\n  }));\n};\n\nconst handleSave = () => {\n  Social.set({\n    game: { monster },\n    index: {\n      createMonster: JSON.stringify({ key: \"create\", value: \"monster\" }),\n    },\n  });\n};\n\nreturn (\n  <div>\n    <div className=\"m-2\">\n      <h4>Create A Monster</h4>\n      <p>\n        You will have a chance to preview your data before saving your creation\n      </p>\n      <div className=\"mb-3 p-1\">\n        <label for=\"name\">Name:</label>\n        <input\n          id=\"name\"\n          type=\"text\"\n          placeholder=\"What is the monster's name?\"\n          value={monster.metadata.name}\n          onChange={handleNameChange}\n        />\n      </div>\n      <h5 className=\"mb-2\">Monster Image</h5>\n      <div className=\"p-1\">\n        <Widget\n          src=\"mob.near/widget/ImageEditorTabs\"\n          props={{\n            image: monster.metadata.image,\n            onChange: handleImageChange,\n          }}\n        />\n      </div>\n      <div className=\"mb-3 p-1\">\n        <label for=\"description\">Description:</label>\n        <input\n          id=\"description\"\n          type=\"textarea\"\n          rows=\"4\"\n          cols=\"80\"\n          max-length=\"1200\"\n          placeholder=\"What is the monster's description?\"\n          value={monster.metadata.description}\n          onChange={handleDescriptionChange}\n        />\n      </div>\n      <div className=\"mb-3 p-1\">\n        <h5 className=\"mb-2 d-block\">Alignment</h5>\n        <div className=\"row align-items-center\">\n          <div className=\"col\">\n            <label for=\"ethics\">Ethics:</label>\n            <select\n              name=\"ethics\"\n              id=\"ethics\"\n              className=\"form-select\"\n              value={monster.metadata.ethics}\n              onChange={handleEthicsChange}\n            >\n              <option value=\"null\">---</option>\n              <option value=\"lawful\">Lawful</option>\n              <option value=\"neutral\">Neutral</option>\n              <option value=\"chaotic\">Chaotic</option>\n              <option value=\"any\">Any</option>\n              <option value=\"unaligned\">Unaligned</option>\n            </select>\n            <label for=\"morals\">Morals:</label>\n            <select\n              name=\"morals\"\n              id=\"morals\"\n              className=\"form-select\"\n              value={monster.metadata.morals}\n              onChange={handleMoralsChange}\n            >\n              <option value=\"null\">---</option>\n              <option value=\"good\">Good</option>\n              <option value=\"neutral\">Neutral</option>\n              <option value=\"evil\">Evil</option>\n              <option value=\"any\">Any</option>\n              <option value=\"unaligned\">Unaligned</option>\n            </select>\n          </div>\n        </div>\n      </div>\n      <div className=\"mb-3 p-1\">\n        <span className=\"mb-2 d-block\"></span>\n\n        <div className=\"col-auto\">\n          <label htmlFor=\"type\">Type:</label>\n\n          <div className=\"col\">\n            <select\n              name=\"type\"\n              id=\"type\"\n              className=\"form-select\"\n              value={monster.metadata.type}\n              onChange={handleTypeChange}\n            >\n              <option value=\"null\">---</option>\n              <option value=\"abberation\">Abberation</option>\n              <option value=\"beast\">Beast</option>\n              <option value=\"celestial\">Celestial</option>\n              <option value=\"dragon\">Dragon</option>\n              <option value=\"elemental\">Elemental</option>\n              <option value=\"fey\">Fey</option>\n              <option value=\"fiend\">Fiend</option>\n              <option value=\"giant\">Giant</option>\n              <option value=\"humanoid\">Humanoid</option>\n              <option value=\"monstrosity\">Monstrosity</option>\n              <option value=\"ooze\">Ooze</option>\n              <option value=\"plant\">Plant</option>\n              <option value=\"undead\">Undead</option>\n            </select>\n          </div>\n        </div>\n      </div>\n\n      <div className=\"mb-3 p-1\">\n        <label for=\"size\">Size:</label>\n        <select\n          name=\"size\"\n          id=\"size\"\n          className=\"form-select\"\n          value={monster.metadata.size}\n          onChange={handleSizeChange}\n        >\n          <option value=\"null\">---</option>\n          <option value=\"tiny\">Tiny</option>\n          <option value=\"small\">Small</option>\n          <option value=\"medium\">Medium</option>\n          <option value=\"large\">Large</option>\n          <option value=\"huge\">Huge</option>\n          <option value=\"gargantuan\">Gargantuan</option>\n        </select>\n      </div>\n      <div className=\"mb-3 p-1\">\n        <label for=\"challenge\">Challenge:</label>\n        <input\n          id=\"challenge\"\n          type=\"number\"\n          min=\"0\"\n          max=\"30\"\n          placeholder=\"What is the monster's challenge level?\"\n          value={monster.metadata.challenge}\n          onChange={handleChallengeChange}\n        />\n      </div>\n      <div className=\"mb-3 p-1\">\n        <label for=\"armorClass\">Armor Class:</label>\n        <input\n          id=\"armorClass\"\n          type=\"number\"\n          min=\"0\"\n          max=\"25\"\n          placeholder=\"What is the monster's armor class?\"\n          value={monster.metadata.armorClass}\n          onChange={handleArmorClassChange}\n        />\n      </div>\n    </div>\n    <div className=\"mb-3 p-1\">\n      <label for=\"hitPoints\">HP:</label>\n      <input\n        name=\"hitPoints\"\n        id=\"hitPoints\"\n        type=\"number\"\n        min=\"0\"\n        placeholder=\"What is the monster's HP?\"\n        value={monster.metadata.hitPoints}\n        onChange={handleHitPointsChange}\n      />\n    </div>\n    <div className=\"m-3\">\n      <h5 className=\"mb-2\">Preview</h5>\n      <p>If you are happy with your creation, be sure to click 'Save'</p>\n      <Widget\n        src=\"dawnkelly.near/widget/monster.inline\"\n        props={{\n          accountId,\n          monster,\n        }}\n      />\n    </div>\n    <hr />\n    <div className=\"m-2\">\n      <div className=\"m-3\">\n        <button\n          className=\"btn btn-outline-success\"\n          disabled={!context.accountId}\n          onClick={handleSave}\n        >\n          Save\n        </button>\n      </div>\n    </div>\n  </div>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/dawnkelly.near/widget/monster.create", "fact_widget_deployments_id": "5d601ab9a01b3ebaa3815c8fd7093da6", "inserted_timestamp": "2024-04-04T21:33:08.740Z", "modified_timestamp": "2024-04-04T21:33:08.740Z", "__row_index": 0}