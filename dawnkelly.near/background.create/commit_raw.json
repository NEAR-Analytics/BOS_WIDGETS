{"tx_hash": "BgS4RNUJ9okPBjBTh9wVtvdzxDJ4NjwedBaPZu4UV1AR", "action_id_social": "2fSNfbSDeDjVQbsSLZ76LVi4udgpmyS3XfXot4GgbLBH-0-widget", "block_id": 117605262, "block_timestamp": "2024-04-25T16:50:23.629Z", "signer_id": "dawnkelly.near", "widget_name": "background.create", "source_code": "const accountId = context.accountId;\n\nconst [background, setBackground] = useState(() => {\n  const initialData = Social.getr(`${accountId}/frame/background`) ?? {\n    metadata: {\n      altText: \"\",\n      image: {},\n    },\n  };\n  return initialData;\n});\n\nconst handleAltTextChange = (e) => {\n  const newAltText = e.target.value;\n  setBackground((prevBackground) => ({\n    ...prevBackground,\n    metadata: { ...prevBackground.metadata, altText: newAltText },\n  }));\n};\n\nconst handleImageChange = (newImage) => {\n  setBackground((prevBackground) => ({\n    ...prevBackground,\n    metadata: { ...prevBackground.metadata, image: newImage },\n  }));\n};\n\nconst handleDescriptionChange = (e) => {\n  const newDescription = e.target.value;\n  setPlayer((prevPlayer) => ({\n    ...prevPlayer,\n    metadata: { ...prevPlayer.metadata, description: newDescription },\n  }));\n};\n\nconst handleSpeciesChange = (e) => {\n  const newSpecies = e.target.value;\n  setPlayer((prevPlayer) => ({\n    ...prevPlayer,\n    metadata: { ...prevPlayer.metadata, species: newSpecies },\n  }));\n};\n\nconst handleClassChange = (e) => {\n  const newClass = e.target.value;\n  setPlayer((prevPlayer) => ({\n    ...prevPlayer,\n    metadata: { ...prevPlayer.metadata, class: newClass },\n  }));\n};\n\nconst handleSkillChange = (e) => {\n  const newSkill = e.target.value;\n  setPlayer((prevPlayer) => ({\n    ...prevPlayer,\n    metadata: { ...prevPlayer.metadata, skill: newSkill },\n  }));\n};\n\nconst handleAbilityChange = (e) => {\n  const newAbility = e.target.value;\n  setPlayer((prevPlayer) => ({\n    ...prevPlayer,\n    metadata: { ...prevPlayer.metadata, ability: newAbility },\n  }));\n};\n\nconst handleWeaknessChange = (e) => {\n  const newWeakness = e.target.value;\n  setPlayer((prevPlayer) => ({\n    ...prevPlayer,\n    metadata: { ...prevPlayer.metadata, weakness: newWeakness },\n  }));\n};\n\nconst handleDefaultWeaponChange = (e) => {\n  const newDefaultWeapon = e.target.value;\n  setPlayer((prevPlayer) => ({\n    ...prevPlayer,\n    metadata: { ...prevPlayer.metadata, defaultWeapon: newDefaultWeapon },\n  }));\n};\n\nconst handleAttackChange = (e) => {\n  const newAttack = e.target.value;\n  setPlayer((prevPlayer) => ({\n    ...prevPlayer,\n    metadata: { ...prevPlayer.metadata, attack: newAttack },\n  }));\n};\n\nconst handleDefenseChange = (e) => {\n  const newDefense = e.target.value;\n  setPlayer((prevPlayer) => ({\n    ...prevPlayer,\n    metadata: { ...prevPlayer.metadata, defense: newDefense },\n  }));\n};\n\nconst handleStrengthChange = (e) => {\n  const newStrength = e.target.value;\n  setPlayer((prevPlayer) => ({\n    ...prevPlayer,\n    metadata: { ...prevPlayer.metadata, strength: newStrength },\n  }));\n};\n\nconst handleCourageChange = (e) => {\n  const newCourage = e.target.value;\n  setPlayer((prevPlayer) => ({\n    ...prevPlayer,\n    metadata: { ...prevPlayer.metadata, courage: newCourage },\n  }));\n};\n\nconst handleMagicChange = (e) => {\n  const newMagic = e.target.value;\n  setPlayer((prevPlayer) => ({\n    ...prevPlayer,\n    metadata: { ...prevPlayer.metadata, magic: newMagic },\n  }));\n};\n\nconst isValidPoints = totalPoints <= maxPoints;\n\nconst handleSave = () => {\n  Social.set({\n    frame: { background },\n    index: {\n      createBackground: JSON.stringify({ key: \"create\", value: \"background\" }),\n    },\n  });\n};\n\n{\n  /**const handleAltTextChange = (e) => {\n  const newAltText = e.target.value;\n  setBackground((prevBackground) => ({\n    ...prevBackground,\n    metadata: { ...prevBackground.metadata, altText: newAltText },\n  }));\n}; */\n}\n\nreturn (\n  <div>\n    <div className=\"m-2\">\n      <h4>Create Your Background</h4>\n      <p>You will have a chance to preview your creation before saving</p>\n      <div className=\"mb-3 p-1\">\n        <label for=\"alt\">Alt Text:</label>\n        <input\n          id=\"alt\"\n          type=\"text\"\n          placeholder=\"Describe the image for screen reader accessibility\"\n          value={background.metadata.altText}\n          onChange={handleAltTextChange}\n        />\n      </div>\n      <h5 className=\"mb-2\">Background Image</h5>\n      <div className=\"p-1\">\n        <Widget\n          src=\"mob.near/widget/ImageEditorTabs\"\n          props={{\n            image: background.metadata.image,\n            onChange: handleImageChange,\n          }}\n        />\n      </div>\n      <div className=\"m-3\">\n        <h5 className=\"mb-2\">Preview</h5>\n        <p>If you are happy with your creation, be sure to click 'Save'</p>\n        <Widget\n          src=\"dawnkelly.near/widget/deform.inline\"\n          props={{\n            accountId,\n            image,\n          }}\n        />\n      </div>\n      <hr />\n      <div className=\"m-3\">\n        <button\n          className=\"btn btn-outline-success\"\n          disabled={!context.accountId}\n          onClick={handleSave}\n        >\n          Save\n        </button>\n      </div>\n    </div>\n  </div>\n);\n", "metadata": {"fork_of": "james.near/widget/player.create@113504218"}, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/dawnkelly.near/widget/background.create", "fact_widget_deployments_id": "144c814b867aa0f42e12412fcb0ca4b3", "inserted_timestamp": "2024-05-02T18:57:30.123Z", "modified_timestamp": "2024-05-02T18:57:30.123Z", "__row_index": 0}