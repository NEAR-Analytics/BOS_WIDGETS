{"tx_hash": "CthsMzPbgrcuPxMWNJ9mfwgmHDjFPEtcPvMZkdoZc7K5", "action_id_social": "DZ4xDy1i92qEY4zgKeHTURS325miwCuY9KUndf3PSFzS-0-widget", "block_id": 113701743, "block_timestamp": "2024-02-27T18:49:34.005Z", "signer_id": "dawnkelly.near", "widget_name": "player.create", "source_code": "const accountId = context.accountId;\n\nconst [player, setPlayer] = useState(() => {\n  const initialData = Social.getr(`${accountId}/game/player`) ?? {\n    metadata: {\n      name: \"\",\n      species: \"\",\n      class: \"\",\n      image: {},\n    },\n  };\n  return initialData;\n});\n\nconst handleNameChange = (e) => {\n  const newName = e.target.value;\n  setPlayer((prevPlayer) => ({\n    ...prevPlayer,\n    metadata: { ...prevPlayer.metadata, name: newName },\n  }));\n};\n\nconst handleImageChange = (newImage) => {\n  setPlayer((prevPlayer) => ({\n    ...prevPlayer,\n    metadata: { ...prevPlayer.metadata, image: newImage },\n  }));\n};\n\nconst handleSave = () => {\n  Social.set({\n    game: { player },\n  });\n};\n\nreturn (\n  <div>\n    <div className=\"m-2\">\n      <h4>Create Your Character</h4>\n      <div className=\"mb-3 p-1\">\n        <label for=\"name\">Name:</label>\n        <input\n          id=\"name\"\n          type=\"text\"\n          placeholder=\"What is your character's name?\"\n          value={player.metadata.name}\n          onChange={handleNameChange}\n        />\n      </div>\n      <h5 className=\"mb-2\">Avatar</h5>\n      <div className=\"p-1\">\n        <Widget\n          src=\"mob.near/widget/ImageEditorTabs\"\n          props={{\n            image: player.metadata.image,\n            onChange: handleImageChange,\n          }}\n        />\n      </div>\n      <div className=\"mb-3 p-1\">\n        <label for=\"description\">Description:</label>\n        <input\n          id=\"description\"\n          type=\"textarea\"\n          rows=\"4\"\n          cols=\"80\"\n          max-length=\"1200\"\n          placeholder=\"What is your character's description?\"\n          value={player.metadata.name}\n          onChange={handleNameChange}\n        />\n      </div>\n      <div className=\"mb-3 p-1\">\n        <label for=\"species\">Species:</label>\n        <input\n          id=\"species\"\n          type=\"text\"\n          placeholder=\"What is your character's species?\"\n          value={player.metadata.species}\n          onChange={handleSpeciesChange}\n        />\n      </div>\n      <div className=\"mb-3 p-1\">\n        <label for=\"class\">Class:</label>\n        <input\n          id=\"class\"\n          type=\"text\"\n          placeholder=\"What is your character's class?\"\n          value={player.metadata.class}\n          onChange={handleClassChange}\n        />\n      </div>\n      <div className=\"mb-3 p-1\">\n        <label for=\"skill\">Skill:</label>\n        <input\n          id=\"skills\"\n          type=\"text\"\n          placeholder=\"What is your character's skill?\"\n          value={player.metadata.skill}\n          onChange={handleSkillChange}\n        />\n      </div>\n      <div className=\"mb-3 p-1\">\n        <label for=\"ability\">Ability:</label>\n        <input\n          id=\"ability\"\n          type=\"text\"\n          placeholder=\"What is your character's ability?\"\n          value={player.metadata.abililty}\n          onChange={handleAbilityChange}\n        />\n      </div>\n      <div className=\"mb-3 p-1\">\n        <label for=\"weakness\">Weakness:</label>\n        <input\n          id=\"weakness\"\n          type=\"text\"\n          placeholder=\"What is your character's weakness?\"\n          value={player.metadata.weakness}\n          onChange={handleWeaknessChange}\n        />\n      </div>\n    </div>\n    <div className=\"mb-3 p-1\">\n      <label for=\"defaultweapon\">Default Weapon:</label>\n      <input\n        id=\"defaultweapon\"\n        type=\"text\"\n        placeholder=\"What is your character's default weapon?\"\n        value={player.metadata.defaultweapon}\n        onChange={handleDefaultWeaponChange}\n      />\n    </div>\n    <div className=\"m-2\">\n      <h4>Create Character Stats</h4>\n      <div className=\"mb-3 p-1\">\n        <label for=\"attack\">Attack:</label>\n        <input\n          id=\"attack\"\n          type=\"number\"\n          name=\"attack\"\n          min=\"0\"\n          max=\"20\"\n          placeholder=\"What is your character's attack level? (0-20)\"\n          value={player.metadata.attack}\n          onChange={handleAttackChange}\n        />\n        <div className=\"mb-3 p-1\">\n          <label for=\"defense\">Defense:</label>\n          <input\n            id=\"defense\"\n            type=\"number\"\n            name=\"defense\"\n            min=\"0\"\n            max=\"20\"\n            placeholder=\"What is your character's defense level? (0-20)\"\n            value={player.metadata.defense}\n            onChange={handleDefenseChange}\n          />\n        </div>\n        <div className=\"mb-3 p-1\">\n          <label for=\"strength\">Strength:</label>\n          <input\n            id=\"strength\"\n            type=\"number\"\n            name=\"strength\"\n            min=\"0\"\n            max=\"20\"\n            placeholder=\"What is your character's strength level? (0-20)\"\n            value={player.metadata.strength}\n            onChange={handleStrengthChange}\n          />\n        </div>\n        <div className=\"mb-3 p-1\">\n          <label for=\"courage\">Courage:</label>\n          <input\n            id=\"courage\"\n            type=\"number\"\n            name=\"courage\"\n            min=\"0\"\n            max=\"20\"\n            placeholder=\"What is your character's courage level? (0-20)\"\n            value={player.metadata.courage}\n            onChange={handleCourageChange}\n          />\n        </div>\n        <div className=\"mb-3 p-1\">\n          <label for=\"magic\">Magic:</label>\n          <input\n            id=\"magic\"\n            type=\"number\"\n            name=\"magic\"\n            placeholder=\"What is your character's magic level? (0-20)\"\n            value={player.metadata.magic}\n            onChange={handleMagicChange}\n          />\n        </div>\n      </div>\n      <div className=\"m-3\">\n        <button\n          className=\"btn btn-outline-success\"\n          disabled={!context.accountId}\n          onClick={handleSave}\n        >\n          Save\n        </button>\n      </div>\n      <hr />\n      <div className=\"m-3\">\n        <h5 className=\"mb-2\">Preview</h5>\n        <Widget\n          src=\"james.near/widget/player.inline\"\n          props={{\n            accountId,\n            player,\n          }}\n        />\n      </div>\n    </div>\n  </div>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/dawnkelly.near/widget/player.create", "fact_widget_deployments_id": "e0c9010887914f50f17410bfefe2ebdc", "inserted_timestamp": "2024-03-07T05:24:05.087Z", "modified_timestamp": "2024-03-07T05:24:05.087Z", "__row_index": 5}