{"tx_hash": "2jNEpLYNitGxr8BjqtJBBj6uXYKG1oY7TrpufqguaTQ2", "action_id_social": "Qx62kXQjeRAPETdKK2jeekeCcxzNnvBxWujXN1mmqDR-0-widget", "block_id": 106735766, "block_timestamp": "2023-11-28T13:32:24.078Z", "signer_id": "blessed07.near", "widget_name": "post-content", "source_code": "const PostContainer = styled.div`\n  width: 100%;\n  display: flex;\n  justify-content: flex-start;\n  align-items: flex-start;\n  padding-inline: 8px;\n  gap: 8px;\n`;\n\nconst ImageContainer = styled.img`\n    position: relative;\n    display: block;\n    min-width: 100px;\n    max-width: 100px;\n    height: 100px;\n    background: #D9D9D9;\n    border-radius: 50% 50%;\n`;\n\nconst PostContentContainer = styled.div`\n    position: relative;\n    display: flex;\n    flex-flow: column nowrap;\n    gap: 16px;\n    width: 100%;\n`;\n\nconst PostTopContainer = styled.div`\n    flex-basis: auto 1 0;\n    width: 100%;\n    position: relative;\n    display: flex;\n    flex-flow: row nowrap;\n    justify-content: space-between;\n`;\n\nconst PostContent = styled.div`\n    position: relative;\n`;\n\nconst accountId = props.accountId;\nif (!accountId) {\n  return \"No accountId\";\n}\n\nconst blockHeight =\n  props.blockHeight === \"now\" ? \"now\" : parseInt(props.blockHeight);\nconst myName = Social.get(`${accountId}/profile/name`);\nconst pinned = !!props.pinned;\nconst hideMenu = !!props.hideMenu;\nconst hideButtons = !!props.hideButtons;\nconst content =\n  props.content ??\n  JSON.parse(Social.get(`${accountId}/post/main`, blockHeight) ?? \"null\");\nconst subscribe = !!props.subscribe;\nconst raw = !!props.raw;\nconst groupId = props.groupId ?? content.groupId;\nconst indexKey = props.indexKey;\nconst permissions = props.permissions;\nconst fullPostLink = props.fullPostLink;\n\nconst notifyAccountId = accountId;\nconst item = {\n  type: \"social\",\n  path: `${accountId}/post/main`,\n  blockHeight,\n};\n\nconst link =\n  props.link ??\n  props.fullPostLink ??\n  `/mob.near/widget/MainPage.N.Post.Page?accountId=${accountId}&blockHeight=${blockHeight}`;\n// const imgWrapperStyle = { width: \"40px\", height: \"40px\" };\nconst profile = Social.getr(`${accountId}/profile`);\nconst image = profile.image;\n\n// Function to formatAccountId if accountId is not a `.near` account\nconst formatAccountId = (acctId) => {\n  if (acctId.split(\".near\").length == 2) {\n    return acctId;\n  }\n  return `${acctId?.substring(0, 6)}...${acctId?.substring(acctId.length - 4)}`;\n};\n\n// Function to extractHashtags\nconst extractHashtags = (text) => {\n  const hashtagRegex = /#(\\w+)/gi;\n  hashtagRegex.lastIndex = 0;\n  const hashtags = new Set();\n  for (const match of text.matchAll(hashtagRegex)) {\n    if (\n      !/[\\w`]/.test(match.input.charAt(match.index - 1)) &&\n      !/[/\\w`]/.test(match.input.charAt(match.index + match[0].length))\n    ) {\n      hashtags.add(match[1].toLowerCase());\n    }\n  }\n  return [...hashtags];\n};\n\nextractHashtags(content?.text);\n\nreturn (\n  <>\n    <PostContainer>\n      <ImageContainer src={`https://ipfs.near.social/ipfs/${image.ipfs_cid}`} />\n      <PostContentContainer>\n        <PostTopContainer>\n          <div\n            class=\"\"\n            style={{ display: \"flex\", alignItems: \"center\", gap: \"16px\" }}\n          >\n            <div>{myName}</div>\n            <div>@{formatAccountId(accountId)}</div>\n            <Widget\n              loading=\"\"\n              src=\"mob.near/widget/TimeAgo\"\n              props={{ blockHeight }}\n            />\n          </div>\n        </PostTopContainer>\n        <PostContent>\n          <div>{content?.text}</div>\n        </PostContent>\n      </PostContentContainer>\n    </PostContainer>\n  </>\n);\n", "metadata": {"platform": "jutsu.ai"}, "branch": {"draft": null}, "widget_modules_used": null, "widget_url": "https://near.social/#/blessed07.near/widget/post-content", "fact_widget_deployments_id": "d7dbf6646a698572cc2854271fec7629", "inserted_timestamp": "2023-11-28T15:31:52.425Z", "modified_timestamp": "2023-11-28T15:31:52.425Z", "__row_index": 4}