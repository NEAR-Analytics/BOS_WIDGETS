{"tx_hash": "51e1P9rJNyahVGoEkaUtBeNT9mBZ5oKAi7Ls9v6EWcyp", "action_id_social": "8nZnKgXvxsBmpdCoja4vRwRcD8oM9DmgC3kbdNLucSeG-0-widget", "block_id": 108310543, "block_timestamp": "2023-12-19T06:38:57.830Z", "signer_id": "coolmouse.near", "widget_name": "KSTNAnvil.Navbar", "source_code": "// constants\n\nconst menuItems = [\n  {\n    name: \"Proposals\",\n    url: \"/coolmouse.near/widget/Keystone.Proposals.Index\",\n  },\n  {\n    name: \"Signers\",\n    url: \"/coolmouse.near/widget/Keystone.Signers.Index\",\n  },\n  {\n    name: \"Tokens\",\n    url: \"/coolmouse.near/widget/Keystone.Tokens.Index\",\n  },\n];\n\nconst blockExplorerUrl = \"\"; // Anvil\nconst chainName = \"Anvil\"; // Anvil\nconst keystoneAddress = \"0xe7f1725E7734CE288F8367e1Bb143E90bb3F0512\"; // Anvil\nconst rpcUrl = \"http://localhost:8545\"; // Anvil\nconst operationChainId = 31337; // Anvil\n\n// states\n\nif (state.sender == undefined && Ethers.provider()) {\n  Ethers.provider()\n    .send(\"eth_requestAccounts\", [])\n    .then((accounts) => {\n      if (accounts.length) {\n        State.update({ sender: accounts[0] });\n      }\n    });\n}\n\nif (state.sender != undefined && Ethers.provider()) {\n  try {\n    Ethers.provider()\n      .getNetwork()\n      .then((chainIdData) => {\n        const chainId = chainIdData.chainId;\n        if (chainId !== operationChainId) {\n          const res = Ethers.send(\"wallet_switchEthereumChain\", [\n            { chainId: `0x${Number(operationChainId).toString(16)}` },\n          ]);\n          if (res === null) {\n            Ethers.send(\"wallet_addEthereumChain\", [\n              {\n                chainId: `0x${Number(operationChainId).toString(16)}`,\n                chainName,\n                nativeCurrency: {\n                  name: \"KUB\",\n                  symbol: \"KUB\",\n                  decimals: 18,\n                },\n                rpcUrls: [rpcUrl],\n                blockExplorerUrls: [blockExplorerUrl],\n              },\n            ]);\n            Ethers.send(\"wallet_switchEthereumChain\", [\n              { chainId: `0x${Number(operationChainId).toString(16)}` },\n            ]);\n          }\n        } else {\n          console.log(\"OK on chain\");\n        }\n      });\n  } catch (e) {\n    console.error(\"No wallet provider\");\n  }\n}\n\n// styles\n\nconst Container = styled.div`\n  border-width: 0;\n  border-style: solid;\n  border-color: #e5e7eb;\n  box-sizing: border-box;\n  color: white;\n  font-family: ui-sans-serif, system-ui, Roboto, 'Helvetica Neue', Arial, 'Noto Sans', sans-serif;\n  margin-left: auto;\n  margin-right: auto;\n  max-width: 80rem;\n  padding-left: 1.5rem;\n  padding-right: 1.5rem;\n  tab-size: 4;\n`;\n\nconst Navbar = styled.div`\n  align-items: center;\n  border-bottom-width: 2px;\n  border-color: rgb(243 244 246);\n  color: white;\n  box-sizing: border-box;\n  border-width: 0;\n  border-style: solid;\n  display: flex;\n  font-family: ui-sans-serif, system-ui, Roboto, 'Helvetica Neue', Arial, 'Noto Sans', sans-serif;\n  min-height: 4rem;\n  padding: 0.5rem;\n  tab-size: 4;\n  width: 100%;\n`;\n\nconst NavbarStart = styled.div`\n  align-items: center;\n  border-width: 0;\n  border-style: solid;\n  border-color: #e5e7eb;\n  box-sizing: border-box;\n  color: white;\n  display: inline-flex;\n  font-family: ui-sans-serif, system-ui, Roboto, 'Helvetica Neue', Arial, 'Noto Sans', sans-serif;\n  justify-content: flex-start;\n  tab-size: 4;\n  width: 50%;\n`;\n\nconst NavbarCenter = styled.div`\n  align-items: center;\n  border-color: #e5e7eb;\n  border-style: solid;\n  border-width: 0;\n  box-sizing: border-box;\n  color: white;\n  display: flex;\n  flex-shrink: 0;\n  font-family: ui-sans-serif, system-ui, Roboto, 'Helvetica Neue', Arial, 'Noto Sans', sans-serif;\n  tab-size: 4;\n`;\n\nconst NavbarEnd = styled.div`\n  align-items: center;\n  border-width: 0;\n  border-style: solid;\n  border-color: #e5e7eb;\n  box-sizing: border-box;\n  color: white;\n  display: inline-flex;\n  justify-content: flex-end;\n  width: 50%;\n`;\n\nconst MenuHorizontal = styled.ul`\n  color: white;\n  display: inline-flex;\n  box-sizing: border-box;\n  border-width: 0;\n  border-style: solid;\n  border-color: #e5e7eb;\n  flex-direction: row;\n  flex-wrap: wrap;\n  font-family: ui-sans-serif, system-ui, Roboto, 'Helvetica Neue', Arial, 'Noto Sans', sans-serif;\n  font-size: 0.875rem;\n  line-height: 1.25rem;\n  list-style: none;\n  margin: 0;\n  padding: 0px;\n  tab-size: 4;\n\n  li {\n    a {\n      align-content: flex-start;\n      align-items: center;\n      display: grid;\n      grid-auto-flow: column;\n      padding-left: 1rem;\n      padding-right: 1rem;\n      padding-top: 0.5rem;\n      padding-bottom: 0.5rem;\n    }\n  }\n`;\n\nconst MenuLink = styled.a`\n  border-radius: 0.5rem;\n  padding-left: 1rem;\n  padding-right: 1rem;\n  padding-top: 0.5rem;\n  padding-bottom: 0.5rem;\n  text-align: start;\n  user-select: none;\n`;\n\nreturn (\n  <Container style={{ backgroundColor: \"black\" }}>\n    <Navbar>\n      <NavbarStart>\n        <Link href=\"/coolmouse.near/Keystone.Index\">\n          <svg\n            height=\"40\"\n            preserveAspectRatio=\"xMidYMid meet\"\n            version=\"1.0\"\n            viewBox=\"0 0 810 810\"\n            width=\"40\"\n            xmlns=\"http://www.w3.org/2000/svg\"\n          >\n            <g fillRule=\"evenodd\">\n              <path\n                d=\"\n                  M 269.5625 252.027344\n                  L 287.582031 225.710938\n                  L 522.425781 225.710938\n                  L 540.421875 252.027344\n                  L 464.804688 531.953125\n                  L 444.667969 547.203125\n                  L 365.332031 547.203125\n                  L 345.179688 531.953125\n                \"\n                fill=\"#FFD700\"\n              />\n              <path\n                d=\"\n                  M 53.46875 424.742188\n                  L 55.175781 400.109375\n                  L 204.621094 313.285156\n                  L 226.9375 323.816406\n                  L 286.039062 540.285156\n                  L 278.566406 558.347656\n                  L 232.953125 584.308594\n                  L 213.527344 582.015625\n                \"\n                fill=\"#FFD700\"\n              />\n              <path\n                d=\"\n                  M 756.523438 424.742188\n                  L 754.8125 400.109375\n                  L 605.371094 313.285156\n                  L 583.046875 323.816406\n                  L 523.945312 540.285156\n                  L 531.425781 558.347656\n                  L 577.039062 584.308594\n                  L 596.46875 582.015625\n                \"\n                fill=\"#FFD700\"\n              />\n            </g>\n            <g fillRule=\"nonzero\">\n              <path\n                d=\"\n                  M 390.597656 380.773438\n                  C 365.246094 387.207031 346.46875 410.105469 346.46875 437.453125\n                  C 346.46875 469.78125 372.679688 495.992188 405.011719 495.992188\n                  C 437.34375 495.992188 463.550781 469.78125 463.550781 437.453125\n                  C 463.550781 410.105469 444.773438 387.203125 419.421875 380.773438\n                  L 419.421875 282.652344\n                  L 405.011719 260.699219\n                  L 391.28125 281.613281\n                  L 360.09375 281.613281\n                  L 360.09375 321.847656\n                  L 390.597656 321.847656 Z\n                  M 434.910156 437.453125\n                  C 434.910156 453.96875 421.523438 467.355469 405.007812 467.355469\n                  C 388.496094 467.355469 375.105469 453.96875 375.105469 437.453125\n                  C 375.105469 420.941406 388.496094 407.550781 405.007812 407.550781\n                  C 421.523438 407.550781 434.910156 420.941406 434.910156 437.453125 Z\n                  M 434.910156 437.453125\n                \"\n                fill=\"#7c52cf\"\n              />\n            </g>\n          </svg>\n        </Link>\n        <Link\n          className=\"btn btn-ghost normal-case text-xl\"\n          href=\"/coolmouse.near/widget/Keystone.Index\"\n          style={{ color: \"white\" }}\n        >\n          KSTNAnvil Index\n        </Link>\n      </NavbarStart>\n      <NavbarCenter>\n        <MenuHorizontal>\n          {menuItems.map((menuItem) => (\n            <li key={menuItem.name}>\n              <MenuLink href={menuItem.url}>{menuItem.name}</MenuLink>\n            </li>\n          ))}\n        </MenuHorizontal>\n      </NavbarCenter>\n      <NavbarEnd>\n        <Web3Connect\n          connectLabel={\"Link wallet\"}\n          disconnectLabel={\"Disconnect\"}\n        />\n      </NavbarEnd>\n    </Navbar>\n  </Container>\n);\n", "metadata": {"description": "Test navigation bar for Keystone Index targeted at local Anvil EVM.", "linktree": {"website": "krutt.fi"}, "name": "KSTNAnvil.Index", "tags": {"anvil": "", "bos-gg": "", "funding": "", "fundmanager": "", "index": "", "keystone": "", "local": ""}}, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/coolmouse.near/widget/KSTNAnvil.Navbar", "fact_widget_deployments_id": "69ada45f61ea1829fceffe6a387a2b12", "inserted_timestamp": "2023-12-19T08:51:32.977Z", "modified_timestamp": "2023-12-20T03:22:11.422Z", "__row_index": 1}