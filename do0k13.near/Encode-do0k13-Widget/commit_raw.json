{"tx_hash": "GHZofFkhhzKoduhLqNuzTvVfAdgdJ77ZGzhU8gSc7cYu", "action_id_social": "89x6yVWnPYbPqr7bSdFTeDnFnrZQWzEMJtqHHN465DUQ-0-widget", "block_id": 100052938, "block_timestamp": "2023-08-31T04:16:56.437Z", "signer_id": "do0k13.near", "widget_name": "Encode-do0k13-Widget", "source_code": "//Encode x NEAR Bootcamp Widget\n\n//Contract foked from https://gist.github.com/encody/bd4f10aa446e8002386e973200cdf6b9\nconst contract =\n  \"ece61a112fbb05b5ff96fd4d63cb259c4bae966477829666d46ddc4e5121d801\";\n//start Near Staking Const\nconst Stake = styled.div`\n  .headTab {\n    width: 100%;\n    display: flex;\n    margin-bottom: 40px;\n  }\n`;\n\nconst Tab = styled.div`\n  width: 100%;\n  display: flex;\n  justify-content: flex-end;\n`;\n\nconst { hideBanner } = props;\n\nconst Wrap = styled.div`\n  display: flex;\n  gap: 24px;\n  flex-wrap: wrap;\n`;\nconst SummaryWrapper = styled.div`\n  margin-bottom: ${!!hideBanner ? \"50px\" : \"\"};\n`;\nconst Title = styled.h1`\n  font-size: ${(p) => sizes[p.size].title};\n  color: #ffffff;\n  font-weight: 700;\n  margin: 0;\n\n  @media (max-width: 770px) {\n    font-size: 16px;\n    margin: 0;\n  }\n`;\n\nconst { tabName } = state;\nState.init({\n  tabName: \"stake\", // stake | unstake,\n  nearBalance: \"\",\n});\n\nconst updateTabName = (tabName) =>\n  State.update({\n    tabName,\n  });\n\n//Ends Near Staking Const\n//Get messages from the contract defining a number of messages\nconst messages = Near.view(contract, \"get_messages\", { limit: 30 });\n\nconst Message = styled.div`\n  display: flex;\n  gap: 1.2em;\n`;\nconst Chat = styled.div`\n  background-color: #fff;\n  color: #000;\n  border: 1px solid #ccc;\n  padding: 20px;\n  border-radius: 10px;\n  max-width: 600px;\n  margin: 0 auto;\n`;\nconst MessageCnt = styled.div`\n  background-color: #fff;\n  padding: 8px 12px;\n  border-radius: 10px;\n  font-size: ${state.textSize}px;\n`;\nconst Header = styled.div`\n  width: 100%;\n  padding: 50px 10px;\n  font-weight: 600;\n  font-size: 30px;\n  position: sticky;\n  top: 0;\n  z-index: 100;\n  background-color: #ffffff;\n`;\nconst WidgetCnt = styled.div`\n  font-size: ${state.widgetSize}px;\n`;\nconst SendMsgCnt = styled.div`\n  display: flex;\n  align-items: center;\n  gap: 10px;\n  margin-top: 20px;\n`;\nconst MessageButton = styled.button`\n  background-color: green;\n  color: white;\n  border: none;\n  padding: 8px 16px;\n  cursor: pointer;\n  border-radius: 5px;\n`;\nconst FontSizeInput = styled.input`\n  width: 40px; /* Adjust the width as needed */\n`;\n\nreturn (\n  /* <>\n    <pre>{JSON.stringify(messages, null, 2)}</pre>\n    {messages.map((message) => (\n      <Message>\n        <Widget\n          src=\"calebjacob.near/widget/AccountProfile\"\n          props={{\n            accountId: message.author,\n          }}\n        />\n        <Widget\n          src=\"andyh.near/widget/TimeAgo\"\n          props={{\n            blockHeight: message.block_height,\n          }}\n        />\n        <p>{message.text}</p>\n      </Message>\n    ))}\n  </>\n); */\n\n  <Chat>\n    <Header>\n      <p>Near Encode Bootcamp</p>\n      <p>July-August 2023</p>\n      <button>Chat</button>\n      <button>Notifications</button>\n      <button>Stake</button>\n    </Header>\n    {messages.map((message) => (\n      <Message key={message.id}>\n        <Widget\n          src=\"calebjacob.near/widget/AccountProfile\"\n          props={{\n            accountId: message.author,\n          }}\n        />\n        <MessageCnt>{message.text}</MessageCnt>\n        <WidgetCnt>\n          <Widget\n            src=\"andyh.near/widget/TimeAgo\"\n            props={{\n              blockHeight: message.block_height,\n            }}\n          />\n        </WidgetCnt>\n      </Message>\n    ))}\n    <hr />\n    <SendMsgCnt>\n      <input\n        onChange={onChange}\n        type=\"text\"\n        placeholder=\"Type your message...\"\n      />\n      <FontSizeInput\n        type=\"number\"\n        min=\"10\"\n        max=\"40\"\n        value={state.textSize}\n        onChange={(event) =>\n          State.update({ textSize: parseInt(event.target.value) })\n        }\n      />\n      <FontSizeInput\n        type=\"number\"\n        min=\"10\"\n        max=\"40\"\n        value={state.widgetSize}\n        onChange={(event) =>\n          State.update({ widgetSize: parseInt(event.target.value) })\n        }\n      />\n      <MessageButton onClick={sendMessage}>Send</MessageButton>\n    </SendMsgCnt>\n    <Stake>\n      <div class=\"headTab\">\n        <Title>Staking</Title>\n        <Tab>\n          <Widget\n            src={`ref-admin.near/widget/LiNEAR.Tab`}\n            props={{\n              updateTabName,\n              tabName: tabName,\n            }}\n          ></Widget>\n        </Tab>\n      </div>\n      <Wrap>\n        <Widget\n          src=\"ref-admin.near/widget/LiNEAR\"\n          props={{\n            updateTabName,\n            tabName: tabName,\n          }}\n        ></Widget>\n        <Widget\n          src=\"ref-admin.near/widget/XREF\"\n          props={{\n            updateTabName,\n            tabName: tabName,\n          }}\n        ></Widget>\n        <Widget\n          src=\"ref-admin.near/widget/NearX\"\n          props={{\n            tabName,\n          }}\n        ></Widget>\n      </Wrap>\n    </Stake>\n  </Chat>\n);\n", "metadata": null, "branch": {"draft": null}, "widget_modules_used": null, "widget_url": "https://near.social/#/do0k13.near/widget/Encode-do0k13-Widget", "fact_widget_deployments_id": "3e11c5edaefeac9c76266780c7b58d42", "inserted_timestamp": "2024-03-07T05:24:05.087Z", "modified_timestamp": "2024-03-07T05:24:05.087Z", "__row_index": 0}