{"tx_hash": "5gQwUR7PGnYr7YyyQ2rfJZM2ms9oFNR5KyGXXhfefowA", "action_id_social": "aZ7uMM66Nr8PGhZ8Y6CHSf6KQdRCAaunMC96JU9qXdc-0-widget", "block_id": 113475371, "block_timestamp": "2024-02-24T08:30:42.264Z", "signer_id": "workshop.flmel.near", "widget_name": "Final", "source_code": "if (context.loading) {\n  return \"Loading...\";\n}\n\nconst guestbookExampleContract = \"guestbook.flmel.near\";\nconst messages = Near.view(guestbookExampleContract, \"get_messages\", {});\n\nif (messages === null) {\n  return \"Loading...\";\n}\n\nconst [latestMessage, ...rest] = messages.reverse();\n\nconst [message, setMessage] = useState(\"\");\nconst [premium, setPremium] = useState(false);\nconst [theme, setTheme] = useState(null);\n\nfunction handleMessageChange(e) {\n  setMessage(e.target.value);\n}\n\nfunction handleAmountChange(e) {\n  setAmount(e.target.value);\n}\n\nfunction postMessage() {\n  const deposit = premium ? \"100000000000000000000000\" : \"0\";\n\n  Near.call(\n    guestbookExampleContract,\n    \"add_message\",\n    { text: message },\n    \"300000000000000\",\n    deposit\n  );\n}\n\n// TailwindCSS\nconst tailwindCssUrl =\n  \"https://dl.dropboxusercontent.com/scl/fi/xwrs3zdjjauf96vqrv8pb/gb-output.css?rlkey=ajjk53tv2lwm2am6xu3242788&dl=0\";\nconst tailwindCss = fetch(tailwindCssUrl).body;\n\nif (!tailwindCss) return \"Loading CSS\";\n\nif (!theme) {\n  setTheme(styled.div`${tailwindCss}`);\n}\n\nconst Theme = theme;\n\nreturn (\n  <>\n    <Theme>\n      {props.transactionHashes !== undefined ? (\n        <Widget\n          src=\"guestbook.flmel.near/widget/Modal\"\n          props={{ transactionHashes: props.transactionHashes }}\n        />\n      ) : (\n        <></>\n      )}\n\n      <div class=\"container mx-auto text-gray-700\">\n        <div class=\"flex space-x-4 mt-8\">\n          <Widget\n            src=\"guestbook.flmel.near/widget/Card\"\n            props={{ message: latestMessage, latest: true }}\n            class=\"w-1/2\"\n          />\n\n          <div class=\"w-1/2\">\n            <h1 class=\"text-8xl font-bold\">GuestBook Example</h1>\n            <textarea\n              type=\"text\"\n              value={message}\n              onChange={handleMessageChange}\n              class=\"border-2 border-slate-800 rounded-xl p-2 w-full mt-4 font-bold text-lg\"\n              placeholder=\"Your review here\"\n            />\n\n            <div class=\"flex items-center space-x-4 my-2\">\n              <label class=\"form-check-label font-bold\" for=\"flexCheckDefault\">\n                Make Premium\n              </label>\n              <input\n                class=\"form-check-input border-2 border-slate-800 py-2 px-2\"\n                type=\"checkbox\"\n                checked={premium}\n                onClick={() => setPremium(!premium)}\n              />\n            </div>\n\n            <button\n              onClick={postMessage}\n              class=\"rounded-xl py-2 px-6 bg-slate-800 hover:bg-slate-600 transition text-xl text-gray-100\"\n            >\n              Add Yours\n            </button>\n          </div>\n        </div>\n\n        <div class=\"columns-3 break-inside-avoid-column mt-4\">\n          {rest.map((message) => (\n            <>\n              <Widget\n                src=\"guestbook.flmel.near/widget/Card\"\n                props={{ message }}\n                class=\"w-1/3\"\n              />\n            </>\n          ))}\n        </div>\n      </div>\n    </Theme>\n  </>\n);\n", "metadata": {"platform": "jutsu.ai"}, "branch": {"draft": null}, "widget_modules_used": null, "widget_url": "https://near.social/#/workshop.flmel.near/widget/Final", "fact_widget_deployments_id": "3cfb1d3f1c90ad2354034025fc544ebf", "inserted_timestamp": "2024-03-07T05:24:05.087Z", "modified_timestamp": "2024-03-07T05:24:05.087Z", "__row_index": 0}