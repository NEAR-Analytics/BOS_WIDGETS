{"tx_hash": "BcmsF4xfTi4PL7cirdR2PFnfQ9gQ9sFa62CW54rgTCyq", "action_id_social": "FYKdhZvwuE3ytru5utb5fdFzoFu79kCHV53Cq6jaegA3-0-widget", "block_id": 103759786, "block_timestamp": "2023-10-19T21:06:39.173Z", "signer_id": "jgodwill.near", "widget_name": "Mintbase.StoreCard", "source_code": "const contract = props.contract;\nconst StoreCard = styled.div`\nborder: 1px solid #e5e8eb;\nbox-shadow: 2px 2px 12px 0px rgba(0, 0, 0, 0.05);\ngap: 2em;\nmargin: 10px auto;\nwidth: 100%;\n  background: #000;\n  color: #fff;\nmax-width: 600px;\n*{\n  font-family: Helvetica Neue;\n  box-sizing: border-box;\n  margin: 0;\n  padding: 0;\n  }\n.icon_area{\n  width: 110px;\n  // border-radius: 50%;\n  height: 110px;\n  border: 3px solid #ccc;\n  display: flex;\n  overflow: hidden;\n  position: absolute;\n  margin-top: -50px;\n  img{\n    object-fit:cover;\n  }\n}\n\n.name_contract{\n  margin-top: 10px;\n  h3{\n    font-weight: bold;\n    margin: 0;\n  }\n}\n\n.middle{\n  padding: 0px 20px;\n  position: relative;\n  .content{\n  position: relative;\n    display: flex;\n    gap: 20px;\n    .name_contract{\n      margin-left: 130px;\n    }\n    .count_area{\n      flex: 1;\n    }\n    .nft_count{\n      display: flex;\n      flex-flow: column nowrap;\n      justify-content: center;\n      margin-top: 13px;\n      justfy-self: flex-end;\n      background:#222;\n      padding: .5em;\n      width: 100px;\n      float: right;\n      h6{\n        opacity: 0.5;\n        magin: 0;\n        font-size: 13px;\n      }\n    }\n  }\n}\n\n.top{\n  height: 100px;\n  border-bottom: 1px solid #fff; \n  background: #fff;\n  overflow: hidden;\n  img{\n    width: 100%;\n    height: 100%;\n    object-fit: cover;\n  }\n}\n.bottom{\n  padding: 1em;\n  button {\n    border: 1px solid #fff;\n    border-radius: 0;\n    color: white;\n    background: black;\n    text-align: center\n    display: flex;\n    padding: 7px 20px;\n    cursor: pointer;\n  }\n  button:disabled {\n    background: grey;\n    border: grey;\n    cursor: not-allowed;\n  }\n  button:hover {\n    background: white;\n    color: black;\n    border-color: black;\n  }\n}\n`;\n\nconst fetchStoreFrontData = (owner, contractId) => {\n  const response2 = fetch(\"https://graph.mintbase.xyz/mainnet\", {\n    method: \"POST\",\n    headers: {\n      \"mb-api-key\": \"anon\",\n      \"Content-Type\": \"application/json\",\n    },\n    body: JSON.stringify({\n      query: `query MyQuery {\n  mb_views_nft_metadata_unburned_aggregate(\n    where: {nft_contract: {id: {_eq: \"${contractId}\"}, owner_id: {_eq: \"${owner}\"}}}\n  ) {\n    aggregate {\n      count\n    }\n  }\n}\n`,\n    }),\n  });\n\n  State.update({\n    storeContracts: response2.body.data.mb_views_nft_metadata_unburned,\n    storeNftsCount:\n      response2.body.data.mb_views_nft_metadata_unburned_aggregate.aggregate\n        .count,\n  });\n  console.log(\"running2\", state.storeContracts);\n};\n\nfetchStoreFrontData(\n  contract.nftContract.owner || \"nate.near\",\n  contract.id || \"nate.mintbase1.near\"\n);\n\nreturn (\n  <StoreCard>\n    <a\n      href={`#/jgodwill.near/widget/Mintbase.StoreFront?ownerId=${contract.nftContract.owner}&storeContract=${contract.id}`}\n      style={{ textDecoration: \"none\", color: \"inherit\" }}\n    >\n      <div className=\"top\">\n        <img\n          src={\n            \"https://ipfs.near.social/ipfs/bafkreic3vnqe4ttofyrgt3w4zfqkpllddgxw5bfdrdg2zn3f4l3xiuuvby\"\n          }\n          className=\"chain_banner\"\n          alt={contract.nftContract.name + \" banner\"}\n        />\n      </div>\n      <div className=\"middle\">\n        <div className=\"content\">\n          <div className=\"icon_area\">\n            <img\n              src={\n                contract.nftContract.icon ??\n                \"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRub7hFLkStCvZiaSeiUGznP4uzqPPcepghhg&usqp=CAU\"\n              }\n              className=\"chain_icon\"\n              alt={contract.nftContract.name + \" icon\"}\n            />\n          </div>\n          <div className=\"name_contract\">\n            <h3>\n              {(contract && contract?.nftContract?.name.toUpperCase()) ||\n                \"Contract Name\"}\n            </h3>\n            <p>{contract.id || \"Contract Id\"}</p>\n          </div>\n          <div className=\"count_area\">\n            <div className=\"nft_count\">\n              <h6>NFT Count</h6>\n              <p>{state.storeNftsCount || 124}</p>\n            </div>\n          </div>\n        </div>\n      </div>\n      <div className=\"bottom\">\n        <button>Manage NFTs</button>\n      </div>\n    </a>\n  </StoreCard>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/jgodwill.near/widget/Mintbase.StoreCard", "fact_widget_deployments_id": "ee6f464c5d9efc517c30445050422888", "inserted_timestamp": "2024-03-07T05:24:05.087Z", "modified_timestamp": "2024-03-07T05:24:05.087Z", "__row_index": 0}