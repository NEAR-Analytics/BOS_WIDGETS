{"tx_hash": "EccwbKLig8gSiWEEvxuM641xvEq3aTkeLeXFQSMpASbc", "action_id_social": "GvGcxdbu1HaMYnxr5Gh4bAPq5ETwQZmha8NArmeJ9MtP-0-widget", "block_id": 118953454, "block_timestamp": "2024-05-15T06:29:54.195Z", "signer_id": "jgodwill.near", "widget_name": "uploadsomething", "source_code": "const [img, setImg] = useState(null);\nconst { UploadField } = VM.require(\"buildhub.near/widget/components\");\nconst [msg, setMsg] = useState(<UploadField />);\n\nconst uploadFile = (files) => {\n  setMsg(\"Uploading...\");\n\n  const file = fetch(\"https://ipfs.near.social/add\", {\n    method: \"POST\",\n    headers: { Accept: \"application/json\" },\n    body: files[0],\n  });\n\n  setImg(file.body.cid);\n  setMsg(\"Upload an Image\");\n};\n\nreturn (\n  <>\n    <Files\n      multiple={false}\n      accepts={[\"image/*\"]}\n      clickable\n      className=\"\"\n      onChange={uploadFile}\n    >\n      {msg}\n    </Files>\n    {img ? (\n      <div>\n        <img src={`https://ipfs.near.social/ipfs/${img}`} />\n      </div>\n    ) : (\n      \"\"\n    )}\n  </>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/jgodwill.near/widget/uploadsomething", "fact_widget_deployments_id": "d7ef622fee21198cfbc2c898016bdee0", "inserted_timestamp": "2024-05-15T07:50:57.888Z", "modified_timestamp": "2024-05-15T08:51:40.294Z", "__row_index": 1}