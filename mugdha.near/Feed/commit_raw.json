{"tx_hash": "9UcQCS3ojrimCo3XjTwEEUjXpdtMCd9KBRmT7kFmyUq3", "action_id_social": "AYxPdqSSkSuCcDevjnPnpU1cLG9y5dDpzZxACxYN9vcX-0-widget", "block_id": 111910733, "block_timestamp": "2024-02-02T05:40:42.473Z", "signer_id": "mugdha.near", "widget_name": "Feed", "source_code": "const { Feed } = VM.require(\"devs.near/widget/Module.Feed\");\nconst { ButtonLink } = VM.require(\"buildhub.near/widget/components.ButtonLink\");\n\nButtonLink || (ButtonLink = () => <></>);\nFeed = Feed || (() => <></>); // ensure it's defined or set to a default component\n\nconst { type, hashtag } = props;\ntype = hashtag;\nhashtag = type;\n\nconst tab = props.tab || \"graders\";\n\nif (!tab) {\n  return \"\";\n}\n\nconst { Post } = VM.require(\"buildhub.near/widget/components\");\nPost = Post || (() => <></>);\n\nfunction formatDate(date) {\n  const options = { year: \"numeric\", month: \"short\", day: \"numeric\" };\n  return date.toLocaleDateString(\"en-US\", options);\n}\n\nconst feeds = {\n  graders: {\n    label: \"12th-graders\",\n    icon: \"bi-calendar3\",\n    name: \"12th-graders\",\n    hashtag: \"graders\",\n    template: `\n`,\n  },\n  bookmarks: {\n    label: \"Bookmarks\",\n    icon: \"bi-bookmark\",\n    name: \"bookmark\",\n  },\n};\n\nconst [activeFeed, setActiveFeed] = useState(tab || \"graders\");\nconst [template, setTemplate] = useState(\"What did you have in mind?\");\n\nreturn (\n  <Widget\n    src=\"buildhub.near/widget/components.AsideWithMainContent\"\n    props={{\n      sideContent: null,\n      mainContent: (\n        <>\n          {context.accountId ? (\n            activeFeed !== \"bookmarks\" ? (\n              <Widget\n                src=\"buildhub.near/widget/Compose\"\n                props={{\n                  feed: feeds[activeFeed],\n                  template: feeds[activeFeed].template,\n                }}\n              />\n            ) : (\n              <Widget src=\"buildhub.near/widget/Bookmarks\" />\n            )\n          ) : (\n            <Widget\n              src=\"buildhub.near/widget/components.login-now\"\n              props={props}\n            />\n          )}\n          {activeFeed !== \"bookmarks\" && (\n            <Feed\n              index={[\n                {\n                  action: \"hashtag\",\n                  key: feeds[activeFeed].hashtag,\n                  options: {\n                    limit: 10,\n                    order: \"desc\",\n                  },\n                  cacheOptions: {\n                    ignoreCache: true,\n                  },\n                },\n              ]}\n              Item={(p) => (\n                <Post\n                  accountId={p.accountId}\n                  blockHeight={p.blockHeight}\n                  noBorder={true}\n                />\n              )}\n            />\n          )}\n        </>\n      ),\n    }}\n  />\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/mugdha.near/widget/Feed", "fact_widget_deployments_id": "6951023ffb4288f0aab5cf22de7c7502", "inserted_timestamp": "2024-03-07T05:24:05.087Z", "modified_timestamp": "2024-03-07T05:24:05.087Z", "__row_index": 24}