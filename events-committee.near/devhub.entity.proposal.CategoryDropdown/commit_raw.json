{"tx_hash": "BKYvAmL7hRqCV7sD3yp972kkLjZ6rbFKxuDgobMm2Vdn", "action_id_social": "6rdn4sMkdDEdy4wwSUXJtu6WfFRYSmpfvNi3bNhcMGGL-0-widget", "block_id": 118101910, "block_timestamp": "2024-05-02T16:29:34.041Z", "signer_id": "events-committee.near", "widget_name": "devhub.entity.proposal.CategoryDropdown", "source_code": "const { selectedValue, onChange, disabled } = props;\n\nonChange = onChange || (() => {});\n\nconst options = [\n  {\n    icon: \"https://ipfs.near.social/ipfs/bafkreiet5w62oeef6msfsakdskq7zkjk33ngogcerfdmqewnsuj74u376e\",\n    title: \"Bounty\",\n    description: \"\",\n    value: \"Bounty\",\n  },\n  {\n    icon: \"https://ipfs.near.social/ipfs/bafkreiengkdru4fczwltjylfqeeypsdf4hb5fdxa6t67l3x2qtqgeo3pzq\",\n    title: \"Bounty booster\",\n    description: \"\",\n    value: \"Bounty booster\",\n  },\n  {\n    icon: \"https://ipfs.near.social/ipfs/bafkreicpt3ulwsmptzdbtkhvxodvo7pcajcpyr35tqcbfdnaipzrx5re7e\",\n    title: \"Hackathon\",\n    description: \"\",\n    value: \"Hackathon\",\n  },\n  {\n    icon: \"https://ipfs.near.social/ipfs/bafkreibdrwhbouuutvrk4qt2udf4kumbyy5ebjkezobbahxvo7fyxo2ec4\",\n    title: \"Hackbox\",\n    description: \"\",\n    value: \"Hackbox\",\n  },\n  {\n    icon: \"https://ipfs.near.social/ipfs/bafkreiem2vjsp6wu3lkd4zagpm43f32egdjjzchmleky6rr2ydzhlkrxam\",\n    title: \"Event sponsorship\",\n    description: \"\",\n    value: \"Event sponsorship\",\n  },\n  {\n    icon: \"https://ipfs.near.social/ipfs/bafkreic3prsy52hwueugqj5rwualib4imguelezsbvgrxtezw4u33ldxqq\",\n    title: \"Meetup\",\n    description: \"\",\n    value: \"Meetup\",\n  },\n  {\n    icon: \"https://ipfs.near.social/ipfs/bafkreigf7j5isssumbjl24zy4pr27ryfqivan3vuwu2uwsofcujhhkk7cq\",\n    title: \"Travel expenses\",\n    description: \"\",\n    value: \"Travel expenses\",\n  },\n];\n\nconst [isOpen, setIsOpen] = useState(false);\nconst [selectedOptionValue, setSelectedValue] = useState(selectedValue);\n\nconst toggleDropdown = () => {\n  setIsOpen(!isOpen);\n};\n\nuseEffect(() => {\n  if (selectedValue && selectedValue !== selectedOptionValue) {\n    setSelectedValue(selectedValue);\n  }\n}, [selectedValue]);\n\nuseEffect(() => {\n  if (selectedValue !== selectedOptionValue) {\n    onChange(selectedOptionValue);\n  }\n}, [selectedOptionValue]);\n\nconst handleOptionClick = (option) => {\n  setSelectedValue(option.value);\n  setIsOpen(false);\n};\n\nconst Container = styled.div`\n  .drop-btn {\n    width: 100%;\n    text-align: left;\n    padding-inline: 10px;\n  }\n\n  .dropdown-toggle:after {\n    position: absolute;\n    top: 46%;\n    right: 2%;\n  }\n\n  .dropdown-menu {\n    width: 100%;\n  }\n\n  .dropdown-item.active,\n  .dropdown-item:active {\n    background-color: #f0f0f0 !important;\n    color: black;\n  }\n\n  .disabled {\n    background-color: #f8f8f8 !important;\n    cursor: not-allowed !important;\n    border-radius: 5px;\n    opacity: inherit !important;\n  }\n\n  .disabled.dropdown-toggle::after {\n    display: none !important;\n  }\n\n  .custom-select {\n    position: relative;\n  }\n\n  .selected {\n    background-color: #f0f0f0;\n  }\n\n  .cursor-pointer {\n    cursor: pointer;\n  }\n\n  .text-wrap {\n    overflow: hidden;\n    white-space: normal;\n  }\n`;\n\nconst Item = ({ option }) => {\n  if (!option) {\n    return <div className=\"text-muted\">Select Category</div>;\n  }\n  return (\n    <div className=\"d-flex gap-3 align-items-center w-100\">\n      <img src={option.icon} height={30} />\n      <div className=\"d-flex flex-column gap-1 w-100 text-wrap\">\n        <div className=\"h6 mb-0\"> {option.title}</div>\n        <div className=\"text-sm text-muted w-100 text-wrap\">\n          {option.description}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nconst selectedOption =\n  options.find((item) => item.value === selectedOptionValue) ?? null;\n\nreturn (\n  <Container>\n    <div\n      className=\"custom-select w-100\"\n      tabIndex=\"0\"\n      onBlur={() => setIsOpen(false)}\n    >\n      <div\n        className={\n          \"dropdown-toggle bg-white border rounded-2 btn drop-btn w-100 \" +\n          (disabled ? \"disabled\" : \"\")\n        }\n        onClick={!disabled && toggleDropdown}\n      >\n        <div className={`selected-option`}>\n          <Item option={selectedOption} />\n        </div>\n      </div>\n\n      {isOpen && (\n        <div className=\"dropdown-menu rounded-2 dropdown-menu-end dropdown-menu-lg-start px-2 shadow show w-100\">\n          <div>\n            {options.map((option) => (\n              <div\n                key={option.value}\n                className={`dropdown-item cursor-pointer w-100 my-1 ${\n                  selectedOption.value === option.value ? \"selected\" : \"\"\n                }`}\n                onClick={() => handleOptionClick(option)}\n              >\n                <Item option={option} />\n              </div>\n            ))}\n          </div>\n        </div>\n      )}\n    </div>\n  </Container>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/events-committee.near/widget/devhub.entity.proposal.CategoryDropdown", "fact_widget_deployments_id": "2640a63dfc9d4de90121aba620635357", "inserted_timestamp": "2024-05-02T17:39:26.862Z", "modified_timestamp": "2024-05-02T17:39:26.862Z", "__row_index": 14}