{"tx_hash": "Hi5zgM1ahiSQ7yUvJPxtipQ8MgTcteRuF7WP8Ksy9iBK", "action_id_social": "7MppnWeW6scYYoSZrkPW3FXVzvSezHTpj586mSFtSNkZ-0-widget", "block_id": 118099456, "block_timestamp": "2024-05-02T15:40:14.611Z", "signer_id": "events-committee.near", "widget_name": "devhub.entity.proposal.VerificationStatus", "source_code": "const receiverAccount = props.receiverAccount;\nconst showGetVerifiedBtn = props.showGetVerifiedBtn;\nconst [verificationStatus, setVerificationStatus] = useState(null);\nconst imageSize = props.imageSize ?? 40;\n\nconst WarningImg =\n  \"https://ipfs.near.social/ipfs/bafkreieq4222tf3hkbccfnbw5kpgedm3bf2zcfgzbnmismxav2phqdwd7q\";\n\nconst SuccessImg =\n  \"https://ipfs.near.social/ipfs/bafkreidqveupkcc7e3rko2e67lztsqrfnjzw3ceoajyglqeomvv7xznusm\";\n\nuseEffect(() => {\n  if (\n    receiverAccount.length === 64 ||\n    (receiverAccount ?? \"\").includes(\".near\")\n  ) {\n    useCache(\n      () =>\n        asyncFetch(\n          `https://neardevhub-kyc-proxy.shuttleapp.rs/kyc/${receiverAccount}`\n        ).then((res) => {\n          let displayableText = \"\";\n          switch (res.body.kyc_status) {\n            case \"Approved\":\n              displayableText = \"Verified\";\n              break;\n            case \"Pending\":\n              displayableText = \"Pending\";\n              break;\n            default:\n              displayableText = \"Not Verfied\";\n              break;\n          }\n          setVerificationStatus(displayableText);\n        }),\n      \"ky-check-proposal\" + receiverAccount,\n      { subscribe: false }\n    );\n  }\n}, [receiverAccount]);\n\nconst DropdowntBtnContainer = styled.div`\n  font-size: 13px;\n  min-width: 150px;\n\n  .custom-select {\n    position: relative;\n  }\n\n  .select-header {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    border: 1px solid #ccc;\n    border-radius-top: 5px;\n    cursor: pointer;\n    background-color: #fff;\n    border-radius: 5px;\n  }\n\n  .no-border {\n    border: none !important;\n  }\n\n  .options-card {\n    position: absolute;\n    top: 100%;\n    left: 0;\n    width: 200%;\n    border: 1px solid #ccc;\n    background-color: #fff;\n    padding: 0.5rem;\n    z-index: 99;\n    font-size: 13px;\n    border-radius: 0.375rem !important;\n  }\n\n  .left {\n    right: 0 !important;\n    left: auto !important;\n  }\n\n  @media screen and (max-width: 768px) {\n    .options-card {\n      right: 0 !important;\n      left: auto !important;\n    }\n  }\n\n  .option {\n    margin-block: 2px;\n    padding: 5px;\n    cursor: pointer;\n    border-bottom: 1px solid #f0f0f0;\n    transition: background-color 0.3s ease;\n    border-radius: 0.375rem !important;\n  }\n\n  .option:hover {\n    background-color: #f0f0f0; /* Custom hover effect color */\n  }\n\n  .option:last-child {\n    border-bottom: none;\n  }\n\n  .selected {\n    background-color: #f0f0f0;\n  }\n\n  .disabled {\n    background-color: #f4f4f4 !important;\n    cursor: not-allowed !important;\n    font-weight: 500;\n    color: #b3b3b3;\n  }\n\n  .disabled .circle {\n    opacity: 0.5;\n  }\n\n  .circle {\n    width: 8px;\n    height: 8px;\n    border-radius: 50%;\n  }\n\n  .grey {\n    background-color: #818181;\n  }\n\n  .green {\n    background-color: #04a46e;\n  }\n\n  a:hover {\n    text-decoration: none;\n  }\n\n  .black-btn {\n    background-color: #000 !important;\n    border: none;\n    color: white;\n    &:active {\n      color: white;\n    }\n  }\n`;\n\nconst [kycOptionsOpen, setKycOptions] = useState(false);\n\nconst VerificationBtn = () => {\n  const btnOptions = [\n    {\n      src: \"https://ipfs.near.social/ipfs/bafkreidqveupkcc7e3rko2e67lztsqrfnjzw3ceoajyglqeomvv7xznusm\",\n      label: \"KYC\",\n      description: \"Choose this if you are an individual.\",\n      value: \"KYC\",\n    },\n    {\n      src: \"https://ipfs.near.social/ipfs/bafkreic5ksax6b45pelvxm6a2v2j465jgbitpzrxtzpmn6zehl23gocwxm\",\n      label: \"KYB\",\n      description: \"Choose this if you are a business or corporate entity..\",\n      value: \"KYB\",\n    },\n  ];\n\n  const toggleDropdown = () => {\n    setKycOptions(!kycOptionsOpen);\n  };\n\n  return (\n    <DropdowntBtnContainer>\n      <div\n        className=\"custom-select\"\n        tabIndex=\"0\"\n        id=\"getVerifiedButton\"\n        onClick={toggleDropdown}\n        onBlur={() => {\n          setTimeout(() => {\n            setKycOptions(false);\n          }, 100);\n        }}\n      >\n        <div\n          className={\n            \"select-header no-border black-btn btn d-inline-flex align-items-center gap-2\"\n          }\n        >\n          <div className=\"d-flex align-items-center gap-1\">\n            Get Verified\n            <i class=\"bi bi-box-arrow-up-right\"></i>\n          </div>\n        </div>\n\n        {kycOptionsOpen && (\n          <div className=\"options-card left\">\n            {btnOptions.map((option) => (\n              <a\n                target=\"_blank\"\n                rel=\"noopener noreferrer\"\n                href={\n                  option.value === \"KYC\"\n                    ? \"https://go.fractal.id/near-social-kyc\"\n                    : \"https://go.fractal.id/near-social-kyb\"\n                }\n              >\n                <div\n                  key={option.value}\n                  className={`option ${\n                    selectedOption.value === option.value ? \"selected\" : \"\"\n                  }`}\n                >\n                  <div className={`d-flex gap-2 align-items-center`}>\n                    <img src={option.src} height={30} />\n                    <div>\n                      <div className=\"fw-bold\">{option.label}</div>\n                      <div className=\"text-muted text-xs\">\n                        {option.description}\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </a>\n            ))}\n          </div>\n        )}\n      </div>\n    </DropdowntBtnContainer>\n  );\n};\n\nreturn (\n  <div>\n    <div className=\"d-flex text-black justify-content-between align-items-center\">\n      <div className=\"d-flex\" style={{ gap: \"12px\" }}>\n        <img\n          className=\"align-self-center object-fit-cover\"\n          src={verificationStatus === \"Verified\" ? SuccessImg : WarningImg}\n          height={imageSize}\n        />\n        <div className=\"d-flex flex-column justify-content-center\">\n          <div className=\"h6 mb-0\">Fractal</div>\n          <div className=\"text-sm text-muted\">{verificationStatus}</div>\n        </div>\n      </div>\n      {verificationStatus !== \"Verified\" && showGetVerifiedBtn && (\n        <VerificationBtn />\n      )}\n    </div>\n  </div>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/events-committee.near/widget/devhub.entity.proposal.VerificationStatus", "fact_widget_deployments_id": "6efce28e5d3f6cd033b66784ec5335a1", "inserted_timestamp": "2024-05-02T17:39:26.862Z", "modified_timestamp": "2024-05-02T17:39:26.862Z", "__row_index": 2}