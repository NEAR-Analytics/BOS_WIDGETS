{"tx_hash": "BQ13bx57yoDQmcgErQkXqBb8WAmgnXvqihQ5QkAHWP85", "action_id_social": "F9e4Zwdr8QBTwMyBTaTZB4niJqcSgmggUryU7gd4gjqB-0-widget", "block_id": 97221062, "block_timestamp": "2023-07-24T12:09:24.444Z", "signer_id": "proofofvibes.near", "widget_name": "Vibes.Feed.main", "source_code": "const location = props.location || \"Paris\";\nconst hashtag = props.hashtag || \"ProofOfVibes\";\nconst hashtags = hashtag && hashtag.split(\",\")?.map((it) => it.trim());\nhashtags.push(location);\n\nconst mention = props.mention || \"\";\nconst mentions = mention && mention.split(\",\")?.map((it) => it.trim());\n\n// Vibes Enter lookcation proofofvibes.near/widget/Vibes.Feed.main // add location\n\n// add style devs\nconst thisComponent = `https://app.proofofvibes.com/#/proofofvibes.near/widget/Vibes.Feed.main?mention=${mention}&location=${location}`; // need to onchange to this\n// Suggested location. use onChange like for nft selector\n\nState.init({ location, thisComponent, mention });\n// location enter field\n\nconst onChangeLocation = (location) => {\n  State.update({\n    location,\n  });\n  recalculateComponent();\n};\nconst recalculateComponent = () => {\n  const componentName = `https://app.proofofvibes.com/#/proofofvibes.near/widget/Vibes.Feed.main?mention=${state.mention}&location=${state.location}`;\n  State.update({\n    thisComponent: componentName,\n  });\n};\nconst Card = styled.div`\npadding: 1em;\nborder: 1px solid #e5e8eb;\ngap: 2em;\nmargin: 10px auto;\nborder-radius: .7em;\n`;\nconst Actions = styled.div`\n  display: flex;\n  gap: 6px;\n`;\nconst Input = styled.input`\n  display: block;\n  padding:.5em;\n  width:100%;\n  border: 1px solid #e5e8eb;\n  border-radius: 10px;\n  outline: none;\n  background: #f4f5f6;\n  color: #525c76;\n  :focus{\n    border:1px solid #0d99ff;\n  }\n  ::placeholder {\n    color: palevioletred;\n  }\n`;\nconst FollowButtonWrapper = styled.div`\n  width: 100%;\n  div,\n  button {\n    width: 100%;\n  }\n  @media (max-width: 1200px) {\n    width: auto;\n    div,\n    button {\n      width: auto;\n    }\n  }\n`;\nconst Wrapper = styled.div`\n .bi-search {\n    position: absolute;\n    top: 0;\n    z-index: 100;\n    font-size: 14px;\n    width: 100%;\n    line-height: 40px;\n    color: #687076;\n  }\n\n  .input-group {\n    height: 100%;\n    wdith: 100%;\n  }\n\n  input {\n    padding: 0 14px 0 42px;\n    border: 1px solid #d0d5dd !important;\n    background: #ffffff;\n    border-radius: 100px;\n  }\n\n  .join-button {\n    display: inline-flex;\n    align-items: center;\n    justify-content: center;\n    gap: 8px;\n    padding: 8px 16px;\n    height: 32px;\n    border-radius: 100px;\n    font-weight: 600;\n    font-size: 12px;\n    line-height: 15px;\n    text-align: center;\n    cursor: pointer;\n    background: #FBFCFD;\n    border: 1px solid #D7DBDF;\n    color: ${props.primary ? \"#006ADC\" : \"#11181C\"} !important;\n    white-space: nowrap;\n\n    &:hover,\n    &:focus {\n      background: #ECEDEE;\n      text-decoration: none;\n      outline: none;\n    }\n\n    i {\n      display: inline-block;\n      transform: rotate(90deg);\n      color: #7E868C;\n    }\n  }\n`;\n\nreturn (\n  <div>\n    <Card>\n      {false && (\n        <div className=\"location-ticker\">\n          \ud83d\udccd Suggested Location:\n          <Widget src=\"proofofvibes.near/widget/Vibes.Feed.Post.Location\" />\n        </div>\n      )}\n      <div className=\"col\">\n        <Input\n          type=\"text\"\n          onChange={(e) => onChangeLocation(e.target.value)}\n          placeholder={\"Current Selected Location: \" + state.location}\n        />\n        <Actions>\n          <Wrapper>\n            <a href={state.thisComponent} target=\"_blank\">\n              <button\n                disabled={context.loading}\n                onClick={donate}\n                className=\"join-button\"\n              >\n                <i className=\"bi bi-pin\"></i>\n                Update Location\n              </button>\n            </a>\n          </Wrapper>\n        </Actions>\n      </div>\n    </Card>\n\n    <Widget\n      src=\"efiz.near/widget/every.feed.view\"\n      props={{\n        data: {\n          hashtagWhitelist: hashtags,\n          typeWhitelist: [\"md\"],\n          embedMentions: mentions,\n          postTemplate: \"proofofvibes.near/widget/Vibes.Feed.View.main\",\n          composeTemplate: \"proofofvibes.near/widget/Vibes.Feed.Post.create\",\n        },\n      }}\n    />\n  </div>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/proofofvibes.near/widget/Vibes.Feed.main", "fact_widget_deployments_id": "ea15d3471ebab6e4f9717ff98c2bd60c", "inserted_timestamp": "2000-01-01T00:00:00.000Z", "modified_timestamp": "2000-01-01T00:00:00.000Z", "__row_index": 4}