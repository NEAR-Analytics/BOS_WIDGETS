{"tx_hash": "5ioZ89f8zYvFA8upgEyPVpRmsf4E8S5BonWJHwJ29RQE", "action_id_social": "B6jYkYkx3m5gYgf1Xva9f2E5HfMaMbCNWhppJDeH3BY4-0-widget", "block_id": 107736978, "block_timestamp": "2023-12-12T05:47:12.715Z", "signer_id": "binbash.near", "widget_name": "Gut", "source_code": "State.init({ theme: null });\n\nconst cssFont = fetch(\n  \"https://fonts.googleapis.com/css2?family=Pacifico&family=Manrope:wght@200;300;400;500;600;700;800\"\n).body;\n\nif (!cssFont) return \"\";\n\nif (!state.theme) {\n  State.update({\n    theme: styled.div`\n              ${cssFont}\n                    font-family: 'Pacifico', cursive, Manrope, sans-serif;\n                          color: white;\n\n                                .expense-tracker {\n                                        width: 550px;\n                                                padding: 16px;\n                                                        border-radius: 12px;\n                                                                background: linear-gradient(270deg, #5a58e5 17.37%, #66acf7 100%);\n                                                                        display: flex;\n                                                                                flex-direction: column;\n                                                                                        align-items: center;\n                                                                                                justify-content: center;\n                                                                                                        text-align: center;\n                                                                                                              }\n\n                                                                                                                    .heading {\n                                                                                                                            font-size: 36px;\n                                                                                                                                    font-weight: 800;\n                                                                                                                                            margin-bottom: 20px;\n                                                                                                                                                  }\n\n                                                                                                                                                        .form-input {\n                                                                                                                                                                margin-bottom: 10px;\n                                                                                                                                                                      }\n\n                                                                                                                                                                            .expense-table {\n                                                                                                                                                                                    width: 100%;\n                                                                                                                                                                                            margin-top: 20px;\n                                                                                                                                                                                                    border-collapse: collapse;\n                                                                                                                                                                                                          }\n\n                                                                                                                                                                                                                .expense-table th, .expense-table td {\n                                                                                                                                                                                                                        border: 1px solid #fff;\n                                                                                                                                                                                                                                padding: 8px;\n                                                                                                                                                                                                                                        color: white;\n                                                                                                                                                                                                                                              }\n\n                                                                                                                                                                                                                                                    .budget-card {\n                                                                                                                                                                                                                                                            width: 100%;\n                                                                                                                                                                                                                                                                    margin-top: 20px;\n                                                                                                                                                                                                                                                                            padding: 16px;\n                                                                                                                                                                                                                                                                                    border-radius: 12px;\n                                                                                                                                                                                                                                                                                            background-color: rgba(255, 255, 255, 0.1);\n                                                                                                                                                                                                                                                                                                    display: flex;\n                                                                                                                                                                                                                                                                                                            justify-content: space-between;\n                                                                                                                                                                                                                                                                                                                  }\n                                                                                                                                                                                                                                                                                                                      `,\n  });\n}\n\nconst Theme = state.theme;\n\nconst ExpenseTracker = () => {\n  // State to hold expense data\n  const [expenses, setExpenses] = useState([]);\n  // State for budget overview\n  const [budgetOverview, setBudgetOverview] = useState({\n    totalExpense: 0,\n    budget: 1000, // Set your initial budget here\n    remainingBudget: 1000,\n  });\n\n  // Function to handle expense submission\n  const handleExpenseSubmit = (expense) => {\n    // Update total expense and remaining budget\n    const newTotalExpense = budgetOverview.totalExpense + expense.amount;\n    const newRemainingBudget = budgetOverview.budget - newTotalExpense;\n\n    // Update expense list\n    const newExpenses = [...expenses, expense];\n\n    // Update state\n    setBudgetOverview({\n      ...budgetOverview,\n      totalExpense: newTotalExpense,\n      remainingBudget: newRemainingBudget,\n    });\n    setExpenses(newExpenses);\n  };\n\n  return (\n    <Theme>\n      <div class=\"expense-tracker\">\n        <div class=\"heading\">Expense Tracker</div>\n        {/* Expense Form */}\n        <div\n          onSubmit={(e) => {\n            e.preventDefault();\n            // Collect form data\n            const date = e.target.elements.date.value;\n            const description = e.target.elements.description.value;\n            const amount = parseFloat(e.target.elements.amount.value);\n            const category = e.target.elements.category.value;\n\n            // Validate amount is a number\n            if (isNaN(amount)) {\n              alert(\"Amount must be a number\");\n              return;\n            }\n\n            // Validate non-empty fields\n            if (!date || !description || isNaN(amount) || !category) {\n              alert(\"Please fill in all fields\");\n              return;\n            }\n\n            // Create expense object\n            const expense = { date, description, amount, category };\n\n            // Call handleExpenseSubmit\n            handleExpenseSubmit(expense);\n\n            // Clear the form\n            e.target.reset();\n          }}\n        >\n          <div class=\"form-input\">\n            <input type=\"date\" name=\"date\" required />\n          </div>\n          <div class=\"form-input\">\n            <input\n              type=\"text\"\n              name=\"description\"\n              placeholder=\"Description\"\n              required\n            />\n          </div>\n          <div class=\"form-input\">\n            <input type=\"number\" name=\"amount\" placeholder=\"Amount\" required />\n          </div>\n          <div class=\"form-input\">\n            <input\n              type=\"text\"\n              name=\"category\"\n              placeholder=\"Category\"\n              required\n            />\n          </div>\n          <button class=\"proceed-button\" type=\"submit\">\n            Add Expense\n          </button>\n        </div>\n\n        {/* Expense Table */}\n        <table class=\"expense-table\">\n          <thead>\n            <tr>\n              <th>Date</th>\n              <th>Description</th>\n              <th>Amount</th>\n              <th>Category</th>\n            </tr>\n          </thead>\n          <tbody>\n            {expenses.map((expense, index) => (\n              <tr key={index}>\n                <td>{expense.date}</td>\n                <td>{expense.description}</td>\n                <td>{expense.amount}</td>\n                <td>{expense.category}</td>\n              </tr>\n            ))}\n          </tbody>\n        </table>\n\n        {/* Budget Overview Card */}\n        <div class=\"budget-card\">\n          <div>\n            <p>\n              Total Expense for the Day: $\n              {budgetOverview.totalExpense.toFixed(2)}\n            </p>\n            <p>Budget: ${budgetOverview.budget.toFixed(2)}</p>\n          </div>\n          <div>\n            <p>\n              Remaining Budget: ${budgetOverview.remainingBudget.toFixed(2)}\n            </p>\n          </div>\n        </div>\n      </div>\n    </Theme>\n  );\n};\n\nreturn <ExpenseTracker />;\n", "metadata": {"tags": {"bos-gg": ""}}, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/binbash.near/widget/Gut", "fact_widget_deployments_id": "ee88743b3f1b9f6f9b956c8222e30295", "inserted_timestamp": "2024-03-07T05:24:05.087Z", "modified_timestamp": "2024-03-07T05:24:05.087Z", "__row_index": 0}