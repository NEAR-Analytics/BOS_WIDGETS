{"tx_hash": "tCewnN8u7vq3vt24NKzdzn8CwRcqBZrQLCrCSxTGnti", "action_id_social": "964d16rCgNtoN4kimAdP5SFW3tyuSkiXxuWAyuUTvXmW-0-widget", "block_id": 104770847, "block_timestamp": "2023-11-02T15:00:31.459Z", "signer_id": "astraplusplus.ndctools.near", "widget_name": "DAO.Proposal.Common.VetoButton", "source_code": "const {\n    daoId,\n    proposal,\n    isCongressDaoID,\n    isVotingBodyDao,\n    daoConfig,\n    isHuman,\n    currentuserCongressHouse,\n    CoADaoId,\n    HoMDaoId,\n    registry\n} = props;\nconst accountId = context.accountId;\n\nState.init({\n    isProposalModalOpen: false\n});\n\nconst proposalPastCooldown =\n    proposal?.submission_time +\n        daoConfig?.voting_duration +\n        (daoConfig?.cooldown ?? 0) <\n    Date().now;\n\nconst disableVetoButton =\n    currentuserCongressHouse === CoADaoId\n        ? proposalPastCooldown\n        : proposal.status === \"Vetoed\" || proposal.status === \"Rejected\";\n\nreturn (\n    <div className=\"w-100\">\n        <Widget\n            src=\"astraplusplus.ndctools.near/widget/Common.Layout.CardModal\"\n            props={{\n                title: \"Veto Proposal\",\n                onToggle: () =>\n                    State.update({\n                        isProposalModalOpen: !state.isProposalModalOpen\n                    }),\n                isOpen: state.isProposalModalOpen,\n                toggle: (\n                    <button\n                        className=\"veto-btn text-center\"\n                        disabled={disableVetoButton}\n                    >\n                        Veto\n                    </button>\n                ),\n                content: (\n                    <div\n                        className=\"d-flex flex-column align-items-stretch\"\n                        style={{\n                            width: \"800px\",\n                            maxWidth: \"100vw\"\n                        }}\n                    >\n                        <Widget\n                            src=\"nearui.near/widget/Element.Badge\"\n                            props={{\n                                size: \"lg\",\n                                variant: \"info outline mb-3\",\n                                children:\n                                    \"Please make sure there is no existing Veto proposal with same proposal ID created to avoid spam.\"\n                            }}\n                        />\n\n                        {currentuserCongressHouse === CoADaoId ? (\n                            <Widget\n                                src=\"astraplusplus.ndctools.near/widget/DAO.Proposal.Create.Veto\"\n                                props={{\n                                    daoId: CoADaoId,\n                                    dev: props.dev,\n                                    registry,\n                                    isHookCall: true,\n                                    proposalID: proposal.id\n                                }}\n                            />\n                        ) : (\n                            <Widget\n                                src=\"astraplusplus.ndctools.near/widget/DAO.Proposal.Create.Veto\"\n                                props={{\n                                    daoId: CoADaoId,\n                                    dev: props.dev,\n                                    registry,\n                                    isHookCall: false,\n                                    house: HoMDaoId,\n                                    proposalID: proposal.id\n                                }}\n                            />\n                        )}\n                    </div>\n                )\n            }}\n        />\n    </div>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/astraplusplus.ndctools.near/widget/DAO.Proposal.Common.VetoButton", "fact_widget_deployments_id": "9d9ad708a3edf47f8f47ae3438ab4b23", "inserted_timestamp": "2023-11-02T16:50:44.091Z", "modified_timestamp": "2023-11-02T16:50:44.091Z", "__row_index": 1}