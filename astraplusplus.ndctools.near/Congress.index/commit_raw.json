{"tx_hash": "EVZizTN3zFh4jVZ7TwTRU1v8KPS3KYgDtvk7mQ2KHvkY", "action_id_social": "8s6sjjuKDB3ZzuC7nHb5nSM9htBFYzdidbUQ42UJxCgK-0-widget", "block_id": 102083834, "block_timestamp": "2023-09-27T16:41:08.695Z", "signer_id": "astraplusplus.ndctools.near", "widget_name": "Congress.index", "source_code": "const { router } = props;\nconst accountId = props.accountId ?? context.accountId ?? \"\";\n\nconst DEFAULT_IMG =\n    \"https://ipfs.near.social/ipfs/bafkreiazoiydksnt5bliswmbahayei4thjsh2xbucimzzgik56dxlwxzpa\";\nconst HOM_IMG =\n    \"https://ipfs.near.social/ipfs/bafkreiazoiydksnt5bliswmbahayei4thjsh2xbucimzzgik56dxlwxzpa\";\nconst COA_IMG =\n    \"https://ipfs.near.social/ipfs/bafkreic6hvutbozv6rmbyuspipmh3qkf55zd5zoye3sjz7wtgoc4w754lu\";\nconst TC_IMG =\n    \"https://ipfs.near.social/ipfs/bafkreibiokdhinsxysyvddfoemsuedv7mkqyj7nbzy6z3zp44fpjnqzq6i\";\nconst VB_IMG =\n    \"https://ipfs.near.social/ipfs/bafkreiazoiydksnt5bliswmbahayei4thjsh2xbucimzzgik56dxlwxzpa\";\n\nconst Content = {\n    hom: {\n        title: \"House of merit\",\n        description:\n            \"A group of experienced community members appointed by members of the ecosystem to represent them during votes and key decisions. The HoM is in charge of allocating the treasury and deploying capital for the growth of the ecosystem.\",\n        metadata: {\n            funds: \"10M\",\n            members: 15,\n            proposals: { active: 1, total: 4 },\n            powers: [\n                {\n                    text: \"HoM members can vote to approve budget proposals from CoA, provided that the CoA does not veto\"\n                },\n                {\n                    text: \"HoM members can vote to approve budget proposals from CoA, provided that the CoA does not veto\"\n                }\n            ],\n            checks: [\n                { text: \"CoA members can veto HoM budget approvals\" },\n                { text: \"Voting body can dissolve HoM\" },\n                {\n                    text: \"TC can investigate HoM members, remove members, or modify roles\"\n                }\n            ]\n        }\n    },\n    coa: {\n        title: \"Council of Advisor\",\n        description:\n            \"A group of experienced community members appointed by members of the ecosystem to represent them during votes and key decisions. The HoM is in charge of allocating the treasury and deploying capital for the growth of the ecosystem.\",\n        metadata: {\n            funds: \"5M\",\n            members: 7,\n            proposals: { active: 1, total: 4 },\n            powers: [{ text: \"sdfsdf\" }, { text: \"dfgdfgdg dfg dfg d\" }],\n            checks: [{ text: \"checksdfsf\" }]\n        }\n    },\n    tc: {\n        title: \"Transparency Commission\",\n        description:\n            \"A group of experienced community members appointed by members of the ecosystem to represent them during votes and key decisions. The HoM is in charge of allocating the treasury and deploying capital for the growth of the ecosystem.\",\n        metadata: {\n            funds: \"10M\",\n            members: 7,\n            proposals: { active: 1, total: 4 },\n            powers: [{ text: \"sdfsdf\" }, { text: \"dfgdfgdg dfg dfg d\" }],\n            checks: [{ text: \"checksdfsf\" }]\n        }\n    },\n    vb: {\n        title: \"Voting Body\",\n        description:\n            \"A group of experienced community members appointed by members of the ecosystem to represent them during votes and key decisions. The HoM is in charge of allocating the treasury and deploying capital for the growth of the ecosystem.\",\n        metadata: {\n            funds: \"10M\",\n            members: 7,\n            proposals: { active: 1, total: 4 },\n            powers: [{ text: \"sdfsdf\" }, { text: \"dfgdfgdg dfg dfg d\" }],\n            checks: [{ text: \"checksdfsf\" }]\n        }\n    }\n};\n\nconst Container = styled.div`\n    background: rgba(217, 217, 217, 0.3);\n    color: #464c50;\n\n    #main {\n        transition: margin-left 0.5s;\n\n        h6 {\n            font-weight: 700;\n            margin: 0;\n        }\n    }\n`;\n\nconst HousePanel = styled.div`\n    width: 700px;\n    background-color: #fff;\n`;\n\nconst CircleLogo = styled.div`\n    height: 65px;\n    width: 65px;\n    border-radius: 50%;\n    border: 5px solid;\n    background: black;\n    color: white;\n    text-transform: uppercase;\n    border-color: ${(props) => props.color};\n`;\n\nconst Tab = styled.div`\n    padding: 2px 10px;\n    border-radius: 20px;\n    background: ${(props) => (props.selected ? \"#ebebeb\" : \"transparent\")};\n    color: ${(props) => (props.selected ? \"#000\" : \"inherit\")};\n\n    &:hover {\n        cursor: pointer;\n    }\n`;\n\nconst Tabs = styled.div`\n    border-radius: 4px;\n    border: 1px solid rgba(217, 217, 217, 0.4);\n    background: rgba(217, 217, 217, 0.1);\n    display: flex;\n    padding: 20px 14px;\n    gap: 20px;\n`;\n\nconst Img = styled.img`\n    width: 90%;\n`;\n\nconst Dropdown = styled.div`\n    position: relative;\n    display: inline-block;\n\n    .dropdown-content {\n        display: none;\n        border-radius: 4px;\n        position: absolute;\n        right: -25px;\n        top: 35px;\n        background-color: #fff;\n        min-width: 230px;\n        z-index: 1;\n        font-size: 14px;\n\n        div,\n        a {\n            padding: 8px 12px;\n            &:hover {\n                background: #f8f9fa;\n                cursor: pointer;\n            }\n        }\n    }\n\n    &:hover .dropdown-content {\n        display: flex;\n    }\n`;\n\nState.init({\n    selectedHouse: props.house ?? \"hom\",\n    selectedTab: \"powers\",\n    copied: false\n});\n\nconst ColorMap = (house) =>\n    house === \"hom\"\n        ? \"#5BC65F\"\n        : house === \"coa\"\n        ? \"#4498E0\"\n        : house === \"tc\"\n        ? \"#F19D38\"\n        : house === \"vb\"\n        ? \"#F29BC0\"\n        : \"\";\n\nconst ContentBlock = ({ title, abbr, address, description, metadata }) => (\n    <div className=\"d-flex py-4 px-5 flex-column justify-content-between h-100\">\n        <div className=\"d-flex flex-column bg-white gap-4\">\n            <div className=\"d-flex justify-content-between\">\n                <CircleLogo\n                    className=\"d-flex justify-content-center align-items-center\"\n                    color={ColorMap(abbr)}\n                >\n                    <b>{abbr}</b>\n                </CircleLogo>\n\n                <Dropdown className=\"mt-1 px-2\">\n                    <i class=\"bi bi-three-dots-vertical\" />\n                    <div class=\"flex-column dropdown-content shadow\">\n                        <a href=\"#/astraplusplus.ndctools.near/widget/home?page=proposals\">\n                            Proposals\n                        </a>\n                        <a href=\"#/astraplusplus.ndctools.near/widget/home?page=members\">\n                            Members\n                        </a>\n                    </div>\n                </Dropdown>\n            </div>\n            <div>\n                <div className=\"d-flex\">\n                    <h4>\n                        <b>{title}</b>\n                    </h4>\n                    <Dropdown className=\"mt-1 px-2\">\n                        <i className=\"bi bi-caret-down-fill\" />\n                        <div class=\"flex-column dropdown-content shadow\">\n                            <a\n                                onClick={() =>\n                                    State.update({ selectedHouse: \"hom\" })\n                                }\n                                href=\"#/astraplusplus.ndctools.near/widget/home?page=congress&house=hom\"\n                            >\n                                {Content.hom.title}\n                            </a>\n                            <a\n                                onClick={() =>\n                                    State.update({ selectedHouse: \"coa\" })\n                                }\n                                href=\"#/astraplusplus.ndctools.near/widget/home?page=congress&house=coa\"\n                            >\n                                {Content.coa.title}\n                            </a>\n                            <a\n                                onClick={() =>\n                                    State.update({ selectedHouse: \"tc\" })\n                                }\n                                href=\"#/astraplusplus.ndctools.near/widget/home?page=congress&house=tc\"\n                            >\n                                {Content.tc.title}\n                            </a>\n                            <a\n                                onClick={() =>\n                                    State.update({ selectedHouse: \"vb\" })\n                                }\n                                href=\"#/astraplusplus.ndctools.near/widget/home?page=congress&house=vb\"\n                            >\n                                {Content.vb.title}\n                            </a>\n                        </div>\n                    </Dropdown>\n                </div>\n                <small className=\"text-secondary\">\n                    <b id=\"address\">{address}</b>\n                </small>\n                <i\n                    className={state.copied ? \"bi-check-lg\" : \"bi bi-clipboard\"}\n                    role=\"button\"\n                    onClick={() => {\n                        clipboard\n                            .writeText(address)\n                            .then(() => State.update({ copied: true }));\n                    }}\n                />\n            </div>\n            <div>\n                <small className=\"text-secondary mt-2 mb-3\">\n                    {description}\n                </small>\n            </div>\n            <div className=\"d-flex justify-content-between my-3\">\n                <div className=\"text-center\">\n                    <h5 className=\"mb-0\">\n                        <b>{metadata.funds} USD</b>\n                    </h5>\n                    <small className=\"text-secondary\">\n                        <b>House Funds</b>\n                    </small>\n                </div>\n                <div className=\"text-center\">\n                    <h5 className=\"mb-0\">\n                        <b>\n                            {metadata.members}/{metadata.members}\n                        </b>\n                    </h5>\n                    <small className=\"text-secondary\">\n                        <b>Members</b>\n                    </small>\n                </div>\n                <div className=\"text-center\">\n                    <h5 className=\"mb-0\">\n                        <b>\n                            {metadata.proposals.active}/\n                            {metadata.proposals.total}\n                        </b>\n                    </h5>\n                    <small className=\"text-secondary\">\n                        <b>Active Proposals</b>\n                    </small>\n                </div>\n            </div>\n            <Tabs className=\"flex-column mb-4\">\n                <div className=\"d-flex gap-2\">\n                    <Tab\n                        onClick={() => State.update({ selectedTab: \"powers\" })}\n                        selected={state.selectedTab === \"powers\"}\n                    >\n                        <small>Powers {metadata.powers.length}</small>\n                    </Tab>\n                    <Tab\n                        onClick={() => State.update({ selectedTab: \"checks\" })}\n                        selected={state.selectedTab === \"checks\"}\n                    >\n                        <small>Check & Balances {metadata.checks.length}</small>\n                    </Tab>\n                </div>\n                <div>\n                    {state.selectedTab === \"powers\" &&\n                        metadata.powers.map((r) => (\n                            <div>\n                                <small>{r.text}</small>\n                            </div>\n                        ))}\n                    {state.selectedTab === \"checks\" &&\n                        metadata.checks.map((c) => (\n                            <div>\n                                <small>{c.text}</small>\n                            </div>\n                        ))}\n                </div>\n            </Tabs>\n        </div>\n\n        <div className=\"d-flex justify-content-end\">\n            <Widget\n                src=\"astraplusplus.ndctools.near/widget/Common.Layout.CardModal\"\n                props={{\n                    title: \"Create Proposal\",\n                    onToggle: () =>\n                        State.update({\n                            isProposalModalOpen: !state.isProposalModalOpen\n                        }),\n                    isOpen: state.isProposalModalOpen,\n                    toggle: (\n                        <Widget\n                            src=\"nearui.near/widget/Input.Button\"\n                            props={{\n                                children: (\n                                    <>\n                                        Create Proposal\n                                        <i className=\"bi bi-16 bi-plus-lg\"></i>\n                                    </>\n                                ),\n                                variant: \"info\"\n                            }}\n                        />\n                    ),\n                    content: (\n                        <div\n                            className=\"d-flex flex-column align-items-stretch\"\n                            style={{\n                                width: \"800px\",\n                                maxWidth: \"100vw\"\n                            }}\n                        >\n                            <Widget\n                                src={\n                                    \"astraplusplus.ndctools.near/widget/DAO.Proposal.Create\"\n                                }\n                                props={{\n                                    daoId: daoId\n                                }}\n                            />\n                        </div>\n                    )\n                }}\n            />\n        </div>\n    </div>\n);\n\nreturn (\n    <Container className=\"d-flex w-100\">\n        <div id=\"main\" className=\"w-100\">\n            <div className=\"px-5 py-3 bg-dark\">\n                <h6>\n                    <span className=\"text-secondary\">NDC Governance: </span>\n                    <span className=\"text-white\">Interhouse relations</span>\n                </h6>\n            </div>\n            <div className=\"w-100 d-flex justify-content-center align-items-center p-5\">\n                <Img\n                    src={\n                        state.selectedHouse === \"hom\"\n                            ? HOM_IMG\n                            : state.selectedHouse === \"coa\"\n                            ? COA_IMG\n                            : state.selectedHouse === \"tc\"\n                            ? TC_IMG\n                            : state.selectedHouse === \"vb\"\n                            ? VB_IMG\n                            : DEFAULT_IMG\n                    }\n                />\n            </div>\n        </div>\n\n        {state.selectedHouse && (\n            <HousePanel className=\"shadow-sm\">\n                <ContentBlock\n                    title={Content[state.selectedHouse].title}\n                    description={Content[state.selectedHouse].description}\n                    abbr={state.selectedHouse}\n                    address={`${state.selectedHouse}@sputnik-dao.near`}\n                    metadata={Content[state.selectedHouse].metadata}\n                />\n            </HousePanel>\n        )}\n    </Container>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/astraplusplus.ndctools.near/widget/Congress.index", "fact_widget_deployments_id": "cb019617090f1b1ef6781a2fddd342ff", "inserted_timestamp": "2023-09-27T18:37:34.416Z", "modified_timestamp": "2023-09-27T18:37:34.416Z", "__row_index": 4}