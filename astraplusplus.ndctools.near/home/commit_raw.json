{"tx_hash": "AQcqpQMMgJzBSCimGnMN627FV6LZ9vPhbt9wbpdf2Lvx", "action_id_social": "2iaC4m2HEnPjfE898FPxA2DQM1DjSAuHUqaziRnoES1t-0-widget", "block_id": 103142406, "block_timestamp": "2023-10-11T17:22:48.580Z", "signer_id": "astraplusplus.ndctools.near", "widget_name": "home", "source_code": "const CoADaoId = \"coa.gwg-testing.near\";\nconst VotingBodyDaoId = \"\";\nconst TCDaoId = \"tc.gwg-testing.near\";\nconst HoMDaoId = \"hom.gwg-testing.near\";\n\nlet { page, tab, daoId, house } = props;\nif (!page) {\n    page = \"home\";\n}\nconst currentLink = \"#/astraplusplus.ndctools.near/widget/home\";\n\nState.init({\n    activePage: page,\n    activeTab: tab,\n    activeDaoId: daoId\n});\n\nif (\n    page !== state.activePage ||\n    tab !== state.activeTab ||\n    daoId !== state.activeDaoId\n) {\n    State.update({\n        activePage: page,\n        activeTab: tab,\n        activeDaoId: daoId\n    });\n}\n\npage = state.activePage;\n\nconst router = {\n    params: { page, tab, daoId, house },\n    navigate: (newParams) => {\n        router.params = {\n            ...newParams\n        };\n        State.update({\n            activePage: router.params.page,\n            activeTab: router.params.tab,\n            activeDaoId: router.params.daoId\n        });\n    }\n};\n\nconst pages = [\n    [\n        {\n            title: \"Home\",\n            icon: <i className=\"bi bi-house-door\"></i>,\n            active: page.split(\"-\")[0] === \"home\",\n            href: currentLink + \"?page=home\",\n            onClick: () => router.navigate({ page: \"home\" }),\n            widgetName: \"Feed.index\",\n            defaultProps: {}\n        },\n        {\n            title: \"Social feed\",\n            active: page === \"home\",\n            href: currentLink + \"?page=home\",\n            onClick: () => router.navigate({ page: \"home\" }),\n            widgetName: \"Feed.index\",\n            defaultProps: {}\n        },\n        {\n            title: \"My proposals\",\n            active: page === \"my-proposals\",\n            href: currentLink + \"?page=my-proposals\",\n            onClick: () => router.navigate({ page: \"my-proposals\" }),\n            widgetName: \"MyProposals.index\",\n            defaultProps: {}\n        }\n    ],\n    [\n        {\n            title: \"Government\",\n            icon: <i className=\"bi bi-bank\"></i>,\n            active: page.split(\"-\")[0] === \"congress\",\n            href: currentLink + \"?page=congress\",\n            onClick: () => router.navigate({ page: \"congress\" }),\n            widgetName: \"Congress.index\"\n        },\n        {\n            title: \"HoM\",\n            active: page === \"congress\" && router.params.house === \"hom\",\n            href: currentLink + `?page=congress&house=hom`,\n            onClick: () => router.navigate({ page: \"congress\", house: \"hom\" }),\n            widgetName: \"DAO.index\"\n        },\n        {\n            title: \"CoA\",\n            active: page === \"congress\" && router.params.house === \"coa\",\n            href: currentLink + `?page=congress&house=coa`,\n            onClick: () => router.navigate({ page: \"congress\", house: \"coa\" }),\n            widgetName: \"DAO.index\"\n        },\n        {\n            title: \"TC\",\n            active: page === \"congress\" && router.params.house === \"tc\",\n            href: currentLink + `?page=congress&house=tc`,\n            onClick: () => router.navigate({ page: \"congress\", house: \"tc\" }),\n            widgetName: \"DAO.index\"\n        }\n        // {\n        //     title: \"Voting Body\",\n        //     active: page === \"congress\" && router.params.house === \"vb\",\n        //     href: currentLink + `?page=congress&house=vb`,\n        //     onClick: () => router.navigate({ page: \"congress\", house: \"vb\" }),\n        //     widgetName: \"DAO.index\"\n        // }\n    ],\n    [\n        {\n            title: \"DAOs\",\n            icon: <i class=\"bi bi-grid\"></i>,\n            active: page === \"daos\",\n            href: currentLink + \"?page=daos\",\n            onClick: () => router.navigate({ page: \"daos\" }),\n            widgetName: \"DAOs.index\",\n            defaultProps: {}\n        },\n        {\n            title: \"My DAOs\",\n            active: page === \"my-daos\",\n            href: currentLink + \"?page=my-daos\",\n            widgetName: \"DAOs.index\",\n            onClick: () => router.navigate({ page: \"my-daos\" }),\n            defaultProps: {\n                filter: \"myDAOs\"\n            }\n        },\n        {\n            title: \"Following\",\n            active: page === \"daos-following\",\n            href: currentLink + \"?page=daos-following\",\n            widgetName: \"DAOs.index\",\n            onClick: () => router.navigate({ page: \"daos-following\" }),\n            defaultProps: {\n                filter: \"followedDAOs\"\n            }\n        },\n        {\n            title: \"All\",\n            active: page === \"daos\",\n            href: currentLink + \"?page=daos\",\n            widgetName: \"DAOs.index\",\n            onClick: () => router.navigate({ page: \"daos\" }),\n            defaultProps: {}\n        }\n    ],\n    {\n        title: \"Bounties area\",\n        icon: <i class=\"bi bi-briefcase\"></i>,\n        active: page === \"bounties\",\n        href: currentLink + \"?page=bounties\",\n        onClick: () => router.navigate({ page: \"bounties\" }),\n        widgetName: \"Bounties.index\",\n        defaultProps: {}\n    },\n    {\n        title: \"Actions library\",\n        icon: <i class=\"bi bi-code-slash\"></i>,\n        active: page === \"actions\",\n        href: currentLink + \"?page=actions\",\n        onClick: () => router.navigate({ page: \"actions\" }),\n        widgetName: \"Actions.index\"\n    },\n    {\n        title: \"Create DAO\",\n        active: page === \"create-dao\",\n        href: currentLink + \"?page=create-dao\",\n        onClick: () => router.navigate({ page: \"create-dao\" }),\n        widgetName: \"CreateDAO.index\",\n        hidden: true\n    },\n    {\n        title: \"DAO\",\n        active: page === \"dao\",\n        href: currentLink + \"?page=dao\",\n        onClick: (daoId, tab) => router.navigate({ page: \"dao\", daoId, tab }),\n        widgetName: \"DAO.index\",\n        hidden: true\n    },\n    {\n        title: \"Voting History\",\n        active: page === \"votinghistory\",\n        href: currentLink + \"?page=votinghistory\",\n        onClick: (daoId, tab) => router.navigate({ page: \"votinghistory\" }),\n        widgetName: \"VotingHistory.index\",\n        hidden: true\n    }\n];\n\nlet activePage = null;\npages.find((page) => {\n    if (Array.isArray(page)) {\n        return page.find((subPage) => {\n            if (subPage.active) {\n                activePage = subPage;\n                return true;\n            }\n            return false;\n        });\n    }\n    if (page.active) {\n        activePage = page;\n        return true;\n    }\n    return false;\n});\n\nconst pageContent = activePage ? (\n    <Widget\n        src={\"astraplusplus.ndctools.near/widget/\" + activePage.widgetName}\n        props={{\n            router,\n            ...activePage.defaultProps,\n            ...props\n        }}\n    />\n) : (\n    \"404\"\n);\n\nconst Root = styled.div`\n    font-family:\n        \"Open Sans\",\n        \"Manrope\",\n        system-ui,\n        -apple-system,\n        \"Segoe UI\",\n        Roboto,\n        \"Helvetica Neue\",\n        \"Noto Sans\",\n        \"Liberation Sans\",\n        Arial,\n        sans-serif,\n        \"Apple Color Emoji\",\n        \"Segoe UI Emoji\",\n        \"Segoe UI Symbol\",\n        \"Noto Color Emoji\";\n    font-size: 16px;\n    line-height: 1.5;\n    color: #000;\n\n    a {\n        color: #000;\n        text-decoration: none;\n    }\n\n    a:hover {\n        color: #4498e0;\n    }\n\n    .ndc-card {\n        border-radius: 16px;\n        box-shadow:\n            rgba(0, 0, 0, 0.1) 0 1px 3px,\n            rgba(0, 0, 0, 0.05) 0 1px 20px;\n        background-color: #fff;\n    }\n`;\nreturn (\n    <Root className=\"row\">\n        <Widget src={`nearui.near/widget/Typography.OpenSansFont`} />\n\n        <Widget\n            src=\"astraplusplus.ndctools.near/widget/Common.Layout.Header\"\n            props={{\n                items: pages\n            }}\n        />\n        {activePage.widgetName === \"Congress.index\" ? (\n            <div className=\"col\">{pageContent}</div>\n        ) : (\n            <div className=\"col ms-sm-4 ps-lg-5 py-3 py-md-5\">\n                {pageContent}\n            </div>\n        )}\n    </Root>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/astraplusplus.ndctools.near/widget/home", "fact_widget_deployments_id": "cdc9c01d4971d2bfe1d532c33c11130a", "inserted_timestamp": "2024-03-07T05:24:05.087Z", "modified_timestamp": "2024-03-07T05:24:05.087Z", "__row_index": 89}