{"tx_hash": "34jRs7ihSTtVXhiW8STTfY81oz4ddHuzJ86dXNSP1AKe", "action_id_social": "6zXMsKgt25A5zDzMUENZYhM4f3kSk63pd44mmVjEaqjy-0-widget", "block_id": 101989751, "block_timestamp": "2023-09-26T10:09:42.619Z", "signer_id": "astraplusplus.ndctools.near", "widget_name": "DAO.Proposal.Create", "source_code": "const daoId = props.daoId;\nconst accountId = props.accountId ?? context.accountId;\nconst onClose = props.onClose;\n\nState.init({\n    daoId,\n    proposalType: {\n        text: \"Vote\",\n        value: \"Vote\"\n    }\n});\n\nconst Wrapper = styled.div`\n    margin: 16px auto;\n    width: 100%;\n    max-width: 900px;\n    max-height: 100%;\n    display: flex;\n    flex-direction: column;\n    gap: 24px;\n    overflow-y: auto;\n\n    @media (max-width: 600px) {\n        border-radius: 0;\n    }\n\n    p {\n        line-height: 1.4;\n        font-weight: 400;\n        font-size: 15px;\n        color: #868682;\n        margin: 0;\n    }\n\n    h3 {\n        font-weight: 600;\n        font-size: 24px;\n        color: #1b1b18;\n    }\n\n    h5 {\n        font-size: 12px;\n        font-weight: 400;\n        line-height: 1.2;\n        color: #6c757d;\n    }\n`;\n\nconst CloseButton = styled.button`\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    color: rgb(27, 27, 24);\n    border-radius: 100px;\n    height: 40px;\n    width: 40px;\n    border: none;\n    margin: 0;\n    font-size: 26px;\n    background-color: rgb(246, 246, 245);\n\n    &:hover {\n        background-color: rgb(243, 243, 242);\n        color: rgb(0, 0, 0);\n    }\n`;\n\nconst proposalTypes = [\n    {\n        text: \"Text\",\n        value: \"Vote\"\n    },\n    {\n        text: \"Transfer\",\n        value: \"Transfer\"\n    },\n    {\n        text: \"Call Smart Contract\",\n        value: \"FunctionCall\"\n    },\n    {\n        text: \"Add Member To Role\",\n        value: \"AddMemberToRole\"\n    },\n    {\n        text: \"Remove Member From Role\",\n        value: \"RemoveMemberFromRole\"\n    }\n];\n\nreturn (\n    <Wrapper>\n        <Widget\n            src={`sking.near/widget/Common.Inputs.Select`}\n            props={{\n                label: \"Proposal Type\",\n                noLabel: false,\n                placeholder: \"Select a Proposal Type\",\n                options: proposalTypes,\n                value: state.proposalType,\n                onChange: (proposalType) =>\n                    State.update({ ...state, proposalType }),\n                validate: () => {\n                    if (!state.proposalType) {\n                        throw {\n                            message: \"Please select a Proposal Type\"\n                        };\n                    }\n\n                    if (\n                        !proposalTypes.find(\n                            ({ value }) => state.proposalType.value === value\n                        )\n                    ) {\n                        throw {\n                            message: \"Please select a valid Proposal Type\"\n                        };\n                    }\n                },\n                error: undefined\n            }}\n        />\n        <div className=\"d-flex gap-3 flex-wrap\">\n            <div>\n                <h5>DAO</h5>\n                <Widget\n                    src=\"mob.near/widget/Profile.ShortInlineBlock\"\n                    props={{ accountId: daoId, tooltip: true }}\n                />\n            </div>\n            <div>\n                <h5>Proposer</h5>\n                <Widget\n                    src=\"mob.near/widget/Profile.ShortInlineBlock\"\n                    props={{ accountId: accountId, tooltip: true }}\n                />\n            </div>\n        </div>\n        <div className=\"d-flex flex-column gap-2\">\n            {state.proposalType.value === \"Vote\" && (\n                <Widget\n                    src=\"astraplusplus.ndctools.near/widget/DAO.Proposal.Create.Text\"\n                    props={{ daoId, onClose }}\n                />\n            )}\n            {state.proposalType.value === \"Transfer\" && (\n                <Widget\n                    src=\"astraplusplus.ndctools.near/widget/DAO.Proposal.Create.Transfer\"\n                    props={{ daoId, onClose }}\n                />\n            )}\n            {state.proposalType.value === \"AddMemberToRole\" && (\n                <Widget\n                    src=\"astraplusplus.ndctools.near/widget/DAO.Proposal.Create.AddMemberToRole\"\n                    props={{ daoId, onClose }}\n                />\n            )}\n            {state.proposalType.value === \"RemoveMemberFromRole\" && (\n                <Widget\n                    src=\"astraplusplus.ndctools.near/widget/DAO.Proposal.Create.RemoveMemberFromRole\"\n                    props={{ daoId, onClose }}\n                />\n            )}\n            {state.proposalType.value === \"FunctionCall\" && (\n                <Widget\n                    src=\"astraplusplus.ndctools.near/widget/DAO.Proposal.Create.FunctionCall\"\n                    props={{ daoId, onClose }}\n                />\n            )}\n        </div>\n    </Wrapper>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/astraplusplus.ndctools.near/widget/DAO.Proposal.Create", "fact_widget_deployments_id": "2441deee22351971b4eeb1849bde30c5", "inserted_timestamp": "2024-03-07T05:24:05.087Z", "modified_timestamp": "2024-03-07T05:24:05.087Z", "__row_index": 24}