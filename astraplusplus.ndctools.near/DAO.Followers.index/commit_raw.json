{"tx_hash": "HU7tXvudYdBCZR4BaoUKAtUj18YYQVZYGww9KTX3vwGH", "action_id_social": "9NB16ja78L9KQbtAaG6UW5ZULoRgitEbEfqRzHxJ7itf-0-widget", "block_id": 101934746, "block_timestamp": "2023-09-25T16:22:22.916Z", "signer_id": "astraplusplus.ndctools.near", "widget_name": "DAO.Followers.index", "source_code": "const daoId = props.daoId;\nconst publicApiKey = \"36f2b87a-7ee6-40d8-80b9-5e68e587a5b5\";\nconst baseApi = \"https://api.pikespeak.ai\";\nlet followers = [];\n\nfunction fetchFollowers() {\n    const resp = Social.keys(`*/graph/follow/${daoId}`, \"final\", {\n        values_only: true,\n        return_type: \"BlockHeight\"\n    });\n    if (resp) {\n        for (const key of Object.keys(resp)) {\n            const followEdge = Social.keys(\n                `${context.accountId}/graph/follow/${key}`,\n                undefined,\n                { values_only: true }\n            );\n            followers.push({\n                account: key,\n                isUserFollowed: Object.keys(followEdge || {}).length > 0,\n                blockHeight: resp[key]?.graph?.follow?.[daoId]\n            });\n        }\n    }\n}\n\nfetchFollowers();\n\nconst Wrapper = styled.div`\n    .userRow {\n        width: 100%;\n        @media screen and (min-width: 600px) {\n            width: calc(50% - 1rem);\n        }\n        @media screen and (min-width: 1400px) {\n            width: calc(33% - 1rem);\n        }\n    }\n`;\n\nreturn (\n    <div>\n        <Wrapper className=\"d-flex flex-column gap-4\">\n            <Widget\n                src=\"astraplusplus.ndctools.near/widget/DAO.Followers.FollowersList\"\n                props={{\n                    data: followers\n                }}\n            />\n        </Wrapper>\n    </div>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/astraplusplus.ndctools.near/widget/DAO.Followers.index", "fact_widget_deployments_id": "0520ce0000248164f271f3ab02e04464", "inserted_timestamp": "2024-03-07T05:24:05.087Z", "modified_timestamp": "2024-03-07T05:24:05.087Z", "__row_index": 2}