{"tx_hash": "7vwwDoJ3hFNPt1GYtaXR5AtujBo48975kkGMdbMxDNzg", "action_id_social": "3HxHEBksL2pvxtKLdix3ECjmahpubgmx5bZgyPCYGCKQ-0-widget", "block_id": 116624776, "block_timestamp": "2024-04-11T17:43:04.654Z", "signer_id": "astraplusplus.ndctools.near", "widget_name": "ProposalsFeed.FilterModal", "source_code": "const applyFilters = props.applyFilters;\nconst cancel = props.cancel;\nconst daoId = props.daoId;\n\nconst filters = props.filters ?? {\n  proposal_status: [],\n  time_start: \"\",\n  time_end: \"\",\n  dao_type: \"\"\n};\n\nState.init({\n  filters\n});\n\nconst setFilters = (f) => {\n  State.update({\n    filters: f\n  });\n};\n\nconst DaoTypes = [\n  {\n    title: \"My Daos\",\n    value: \"myDAOs\"\n  },\n  {\n    title: \"Followed\",\n    value: \"followedDAOs\"\n  },\n  {\n    title: \"Grassroot DAOs\",\n    value: \"GDAOs\"\n  },\n  {\n    title: \"All\",\n    value: \"all\"\n  }\n];\n\nconst ProposalStatus = [\n  {\n    title: \"Approved\",\n    value: \"Approved\"\n  },\n  {\n    title: \"Rejected\",\n    value: \"Rejected\"\n  },\n  {\n    title: \"In Progress\",\n    value: \"InProgress\"\n  },\n  {\n    title: \"Expired\",\n    value: \"Expired\"\n  },\n  {\n    title: \"Failed\",\n    value: \"Failed\"\n  },\n  {\n    title: \"Executed\",\n    value: \"Executed\"\n  }\n];\n\nconst Wrapper = styled.div`\n  .check-subtitle {\n    font-size: 12px;\n    font-weight: 500;\n    color: #999;\n    padding: 0 !important;\n  }\n\n  .category-title {\n    margin: 0px;\n    font-size: 14px;\n    font-weight: 500;\n    color: #999;\n    text-transform: capitalize;\n    margin-bottom: 6px;\n  }\n\n  .filter-title {\n    font-style: normal;\n    font-weight: 600;\n    font-size: 15px;\n    line-height: 1.25em;\n    color: #222;\n    margin-bottom: 12px;\n  }\n\n  .cursor-pointer {\n    cursor: pointer;\n  }\n`;\n\nreturn (\n  <Wrapper className=\"ndc-card p-5 pb-4\">\n    <h4 className=\"filter-title\">DAOs: </h4>\n    <div className=\"d-flex flex-wrap gap-3\">\n      {DaoTypes.map((item) => {\n        return (\n          <div\n            onClick={(e) =>\n              setFilters({\n                ...state.filters,\n                dao_type:\n                  state.filters.dao_type === item.value ? \"\" : item.value\n              })\n            }\n            className=\"d-flex gap-2 align-items-center cursor-pointer\"\n          >\n            <input\n              className=\"form-check-input\"\n              type=\"radio\"\n              value={item.value}\n              checked={state.filters.dao_type === item.value || false}\n            />\n            <span className=\"label\">{item.title}</span>\n          </div>\n        );\n      })}\n    </div>\n    <h4 className=\"filter-title mt-4\">Proposal status: </h4>\n    <div className=\"d-flex flex-wrap\">\n      {ProposalStatus.map((item) => {\n        return (\n          <Widget\n            src=\"nearui.near/widget/Input.Checkbox\"\n            props={{\n              checked:\n                state.filters.proposal_status.includes(item.value) || false,\n              onChange: (checked) => {\n                setFilters({\n                  ...state.filters,\n                  proposal_status: checked\n                    ? [...state.filters.proposal_status, item.value]\n                    : state.filters.proposal_status.filter(\n                        (x) => x !== item.value\n                      )\n                });\n              },\n              label: item.title\n            }}\n          />\n        );\n      })}\n    </div>\n    <div className=\"d-flex gap-3 mt-4  flex-wrap\">\n      <Widget\n        src=\"nearui.near/widget/Input.Text\"\n        props={{\n          value: state.filters.time_start,\n          onChange: (value) => {\n            setFilters({\n              ...state.filters,\n              time_start: value\n            });\n          },\n          label: \"From Date\",\n          inputProps: {\n            type: \"date\"\n          }\n        }}\n      />\n      <Widget\n        src=\"nearui.near/widget/Input.Text\"\n        props={{\n          value: state.filters.time_end,\n          onChange: (value) => {\n            setFilters({\n              ...state.filters,\n              time_end: value\n            });\n          },\n          label: \"To Date\",\n          inputProps: {\n            type: \"date\"\n          }\n        }}\n      />\n    </div>\n    <div className=\"d-flex justify-content-end mt-5 gap-3\">\n      <Widget\n        src=\"nearui.near/widget/Input.Button\"\n        props={{\n          children: \"Cancel\",\n          onClick: () => {\n            cancel();\n          },\n          variant: \"secondary outline\",\n          className: \"me-auto\"\n        }}\n      />\n      <Widget\n        src=\"nearui.near/widget/Input.Button\"\n        props={{\n          children: \"Clear\",\n          onClick: () => {\n            setFilters({\n              proposal_status: [],\n              time_start: \"\",\n              time_end: \"\"\n            });\n          },\n          variant: \"secondary outline\"\n        }}\n      />\n      <Widget\n        src=\"nearui.near/widget/Input.Button\"\n        props={{\n          children: \"Apply\",\n          onClick: () => {\n            applyFilters(state.filters);\n          },\n          variant: \"secondary\"\n        }}\n      />\n    </div>\n  </Wrapper>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/astraplusplus.ndctools.near/widget/ProposalsFeed.FilterModal", "fact_widget_deployments_id": "ce1a7d72031905fce2f80fe66e899321", "inserted_timestamp": "2024-04-11T19:38:43.522Z", "modified_timestamp": "2024-04-11T19:38:43.522Z", "__row_index": 0}