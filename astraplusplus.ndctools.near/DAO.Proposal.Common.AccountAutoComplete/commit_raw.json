{"tx_hash": "EjGHRNNuP6UERvSMQc9CHyiToJfw9JF2BRJEPTcoxtTp", "action_id_social": "6oBiXrfbT7hsnaQeY7VnkKRNPa5eHcGdgbeNdqaGwoz6-0-widget", "block_id": 114959908, "block_timestamp": "2024-03-18T14:28:45.701Z", "signer_id": "astraplusplus.ndctools.near", "widget_name": "DAO.Proposal.Common.AccountAutoComplete", "source_code": "const accountId = props.accountId ?? \"\";\nconst onChange = props.onChange;\nconst placeholder = props.placeholder;\nconst [showAccountAutocomplete, setAutoComplete] = useState(false);\nconst [isValidAccount, setValidAccount] = useState(true);\n\nuseEffect(() => {\n  const handler = setTimeout(() => {\n    const valid = accountId.length === 64 || accountId.includes(\".near\");\n    setValidAccount(valid);\n    setAutoComplete(!valid);\n  }, 100);\n\n  return () => {\n    clearTimeout(handler);\n  };\n}, [accountId]);\n\nconst AutoComplete = styled.div`\n  margin-top: 1rem;\n`;\n\nconst Wrapper = styled.div`\n  .text-sm {\n    font-size: 12px;\n  }\n`;\n\nreturn (\n  <Wrapper>\n    <input\n      type=\"text\"\n      value={accountId}\n      onChange={(e) => onChange(e.target.value)}\n      placeholder={placeholder}\n    />\n    {accountId && !isValidAccount && (\n      <div style={{ color: \"red\" }} className=\"text-sm\">\n        Please enter valid account ID\n      </div>\n    )}\n    {showAccountAutocomplete && (\n      <AutoComplete>\n        <Widget\n          src=\"devhub.near/widget/devhub.components.molecule.AccountAutocomplete\"\n          props={{\n            term: accountId,\n            onSelect: (id) => {\n              onChange(id);\n              setAutoComplete(false);\n            },\n            onClose: () => setAutoComplete(false)\n          }}\n        />\n      </AutoComplete>\n    )}\n  </Wrapper>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/astraplusplus.ndctools.near/widget/DAO.Proposal.Common.AccountAutoComplete", "fact_widget_deployments_id": "b0a1ee6e18f4236d83f1e0b70079a005", "inserted_timestamp": "2024-03-18T15:28:26.024Z", "modified_timestamp": "2024-03-18T15:28:26.024Z", "__row_index": 0}