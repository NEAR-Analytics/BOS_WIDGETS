{"tx_hash": "DbBZb7rNipkD4zkhdUu8xT84w81q4xCy1SwPYiYKkWGT", "action_id_social": "GovC5j6vDSnBWCYaZ1trrADXs9AboR6LjULD6xCDp4GF-0-widget", "block_id": 109004021, "block_timestamp": "2023-12-28T12:03:36.034Z", "signer_id": "astraplusplus.ndctools.near", "widget_name": "Feed.index", "source_code": "const getFollowedDAOs = (accountId) => {\n  let following = Social.keys(`${accountId}/graph/follow/*`, \"final\", {\n    return_type: \"BlockHeight\",\n  });\n\n  if (following === null) return null;\n\n  following = Object.keys(following[accountId].graph.follow || {}).filter(\n    (account) => account.endsWith(\".sputnik-dao.near\"),\n  );\n  return following;\n};\n\n\nconst following = getFollowedDAOs(props.accountId ?? context.accountId ?? \"\");\n\nif (following === null) {\n  return \"\";\n}\n\nconst feeds = [\n  {\n    name: \"daos followed\",\n    data: {\n      sources: [\n        {\n          domain: \"post\",\n          key: \"main\",\n        },\n      ],\n      typeWhitelist: [\"md\"],\n      accountWhitelist: following,\n    },\n  },\n];\n\nconst renderHeader = () => (\n  <div>\n    <h2 className=\"h2\">Social Feed</h2>\n    <p className=\"text-muted\">Social posts from the DAOs you follow</p>\n\n    <div>\n      {following.length < 1 ? (\n        <div className=\"text-muted mt-4\">You are not following any DAOs</div>\n      ) : (\n        <Widget\n          src=\"efiz.near/widget/every.post\"\n          props={{\n            ...feeds[0].data,\n          }}\n        />\n      )}\n    </div>\n  </div>\n);\n\nreturn <div>{renderHeader()}</div>;\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/astraplusplus.ndctools.near/widget/Feed.index", "fact_widget_deployments_id": "c51e1a26584dfac874972be313446cca", "inserted_timestamp": "2024-03-07T05:24:05.087Z", "modified_timestamp": "2024-03-07T05:24:05.087Z", "__row_index": 7}