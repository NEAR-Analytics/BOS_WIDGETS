{"tx_hash": "FcGK8vmWBNt6GLaHikgQMAdqcSb5NYoTyyH7Sp44Hm5M", "action_id_social": "5QPWVavi2axinA3BievKLSjXA7NZPRMSN2ip7pyMPbEg-0-widget", "block_id": 98545653, "block_timestamp": "2023-08-11T06:09:27.199Z", "signer_id": "astraplusplus.ndctools.near", "widget_name": "Feed.index", "source_code": "const getFollowedDAOs = (accountId) => {\n  let following = Social.keys(`${accountId}/graph/follow/*`, \"final\", {\n    return_type: \"BlockHeight\",\n  });\n\n  following =\n    following === null\n      ? null\n      : Object.keys(following[accountId].graph.follow).filter((account) =>\n          account.endsWith(\".sputnik-dao.near\"),\n        );\n  return following;\n};\n\n\nconst following = getFollowedDAOs(props.accountId ?? context.accountId ?? \"\");\n\nif (following === null) {\n  return \"\";\n}\n\nconst feeds = [\n  {\n    name: \"daos followed\",\n    data: {\n      sources: [\n        {\n          domain: \"post\",\n          key: \"main\",\n        },\n      ],\n      typeWhitelist: [\"md\"],\n      accountWhitelist: following,\n    },\n  },\n];\n\nconst renderHeader = () => (\n  <div>\n    <h2 className=\"h2\">Social Feed</h2>\n    <p className=\"text-muted\">Social posts from the DAOs you follow</p>\n\n    <div>\n      {following.length < 1 ? (\n        <div className=\"text-muted mt-4\">You are not following any DAOs</div>\n      ) : (\n        <Widget\n          src=\"efiz.near/widget/every.post\"\n          props={{\n            ...feeds[0].data,\n          }}\n        />\n      )}\n    </div>\n  </div>\n);\n\nreturn <div>{renderHeader()}</div>;\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/astraplusplus.ndctools.near/widget/Feed.index", "fact_widget_deployments_id": "946608f8242e42fcf8e7ad0a71ab3b2d", "inserted_timestamp": "2024-03-07T05:24:05.087Z", "modified_timestamp": "2024-03-07T05:24:05.087Z", "__row_index": 1}