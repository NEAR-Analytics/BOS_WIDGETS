{"tx_hash": "8vfd8UFL9kEdUmtP4xHzcEYSQtSHb48tRwjURLn7vAEW", "action_id_social": "79P5LeT2fRBwE9mDu34SsNXLX5NyBBiRutxYs2aAixKR-0-widget", "block_id": 113439673, "block_timestamp": "2024-02-23T20:00:34.954Z", "signer_id": "owa-is-bos.near", "widget_name": "BOS-TheGraph", "source_code": "const [nftData, setNFTData] = useState([]);\n\nuseEffect(() => {\n  var query = `query {\n                        tokens{\n                                id\n                                title\n                                owner_id\n                                media\n                                owner_id\n                            }\n                        }`;\n\n  asyncFetch(\"https://api.thegraph.com/subgraphs/name/devscloudmex/nativonft\", {\n    method: \"POST\",\n    headers: {\n      \"content-type\": \"application/json\",\n    },\n    body: JSON.stringify({\n      query: query,\n    }),\n  })\n    .then(({ body }) => {\n      setNFTData(body.data.tokens);\n    })\n    .catch((err) => console.log(err));\n}, []);\n\nconst loadingUrl =\n  props.loadingUrl ??\n  \"https://ipfs.near.social/ipfs/bafkreidoxgv2w7kmzurdnmflegkthgzaclgwpiccgztpkfdkfzb4265zuu\";\n\nreturn (\n  <div>\n    <h1>BOS + TheGraph</h1>\n    {nftData && (\n      <>\n        <div\n          style={{\n            marginTop: \"10px\",\n            display: \"grid\",\n            \"grid-template-columns\": \"repeat(3, 1fr)\",\n            \"grid-column-gap\": \"10px\",\n            \"grid-row-gap\": \"10px\",\n          }}\n        >\n          {nftData &&\n            nftData.map(\n              (nft, i) =>\n                nft.media && (\n                  <div>\n                    <img\n                      src={\n                        nft.media !== null\n                          ? \"https://ipfs.near.social/ipfs/\" + nft.media\n                          : loadingUrl\n                      }\n                      style={{ width: \"150px\", height: \"150px\" }}\n                    />\n                    <br />\n                    <label>\n                      <span style={{ fontWeight: \"bold\" }}>Token Id:</span>\n                      {nft.id}\n                    </label>\n                    <br />\n                    <label>\n                      <span style={{ fontWeight: \"bold\" }}>Title:</span>\n                      {nft.title}\n                    </label>\n                    <label>\n                      <span style={{ fontWeight: \"bold\" }}>Owner:</span>\n                      {nft.owner_id}\n                    </label>\n                  </div>\n                )\n            )}\n        </div>\n      </>\n    )}\n  </div>\n);\n", "metadata": {"name": "BOS-TheGraph"}, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/owa-is-bos.near/widget/BOS-TheGraph", "fact_widget_deployments_id": "bbfbaed1d0dc9f78a3b0edc527cee770", "inserted_timestamp": "2024-03-07T05:24:05.087Z", "modified_timestamp": "2024-03-07T05:24:05.087Z", "__row_index": 0}