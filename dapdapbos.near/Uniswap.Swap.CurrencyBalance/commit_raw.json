{"tx_hash": "9978fR2GzKwzeDp7N6o7gCEHMZyX8tVHJ3RBJd3Xm8ot", "action_id_social": "FMdo3aVVZbaNCxEECPswe9EMw7BGWzF6eLtcGBZs9wXR-0-widget", "block_id": 103709796, "block_timestamp": "2023-10-19T05:09:16.348Z", "signer_id": "dapdapbos.near", "widget_name": "Uniswap.Swap.CurrencyBalance", "source_code": "const { address, chainIdNotSupport } = props;\n\nif (chainIdNotSupport) return \"\";\nif (!address) return \"\";\n\nconst account = Ethers.send(\"eth_requestAccounts\", [])[0];\nif (!account) {\n  return \"\";\n}\n\nif (address === \"native\") {\n  const provider = Ethers.provider();\n  provider.getBalance(account).then((rawBalance) => {\n    props?.onLoad(rawBalance._hex);\n  });\n  return \"\";\n}\nconst TokenContract = new ethers.Contract(\n  address,\n  [\n    {\n      constant: true,\n      inputs: [\n        {\n          name: \"_owner\",\n          type: \"address\",\n        },\n      ],\n      name: \"balanceOf\",\n      outputs: [\n        {\n          name: \"balance\",\n          type: \"uint256\",\n        },\n      ],\n      payable: false,\n      stateMutability: \"view\",\n      type: \"function\",\n    },\n  ],\n  Ethers.provider().getSigner()\n);\nTokenContract.balanceOf(account).then((rawBalance) => {\n  props?.onLoad(rawBalance._hex);\n});\n\nreturn \"\";\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/dapdapbos.near/widget/Uniswap.Swap.CurrencyBalance", "fact_widget_deployments_id": "4d6b0df2753693ea97da0ffa415eccc1", "inserted_timestamp": "2024-03-07T05:24:05.087Z", "modified_timestamp": "2024-03-07T05:24:05.087Z", "__row_index": 0}