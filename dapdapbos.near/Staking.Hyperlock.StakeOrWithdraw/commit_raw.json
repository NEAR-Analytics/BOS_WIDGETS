{"tx_hash": "7LQC4TtBePAtCUUXEiuC4qfJFCrAHi2rgK2NBMTnd645", "action_id_social": "9oKSysswdRBa5gGFZRU8VbqMm9XdadW9sxSMZogikhit-0-widget", "block_id": 119835261, "block_timestamp": "2024-05-27T06:34:38.381Z", "signer_id": "dapdapbos.near", "widget_name": "Staking.Hyperlock.StakeOrWithdraw", "source_code": "const Dialog = styled.div`\n  position: fixed;\n  left: 0;\n  right: 0;\n  top: 0;\n  bottom: 0;\n  display: none;\n  &.display {\n    display: block;\n  }\n`;\nconst Overlay = styled.div`\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  z-index: 8000;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  background-color: rgba(33, 35, 42, 0.6);\n  @media (max-width: 640px) {\n    align-items: flex-end;\n  }\n`;\nconst Content = styled.div`\n  background-color: #3d4159;\n  border-radius: 16px;\n  width: 396px;\n  padding: 20px;\n  @media (max-width: 640px) {\n    width: 100%;\n    border-radius: 16px 16px 0px 0px;\n  }\n  .button {\n    width: 100%;\n  }\n`;\n\nconst Title = styled.div`\n  font-size: 16px;\n  font-weight: 500;\n  color: #fff;\n  display: flex;\n  align-items: center;\n`;\nconst InputWrapper = styled.div`\n  height: 55px;\n  border-radius: 10px;\n  background-color: rgba(22, 24, 38, 0.5);\n  display: flex;\n  align-items: center;\n  margin-top: 20px;\n  padding: 0px 10px;\n`;\nconst Input = styled.input`\n  font-size: 18px;\n  color: #fff;\n  font-weight: 500;\n  background-color: transparent;\n  outline: none;\n  border: none;\n  height: 22px;\n  vertical-align: bottom;\n  flex-grow: 1;\n\n  &::placeholder {\n    color: #979abe;\n  }\n`;\nconst InputBalance = styled.div`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  font-size: 12px;\n  font-weight: 400;\n  color: #979abe;\n  margin-top: 4px;\n  margin-bottom: 10px;\n`;\nconst BalanceValue = styled.div``;\nconst BalanceWrapper = styled.div`\n  text-align: right;\n  cursor: pointer;\n`;\nconst Balance = styled.span`\n  font-weight: 400;\n  text-decoration: underline;\n`;\nconst TokenSymbol = styled.div`\n  font-size: 16px;\n  color: #fff;\n  font-weight: 400;\n`;\nconst Header = styled.div`\n  display: flex;\n  justify-content: space-between;\n`;\nconst CloseIcon = styled.div`\n  color: #979abe;\n`;\n\nconst {\n  title,\n  id,\n  display,\n  token0,\n  token1,\n  price,\n  balance,\n  account,\n  handler,\n  toast,\n  dexConfig,\n  onClose,\n  onSuccess,\n} = props;\n\nconst formatBalance = (_balance) => {\n  if (!_balance) return \"-\";\n  if (Big(_balance).eq(0)) return \"0\";\n  if (Big(_balance).lt(0.0001)) return \"<0.0001\";\n  return Big(_balance).toFixed(4, 0);\n};\n\nreturn (\n  <Dialog className={display ? \"display\" : \"\"}>\n    <Overlay\n      onClick={() => {\n        onClose();\n      }}\n    >\n      <Content\n        onClick={(ev) => {\n          ev.stopPropagation();\n        }}\n      >\n        <Header>\n          <Title>{title}</Title>\n          <CloseIcon>\n            <Widget\n              src=\"bluebiu.near/widget/Arbitrum.Swap.CloseIcon\"\n              props={{ onClose: onClose, size: 18 }}\n            />\n          </CloseIcon>\n        </Header>\n        <InputWrapper>\n          <Input\n            value={state.amount || \"\"}\n            onChange={(ev) => {\n              if (isNaN(Number(ev.target.value))) return;\n              State.update({\n                amount: ev.target.value,\n              });\n            }}\n            placeholder=\"0.0\"\n          />\n          <TokenSymbol>\n            {token0.symbol}-{token1.symbol}\n          </TokenSymbol>\n        </InputWrapper>\n        <InputBalance>\n          <BalanceValue>\n            \u2248 $\n            {state.amount\n              ? Big(state.amount)\n                  .mul(price || 0)\n                  .toFixed(2)\n              : \"-\"}\n          </BalanceValue>\n          <BalanceWrapper\n            onClick={(ev) => {\n              if (isNaN(balance)) return;\n\n              State.update({\n                amount: balance,\n              });\n            }}\n          >\n            Available\n            <Balance>{formatBalance(balance)}</Balance>\n          </BalanceWrapper>\n        </InputBalance>\n        <Widget\n          src=\"dapdapbos.near/widget/Staking.Hyperlock.V2Button\"\n          props={{\n            amount: state.amount,\n            title,\n            account,\n            id,\n            symbol: `${token0.symbol}-${token1.symbol}`,\n            price,\n            handler,\n            handleApprove: state.handleApprove,\n            checkAllowance: state.checkAllowance,\n            onSuccess: () => {\n              onClose();\n              onSuccess();\n            },\n            onError: () => {},\n          }}\n        />\n        <Widget\n          src=\"bluebiu.near/widget/Lending.CompoundV3.CheckAllowance\"\n          props={{\n            account,\n            spender: dexConfig.v2Address,\n            token: {\n              address: id,\n              decimals: 18,\n              symbol: `${token0.symbol}/${token1.symbol}`,\n            },\n            toast,\n            onLoad: (data) => {\n              State.update({ ...data });\n            },\n          }}\n        />\n      </Content>\n    </Overlay>\n  </Dialog>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/dapdapbos.near/widget/Staking.Hyperlock.StakeOrWithdraw", "fact_widget_deployments_id": "063965d682ff42866c21b5bc168ec341", "inserted_timestamp": "2024-05-27T08:20:54.371Z", "modified_timestamp": "2024-05-27T09:05:03.748Z", "__row_index": 0}