{"tx_hash": "EqtTJWULc4A32Q5Kqc1EeDJMeQz4cj2Lv4RYw9WXL1nm", "action_id_social": "BVmWNGQipJmyCs9wFbpJBSgv6yjv9XJmK5HjAH8wF6Ku-0-widget", "block_id": 112890412, "block_timestamp": "2024-02-15T15:53:24.184Z", "signer_id": "dapdapbos.near", "widget_name": "Linea.Uniswap.Swap.TokenIcon", "source_code": "const TokenIcon = styled.img`\n  border-radius: 50%;\n`;\n\nconst DEFAULT_TOKEN_ICON = \"/defalut_token.png\";\n\nconst cached_icons = Storage.privateGet(\"cached_icons\") || {};\n\nconst getIconByAddress = (address) => {\n  return `https://assets.dapdap.net/images/${address.toLowerCase()}.png`;\n};\n\nconst size = props.size || 22;\nconst token = props.token || {};\n\nuseEffect(() => {\n  if (!token) return;\n  const symbol = token.symbol || \"\";\n  if (state.deadlinks[symbol]) {\n    State.update({\n      src: DEFAULT_TOKEN_ICON,\n    });\n    return;\n  }\n  const _src =\n    props.src ||\n    token.icon ||\n    cached_icons[symbol] ||\n    (token.address && getIconByAddress(token.address)) ||\n    DEFAULT_TOKEN_ICON;\n\n  State.update({\n    src: _src,\n  });\n}, [token]);\n\nreturn (\n  <TokenIcon\n    src={state.src}\n    style={{\n      width: size + \"px\",\n      height: size + \"px\",\n    }}\n    onLoad={() => {\n      if (symbol) {\n        cached_icons[symbol] = state.src;\n        Storage.privateSet(\"cached_icons\", cached_icons);\n      }\n    }}\n    onError={() => {\n      const deadlinks = state.deadlinks || {};\n      deadlinks[symbol] = state.src;\n      State.update({\n        src: DEFAULT_TOKEN_ICON,\n        deadlinks,\n      });\n    }}\n  ></TokenIcon>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/dapdapbos.near/widget/Linea.Uniswap.Swap.TokenIcon", "fact_widget_deployments_id": "6476a99eea939150204a132586f9e71e", "inserted_timestamp": "2024-03-07T05:24:05.087Z", "modified_timestamp": "2024-03-07T05:24:05.087Z", "__row_index": 3}