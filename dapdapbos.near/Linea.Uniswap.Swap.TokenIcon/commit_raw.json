{"tx_hash": "BM73ayUyrEaHJStSvA7mx5sPCf1Xa8xCuDvPP3wzYNUW", "action_id_social": "3FdaZ6VPi7DBFNJJ2HzoGsPWYzygckJFP4MEAweDpxT3-0-widget", "block_id": 112385936, "block_timestamp": "2024-02-08T13:05:44.960Z", "signer_id": "dapdapbos.near", "widget_name": "Linea.Uniswap.Swap.TokenIcon", "source_code": "const TokenIcon = styled.img`\n  border-radius: 50%;\n`;\n\nconst DEFAULT_TOKEN_ICON = \"/defalut_token.png\";\n\nconst cached_icons = Storage.privateGet(\"cached_icons\") || {};\n\nconst getIconByAddress = (address) => {\n  return `https://assets.dapdap.tech/images/${address.toLowerCase()}.png`;\n};\n\nconst size = props.size || 22;\nconst token = props.token || {};\n\nuseEffect(() => {\n  if (!token) return;\n  const symbol = token.symbol || \"\";\n  if (state.deadlinks[symbol]) {\n    State.update({\n      src: DEFAULT_TOKEN_ICON,\n    });\n    return;\n  }\n  const _src =\n    props.src ||\n    token.icon ||\n    cached_icons[symbol] ||\n    (token.address && getIconByAddress(token.address)) ||\n    DEFAULT_TOKEN_ICON;\n\n  State.update({\n    src: _src,\n  });\n}, [token]);\n\nreturn (\n  <TokenIcon\n    src={state.src}\n    style={{\n      width: size + \"px\",\n      height: size + \"px\",\n    }}\n    onLoad={() => {\n      if (symbol) {\n        cached_icons[symbol] = state.src;\n        Storage.privateSet(\"cached_icons\", cached_icons);\n      }\n    }}\n    onError={() => {\n      const deadlinks = state.deadlinks || {};\n      deadlinks[symbol] = state.src;\n      State.update({\n        src: DEFAULT_TOKEN_ICON,\n        deadlinks,\n      });\n    }}\n  ></TokenIcon>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/dapdapbos.near/widget/Linea.Uniswap.Swap.TokenIcon", "fact_widget_deployments_id": "a8b6bb8fba8ef43bf83935cf0196e857", "inserted_timestamp": "2024-03-07T05:24:05.087Z", "modified_timestamp": "2024-03-07T05:24:05.087Z", "__row_index": 2}