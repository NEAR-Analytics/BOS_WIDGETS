{"tx_hash": "Avb8FrrEd7AgLPfgxJsn3AVSSWWMMpdpcG6nDDCwzJNc", "action_id_social": "4JFnUcwTwNwjfAKXfjiRqR3Yi5Q5McPgyKDrRdaNU9L3-0-widget", "block_id": 109575921, "block_timestamp": "2024-01-04T14:14:23.652Z", "signer_id": "dapdapbos.near", "widget_name": "Staking.Aura.Unstake", "source_code": "// switch begin\nconst SwitchRoot = styled(\"Switch.Root\")`\n  all: unset;\n  display: block;\n  width: 42px;\n  height: 24px;\n  background-color: #232534;\n  border-radius: 9999px;\n  position: relative;\n  box-shadow: 0 2px 10px #232534;\n  border: 1px solid #373a53;\n  &[data-state=\"checked\"] {\n    background-color: #783ae3;\n  }\n`;\n\nconst SwitchThumb = styled(\"Switch.Thumb\")`\n  all: unset;\n  display: block;\n  width: 18px;\n  height: 18px;\n  background-color: white;\n  border-radius: 9999px;\n  box-shadow: 0 2px 2px var(--blackA7);\n  transition: transform 100ms;\n  transform: translateX(2px);\n  will-change: transform;\n  border: 1px solid #373a53;\n  &[data-state=\"checked\"] {\n    transform: translateX(19px);\n  }\n`;\n// switch end\nconst StakePanel = styled.div`\n  width: 510px;\n  margin: 0 auto;\n  /* reset input */\n  .bos-input-number {\n    background-color: var(--dark);\n    color: var(--white);\n  }\n`;\n\nconst AmountList = styled.div`\n  display: flex;\n  font-size: var(--fz12);\n  color: var(--purple);\n  justify-content: space-between;\n  padding: 10px 0 16px;\n  .amount-left {\n  }\n  .amount-right {\n  }\n  .amount-white {\n    color: var(--white);\n  }\n`;\nconst StakeBtnWrap = styled.div`\n  display: flex;\n  column-gap: 14px;\n`;\nconst UnStakeBtnWrap = styled.div`\n  display: flex;\n  column-gap: 22px;\n  align-items: center;\n  .switch-wrap {\n    display: flex;\n    align-items: center;\n    column-gap: 8px;\n    color: var(--purple);\n  }\n`;\n\nconst ChainBtnWrap = styled.div`\n  margin-top: 16px;\n  display: flex;\n`;\n\nconst { data, chainId, account } = props;\nconst {\n  poolName,\n  stakedAmount,\n  reward,\n  Rewards_contract_address,\n  Rewards_depositor_contract_address,\n  LP_token_address,\n} = data;\nState.init({\n  isClaimRewards: false,\n  inputValue: \"\",\n});\n\nconst handleSwitch = (isChecked) => {\n  State.update({\n    isClaimRewards: isChecked,\n  });\n};\n\nconst RewardPoolDepositWrapper = \"0x0Fec3d212BcC29eF3E505B555D7a7343DF0B7F76\";\nconst CHAIN_ID = 100;\n\nconst handleInputChange = (e) => {\n  console.log(e.target.value, e);\n  State.update({\n    inputValue: e.target.value,\n  });\n};\n\nconst switchChain = () => {\n  Ethers.send(\"wallet_switchEthereumChain\", [\n    { chainId: `0x${Number(CHAIN_ID).toString(16)}` },\n  ]);\n};\nconst renderExtra = () => {\n  if (chainId !== CHAIN_ID) {\n    return (\n      <ChainBtnWrap>\n        <Widget\n          src=\"dapdapbos.near/widget/UI.Button\"\n          props={{\n            text: \"Switch to Gnosis\",\n            type: \"primary\",\n            style: { flex: 1 },\n            onClick: switchChain,\n          }}\n        />\n      </ChainBtnWrap>\n    );\n  }\n\n  return (\n    <>\n      <AmountList>\n        <span>${stakedAmount}</span>\n        <span>\n          You Staked: <span className=\"amount-white\">{stakedAmount}</span> BPT\n        </span>\n      </AmountList>\n      <UnStakeBtnWrap>\n        <div className=\"switch-wrap\">\n          <SwitchRoot\n            checked={state.isClaimRewards}\n            onCheckedChange={handleSwitch}\n          >\n            <SwitchThumb />\n          </SwitchRoot>\n          <span>Claim Rewards</span>\n        </div>\n        <Widget\n          src=\"dapdapbos.near/widget/UI.Button\"\n          props={{\n            text: \"Unstake\",\n            type: \"primary\",\n            style: { flex: 1 },\n            disabled: true,\n            onClick: () => {\n              console.log(\"click btn2\");\n            },\n          }}\n        />\n      </UnStakeBtnWrap>\n    </>\n  );\n};\n\nreturn (\n  <StakePanel>\n    <div className=\"input-group\">\n      <input\n        value={state.inputValue}\n        type=\"number\"\n        className=\"form-control bos-input-number\"\n        placeholder=\"0.0\"\n        onChange={handleInputChange}\n      />\n      <div className=\"input-group-append\">BPT</div>\n    </div>\n    {renderExtra()}\n  </StakePanel>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/dapdapbos.near/widget/Staking.Aura.Unstake", "fact_widget_deployments_id": "b7424497ff1376ce5d0cb24bd422fa69", "inserted_timestamp": "2024-03-07T05:24:05.087Z", "modified_timestamp": "2024-03-07T05:24:05.087Z", "__row_index": 4}