{"tx_hash": "HUhLGTdvFHQeb53yG2ioe6MD2tx28UXDAUynshTWkysH", "action_id_social": "J8cAmuQqg7wB9dNAUfVFRtNeoxu4jhCb6aJ3Et3ApWAb-0-widget", "block_id": 118423719, "block_timestamp": "2024-05-07T08:29:23.891Z", "signer_id": "dapdapbos.near", "widget_name": "Staking.Hyperlock.PoolTab", "source_code": "const {\n  tokens,\n  token0,\n  token1,\n  price0,\n  price1,\n  name,\n  dappLink,\n  handler,\n  from,\n  onSuccess,\n} = props;\n\nconst StyledContainer = styled.div`\n  display: flex;\n  flex-wrap: wrap;\n  gap: 20px;\n  padding: 0px 20px 20px;\n  min-height: 172px;\n  box-sizing: border-box;\n\n  .button {\n    width: 246px;\n  }\n`;\n\nconst StyledButtons = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  gap: 20px;\n`;\n\nconst StyledEmpty = styled.div`\n  height: 150px;\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  gap: 11px;\n  color: #979abe;\n  font-family: Gantari;\n  font-size: 14px;\n  font-style: normal;\n  font-weight: 400;\n  line-height: normal;\n`;\n\nreturn (\n  <StyledContainer>\n    {tokens?.map((token) => (\n      <Widget\n        src=\"dapdapbos.near/widget/Staking.Hyperlock.TokenCard\"\n        key={token.id + Math.random()}\n        props={{\n          price0,\n          price1,\n          name,\n          id: token.id,\n          from: \"pool\",\n          active: state.id === token.id,\n          token1,\n          token0,\n          amount0: ethers.utils.formatUnits(\n            token.token0Amount || 0,\n            token0.decimals\n          ),\n          amount1: ethers.utils.formatUnits(\n            token.token1Amount || 0,\n            token1.decimals\n          ),\n          onCardClick: () => {\n            State.update({\n              ...token,\n            });\n          },\n        }}\n      />\n    ))}\n    {!!tokens.length && (\n      <StyledButtons>\n        {from === \"stake\" && (\n          <a\n            className=\"button ghost\"\n            style={{ borderStyle: \"dashed\", lineHeight: \"46px\" }}\n            href={dappLink}\n            target=\"_blank\"\n          >\n            + Create new\u00a0position\n          </a>\n        )}\n        <button\n          className=\"button primary\"\n          disabled={state.loading || !state.id}\n          onClick={() => {\n            if (state.loading || !state.id) return;\n            State.update({\n              loading: true,\n            });\n\n            handler({\n              pool: {\n                id: state.id,\n                name,\n                amount0: ethers.utils\n                  .formatUnits(state.token0Amount || 0, token0.decimals)\n                  .toString(),\n                amount1: ethers.utils\n                  .formatUnits(state.token1Amount || 0, token1.decimals)\n                  .toString(),\n                token0,\n                token1,\n                price0,\n                price1,\n              },\n              method: from === \"stake\" ? \"safeTransferFrom\" : \"withdraw\",\n              onSuccess: () => {\n                State.update({\n                  loading: false,\n                });\n                onSuccess();\n              },\n              onError: () => {\n                State.update({\n                  loading: false,\n                });\n              },\n            });\n          }}\n        >\n          {state.loading ? (\n            <Widget\n              src=\"bluebiu.near/widget/0vix.LendingLoadingIcon\"\n              props={{\n                size: 16,\n              }}\n            />\n          ) : from === \"stake\" ? (\n            \"Stake\"\n          ) : (\n            \"Withdraw\"\n          )}\n        </button>\n      </StyledButtons>\n    )}\n\n    {!tokens.length && (\n      <StyledEmpty>\n        <div>\n          {from === \"stake\"\n            ? \"You have no LP tokens in your wallet for this token pair\"\n            : \"You have no LP tokens staked for this token pair\"}\n        </div>\n        {from === \"stake\" && (\n          <div className=\"link\">\n            <a className=\"link-text\" href={dappLink} target=\"_blank\">\n              Create new\u00a0position on Thruster\n            </a>\n            <svg\n              xmlns=\"http://www.w3.org/2000/svg\"\n              width=\"5\"\n              height=\"8\"\n              viewBox=\"0 0 5 8\"\n              fill=\"none\"\n            >\n              <path\n                d=\"M1 1L4 4L1 7\"\n                stroke=\"currentColor\"\n                stroke-linecap=\"round\"\n              />\n            </svg>\n          </div>\n        )}\n      </StyledEmpty>\n    )}\n  </StyledContainer>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/dapdapbos.near/widget/Staking.Hyperlock.PoolTab", "fact_widget_deployments_id": "de2cc4b4da362dd1e14e679608b4eeb4", "inserted_timestamp": "2024-05-07T09:38:41.824Z", "modified_timestamp": "2024-05-07T10:39:38.605Z", "__row_index": 0}