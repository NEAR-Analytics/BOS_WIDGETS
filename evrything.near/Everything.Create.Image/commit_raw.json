{"tx_hash": "FqkCRipxEoXBUPCzHtn4A8cWPF3a1wzYTM8MXN5H1gkb", "action_id_social": "3hdNEHidRPfBBNGBuksgBLWsi8wLywZ8Zn27FZCVpCG6-0-widget", "block_id": 87747806, "block_timestamp": "2023-03-20T21:28:42.774Z", "signer_id": "evrything.near", "widget_name": "Everything.Create.Image", "source_code": "const ERROR_WIDGET = \"evrything.near/widget/Everything.Error\";\n\nconst ButtonRow = styled.div`\n    display: flex;\n    flex-direction: row;\n    gap: 4px;\n`;\n\nconst typeStr = \"evrything.near/type/Image\";\n\nconst type = Type.get(typeStr);\n// const type = props.type;\n\nif (!type) {\n  return (\n    <Widget\n      src={ERROR_WIDGET}\n      props={{\n        message: `provided type: \"${props.type}\" is not valid.`,\n      }}\n    />\n  );\n}\n\nState.init({\n  img: null,\n});\n\nfunction composeData() {\n  const data = {\n    thing: {\n      main: JSON.stringify({ img: state.img }),\n    },\n    index: {\n      tempeverything: JSON.stringify({\n        key: \"main\",\n        value: {\n          type: typeStr,\n        },\n      }),\n    },\n  };\n  return data;\n}\n\nreturn (\n  <div className=\"container row\">\n    <div>\n      Image upload: <br />\n      <IpfsImageUpload image={state.img} />\n    </div>\n    <div>\n      Raw State:\n      <pre>{JSON.stringify(state)}</pre>\n    </div>\n    <div className=\"mt-2\">\n      {state.img.cid && (\n        <img\n          src={`https://ipfs.near.social/ipfs/${state.img.cid}`}\n          alt=\"uploaded\"\n        />\n      )}\n    </div>\n    <ButtonRow>\n      <CommitButton disabled={!state.img} force data={composeData}>\n        create\n      </CommitButton>\n    </ButtonRow>\n  </div>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/evrything.near/widget/Everything.Create.Image", "fact_widget_deployments_id": "de3662e4eea79c2a0b5f47995ebd2669", "inserted_timestamp": "2000-01-01T00:00:00.000Z", "modified_timestamp": "2000-01-01T00:00:00.000Z", "__row_index": 7}