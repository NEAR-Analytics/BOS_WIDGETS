{"tx_hash": "HTgfpzVfwi2vgwCJJS2b5d5efmi3d736gttU5HQPk5Aj", "action_id_social": "Fzvm5Z2QEpBcoWydZHd5cDtsBASHyDKe7m6vhAcBTbsF-0-widget", "block_id": 120870916, "block_timestamp": "2024-06-10T17:56:28.461Z", "signer_id": "chatter.cheddar.near", "widget_name": "Cheddar.ArticleHistory.Container", "source_code": "// Cheddar.ArticleHistory.Container\n\nconst {\n    pathToCurrentArticle,\n    pathToPrevArticle,\n    currentBlockHeight,\n    currentVersionData,\n    allVersionsData,\n    prevBlockHeight,\n    widgets,\n} = props\n\nState.init({})\n\nfunction getDatastring(time) {\n    const date = new Date(time)\n    return date.toDateString() + ' ' + date.toLocaleTimeString()\n}\n\nreturn (\n    <div className=\"card border-primary\">\n        <div className=\"card-header\">\n            <small className=\"text-muted\">\n                <div className=\"row justify-content-between\">\n                    <div className=\"col-4 d-flex frex-row justify-content-start align-items-center\">\n                        <div className=\"p-2\">\n                            changes in block #{currentBlockHeight}\n                        </div>\n\n                        <OverlayTrigger\n                            placement=\"auto\"\n                            overlay={<Tooltip>count inserted lines</Tooltip>}\n                        >\n                            <span className=\"badge text-bg-success p-2 me-1 align-self-center\">\n                                {state.lineCountInserted}\n                            </span>\n                        </OverlayTrigger>\n\n                        <OverlayTrigger\n                            placement=\"auto\"\n                            overlay={<Tooltip>count deleted lines</Tooltip>}\n                        >\n                            <span className=\"badge text-bg-danger p-2 me-1 align-self-center\">\n                                {state.lineCountDeleted}\n                            </span>\n                        </OverlayTrigger>\n                    </div>\n                    <div className=\"col-4 d-flex justify-content-end align-items-center\">\n                        {getDatastring(\n                            currentVersionData.value.metadata.lastEditTimestamp\n                        )}\n                    </div>\n                </div>\n            </small>\n        </div>\n        <Widget\n            src={widgets.views.editableWidgets.articleHistorySecondContainer}\n            props={{\n                pathToCurrentArticle: pathToCurrentArticle,\n                pathToPrevArticle: pathToPrevArticle,\n                currentBlockHeight: currentBlockHeight,\n                currentVersionData,\n                allVersionsData,\n                prevBlockHeight: prevBlockHeight,\n                findUniqueResult: (\n                    lineCountDeleted,\n                    lineCountInserted,\n                    lineCountCurrentCode,\n                    lineCountPrevCode,\n                    allLineCount\n                ) => {\n                    if (\n                        state.lineCountDeleted === undefined ||\n                        state.lineCountInserted === undefined\n                    )\n                        State.update({ lineCountDeleted, lineCountInserted })\n                },\n            }}\n        />\n    </div>\n)\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/chatter.cheddar.near/widget/Cheddar.ArticleHistory.Container", "fact_widget_deployments_id": "5bb7414d2a666581be9f9eb5960e4712", "inserted_timestamp": "2024-06-10T19:04:29.372Z", "modified_timestamp": "2024-06-10T19:04:29.372Z", "__row_index": 4}