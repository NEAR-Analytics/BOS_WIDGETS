{"tx_hash": "7GtRjJuJ7ZkhuPMEQmepXa6urY3QjPHUCXVdNnFsAiKk", "action_id_social": "CXtQCuxgcGieLzqsTU8R56FjFwY84eVSegwfow53EApj-0-widget", "block_id": 120866406, "block_timestamp": "2024-06-10T16:28:28.441Z", "signer_id": "chatter.cheddar.near", "widget_name": "lib.normalization", "source_code": "function normalize(obj, versions, versionIndex) {\n    const versionsKeys = Object.keys(versions)\n    for (let i = versionIndex; i < versionsKeys.length; i++) {\n        const version = versions[versionsKeys[i]]\n        obj = version.normalizationFunction(obj)\n    }\n    return obj\n}\n\nfunction normalizeObjectWithMetadata(object, versions) {\n    const versionsKeys = Object.keys(versions)\n    const objectVersionKey = object.value.metadata.versionKey\n    const versionIndex = versionsKeys.indexOf(objectVersionKey)\n    normalize(obj, versions, versionIndex)\n}\n\n/**\n *\n * @param {*} oldFormatId examples \"c-acc.near-165198498\" \"uv-acc.near-841981914\"\n * @param {*} idPrefix examples \"article\" \"comments\"\n * @returns\n */\nfunction normalizeId(oldFormatId, idPrefix) {\n    const split = (oldFormatId ?? '').split('-')\n    const createdAt = split[split.length - 1]\n    split.pop()\n    split.shift() // Removes first\n    const accountId = split.join('-')\n    return `${idPrefix}/${accountId}/${createdAt}`\n}\n\nreturn { normalize, normalizeObjectWithMetadata, normalizeId }\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/chatter.cheddar.near/widget/lib.normalization", "fact_widget_deployments_id": "1c05a4767b1816e8d1983a7a37e3f02c", "inserted_timestamp": "2024-06-10T18:04:33.237Z", "modified_timestamp": "2024-06-10T18:04:33.237Z", "__row_index": 4}