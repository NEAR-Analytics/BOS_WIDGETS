{"tx_hash": "7wk5Xe1kQQ8VHWH3mKyQB6LAYgKtGA1Cwwm27FqSLmJg", "action_id_social": "A2TPaShfFzmjh98iKi7nZ55FfdeBkUDEGxZt2jf1ajsJ-0-widget", "block_id": 79491699, "block_timestamp": "2022-11-29T00:15:32.423Z", "signer_id": "simonemelanie.near", "widget_name": "Notifications", "source_code": "const card = {\n  background: \"linear-gradient(to right, #72f786, #33ffff)\",\n  border: \"1px solid black\",\n  borderRadius: \"5px\",\n  textAlign: \"center\",\n  margin: \"5px 0\",\n};\n\nconst container = {};\n\nconst accountId = context.accountId;\n\nif (context.loading) {\n  return \"Loading\";\n}\n\nif (!accountId) {\n  return \"Sign in with NEAR Wallet\";\n}\n\nconst notifications = Social.index(\"notify\", accountId, { order: \"desc\" });\n\nif (notifications == null) {\n  return \"Loading\";\n}\n\nif (notifications.length == 0) {\n  return \"No notifications\";\n}\n\nStorage.set(\"lastBlockHeight\", notifications[0].blockHeight);\n\nconst notificationsArray = [];\n\nnotifications.forEach((notification) => {\n  let renderCard = (\n    <div style={card}>\n      <p>\n        <strong>{notification.accountId}</strong> followed you\n      </p>\n    </div>\n  );\n  if (notification.value.type == \"follow\") {\n    renderCard = (\n      <div style={card}>\n        <p>\n          <strong>{notification.accountId}</strong> followed you\n        </p>\n      </div>\n    );\n    notificationsArray.push(renderCard);\n  }\n});\n\nreturn <div style={container}>{notificationsArray}</div>;\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/simonemelanie.near/widget/Notifications", "fact_widget_deployments_id": "dd030dac14c959f2aaaca23f1ef5ba4e", "inserted_timestamp": "2000-01-01T00:00:00.000Z", "modified_timestamp": "2000-01-01T00:00:00.000Z", "__row_index": 2}