{"tx_hash": "6qiDe7idMtJS3FzgHFyJsPD7tA7HRo9gyXSnM4rEcuZD", "action_id_social": "GWJPxBH1eVUZ4ftZxtg2wZBZMFdDV1KDKxMAfps9jJ6j-0-widget", "block_id": 112967692, "block_timestamp": "2024-02-16T19:04:31.657Z", "signer_id": "wendersonpires.near", "widget_name": "SybilProviderSimulator-Interface", "source_code": "// Nada.Bot Provilder Simulator Interface - v1.0.0\n\n// Fonts\n\nconst monaSansFont = fetch(\n  \"https://fonts.cdnfonts.com/css/mona-sans?styles=144345,144339,144351,144321\"\n).body;\n\nconst oiFont = fetch(\n  \"https://fonts.googleapis.com/css2?family=Oi&display=swap\"\n).body;\n\nif (!monaSansFont) return \"\";\n\nif (!state.theme) {\n  State.update({\n    theme: styled.div`\n                font-family: Mona Sans, Roboto, sans-serif\n                ${monaSansFont}\n                ${oiFont}\n            `,\n  });\n}\n\n// Styles\n\nconst Title = styled.h1`\n  font-size: 1.2em;\n  text-align: center;\n  color: #292929;\n`;\n\nconst Logo = styled.h1`\n  font-size: 2em;\n  text-align: center;\n  color: #2D6FDB;\n  font-family: Oi;\n  margin-bottom: 0;\n`;\n\nconst Container = styled.div`\n    display: flex;\n    justify-content: center;\n`;\n\nconst Content = styled.div`\n    display: flex;\n    margin: 32px;\n    justify-content: center;\n    flex-direction: column;\n    width: 100%;\n    max-width: 800px;\n`;\n\nconst Stack = styled.div`\n    display: flex;\n    flex-direction: column;\n`;\n\nconst TitleSection = styled.h4`\n    margin: 0;\n    font-weight: 400;\n    font-size: 1.125rem;\n    line-height: 1.235;\n    font-weight: 700;\n    margin-top: 32px;\n    text-align: center;\n`;\n\nconst ShadowContainer = styled.div`\n    display: flex;\n    -webkit-flex-direction: column;\n    -ms-flex-direction: column;\n    flex-direction: column;\n    box-shadow: 4px 4px 0px 0px #F0F0F0;\n    border-radius: 8px;\n    border: 3px solid #F0F0F0;\n    padding: 16px;\n    margin-top: 16px;\n`;\n\nconst ColumnStack = styled.div`\n    display: flex;\n    flex-direction: column;\n`;\n\nconst RowStack = styled.div`\n    display: flex;\n    flex-direction: row;\n`;\n\nconst BlueActionButton = styled.button`\n    background-color: #2D6FDB;\n    color: #fff;\n    border-radius: 6px;\n    padding: 8px 24px;\n    box-shadow: 0px 2.7px 0px 0px #292929;\n    border: 2px solid #292929;\n    font-weight: 600;\n    margin-bottom: 3.7px;\n    transition: margin 0.05s, box-shadow 0.05s;\n\n    :hover {\n        box-shadow: none;\n        margin-top: 3.7px;\n        margin-bottom: 0px;\n    }\n`;\n\nconst BeigeActionButton = styled.button`\n    background-color: #FEF6EE;\n    color: #292929;\n    border-radius: 6px;\n    padding: 8px 24px;\n    box-shadow: 0px 2.7px 0px 0px #292929;\n    border: 2px solid #292929;\n    font-weight: 600;\n    margin-bottom: 3.7px;\n    transition: margin 0.05s, box-shadow 0.05s;\n\n    :hover {\n        box-shadow: none;\n        margin-top: 3.7px;\n        margin-bottom: 0px;\n    }\n`;\n\nconst Text = styled.p`\n    text-align: center;\n`;\n\nconst Theme = state.theme;\n\n// Check if user is logged in\nconst accountId = context.accountId;\n\nif (!accountId) {\n  return (\n    <Theme>\n      <Container>\n        <Content>\n          <Stack>\n            <Logo>Nada.Bot</Logo>\n            <Title>Provider Simulator</Title>\n          </Stack>\n          <TitleSection>Connect your wallet first!</TitleSection>\n        </Content>\n      </Container>\n    </Theme>\n  );\n}\n\n// It accepts a custom contract id or the default one\nconst CONTRACT =\n  props.contractId || \"sybilprovidersimulator-1.staging.nadabot.near\";\n// 0.01 NEAR\nconst MIN_NEEDED_YOCTO_NEAR = \"10000000000000000000000\";\n\nconst hasCheck = Near.view(CONTRACT, \"has_check\", {\n  account_id: accountId,\n});\n\nif (hasCheck === null) return \"Loading\";\n\nconst getCheck = () => {\n  Near.call(CONTRACT, \"get_check\", undefined, undefined, MIN_NEEDED_YOCTO_NEAR);\n};\n\nconst removeCheck = () => {\n  Near.call(CONTRACT, \"remove_check\");\n};\n\nreturn (\n  <Theme>\n    <Container>\n      <Content>\n        <Stack>\n          <Logo>Nada.Bot</Logo>\n          <Title>Provider Simulator</Title>\n        </Stack>\n        <TitleSection>\n          {hasCheck ? \"You're currently a human\" : \" You're NOT a human yet\"}\n        </TitleSection>\n        <Text>\n          Once you're ready, go back to the Nada.Bot app. Your status is going\n          to update automatically.\n        </Text>\n        {hasCheck ? (\n          <ShadowContainer>\n            <ColumnStack>\n              <p>This is going to remove you from the human list.</p>\n              <BeigeActionButton onClick={removeCheck}>\n                Set me as NOT a human\n              </BeigeActionButton>\n            </ColumnStack>\n          </ShadowContainer>\n        ) : (\n          <ShadowContainer>\n            <ColumnStack>\n              <p>This is going to set you as a human</p>\n              <BlueActionButton onClick={getCheck}>\n                Set me as a human\n              </BlueActionButton>\n            </ColumnStack>\n          </ShadowContainer>\n        )}\n      </Content>\n    </Container>\n  </Theme>\n);\n", "metadata": {"fork_of": "wendersonpires.near/widget/SybilProviderSimulator-Interface@111970302"}, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/wendersonpires.near/widget/SybilProviderSimulator-Interface", "fact_widget_deployments_id": "f8c69ed54f8f19f3e1af9dc44c293b98", "inserted_timestamp": "2024-03-07T05:24:05.087Z", "modified_timestamp": "2024-03-07T05:24:05.087Z", "__row_index": 0}