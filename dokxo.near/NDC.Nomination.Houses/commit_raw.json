{"tx_hash": "3R7eKN52KSP5GFmpmYS1ie4jv4vyLLnbxYUgAcYgXjVN", "action_id_social": "Ca2qdxMybpn2stQwwTj8bYJfKiPWaCGaT2Fn55JeeKYV-0-widget", "block_id": 97079007, "block_timestamp": "2023-07-22T15:52:17.056Z", "signer_id": "dokxo.near", "widget_name": "NDC.Nomination.Houses", "source_code": "const SubmitBtn = styled.button`\r\ndisplay: flex;\r\nwidth: 107px;\r\npadding: 8px 12px;\r\njustify-content: center;\r\nalign-items: center;\r\ngap: 10px;\r\ncolor:#000;\r\ndisplay: flex;\r\nwidth: 107px;\r\npadding: 8px 12px;\r\njustify-content: center;\r\nalign-items: center;\r\ngap: 10px;\r\nborder-radius: 10px;\r\n border-width: 1px;\r\n  border: solid 1px transparent;\r\n \r\n \r\n  background-image: ${\r\n    state.Submitdisable\r\n      ? \"linear-gradient(#a4a39e, #cbcac8), radial-gradient(circle at top left,#000000, #000000);\"\r\n      : \"linear-gradient(#FFD50D, #FFD50D), radial-gradient(circle at top left,#F0E1CE, #F0E1CE);\"\r\n  }\r\n  background-origin: border-box;\r\n  background-clip: padding-box, border-box;\r\n@media only screen and (max-width: 480px) {\r\n \r\n}\r\n\r\n`;\r\n\r\nconst CustomCheckbox = styled.div`\r\n width:20px;\r\n height:20px;\r\n background:${\r\n   state.ischeckselected\r\n     ? \"linear-gradient(90deg, #9333EA 0%, #4F46E5 100%);\"\r\n     : \"#F8F8F9;\"\r\n }\r\nborder: medium solid ${\r\n  state.ischeckselected\r\n    ? \"linear-gradient(90deg, #9333EA 0%, #4F46E5 100%);\"\r\n    : \"black\"\r\n};\r\nborder-radius:4px;\r\n \r\n`;\r\n\r\nconst cssFont = fetch(\r\n  \"https://fonts.googleapis.com/css2?family=Manrope:wght@200;300;400;500;600;700;800\"\r\n).body;\r\nconst css = fetch(\r\n  \"https://raw.githubusercontent.com/dokxo96/fastSbt/master/fastsbt.css?token=GHSAT0AAAAAACEQ4SVRD7BVOYKVKF5B4FEAZF36DWQ\"\r\n).body;\r\n\r\nif (!cssFont || !css) return \"\";\r\nif (!state.theme) {\r\n  State.update({\r\n    theme: styled.div`\r\n    font-family: Manrope, -apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Oxygen, Ubuntu, Cantarell, Fira Sans, Droid Sans, Helvetica Neue, sans-serif;\r\n    ${cssFont}\r\n    ${css}\r\n`,\r\n  });\r\n}\r\nconst Theme = state.theme;\r\nconst NDCicon =\r\n  \"https://emerald-related-swordtail-341.mypinata.cloud/ipfs/QmP5CETfUsGFqdcsnrfPgUk3NvRh78TGZcX2srfCVFuvqi?_gl=1*faq1pt*_ga*Mzc5OTE2NDYyLjE2ODg1MTY4MTA.*_ga_5RMPXG14TE*MTY4OTg3Njc1OC4xMS4xLjE2ODk4NzY4MjYuNjAuMC4w\";\r\nconst CheckIcon =\r\n  \"https://emerald-related-swordtail-341.mypinata.cloud/ipfs/QmVGE45rLuHiEHh8RPfL11QsQBXVDfmdV3pevZU7CG1ucg?preview=1&_gl=1*1dpaowv*_ga*Mzc5OTE2NDYyLjE2ODg1MTY4MTA.*_ga_5RMPXG14TE*MTY4OTg4MDMyOS4xMi4xLjE2ODk4ODA3MTAuMTkuMC4w\";\r\n// State\r\nState.init({\r\n  theme: \"\",\r\n  Dao_Contract: \"\",\r\n  Issuer_selected: null,\r\n  Issuer_filled: \"\",\r\n  Receiver: \"\",\r\n  ClassIdSelected: \"\",\r\n  IssuedAT: \"\",\r\n  ExpiresAt: \"\",\r\n  Referencelink: \"\",\r\n  Referencehash: \"\",\r\n\r\n  ischeckselected: false,\r\n  Submitdisable: true,\r\n});\r\n\r\nconst validatedInputs = () => {\r\n  console.log(state);\r\n  const isEmpty = (str) => str.trim() === \"\";\r\n  const isFalse = (check) => check === false;\r\n  let isValid = true;\r\n  /*\r\n  if (img.cid === null) {\r\n    State.update({ error_msg: \"Pic a image\" });\r\n    return false;\r\n  }*/\r\n  if (isEmpty(state.Dao_Contract)) {\r\n    State.update({ error_msg: \"Write the DAO contract\", Submitdisable: true });\r\n\r\n    return (isValid = false);\r\n  }\r\n  if (isEmpty(state.Issuer_selected)) {\r\n    State.update({ error_msg: \"Select an issuer\", Submitdisable: true });\r\n\r\n    return (isValid = false);\r\n  }\r\n  // the user will provide a new issuer\r\n  if (state.Issuer_selected === \"showinput\") {\r\n    if (isEmpty(state.Issuer_filled)) {\r\n      State.update({ error_msg: \"provide an issuer\", Submitdisable: true });\r\n\r\n      return (isValid = false);\r\n    }\r\n  }\r\n  if (isEmpty(state.Receiver)) {\r\n    State.update({ error_msg: \"Write the receiver\", Submitdisable: true });\r\n\r\n    return (isValid = false);\r\n  }\r\n  if (state.ischeckselected === true) {\r\n    console.log(\"se activo la meta\");\r\n    if (isEmpty(state.ClassIdSelected)) {\r\n      console.log(\"select toke\");\r\n\r\n      State.update({ error_msg: \"Select a token class\", Submitdisable: true });\r\n\r\n      return (isValid = false);\r\n    }\r\n    if (isEmpty(state.IssuedAT)) {\r\n      State.update({ error_msg: \"pic an issued date\", Submitdisable: true });\r\n\r\n      return (isValid = false);\r\n    }\r\n    if (isEmpty(state.ExpiresAt)) {\r\n      State.update({ error_msg: \"pic an expires date\", Submitdisable: true });\r\n\r\n      return (isValid = false);\r\n    }\r\n    if (!isEmpty(state.Referencelink)) {\r\n      return (isValid = false);\r\n    }\r\n    if (!isEmpty(state.Referencehash)) {\r\n      return (isValid = false);\r\n    }\r\n  }\r\n\r\n  if (isEmpty(state.Memo)) {\r\n    State.update({ error_msg: \"Write the memo\", Submitdisable: true });\r\n\r\n    return (isValid = false);\r\n  }\r\n\r\n  State.update({ Submitdisable: false });\r\n\r\n  return isValid;\r\n};\r\n\r\nconst Submitform = () => {\r\n  if (validatedInputs()) {\r\n    console.log(\"es valido\");\r\n  } else {\r\n    console.log(\"no es valido\");\r\n  }\r\n};\r\nreturn (\r\n  <Theme>\r\n    <div class=\"ModalCard\">\r\n      <div class=\"Header\">\r\n        <img src={NDCicon} />\r\n        <label class=\"Headerlabel\">FAST-SBT</label>\r\n      </div>\r\n\r\n      <div class=\"CardStyled\" name=\"card\">\r\n        <div class=\" BodyForm mx-auto\">\r\n          <div class=\"Rowcont\">\r\n            <div class=\"Colcont\">\r\n              <h1 class=\"H1styled\">DAO</h1>\r\n              <input\r\n                class=\"InputStyled\"\r\n                type=\"text\"\r\n                placeholder=\"Input DAO contract address\"\r\n                value={state.Dao_Contract}\r\n                onChange={(e) => {\r\n                  State.update({ Dao_Contract: e.target.value });\r\n                  validatedInputs();\r\n                }}\r\n              />\r\n            </div>\r\n            <div class=\"Colcont\">\r\n              <h1 class=\"H1styled\">Issuer</h1>\r\n              <select\r\n                class=\"Dropdown\"\r\n                placeholder=\"Input DAO contract address\"\r\n                value={state.Issuer_selected}\r\n                onChange={(e) => {\r\n                  State.update({ Issuer_selected: e.target.value });\r\n                  validatedInputs();\r\n                }}\r\n              >\r\n                <option default value=\"\">\r\n                  Select issuer\r\n                </option>\r\n\r\n                {}\r\n                <option value=\"nothing\">more options from fetch</option>\r\n                <option default value=\"showinput\">\r\n                  Other-- write down.\r\n                </option>\r\n              </select>\r\n            </div>\r\n            {state.Issuer_selected === \"showinput\" ? (\r\n              <div class=\"Colcont\">\r\n                <h1 class=\"H1styled\">Enter issuer</h1>\r\n                <input\r\n                  class=\"InputStyled\"\r\n                  type=\"text\"\r\n                  placeholder=\"Input Issuer\"\r\n                  value={state.Issuer_filled}\r\n                  onChange={(e) => {\r\n                    State.update({ Issuer_filled: e.target.value });\r\n                    validatedInputs();\r\n                  }}\r\n                />\r\n              </div>\r\n            ) : (\r\n              <></>\r\n            )}\r\n            <div class=\"Colcont\">\r\n              <h1 class=\"H1styled\">Receiver</h1>\r\n              <input\r\n                class=\"InputStyled\"\r\n                type=\"text\"\r\n                placeholder=\"dokxo.near\"\r\n                value={state.Receiver}\r\n                onChange={(e) => {\r\n                  State.update({ Receiver: e.target.value });\r\n                  validatedInputs();\r\n                }}\r\n              />\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"d-flex flex-column mt-2\">\r\n            <div class=\"d-flex\">\r\n              <h1 class=\"H1styled\">Metadata</h1>\r\n              <CustomCheckbox\r\n                onClick={() => {\r\n                  State.update({ ischeckselected: !state.ischeckselected });\r\n                  validatedInputs();\r\n                }}\r\n              >\r\n                {state.ischeckselected ? (\r\n                  <img\r\n                    style={{\r\n                      width: \"100%\",\r\n                      height: \"100%\",\r\n                      \"object-fit\": \"cover\",\r\n                      \"vertical-align\": \" initial\",\r\n                    }}\r\n                    src={CheckIcon}\r\n                  />\r\n                ) : (\r\n                  <></>\r\n                )}\r\n              </CustomCheckbox>\r\n            </div>\r\n            {state.ischeckselected ? (\r\n              <div class=\"MetaCard\">\r\n                <div class=\"row  col-sm-12  mx-0  gap-1   \">\r\n                  <div class=\"Metarow\" name=\"Classid\">\r\n                    <div class=\"MetaTitles\">{\"Class id\"}</div>\r\n                    <div>\r\n                      <select\r\n                        class=\"Dropdown\"\r\n                        value={state.ClassIdSelected}\r\n                        onChange={(e) => {\r\n                          State.update({ ClassIdSelected: e.target.value });\r\n                          validatedInputs();\r\n                        }}\r\n                      >\r\n                        <option default value=\"\">\r\n                          Select token class id\r\n                        </option>\r\n                        {}\r\n                        <option value=\"1\">1</option>\r\n                        <option value=\"2\">2</option>\r\n                      </select>\r\n                    </div>\r\n                  </div>\r\n                  <div class=\"Metarow\">\r\n                    {\" \"}\r\n                    <div class=\"AFDates\" name=\"AFdates\">\r\n                      <div class=\"DateContItem\">\r\n                        <div class=\"MetaTitles\">{\"Issued at\"}</div>\r\n                        <input\r\n                          class=\"FormInput\"\r\n                          type=\"date\"\r\n                          value={state.IssuedAT}\r\n                          onChange={(e) => {\r\n                            State.update({ IssuedAT: e.target.value });\r\n                            validatedInputs();\r\n                          }}\r\n                        />\r\n                      </div>\r\n                      <div class=\"DateContItem\">\r\n                        <div class=\"MetaTitles\">{\"Expires at\"}</div>\r\n                        <input\r\n                          class=\"FormInput\"\r\n                          type=\"date\"\r\n                          value={state.ExpiresAt}\r\n                          onChange={(e) => {\r\n                            State.update({ ExpiresAt: e.target.value });\r\n                            validatedInputs();\r\n                          }}\r\n                        />\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div class=\"Metarow\">\r\n                    <div class=\"MetaTitles\">\r\n                      {\"Reference = link to a JSON file (eg, IPFS).\"}\r\n                    </div>\r\n\r\n                    <div>\r\n                      <input\r\n                        class=\"FormInput\"\r\n                        value={state.Reference}\r\n                        placeholder=\"Write your reference (optional)\"\r\n                        onChange={(e) => {\r\n                          State.update({ Reference: e.target.value });\r\n                        }}\r\n                      />\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div class=\"Metarow\">\r\n                    <div class=\"MetaTitles\">\r\n                      {\"Reference hash = Base64-encoded sha256 hash of JSON.\"}\r\n                    </div>\r\n\r\n                    <div style={{ \"font-size\": \"10px\" }}>\r\n                      <input\r\n                        class=\"FormInput\"\r\n                        value={state.Reference}\r\n                        placeholder=\"Write your reference hash (optional)\"\r\n                        onChange={(e) => {\r\n                          State.update({ Reference: e.target.value });\r\n                        }}\r\n                      />\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            ) : (\r\n              <div class=\"Separator\"></div>\r\n            )}\r\n\r\n            <div className=\"d-flex flex-column mt-2\">\r\n              <h1 class=\"H1styled\">Memo</h1>\r\n              <input\r\n                class=\"InputStyled\"\r\n                type=\"text\"\r\n                placeholder=\"Write a memo\"\r\n                value={state.Memo}\r\n                onChange={(e) => {\r\n                  State.update({ Memo: e.target.value.substring(0, 200) });\r\n                  validatedInputs();\r\n                }}\r\n              />\r\n              <div class=\"row justify-enda \">\r\n                <a>{state.Memo.length}</a>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"FooterForm\" name=\"Footerform\">\r\n          <div class=\"Submitcontainer\">\r\n            <SubmitBtn\r\n              disabled={status.Submitdisable ? true : false}\r\n              onClick={() => {\r\n                Submitform();\r\n              }}\r\n            >\r\n              {\" \"}\r\n              Submit{\" \"}\r\n            </SubmitBtn>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </Theme>\r\n);\r\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/dokxo.near/widget/NDC.Nomination.Houses", "fact_widget_deployments_id": "8a39e29b4e04ba039e2e7a0a3b5404bf", "inserted_timestamp": "2000-01-01T00:00:00.000Z", "modified_timestamp": "2000-01-01T00:00:00.000Z", "__row_index": 0}