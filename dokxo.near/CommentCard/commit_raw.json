{"tx_hash": "HmtP48xaesJKgQAK16BHU8ZdrrFfKRe1jpa2MyzRmdLc", "action_id_social": "AjhVLHw6aR9bd2x4GC78myEsKEXgaK9GTiDgZ28VYMxV-0-widget", "block_id": 96183088, "block_timestamp": "2023-07-11T00:12:15.025Z", "signer_id": "dokxo.near", "widget_name": "CommentCard", "source_code": "const ModalCard = styled.div`\n  position: fixed;\n  z-index: 1;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n    background: rgba(0, 0, 0, 0.70);\n \n@media only screen and (max-width: 480px) {\n \n}\n`;\nconst CommentCard = styled.div`\ndisplay: flex;\nwidth: 400px;\npadding: 20px;\nflex-direction: column;\nalign-items: flex-start;\ngap: 16px; \nborder-radius: 10px;\nbackground: #FFF;\nborder: 1px solid transparent;\n margin-left: auto;\n margin-right: auto;\n margin-buttom: 50%;\n  \n   \n@media only screen and (max-width: 480px) {\n width: 90%;\n \n}\n`;\nconst CTitle = styled.div`\ncolor: var(--000000, #000);\nfont-size: 14px;\nfont-family: Open Sans;\nfont-style: normal;\nfont-weight: 500;\nline-height: 120%;\n@media only screen and (max-width: 480px) {\n \n}\n`;\nconst Ccontainer = styled.div`\ndisplay: flex;\nflex-direction: column;\nalign-items: flex-end;\ngap: 20px;\nalign-self: stretch;\n@media only screen and (max-width: 480px) {\n \n}\n`;\nconst CommentBody = styled.div`\ndisplay: flex;\nflex-direction: column;\nalign-items: flex-start;\ngap: 16px;\nalign-self: stretch;\n@media only screen and (max-width: 480px) {\n \n}\n`;\nconst BComment = styled.div`\ndisplay: flex;\nflex-direction: column;\nalign-items: flex-start;\ngap: 8px;\nalign-self: stretch;\n@media only screen and (max-width: 480px) {\n \n}\n`;\nconst BCommentmessage = styled.div`\ndisplay: flex;\nflex-direction: column;\nalign-items: flex-start;\ngap: 8px;\nalign-self: stretch;\n@media only screen and (max-width: 480px) {\n \n}\n`;\nconst BCMHeader = styled.div`\ndisplay: flex;\nwidth: 100%;\nalign-items: center;\ngap: 8px;\n@media only screen and (max-width: 480px) {\n  \n}\n`;\nconst BCMProfile = styled.div`\nwidth: 28px;\nheight: 28px;\nflex-shrink: 0;\nflex-direction:row;\nborder-radius: 29px;\nbackground: #D0D6D9;\ntext-align: center;\n@media only screen and (max-width: 480px) {\n \n}\n`;\nconst BCMProfileimg = styled.img`\nwidth: 28px;\nheight: 28px;\nflex-shrink: 0;\nvertical-align: initial;\n@media only screen and (max-width: 480px) {\n \n}\n`;\nconst BCMProfileUsername = styled.label`\ndisplay: flex;\nwidth: 100%;\nflex-direction: column;\njustify-content: center;\nflex-shrink: 0;\ncolor: #000;\nfont-size: 14px;\nfont-family: Open Sans;\nfont-style: normal;\nfont-weight: 500;\nline-height: 120%;\n@media only screen and (max-width: 480px) {\n \n}\n`;\nconst BCMMessage = styled.div`\ndisplay: flex;\nflex-direction: column;\nalign-self: stretch;\ncolor: #686B6D;\nfont-size: 14px;\nfont-family:  Open Sans;\nfont-style: normal;\nfont-weight: 400;\nline-height: 120%;\n@media only screen and (max-width: 480px) {\n \n}\n`;\nconst BFooter = styled.div`\ndisplay: flex;\nflex-direction: column;\njustify-content: center;\nalign-items: flex-start;\ngap: 4px;\nalign-self: stretch;\n`;\nconst BFootercont = styled.div`\ndisplay: flex;\nalign-items: center;\nalign-self: stretch;\n`;\nconst BFootercontTime = styled.div`\ndisplay: flex;\nalign-items: center;\ngap: 4px;\nflex: 1 0 0;\n`;\nconst BFCTimetext = styled.div`\ndisplay: flex;\nheight: 19.394px;\nflex-direction: column;\njustify-content: center;\nflex: 1 0 0;\ncolor: #000;\nfont-size: 14px;\nfont-family: Open Sans;\nfont-style: normal;\nfont-weight: 300;\nline-height: normal;\n`;\nconst BFCButton = styled.div`\ndisplay: flex;\njustify-content: flex-end;\nalign-items: center;\ngap: 4px;\n`;\nconst BFCButtonitem = styled.button`\ndisplay: flex;\npadding: 2px 12px;\nalign-items: center;\ngap: 6px;\nborder-radius: 4px;\n border-width: 1px;\nborder: solid 1px #9333EA;\n \n \n  background-image: linear-gradient(#fff, #fff), radial-gradient(circle at top left,#F0E1CE, #F0E1CE);\n  background-origin: border-box;\n  background-clip: padding-box, border-box;\n`;\nconst BFCBIText = styled.label`\nfont-size: 12px;\nfont-family: Open Sans;\nfont-style: normal;\nfont-weight: 500;\nline-height: 24px;\ncolor: #9333EA;\ncursor: pointer;\n  \n`;\nconst NewComment = styled.textarea`\nwidth: 100%;\ndisplay: flex;\nheight: 100px;\npadding: 9px 10px 0px 10px;\nalign-items: flex-start;\n\ngap: 10px;\nalign-self: stretch;\n  border-radius: 8px;\n    border: 1px solid #D0D6D9;\n    background: #FFF;\n   \nfont-size: 12px;\nfont-family: Open Sans;\nfont-style: normal;\nfont-weight: 400;\nline-height: 120%;\n`;\nconst CommentFooter = styled.div`\ndisplay: flex;\nflex-direction: row;\nalign-items: flex-end;\njustify-content: end;\ngap: 16px;\nalign-self: stretch;\n@media only screen and (max-width: 480px) {\n \n}\n`;\nconst CFCancel = styled.button`\ndisplay: flex;\nwidth: 107px;\npadding: 8px 12px;\njustify-content: center;\nalign-items: center;\ngap: 10px;\ncolor:#9333EA;\nborder-radius: 10px;\n border-width: 1px;\n  border: solid 1px #9333EA;\n \n \n  background-image: linear-gradient(#fff, #fff), radial-gradient(circle at top left,#F0E1CE, #F0E1CE);\n  background-origin: border-box;\n  background-clip: padding-box, border-box;\n@media only screen and (max-width: 480px) {\n width: 100%;\n}\n`;\n\nconst CFSubmit = styled.button`\ndisplay: flex;\nwidth: 107px;\npadding: 8px 12px;\njustify-content: center;\nalign-items: center;\ngap: 10px;\ncolor:#000;\ndisplay: flex;\nwidth: 107px;\npadding: 8px 12px;\njustify-content: center;\nalign-items: center;\ngap: 10px;\nborder-radius: 10px;\n border-width: 1px;\n  border: solid 1px transparent;\n \n \n  background-image: linear-gradient(#FFD50D, #FFD50D), radial-gradient(circle at top left,#F0E1CE, #F0E1CE);\n  background-origin: border-box;\n  background-clip: padding-box, border-box;\n@media only screen and (max-width: 480px) {\n width: 100%;\n}\n`;\n\nconst CommentCandidate = () => {\n  //Validate the Data outPut\n  if (state.reply === null) {\n    State.update({ e_message: \"Write a comment \" });\n    return;\n  }\n  if (state.reply != \"\") {\n    // call the smart contract Self nominate comment\n\n    Near.call(\n      nominationcontract\n        ? nominationcontract\n        : \"nominations-v1.gwg-testing.near\",\n      \"comment\",\n      {\n        candidate: username,\n        comment: state.reply,\n      },\n      300000000000000\n    ).then(() => {\n      props.onClickCancel();\n    });\n  } else {\n    //The fields are incomplete\n  }\n};\nconst CommenttoReplay = () => {\n  //Validate the Data outPut\n  if (state.reply != null) {\n    // call the smart contract Self nominate comment\n    /*   Near.call(\n      nominationcontract\n        ? nominationcontract\n        : \"nominations-v1.gwg-testing.near\",\n      \"comment\",\n      {\n        candidate: username,\n        comment: state.reply,\n      }\n    ).then(() => {\n      props.onClickCancel();\n    });*/\n  } else {\n    //The fields are incomplete\n  }\n};\n// candidateOrReplay :true-Comment candidate  :false-Comment to reply\nconst {\n  nominationcontract,\n  candidateOrReplay,\n  username,\n  profile_picture,\n  originalComment,\n  originalCommentID,\n  timeago,\n  _share_url,\n} = props;\n// State\nState.init({\n  theme,\n  reply: \"\",\n  share_url: _share_url,\n  cancel: false,\n  e_message: \"\",\n  shareText: \"Copy to the clipboard \",\n});\n\nconst SetText = (txt) => {\n  console.log(\"cop\");\n  State.update({ shareText: txt });\n};\nreturn (\n  <ModalCard>\n    <CommentCard>\n      <CTitle>\n        {candidateOrReplay ? \" Add a Comment\" : \"Replay to comment\"}\n      </CTitle>\n      <Ccontainer>\n        {!candidateOrReplay ? (\n          <>\n            <CommentBody>\n              <BComment>\n                <BCommentmessage>\n                  <BCMHeader>\n                    <BCMProfile>\n                      {profile_picture ? (\n                        <BCMProfileimg\n                          style={{ \"border-radius\": \"20px\" }}\n                          alt=\"pic\"\n                          src={\n                            \"https://nativonft.mypinata.cloud/ipfs/\" +\n                            profile_picture\n                          }\n                        />\n                      ) : (\n                        <BCMProfileimg\n                          alt=\"pic\"\n                          src={\n                            \"https://emerald-related-swordtail-341.mypinata.cloud/ipfs/QmTKv1yHQKRDQcmc5Jkv2jkaTx2Q1jJE9srHEmyYPq53vJ?preview=1\"\n                          }\n                        />\n                      )}\n                    </BCMProfile>\n                    <BCMProfileUsername>\n                      {username ? \"@\" + username : \"@user.near\"}\n                    </BCMProfileUsername>\n                  </BCMHeader>\n                  <BCMMessage>\n                    {\" \"}\n                    {originalComment\n                      ? originalComment\n                      : \"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Integerquam enim, dignissim sed ante at, convallis maximus enim. Duis  condimentum aliquam nisl nec sagittis. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Integer quam enim, dignissim  sed ante at, convallis maximus enim. Duis condimentum aliquam nisl nec sagittis.\"}\n                  </BCMMessage>\n                </BCommentmessage>\n              </BComment>\n              <BFooter>\n                <label>{state.e_message}</label>\n                <BFootercont>\n                  <BFootercontTime>\n                    <img\n                      alt=\"schedule\"\n                      src={\n                        \"https://emerald-related-swordtail-341.mypinata.cloud/ipfs/QmP3uRUgZtqV3HAgcZoYaDA6JSPpFcpqULvgenWUs3ctSP\"\n                      }\n                      style={{ width: \"14px\", height: \"14px\" }}\n                    />\n                    <BFCTimetext>\n                      {\" \"}\n                      {timeago ? timeago : \"2 hours ago\"}\n                    </BFCTimetext>\n                  </BFootercontTime>\n                  <BFCButton>\n                    <OverlayTrigger\n                      key={placement}\n                      placement={placement}\n                      overlay={\n                        <Tooltip id={`tooltip-${placement}`}>\n                          {state.shareText}\n                        </Tooltip>\n                      }\n                    >\n                      <BFCButtonitem\n                        onClick={() => {\n                          SetText(\"Copied to the clipboard\");\n                          clipboard.writeText(state.share_url);\n                        }}\n                      >\n                        <BFCBIText>Share</BFCBIText>\n                        <img\n                          alt=\"share\"\n                          src={\n                            \"https://emerald-related-swordtail-341.mypinata.cloud/ipfs/QmdFMobsnCyj9USY2mHtLzhu58Mz6BFpMx7tKPQGoWmsHY?preview=1\"\n                          }\n                        />\n                      </BFCButtonitem>\n                    </OverlayTrigger>\n                  </BFCButton>\n                </BFootercont>\n              </BFooter>\n            </CommentBody>\n            <hr\n              style={{\n                width: \"100%\",\n                height: \"0px\",\n                border: \"1px solid rgba(130, 134, 136, 0.20)\",\n                flex: \"none\",\n                background: \"rgba(130, 134, 136, 0.20)\",\n                margin: \"0px\",\n                \"flex-grow\": \"0\",\n              }}\n            />\n          </>\n        ) : (\n          <></>\n        )}\n        <div class=\"w-100 col\">\n          <NewComment\n            value={state.reply}\n            placeholder=\"Reply here\"\n            onChange={(e) => {\n              State.update({\n                reply: e.target.value.substring(0, 1000),\n              });\n            }}\n          />\n          <div\n            style={{\n              width: \"100%\",\n              display: \"flex\",\n              \"justify-content\": \"end\",\n            }}\n          >\n            <label\n              style={{\n                \"font-size\": \"8px\",\n                display: \"flex\",\n                \"vertical-align\": \"top\",\n                \"text-align\": \"center\",\n                color: state.reply.length < 1000 ? \"#00000075\" : \"#ff000075\",\n              }}\n            >\n              {state.reply.length} - 1000\n            </label>\n          </div>\n        </div>\n        <CommentFooter>\n          <CFCancel onClick={props.onClickCancel}>Cancel</CFCancel>\n          <CFSubmit\n            onClick={() => {\n              candidateOrReplay ? CommentCandidate() : CommenttoReplay();\n            }}\n          >\n            Submit\n          </CFSubmit>\n        </CommentFooter>\n      </Ccontainer>\n    </CommentCard>\n  </ModalCard>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/dokxo.near/widget/CommentCard", "fact_widget_deployments_id": "37e473fbfeed1914898bfaf231e4c9f5", "inserted_timestamp": "2024-03-07T05:24:05.087Z", "modified_timestamp": "2024-03-07T05:24:05.087Z", "__row_index": 0}