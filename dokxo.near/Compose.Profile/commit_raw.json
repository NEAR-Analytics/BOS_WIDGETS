{"tx_hash": "CkjwN5BAsWNzdZWNNA1igwRD3x18b4E2dAXf8GMnARyS", "action_id_social": "8nWMFm99cZaeepUjsAkVWWjgxj66y24JjjPQSP2nBBNA-0-widget", "block_id": 95322948, "block_timestamp": "2023-06-29T18:51:05.648Z", "signer_id": "dokxo.near", "widget_name": "Compose.Profile", "source_code": "const H2styled = styled.h1`\n \nheight: 14px;\nfont-family: 'Avenir';\nfont-style: normal;\nfont-weight: 500;\nfont-size: 12px;\nline-height: 120%;\ndisplay: flex;\nalign-items: center;\ncolor: #000000;\nflex: none;\norder: 0;\nflex-grow: 0;\n`;\nconst LabelFile = styled.label`\nbox-sizing: border-box;\nalign-content: center,\n \nwidth: 100%;\nheight: 38px;\n\nbackground: #FFFFFF;\nborder: 1px dashed #D0D6D9;\nborder-radius: 8px;\nflex: none;\norder: 1;\nflex-grow: 0;\n@media only screen and (max-width: 480px) {\n  width: 326px;\n}\n\n`;\nconst WrapNoWrap = styled.div`\ndisplay: flex;\nflex-direction: row;  \nwidth:100%;\ngap:.25rem;\nflex-wrap: nowrap;\n@media only screen and (max-width: 480px) {\n flex-wrap: wrap;\n flex-direction: col;\n}\n`;\nconst Formsection = styled.div`\ndisplay: flex;\nflex-direction: column;\nalign-items: flex-start;\npadding: 0px;\n \nwidth: 33%;\nheight: 60px;\nflex: none;\norder: 0;\nflex-grow: 0;\n@media only screen and (max-width: 480px) {\n  \n  width: 326px;\n}\n  `;\nconst InputStyled = styled.input`\nbox-sizing: border-box;\ndisplay: flex;\nflex-direction: row;\nalign-items: flex-start;\npadding: 9px 10px;\n \nwidth: 100%;\nheight: 32px;\nfont-size: 12px;\nbackground: #FFFFFF;\nborder: 1px solid #D0D6D9;\nborder-radius: 8px;\nflex: none;\norder: 1;\n\n@media only screen and (max-width: 480px) {\n  \n  width: 326px;\n}\n`;\nconst FormsectionHouse = styled.div`\ndisplay: flex;\nflex-direction: column;\nalign-items: flex-start;\npadding: 0px;\n \nwidth: 33%;\nheight: 54px;\nflex: none;\ndisplay: flex;\norder: 6;\nflex-grow: 0;\n@media only screen and (max-width: 480px) {\n  \n  width: 326px;\n  display: none;\n}\n\n  `;\nconst FormsectionHouseDropdown = styled.select`\nbox-sizing: border-box;\ndisplay: flex;\nflex-direction: row;\nalign-items: flex-start;\npadding: 8px 10px;\ngap: 10px;\nwidth: 100%;\nheight: 32px;\nbackground: #FFFFFF;\nborder: 1px solid #D0D6D9;\nborder-radius: 8px;\nflex: none;\norder: 1;\n\nfont-size:12px;\nfont-family: 'Avenir';\nfont-style: normal;\nfont-weight: 400;\nfont-size: 12px;\nline-height: 120%;\n \ndisplay: flex;\nalign-items: center;\n\ncolor: #828688;\n@media only screen and (max-width: 480px) {\n  \n  width: 326px;\n}\n  `;\n// State\nState.init({\n  theme,\n  img: { uploading: false, cid: null, name: \"\" },\n  name: \"\",\n  profileAccount: \"\",\n  house_intended: \"\",\n});\n\nconst uploadFileUpdateState = (body) => {\n  console.log(\"sending img\");\n  asyncFetch(\"https://ipfs.near.social/add\", {\n    method: \"POST\",\n    headers: { Accept: \"application/json\" },\n    body,\n  }).then(async (res) => {\n    console.log(\"body\", res.body);\n    const _cid = res.body.cid;\n    const _name = body.name;\n    State.update({ img: { uploading: true, cid: _cid, name: _name } });\n    console.log(\"final \", state.img);\n  });\n\n  console.log(\"final \", state.img);\n};\n\nconst filesOnChange = (files) => {\n  if (files) {\n    uploadFileUpdateState(files[0]);\n  }\n};\n\nreturn (\n  <div>\n    <div\n      class=\" row col-sm-12  mx-0   \"\n      style={{ \"padding-left\": \"16px\", \"padding-right\": \"16px\" }}\n    >\n      <H2styled style={{ padding: \" 0px\" }}> Profile picture </H2styled>\n\n      <LabelFile class=\"    \">\n        <Files\n          name=\"file\"\n          multiple={false}\n          accepts={[\"image/*\"]}\n          minFileSize={1}\n          clickable\n          onChange={filesOnChange}\n          style={{\n            display: \"flex\",\n            \"justify-content\": \"center\",\n            height: \"inherit\",\n          }}\n        >\n          <div class=\"row \" style={{ display: \"flex\", \"flex-wrap\": \"nowrap\" }}>\n            <div\n              style={{\n                width: \"34px\",\n                display: \"flex\",\n                \"align-items\": \"center\",\n                \"justify-content\": \"center\",\n              }}\n            >\n              {\" \"}\n              <img\n                src={`https://emerald-related-swordtail-341.mypinata.cloud/ipfs/QmWyPdBc3nqDe2mAp26a4BAvDYiuk1JEfJiyGejff3ZrjL?_gl=1*mwwy4f*rs_ga*YTcxZDg1OTgtZTYyOC00M2U2LWE4MTctNzUzMDRkMjA3ZWVl*rs_ga_5RMPXG14TE*MTY4Njk2NDYyNi4xNC4xLjE2ODY5NjQ2NDQuNDIuMC4w`}\n              />\n            </div>\n\n            <p\n              style={{\n                \"font-family\": \"Avenir\",\n                \"font-style\": \"normal\",\n                \"font-weight\": \"400\",\n                \"font-size\": \"12px\",\n                \"line-height\": \"120%\",\n                display: \"flex\",\n                \"align-items\": \"center\",\n                color: \"#828688\",\n                flex: \"none\",\n                order: \"1\",\n                \"flex-grow\": \"0\",\n\n                \"margin-bottom\": \"0rem\",\n              }}\n            >\n              {state.img.name === \"\"\n                ? \"Update your profile image\"\n                : state.img.name}\n            </p>\n          </div>\n        </Files>\n      </LabelFile>\n    </div>\n    <WrapNoWrap\n      class=\"row col-sm-12     \"\n      name=\"div1\"\n      style={{\n        \"padding-top\": \"10px\",\n        \"padding-left\": \"16px\",\n        \"padding-right\": \"16px\",\n      }}\n    >\n      <Formsection style={{ order: \"1\" }}>\n        <H2styled>Name </H2styled>\n        <InputStyled\n          name=\"Name\"\n          id=\"Name\"\n          type=\"text\"\n          placeholder=\"Nomination name\"\n          onChange={(e) => {\n            console.log(\"name\");\n            State.update({ name: e.target.value });\n            console.log(state);\n          }}\n        />\n      </Formsection>\n      <Formsection style={{ order: \"2\" }}>\n        <H2styled>Near Account </H2styled>\n        <InputStyled\n          name=\"Profile\"\n          id=\"Profile\"\n          type=\"text\"\n          placeholder=\"@username.near\"\n          onChange={(e) => State.update({ profileAccount: e.target.value })}\n        />\n      </Formsection>\n      <FormsectionHouse style={{ order: \"3\" }}>\n        <H2styled>{\"House\"} </H2styled>\n        <FormsectionHouseDropdown\n          name=\"house-intended\"\n          id=\"house-intended\"\n          onChange={(e) => State.update({ house_intended: e.target.value })}\n        >\n          <option default value=\"0\">\n            Select house\n          </option>\n          <option value=\"Council of Advisors\">Council of Advisors</option>\n          <option value=\"House Of Merit\">House Of Merit</option>\n          <option value=\"Transparency Commission\">\n            Transparency Commission\n          </option>\n        </FormsectionHouseDropdown>\n      </FormsectionHouse>\n    </WrapNoWrap>\n  </div>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/dokxo.near/widget/Compose.Profile", "fact_widget_deployments_id": "52359e52f4f74b46d05e7cf8f3e1b3db", "inserted_timestamp": "2000-01-01T00:00:00.000Z", "modified_timestamp": "2000-01-01T00:00:00.000Z", "__row_index": 3}