{"tx_hash": "4RgmLJUke5ExfaHhL5oprtcq9mjY4hbwtiPat9m51nuP", "action_id_social": "H4bWKAAiw945arV59xE8JvM6aYKDh8E7hzJoEnfv2oDp-0-widget", "block_id": 116873970, "block_timestamp": "2024-04-15T04:30:57.941Z", "signer_id": "trylivepeer.near", "widget_name": "Library", "source_code": "const accountId = context.accountId || \"root.near\";\nconst itemDescription =\n  'The identifier item. It will be used as a unique identifier of the entity that receives the action. It\\'s also used as a key of the action in the index.\\nThe item should be an object with the following keys: `type`, `path` and optional `blockHeight`.\\n- `type`: If the data is stored in the social DB, then the type is likely `\"social\"`, other types can be defined in the standards.\\n- `path`: The path to the item. For a `\"social\"` type, it\\'s absolute path within SocialDB, e.g. `alice.near/post/main`.\\n- `blockHeight`: An optional paremeter to indicate the block when the data was stored. Since SocialDB data can be overwritten to save storage, the exact data should be referenced by the block height (e.g. for a given post). But if the latest data should be used, then `blockHeight` should be ommited.\\n\\nExamples of `item`:\\n- `{type: \"social\", path: \"mob.near/widget/N.Library\"}`\\n- `{type: \"social\", path: \"mob.near/post/main\", blockHeight: 81101335}`\\n';\nconst components = [\n  {\n    title: \"Player\",\n    category: \"Livepeer\",\n    widgetName: \"trylivepeer.near/widget/Player\",\n    description: \"Player component\",\n    demoProps: {},\n    requiredProps: {},\n    optionalProps: {},\n  },\n  {\n    title: \"Broadcast\",\n    category: \"Livepeer\",\n    widgetName: \"trylivepeer.near/widget/Broadcast\",\n    description: \"Broadcast component\",\n    demoProps: { key: \"value\" },\n    requiredProps: {},\n    optionalProps: {},\n  },\n  {\n    title: \"Profile Line\",\n    category: \"Profile\",\n    widgetName: \"mob.near/widget/N.ProfileLine\",\n    description:\n      \"Profile line for a given account ID with a picture, name, premium checkmark, account ID. It's highly customizable and is useful to embed into a text or a single line\",\n    demoProps: { accountId, tooltip: true },\n    requiredProps: {\n      accountId: \"The account ID of the profile\",\n    },\n    optionalProps: {\n      link: \"Whether to make profile clickable with a link to the profile page, default true.\",\n      hideAccountId: \"Don't show account ID, default false\",\n      hideName: \"Don't show profile name, default false\",\n      hideImage: \"Don't show profile picture, default false\",\n      hideCheckmark: \"Don't show premium checkmark, default false\",\n      profile: \"Object that holds profile information to display\",\n      fast: \"Render profile picture faster using external cache, default true if the `props.profile` is not provided\",\n      title:\n        'Optional title when you hover over the profile. Default `\"${name} ${accountId}\"`',\n      tooltip:\n        \"Display overlay tooltip or title when you hover over the profile, default false. Will display a custom title if tooltip is given. If tooltip is true, the full tooltip is displayed. Default false\",\n    },\n  },\n  {\n    title: \"Profile Picture\",\n    category: \"Profile\",\n    widgetName: \"mob.near/widget/ProfileImage\",\n    description:\n      \"Profile picture for a given account ID. It's highly customizable with style and classes.\",\n    demoProps: { accountId, fast: true },\n    requiredProps: {\n      accountId: \"The account ID of the profile\",\n    },\n    optionalProps: {\n      className:\n        'HTML class name for the image wrapper, default `\"profile-image d-inline-block\"`',\n      style:\n        'React DOM styles for the image wrapper, default `{ width: \"3em\", height: \"3em\" }`',\n      imageStyle:\n        'React DOM styles for the image, default `{ objectFit: \"cover\" }`',\n      imageClassName:\n        'HTML class name for the image, default `\"rounded-circle w-100 h-100\"`',\n      thumbnail:\n        'Thumbnail type, can be `\"large\"`, `\"thumbnail\"` or `null`, default is `\"thumbnail\"`',\n      profile: \"Object that holds profile information to display\",\n      fast: \"Render profile picture faster using external cache, default true if the `props.profile` is not provided\",\n      title:\n        'Optional title when you hover over the profile. Default `\"${name} ${accountId}\"`',\n      tooltip:\n        \"Display overlay tooltip or title when you hover over the profile, default false. Will display a custom title if tooltip is given. If tooltip is true, the full tooltip is displayed. Default false\",\n    },\n  },\n  {\n    title: \"Like Button\",\n    category: \"Button\",\n    widgetName: \"mob.near/widget/N.LikeButton\",\n    description:\n      \"A like button for a given item. It automatically keeps track of the number of unique likes and let a signed-in user to like the given item. See definition of the item in props\",\n    demoProps: {\n      item: {\n        type: \"social\",\n        path: \"mob.near/widget/N.Library\",\n      },\n    },\n    requiredProps: {\n      item: itemDescription,\n    },\n    optionalProps: {\n      notifyAccountId:\n        \"Which account ID should be notified when a user likes the item. The user will receive a notification with the item included. Default `undefined`\",\n    },\n  },\n  {\n    title: \"Repost Button\",\n    category: \"Button\",\n    widgetName: \"mob.near/widget/N.RepostButton\",\n    description:\n      \"A repost button for a given item (usually a post). It automatically keeps track of the number of reposts and let a signed-in user to repost the given item. See definition of the item in props\",\n    demoProps: {\n      item: {\n        type: \"social\",\n        path: \"mob.near/post/main\",\n        blockHeight: 81101335,\n      },\n    },\n    requiredProps: {\n      item: itemDescription,\n    },\n    optionalProps: {\n      notifyAccountId:\n        \"Which account ID should be notified when a user likes the item. The user will receive a notification with the item included. Default `undefined`\",\n    },\n  },\n];\nconst renderProps = (props, optional) => {\n  return Object.entries(props || {}).map(([key, desc]) => {\n    return (\n      <tr key={key}>\n        <td>\n          <span className={`code prop-key${optional ? \" optional\" : \"\"}`}>\n            {key}\n          </span>\n        </td>\n        <td className=\"prop-desc\">\n          <Markdown text={desc} />\n        </td>\n      </tr>\n    );\n  });\n};\nconst renderComponent = (c, i) => {\n  const widgetSrc = c.widgetName;\n  const embedCode = `<Widget\\n  src=\"${widgetSrc}\"\\n  props={{${JSON.stringify(\n    c.demoProps,\n    undefined,\n    2\n  )\n    .slice(1, -1)\n    .split(\"\\n\")\n    .map((s) => `  ${s}`)\n    .join(\"\\n\")}}}\\n/>\\n`;\n  const id = c.title.toLowerCase().replaceAll(\" \", \"-\");\n  return (\n    <div className=\"component\" key={i}>\n      <div className=\"anchor\" id={id} />\n      <a href={`#${id}`}>\n        <h3>{c.title}</h3>\n      </a>\n      <p>{c.description}</p>\n      <label>Preview</label>\n      <div className=\"preview mb-3\" style={c.previewStyle}>\n        <Widget src={widgetSrc} props={c.demoProps} />\n      </div>\n      <label>Component</label>\n      <div className=\"d-flex flex-row flex-wrap justify-content-between mb-3\">\n        <div className=\"path font-monospace\">\n          <Widget\n            src=\"mob.near/widget/CopyButton\"\n            props={{\n              text: widgetSrc,\n              label: widgetSrc,\n            }}\n          />\n        </div>\n        <div className=\"source\">\n          <a\n            href={`/mob.near/widget/WidgetSource?src=${widgetSrc}`}\n            target=\"_blank\"\n            className=\"btn btn-outline-primary border-0\"\n          >\n            Source\n          </a>\n        </div>\n      </div>\n      <label>Props</label>\n      <table className=\"props table table-bordered mb-3\">\n        <thead>\n          <tr>\n            <th>Key</th>\n            <th>Description</th>\n          </tr>\n        </thead>\n        <tbody>\n          {renderProps(c.requiredProps)}\n          {renderProps(c.optionalProps, true)}\n        </tbody>\n      </table>\n      <label>Example</label>\n      <div className=\"embed-code\">\n        <Markdown text={`\\`\\`\\`jsx\\n${embedCode}\\n\\`\\`\\``} />\n        <div className=\"embed-copy\">\n          <Widget\n            src=\"mob.near/widget/CopyButton\"\n            props={{ text: embedCode, className: \"btn btn-outline-light\" }}\n          />\n        </div>\n      </div>\n    </div>\n  );\n};\nconst renderMenuItem = (c, i) => {\n  const prev = i ? components[i - 1] : null;\n  const res = [];\n  if (!prev || prev.category !== c.category) {\n    res.push(\n      <h5 className=\"category\" key={c.category}>\n        {c.category}\n      </h5>\n    );\n  }\n  const id = c.title.toLowerCase().replaceAll(\" \", \"-\");\n  res.push(\n    <div className=\"menu-item\" key={i}>\n      <a href={`#${id}`}>{c.title}</a>\n    </div>\n  );\n  return res;\n};\nconst Wrapper = styled.div`\n  @media (min-width: 992px) {\n    .b-s {\n      border-left: 1px solid #eee;\n    }\n    .b-e {\n      border-right: 1px solid #eee;\n    }\n  }\n  .category:not(:first-child) {\n    margin-top: 1em;\n  }\n  .component {\n    padding: 0.5em 12px;\n    padding-bottom: 0;\n    margin-bottom: 3em;\n    margin: 0 -12px 3em;\n    position: relative;\n    &:hover {\n      background: rgba(0, 0, 0, 0.03);\n    }\n    .anchor {\n      position: absolute;\n      top: -70px;\n    }\n    table {\n      background: white;\n    }\n    label {\n      font-size: 20px;\n    }\n    .code {\n      display: inline-flex;\n      line-height: normal;\n      border-radius: 0.3em;\n      padding: 0 4px;\n      border: 1px solid #ddd;\n      background: rgba(0, 0, 0, 0.03);\n      font-family: var(--bs-font-monospace);\n    }\n    .path {\n    }\n    .preview {\n      background-color: white;\n      padding: 12px;\n      border: 1px solid #eee;\n      border-radius: 12px;\n      pre {\n        margin-bottom: 0;\n      }\n    }\n    .props {\n      .prop-key {\n        font-weight: 600;\n        &.optional {\n          font-weight: normal;\n        }\n      }\n      .prop-desc {\n        p {\n          margin-bottom: 0;\n        }\n      }\n    }\n    .embed-code {\n      position: relative;\n      .embed-copy {\n        position: absolute;\n        top: 18px;\n        right: 10px;\n      }\n    }\n  }\n`;\nreturn (\n  <Wrapper>\n    <h3>trylivepeer component library</h3>\n    <div className=\"mb-3\">\n      This library contains common components to build your own app with\n      Livepeer\n    </div>\n    <div className=\"row\">\n      <div className=\"col-lg-3 b-e b-s\">{components.map(renderMenuItem)}</div>\n      <div className=\"col-lg-9 b-e\">{components.map(renderComponent)}</div>\n    </div>\n  </Wrapper>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/trylivepeer.near/widget/Library", "fact_widget_deployments_id": "34603bf39658c3688610672384b05e42", "inserted_timestamp": "2024-04-15T05:22:37.742Z", "modified_timestamp": "2024-04-15T05:22:37.742Z", "__row_index": 2}