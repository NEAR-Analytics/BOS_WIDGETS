{"tx_hash": "89mJGDnrjnQHq4bVrG7Dt4AfLJ1RgZhXzhFw3eKwwj8u", "action_id_social": "4SHnPh9vTAqYuyTQBPACnRHY2MAqL9C1D1qRiVgYy3tj-0-widget", "block_id": 97986251, "block_timestamp": "2023-08-03T14:14:03.749Z", "signer_id": "humans-of-near.near", "widget_name": "Mapbox", "source_code": null, "metadata": null, "branch": {"draft": {"": "const ACCESS_TOKEN =\n  props.accessToken ||\n  \"pk.eyJ1IjoiZWpsYnJhZW0iLCJhIjoiY2xrbmIwaW53MGE0NTNtbGsydWd2MmpyZSJ9.m1ZfEqv2fGet2zblGknT8A\";\nconst styleUrl = props.styleUrl || \"mapbox://styles/mapbox/streets-v12\"; // see https://docs.mapbox.com/api/maps/styles/#mapbox-styles\nconst center = props.center || [-87.6298, 41.8781]; // starting position [lng, lat]\nconst zoom = props.zoom || 9; // starting zoom\nconst markers = props.markers || []; // map markers, array of objects that look like: { lng: -87.641, lat: 41.874 }\n\nconst icon = ``;\n\nconst code = `\n<!DOCTYPE html>\n<html>\n  <head>\n    <meta charset=\"utf-8\">\n    <meta name=\"viewport\" content=\"initial-scale=1,maximum-scale=1,user-scalable=no\">\n    \n    <link href=\"https://api.mapbox.com/mapbox-gl-js/v2.15.0/mapbox-gl.css\" rel=\"stylesheet\">\n    \n    <script src=\"https://api.mapbox.com/mapbox-gl-js/v2.15.0/mapbox-gl.js\"></script>\n    \n    <style>\n      body { margin: 0; padding: 0; }\n      #map { position: absolute; top: 0; bottom: 0; width: 100%; }\n      .marker {\n        background-image: url('mapbox-icon.png');\n        background-size: cover;\n        width: 50px;\n        height: 50px;\n        border-radius: 50%;\n        cursor: pointer;\n      }\n    </style>\n  </head>\n  <body>\n\n    <div id=\"map\"></div>\n\n    <script>\n\n    mapboxgl.accessToken = \"${ACCESS_TOKEN}\";\n\n    const map = new mapboxgl.Map({\n        container: 'map', // container ID\n        style: '${styleUrl}',\n        center: [${center[0]}, ${center[1]}], \n        zoom: ${zoom}\n    });\n\n    // Function to populate markers to the map\n    function populateMarkers() {\n        const markersData = ${JSON.stringify(markers)};\n        const el = document.createElement('div');\n        el.className = 'marker';\n        el.innerHTML = ${icon};\n        \n        markersData.forEach(marker => {\n        new mapboxgl.Marker(el)\n            .setLngLat([marker.lng, marker.lat])\n            .addTo(map);\n        });\n    }\n\n    populateMarkers();\n    \n    </script>\n  </body>\n</html>\n  `;\n\nconst Container = styled.div`\n    height: 100vh;\n`;\n\nreturn (\n  <Container>\n    <iframe className=\"w-100 h-100\" srcDoc={code} />\n  </Container>\n);\n"}}, "widget_modules_used": null, "widget_url": "https://near.social/#/humans-of-near.near/widget/Mapbox", "fact_widget_deployments_id": "50c8609468278265d999005f5cf7dff8", "inserted_timestamp": "2024-03-07T05:24:05.087Z", "modified_timestamp": "2024-03-07T05:24:05.087Z", "__row_index": 65}