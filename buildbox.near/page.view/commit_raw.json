{"tx_hash": "5uNRsekZhrMu5LUVws7uoaSW6TdLzvm3p8QNpZt9EtAj", "action_id_social": "EubF3wrtV8C6XNYw4RU9YLe5C4VFQE3CB9CAqG2CrHzc-0-widget", "block_id": 113776202, "block_timestamp": "2024-02-28T21:42:33.504Z", "signer_id": "buildbox.near", "widget_name": "page.view", "source_code": "const { id, backgroundImage } = props;\nconst { User, Button } = VM.require(\"buildhub.near/widget/components\") || {\n  User: () => <></>,\n  Button: () => <></>,\n};\n\nconst { extractValidNearAddresses } = VM.require(\n  \"buildbox.near/widget/utils.projects-sdk\"\n) || {\n  extractValidNearAddresses: () => {},\n};\n\nconst data = Social.get(id + \"/**\", \"final\");\n\nif (!id || !data) {\n  return <p>Project not found: {id}</p>;\n}\n\nconst Root = styled.div`\n  width: 100%;\n  background-color: #0b0c14;\n  margin: 0 auto;\n  .main {\n    padding: 24px 44px;\n    position: relative;\n    display: flex;\n    flex-direction: row;\n    color: #fff;\n    gap: 1rem;\n    margin: 0 auto;\n    .sidebar {\n      width: 240px;\n      margin-top: 24px;\n      display: flex;\n      flex-direction: column;\n      gap: 1rem;\n      padding-right: 14px;\n      & > div {\n        display: flex;\n        flex-direction: column;\n        gap: 1rem;\n        justify-content: flex-start;\n        align-items: flex-start;\n      }\n      hr {\n        border: 1px solid #2f3242;\n      }\n    }\n    .rhs {\n      flex: 1;\n      display: flex;\n      flex-direction: column;\n      gap: 1.5rem;\n      h3 {\n        font-size: 24px;\n        font-weight: 700;\n        margin-bottom: 1rem;\n        opacity: 0.8;\n      }\n    }\n    @media screen and (max-width: 768px) {\n      flex-direction: column-reverse;\n      padding: 24px;\n      .sidebar {\n        width: 100%;\n        & > div {\n          justify-content: center;\n          align-items: center;\n        }\n        div a div > div:nth-child(2) {\n          display: none !important;\n        }\n      }\n      .rhs {\n        width: 100%;\n        .sec {\n          text-align: center;\n        }\n      }\n    }\n  }\n  .embedDemo {\n    display: flex;\n    flex-direction: column;\n    gap: 1rem;\n    // height: 460px;\n    height: auto;\n    overflow-y: scroll;\n    iframe {\n      width: 100%;\n      height: 100%;\n      border: none;\n    }\n  }\n  .tracks {\n    display: flex;\n    flex-direction: column;\n  }\n`;\n\nconst Banner = styled.div`\n  width: 100%;\n  height: 200px;\n  background-image: ${({ image }) => `url(${image})`};\n  background-size: cover;\n  background-position: center;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  text-align: center;\n`;\n\nconst Title = styled.h1`\n  color: #fff;\n  font-size: 45px;\n  max-width: 900px;\n  font-style: normal;\n  text-align: left;\n  font-weight: 700;\n\n  @media screen and (max-width: 768px) {\n    font-size: 26px;\n    text-align: center;\n  }\n`;\n\nconst Desc = styled.p`\n  color: rgb(255, 255, 255);\n  font-size: 16px;\n  max-width: 800px;\n  text-align: left;\n  line-height: 32px;\n\n  @media screen and (max-width: 768px) {\n    font-size: 16px;\n    line-height: 24px;\n    text-align: center;\n  }\n`;\n\nconst Label = styled.span`\n  color: #fff;\n  font-size: 20px;\n  font-style: normal;\n  text-align: left;\n  font-weight: 700;\n  text-align: center;\n\n  @media screen and (max-width: 768px) {\n    font-size: 16px;\n    text-align: center;\n  }\n`;\n\nconst Tracks = styled.div`\n  display: flex;\n  gap: 0.5rem;\n  align-items: center;\n  font-size: 18px;\n  font-weight: 500;\n  margin-bottom: 1rem;\n  flex-wrap: wrap;\n  justify-content: flex-start;\n  @media screen and (max-width: 768px) {\n    justify-content: center;\n  }\n  .track-pill {\n    padding: 0.3em 0.5em;\n    border-radius: 8px;\n    box-shadow: 0 0 10px rgba(0, 0, 0, 0.2);\n    ${\"\" /* flex: 1; */}\n    white-space: nowrap;\n  }\n`;\n\nconst {\n  title,\n  description,\n  tracks,\n  teammates,\n  projectLink,\n  demoLink,\n  contactInfo,\n  referrer,\n  learning,\n} = JSON.parse(data[\"\"]);\n\n// /* HELPER FUNCTION */\n// function isNearAddress(address) {\n//   if (typeof address !== \"string\") {\n//     return false;\n//   }\n\n//   // Allow both \".near\" and \".testnet\" endings\n//   if (!address.endsWith(\".near\") && !address.endsWith(\".testnet\")) {\n//     return false;\n//   }\n\n//   const parts = address.split(\".\");\n//   if (parts.length !== 2) {\n//     return false;\n//   }\n\n//   if (parts[0].length < 2 || parts[0].length > 32) {\n//     return false;\n//   }\n\n//   if (!/^[a-z0-9_-]+$/i.test(parts[0])) {\n//     return false;\n//   }\n\n//   return true;\n// }\n\nfunction Team({ members }) {\n  if (members) {\n    // removing extra characters and splitting the string into an array\n    // const arr = members.replace(/[\\[\\]\\(\\)@]/g, \"\").split(/[\\s,]+/);\n\n    // // filtering out teammates that are not near addresses\n    // const hexRegex = /^[0-9A-F\\-_]+$/i;\n    // const valid = arr.filter((teammate) => {\n    //   if (hexRegex.test(teammate)) {\n    //     return teammate;\n    //   }\n    //   return isNearAddress(teammate);\n    // });\n\n    const valid = extractValidNearAddresses(members);\n\n    const extractNearAddress = (id) => {\n      const parts = id.split(\"/\");\n      if (parts.length > 0) {\n        return parts[0];\n      }\n      return \"\";\n    };\n\n    valid.unshift(extractNearAddress(id));\n\n    // making sure the array is unique\n    const unique = [...new Set(valid)];\n\n    return unique.map((teammate) => (\n      <User accountId={teammate} variant={\"mobile\"} />\n    ));\n  } else {\n    return <></>;\n  }\n}\n\nconst defaultImage =\n  \"https://ipfs.near.social/ipfs/bafkreihi3qh72njb3ejg7t2mbxuho2vk447kzkvpjtmulsb2njd6m2cfgi\";\n\nconst image = metadata.backgroundImage || defaultImage;\n\nreturn (\n  <Root>\n    <Banner image={image}>\n      <Title>{title}</Title>\n    </Banner>\n    <div className=\"main\">\n      <div className=\"sidebar\">\n        <div className=\"d-flex flex-column gap-3 flex-wrap\">\n          <Label>Team</Label>{\" \"}\n          <div className=\"d-flex gap-2 flex-wrap\">\n            <Team members={teammates} />\n          </div>\n        </div>\n        <hr />\n        <div className=\"tracks gap-3\">\n          <Label>Tracks</Label>\n          <Tracks>\n            {tracks &&\n              tracks.map((track) => (\n                <Button variant=\"outline\" disable={true} className=\"track-pill\">\n                  {track}\n                </Button>\n              ))}\n          </Tracks>\n        </div>\n        <hr />\n        <div className=\"d-flex flex-column gap-3\">\n          <Label>Links</Label>\n          <div className=\"d-flex gap-2\">\n            <Button href={projectLink} target=\"_blank\" noLink={true}>\n              Project GitHub\n            </Button>\n            <Button href={demoLink} target=\"_blank\" noLink={true}>\n              Demo\n            </Button>\n          </div>\n        </div>\n        <hr />\n        <div className=\"d-flex flex-column gap-3\">\n          <Label>Referrer</Label> <p>{referrer}</p>\n        </div>\n      </div>\n      <div className=\"rhs\">\n        <div className=\"sec\">\n          <h3>Project Description</h3>\n          <Desc>{description}</Desc>\n        </div>\n        <div className=\"sec\">\n          <h3>Project Demo</h3>\n          <div className=\"embedDemo\">\n            <Button href={demoLink} target=\"_blank\" noLink={true}>\n              Demo\n            </Button>\n          </div>\n        </div>\n        <div className=\"sec\">\n          <h3>What I learned:</h3> <p>{learning}</p>\n        </div>\n      </div>\n    </div>\n  </Root>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/buildbox.near/widget/page.view", "fact_widget_deployments_id": "732156450231988456a705ddf315b360", "inserted_timestamp": "2024-03-07T05:24:05.087Z", "modified_timestamp": "2024-03-07T05:24:05.087Z", "__row_index": 9}