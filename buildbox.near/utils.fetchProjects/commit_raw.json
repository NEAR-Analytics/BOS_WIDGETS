{"tx_hash": "5uNRsekZhrMu5LUVws7uoaSW6TdLzvm3p8QNpZt9EtAj", "action_id_social": "EubF3wrtV8C6XNYw4RU9YLe5C4VFQE3CB9CAqG2CrHzc-0-widget", "block_id": 113776202, "block_timestamp": "2024-02-28T21:42:33.504Z", "signer_id": "buildbox.near", "widget_name": "utils.fetchProjects", "source_code": "const flattenObject = (obj, parentKey) => {\n  parentKey = parentKey ?? \"\";\n  let paths = [];\n\n  Object.keys(obj).forEach((key) => {\n    const currentPath = parentKey ? `${parentKey}/${key}` : key;\n\n    if (typeof obj[key] === \"object\") {\n      paths = paths.concat(flattenObject(obj[key], currentPath));\n    } else {\n      paths.push(currentPath);\n    }\n  });\n\n  console.log(\"from the helper function!\");\n\n  return paths;\n};\n\nconst fetchProjects = (app, type) => {\n  const keys = Social.keys(`*/${app}/${type}/*`, \"final\", {\n    return_type: \"BlockHeight\",\n  });\n\n  if (!keys) {\n    return \"Loading...\";\n  }\n\n  let flattenedKeys = flattenObject(keys);\n  flattenedKeys = flattenedKeys.filter(\n    (s) => !s.includes(\"/project/hackathon\")\n  );\n\n  const projects = Social.get(flattenedKeys, \"final\");\n  return projects;\n};\n\nreturn { fetchProjects };\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/buildbox.near/widget/utils.fetchProjects", "fact_widget_deployments_id": "b531bb54ab1e27aa9f54c09a146d7052", "inserted_timestamp": "2024-03-07T05:24:05.087Z", "modified_timestamp": "2024-03-07T05:24:05.087Z", "__row_index": 0}