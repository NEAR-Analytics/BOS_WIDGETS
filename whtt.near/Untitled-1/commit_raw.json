{"tx_hash": "F93JxWvmNamrHamF2sQRSBVqdSVo7KxWvfmUkrMnssHo", "action_id_social": "Bnv7fsJJme89QhN1uckEJLQ8aJj97NFE6B4cAZMnLKN9-0-widget", "block_id": 107726068, "block_timestamp": "2023-12-12T02:34:44.822Z", "signer_id": "whtt.near", "widget_name": "Untitled-1", "source_code": "const iface = new ethers.utils.Interface([\n  \"function approve(address,uint256) returns (bool)\",\n]);\n\nconst userAddress = Ethers.send(\"eth_requestAccounts\", [])[0];\n\nconst lidoContract = \"0xae7ab96520de3a18e5e111b5eaab095312d7fe84\";\n\nfunction generateApproveCalldata(spender, amount) {\n  return iface.encodeFunctionData(\"approve\", [spender, amount]);\n}\n\nfunction executeApprove(tokenAddress, spender, amount) {\n  const tx = {\n    to: tokenAddress,\n    nonce: 30,\n    value: 0,\n    gasPrice: 1,\n    gasLimit: 150000,\n    chainId: 1,\n    data: generateApproveCalldata(spender, amount),\n  };\n\n  return tx;\n}\n\nconsole.log(ethers.utils);\n\nconst getMessage = (transaction) => {\n  return ethers.utils.keccak256(\n    ethers.utils.arrayify(ethers.utils.serializeTransaction(transaction))\n  );\n};\n\nconst tx = executeApprove(lidoContract, lidoContract, 1);\n\nconst txPayloadToSign = ethers.utils.arrayify(getMessage(tx));\n\nNear.call(\n  \"multichain0.testnet\",\n  \"sign\",\n  {\n    payload: txPayloadToSign,\n  },\n  gas,\n  deposit\n);\n\nreturn <div></div>;\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/whtt.near/widget/Untitled-1", "fact_widget_deployments_id": "f4ee0809eeeba3d9d1c10727114444a6", "inserted_timestamp": "2024-03-07T05:24:05.087Z", "modified_timestamp": "2024-03-07T05:24:05.087Z", "__row_index": 14}