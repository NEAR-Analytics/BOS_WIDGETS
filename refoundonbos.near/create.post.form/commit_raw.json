{"tx_hash": "5NPiUTxfzWFjo9kCcCMtTEXoTvqLXJDmGxbLuQL3QDeu", "action_id_social": "B8u4oeTowHBjjdEShQuioXURMVfhatVyxdJ6VskVYuB3-0-widget", "block_id": 105369254, "block_timestamp": "2023-11-10T11:29:26.731Z", "signer_id": "refoundonbos.near", "widget_name": "create.post.form", "source_code": "const UUID = {\n  generate: (template) => {\n    if (typeof template !== \"string\") {\n      template = \"xxxxxxxx-xxxx-xxxx-yxxx-xxxxxxxxxxxx\";\n    }\n    return template.replace(/[xy]/g, (c) => {\n      var r = (Math.random() * 16) | 0;\n      var v = c === \"x\" ? r : (r & 0x3) | 0x8;\n      return v.toString(16);\n    });\n  },\n};\n\n\nconst { handleCreateProject, defaultProject, buttonChildren, buttonProps } =\n  props;\n\nState.init({\n  error: undefined,\n  project: defaultProject ?? {\n    id: UUID.generate(),\n    logo: undefined,\n    title: undefined,\n    description: undefined,\n    tags: [],\n  },\n});\n\nconst update = (k, v) => State.update({ [k]: v });\nconst updateP = (k, v) => update(\"project\", { ...state.project, [k]: v });\n\nconst beforeHandleCreateProject = () => {\n  update(\"error\", undefined);\n  if (!state.project.title) {\n    update(\"error\", \"Title is required\");\n  }\n  if (!state.error) {\n    handleCreateProject(state.project);\n  }\n};\n\nconst IT = \"nearui.near/widget/Input.ExperimentalText\";\nconst SI = \"nearui.near/widget/Social.ImageUpload\";\nconst IB = \"nearui.near/widget/Input.Button\";\nreturn (\n  <div className=\"p-4 bg-white rounded-4 row\">\n    <div className=\"d-flex flex-column gap-3 col\">\n      <h3>{buttonChildren}</h3>\n      <h6 className=\"mb-0\" style={{textAlign:\"initial\"}}>Images(Up To 5)</h6>\n      {state.project.image && (\n        <img src={state.project.image} alt=\"\" height={100} width={100} />\n      )}\n      <Widget\n        src={SI}\n        props={{\n          onChange: (v) => updateP(\"image\", v),\n          value: state.project.image,\n        }}\n      />\n\n      <Widget\n        src={IT}\n        props={{\n          label: \"Title\",\n          placeholder: \"My project\",\n          inputProps: {\n            defaultValue: state.project.title,\n          },\n          onChange: (v) => updateP(\"title\", v),\n        }}\n      />\n\n      <Widget\n        src={IT}\n        props={{\n          label: \"Location\",\n          placeholder: \"\",\n          inputProps: {\n            defaultValue: state.project.location,\n          },\n          onChange: (v) => updateP(\"location\", v),\n        }}\n      />\n\n      <Widget\n        src={IT}\n        props={{\n          label: \"Tags\",\n          placeholder: \"Separate with commas\",\n          inputProps: {\n            defaultValue: state.project.tags.join(\", \"),\n          },\n          onChange: (v) =>\n            updateP(\n              \"tags\",\n              (v || \"\")\n                .split(\",\")\n                .filter((v) => v !== \"\")\n                .map((v) => v.trim()),\n            ),\n        }}\n      />\n\n      <Widget\n        src={IT}\n        props={{\n          label: \"Pricing\",\n          placeholder: \"\",\n          inputProps: {\n            defaultValue: state.project.pricing,\n          },\n          onChange: (v) => updateP(\"pricing\", v),\n        }}\n      />\n    </div>\n    <div className=\"d-flex flex-column gap-2 col\" >\n    \n      {/* <button>Take a Photo</button> */}\n      <div style={{height:\"110px\"}}></div>\n      <Widget\n        src={IT}\n        props={{\n          label: \"Description\",\n          placeholder: \"Describe your project\",\n          textarea: true,\n          inputProps: {\n            defaultValue: state.project.description,\n          },\n          onChange: (v) => updateP(\"description\", v),\n        }}\n      />\n\n      <Widget\n        src={IT}\n        props={{\n          label: \"Date Taken\",\n          placeholder: \"\",\n          inputProps: {\n            defaultValue: state.project.dateTaken,\n          },\n          onChange: (v) => updateP(\"dateTaken\", v),\n        }}\n      />\n      <div className=\"row\">\n        <div className=\"col\">\n          {/* <Widget\n            src={IB}\n            props={{\n              children: buttonChildren ?? \"Cancel\",\n              variant: \"alert\",\n              onClick: () => beforeHandleCreateProject(),\n            }}\n          />\n           */}\n <Link href=\"https://near.org/refound_create_success.near/widget/home\"><button style={{backgroundColor:\"grey\"}}>Cancel</button></Link>\n\n        </div>\n        <div className=\"col\">\n          {/* <Widget\n            src={IB}\n            props={{\n              children: buttonChildren ?? \"Create Project\",\n              variant: \"success\",\n              onClick: () => beforeHandleCreateProject(),\n            }}\n          /> */}\n          <Link href=\"https://near.org/refound_create_success.near/widget/home\"><button>Create Project</button></Link>\n        </div>\n      </div>\n    </div>\n  </div>\n);", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/refoundonbos.near/widget/create.post.form", "fact_widget_deployments_id": "c7052c96bd9a917e47d5415a25192e3a", "inserted_timestamp": "2024-03-07T05:24:05.087Z", "modified_timestamp": "2024-03-07T05:24:05.087Z", "__row_index": 0}