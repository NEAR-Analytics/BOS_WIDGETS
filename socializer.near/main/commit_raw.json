{"tx_hash": "4bzmek1DpSKuTHqPEye6kre9GfW7g8GgXTU7M7VgirNT", "action_id_social": "5g24Poc5U7FXR7qBhBpCfLfw35v4tQ3CxcB7eE7hSKPg-0-widget", "block_id": 116736492, "block_timestamp": "2024-04-13T05:26:02.511Z", "signer_id": "socializer.near", "widget_name": "main", "source_code": "const accountId = context.accountId;\nconst Owner = \"socializer.near\";\nconst API_URL = \"https://e2e.nearverselabs.com\";\n// const API_URL = \"http://localhost:3000\";\nconst currentPage = Storage.get(\"page\") || \"dashboard\";\n\nState.init({\n  sate: false,\n  page: currentPage,\n});\n\nuseEffect(() => {\n  if (!accountId) {\n    State.update({\n      sidebar: [\n        {\n          icon: (\n            <svg\n              width=\"24\"\n              height=\"24\"\n              viewBox=\"0 0 24 24\"\n              fill=\"none\"\n              xmlns=\"http://www.w3.org/2000/svg\"\n            >\n              <path\n                d=\"M17 10H19C21 10 22 9 22 7V5C22 3 21 2 19 2H17C15 2 14 3 14 5V7C14 9 15 10 17 10Z\"\n                stroke=\"#808080\"\n                stroke-width=\"1.5\"\n                stroke-miterlimit=\"10\"\n                stroke-linecap=\"round\"\n                stroke-linejoin=\"round\"\n              />\n              <path\n                d=\"M5 22H7C9 22 10 21 10 19V17C10 15 9 14 7 14H5C3 14 2 15 2 17V19C2 21 3 22 5 22Z\"\n                stroke=\"#808080\"\n                stroke-width=\"1.5\"\n                stroke-miterlimit=\"10\"\n                stroke-linecap=\"round\"\n                stroke-linejoin=\"round\"\n              />\n              <path\n                d=\"M6 10C8.20914 10 10 8.20914 10 6C10 3.79086 8.20914 2 6 2C3.79086 2 2 3.79086 2 6C2 8.20914 3.79086 10 6 10Z\"\n                stroke=\"#808080\"\n                stroke-width=\"1.5\"\n                stroke-miterlimit=\"10\"\n                stroke-linecap=\"round\"\n                stroke-linejoin=\"round\"\n              />\n              <path\n                d=\"M18 22C20.2091 22 22 20.2091 22 18C22 15.7909 20.2091 14 18 14C15.7909 14 14 15.7909 14 18C14 20.2091 15.7909 22 18 22Z\"\n                stroke=\"#808080\"\n                stroke-width=\"1.5\"\n                stroke-miterlimit=\"10\"\n                stroke-linecap=\"round\"\n                stroke-linejoin=\"round\"\n              />\n            </svg>\n          ),\n          label: \"Dashboard\",\n          value: \"dashboard\",\n        },\n      ],\n    });\n  } else {\n    State.update({\n      sidebar: [\n        {\n          icon: (\n            <svg\n              width=\"24\"\n              height=\"24\"\n              viewBox=\"0 0 24 24\"\n              fill=\"none\"\n              xmlns=\"http://www.w3.org/2000/svg\"\n            >\n              <path\n                d=\"M17 10H19C21 10 22 9 22 7V5C22 3 21 2 19 2H17C15 2 14 3 14 5V7C14 9 15 10 17 10Z\"\n                stroke=\"#808080\"\n                stroke-width=\"1.5\"\n                stroke-miterlimit=\"10\"\n                stroke-linecap=\"round\"\n                stroke-linejoin=\"round\"\n              />\n              <path\n                d=\"M5 22H7C9 22 10 21 10 19V17C10 15 9 14 7 14H5C3 14 2 15 2 17V19C2 21 3 22 5 22Z\"\n                stroke=\"#808080\"\n                stroke-width=\"1.5\"\n                stroke-miterlimit=\"10\"\n                stroke-linecap=\"round\"\n                stroke-linejoin=\"round\"\n              />\n              <path\n                d=\"M6 10C8.20914 10 10 8.20914 10 6C10 3.79086 8.20914 2 6 2C3.79086 2 2 3.79086 2 6C2 8.20914 3.79086 10 6 10Z\"\n                stroke=\"#808080\"\n                stroke-width=\"1.5\"\n                stroke-miterlimit=\"10\"\n                stroke-linecap=\"round\"\n                stroke-linejoin=\"round\"\n              />\n              <path\n                d=\"M18 22C20.2091 22 22 20.2091 22 18C22 15.7909 20.2091 14 18 14C15.7909 14 14 15.7909 14 18C14 20.2091 15.7909 22 18 22Z\"\n                stroke=\"#808080\"\n                stroke-width=\"1.5\"\n                stroke-miterlimit=\"10\"\n                stroke-linecap=\"round\"\n                stroke-linejoin=\"round\"\n              />\n            </svg>\n          ),\n          label: \"Dashboard\",\n          value: \"dashboard\",\n        },\n        {\n          icon: (\n            <svg\n              width=\"24\"\n              height=\"24\"\n              viewBox=\"0 0 24 24\"\n              fill=\"none\"\n              xmlns=\"http://www.w3.org/2000/svg\"\n            >\n              <path\n                d=\"M4 19H8.673V11H4V19ZM9.673 19H14.327V5H9.673V19ZM15.327 19H20V13H15.327V19ZM3 20V10H8.673V4H15.327V12H21V20H3Z\"\n                fill=\"#121212\"\n              />\n            </svg>\n          ),\n          label: \"Leaderboard\",\n          value: \"leaderboard\",\n        },\n        {\n          icon: (\n            <svg\n              xmlns=\"http://www.w3.org/2000/svg\"\n              width=\"24\"\n              height=\"24\"\n              viewBox=\"0 0 32 32\"\n            >\n              <g fill=\"currentColor\">\n                <path d=\"M12 8a1 1 0 0 0-1 1v2a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1V9a1 1 0 0 0-1-1z\" />\n                <path d=\"M4 3a2 2 0 0 1 2-2h21a2 2 0 0 1 2 2v25a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2v-3.26A3.247 3.247 0 0 1 2.5 22c0-1.078.525-2.034 1.333-2.625A3.246 3.246 0 0 1 2.5 16.75c0-1.078.525-2.034 1.333-2.625A3.246 3.246 0 0 1 2.5 11.5c0-1.078.525-2.034 1.333-2.625A3.246 3.246 0 0 1 2.5 6.25A3.25 3.25 0 0 1 4 3.51zm2 17.268V25h21V3H6v.01c.223.016.44.056.649.116c.202-.025.545.137.91.424A3.248 3.248 0 0 1 8.99 6H9a.75.75 0 0 1-1.5 0h-.018A1.751 1.751 0 0 0 6 4.518v3.741c.223.017.44.057.649.117c.202-.025.545.137.91.424a3.248 3.248 0 0 1 1.432 2.45H9a.75.75 0 0 1-1.5 0h-.018A1.751 1.751 0 0 0 6 9.768v3.741c.223.018.44.057.649.117c.202-.024.545.136.91.424A3.248 3.248 0 0 1 8.99 16.5H9a.75.75 0 0 1-1.5 0h-.018A1.751 1.751 0 0 0 6 15.018v3.741c.223.017.44.057.649.117c.202-.024.545.136.91.423A3.248 3.248 0 0 1 8.99 21.75H9a.75.75 0 0 1-1.5 0h-.018A1.751 1.751 0 0 0 6 20.268M6 27v1h21v-1z\" />\n              </g>\n            </svg>\n          ),\n          label: \"Ledger\",\n          value: \"profile\",\n        },\n      ],\n    });\n  }\n}, [accountId]);\n// if (!accountId) {\n//   State.update({\n//     sidebar: [\n//       {\n//         icon: (\n//           <svg\n//             width=\"24\"\n//             height=\"24\"\n//             viewBox=\"0 0 24 24\"\n//             fill=\"none\"\n//             xmlns=\"http://www.w3.org/2000/svg\"\n//           >\n//             <path\n//               d=\"M17 10H19C21 10 22 9 22 7V5C22 3 21 2 19 2H17C15 2 14 3 14 5V7C14 9 15 10 17 10Z\"\n//               stroke=\"#808080\"\n//               stroke-width=\"1.5\"\n//               stroke-miterlimit=\"10\"\n//               stroke-linecap=\"round\"\n//               stroke-linejoin=\"round\"\n//             />\n//             <path\n//               d=\"M5 22H7C9 22 10 21 10 19V17C10 15 9 14 7 14H5C3 14 2 15 2 17V19C2 21 3 22 5 22Z\"\n//               stroke=\"#808080\"\n//               stroke-width=\"1.5\"\n//               stroke-miterlimit=\"10\"\n//               stroke-linecap=\"round\"\n//               stroke-linejoin=\"round\"\n//             />\n//             <path\n//               d=\"M6 10C8.20914 10 10 8.20914 10 6C10 3.79086 8.20914 2 6 2C3.79086 2 2 3.79086 2 6C2 8.20914 3.79086 10 6 10Z\"\n//               stroke=\"#808080\"\n//               stroke-width=\"1.5\"\n//               stroke-miterlimit=\"10\"\n//               stroke-linecap=\"round\"\n//               stroke-linejoin=\"round\"\n//             />\n//             <path\n//               d=\"M18 22C20.2091 22 22 20.2091 22 18C22 15.7909 20.2091 14 18 14C15.7909 14 14 15.7909 14 18C14 20.2091 15.7909 22 18 22Z\"\n//               stroke=\"#808080\"\n//               stroke-width=\"1.5\"\n//               stroke-miterlimit=\"10\"\n//               stroke-linecap=\"round\"\n//               stroke-linejoin=\"round\"\n//             />\n//           </svg>\n//         ),\n//         label: \"Dashboard\",\n//         value: \"dashboard\",\n//       },\n//     ],\n//   });\n// }\n\n//Styles\n\nconst Wrapper = styled.div`\n  display: flex;\n  width: 100%;\n  height: 100vh;\n  align-items: stretch;\n  flex-direction: column;\n  background: white;\n  overflow: auto;\n  position: relative;\n`;\n\nconst Content = styled.div`\n  display: flex;\n  width: 100%;\n  height: calc(100vh - 96px);\n  flex-direction: row;\n  background: white;\n  overflow: auto;\n  position: relative;\n  padding-bottom: 15px;\n`;\n\nconst changeTab = (value) => {\n  //   const list = state.sidebar;\n  //   const result = list.map((item) => {\n  //     item.active = false;\n  //     if (item.value === value) item.active = true;\n  //     return item;\n  //   });\n\n  Storage.set(\"page\", value);\n};\n\nuseEffect(() => {\n  State.update({ page: currentPage });\n}, [currentPage]);\n\nreturn (\n  <Wrapper className=\"root\">\n    <Widget src={`${Owner}/widget/Header`} props={{ API_URL }} />\n    <Content>\n      <Widget\n        src={`${Owner}/widget/Sidebar`}\n        props={{ API_URL, changeTab, page: state.page, list: state.sidebar }}\n      />\n      {state.page === \"dashboard\" && (\n        <Widget\n          src={`${Owner}/widget/Dashboard`}\n          props={{ API_URL, changePage: changeTab, page: state.page }}\n        />\n      )}\n      {state.page === \"profile\" && (\n        <Widget props={{ API_URL }} src={`${Owner}/widget/Profile`} />\n      )}\n      {state.page === \"leaderboard\" && (\n        <Widget props={{ API_URL }} src={`${Owner}/widget/Leaderboard`} />\n      )}\n      {state.page === \"new_campaigns\" && (\n        <Widget\n          src={`${Owner}/widget/NewCampaign`}\n          props={{ API_URL, changePage: changeTab, page: state.page }}\n        />\n      )}\n    </Content>\n  </Wrapper>\n);\n", "metadata": {"fork_of": "socializer.near/widget/main@116736306"}, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/socializer.near/widget/main", "fact_widget_deployments_id": "0e1a99efee16ece0eb4e0b4ee1095956", "inserted_timestamp": "2024-04-13T06:35:50.145Z", "modified_timestamp": "2024-04-13T07:37:42.153Z", "__row_index": 75}