{"tx_hash": "2DcZfK375MdykRjyKwuyKWNQWJQ9icf1SGwKF66kzKz9", "action_id_social": "BVjuvNKz6YHDSP2ECeyVZVK1PuqWsEX3bzHBdyvUC29Q-0-widget", "block_id": 100863335, "block_timestamp": "2023-09-11T05:56:22.008Z", "signer_id": "socializer.near", "widget_name": "Table", "source_code": "const Owner = \"socializer.near\";\nconst themeColor = props.themeColor;\n\nconst queryHashes = [\n  { id: 1, hash: \"148bbf87-cccb-4eb0-8f48-9fe5ae090631\" },\n  { id: 2, hash: \"d18e6a5c-0dae-43d0-a718-0cfc84f60961\" },\n  { id: 3, hash: \"52275624-3e5b-4a92-bcf4-5d9cffeb95e8\" },\n  { id: 4, hash: \"2d64082a-11c1-46df-a59d-586083139870\" },\n  { id: 5, hash: \"64936084-6069-4a6e-ad74-9e80914bedde\" },\n];\n\nState.init({\n  light: true,\n  data: [\n    {\n      user: \"test1\",\n      avatar: \"\",\n      social: \"Have you seen our monthly stats? With over 45 clien...\",\n      endsin: \"Ends in 1hr 10m 50s\",\n      reward: \"Ends in 1hr 10m 50s\",\n      total_reward: \"10 Near\",\n      status: \"live\",\n      engage: \"link\",\n    },\n  ],\n  isLoading: true,\n  error: [],\n  tab: \"first\",\n});\n\n// api code start\n// const handleData = () => {\n//   const data = {};\n//   const errors = [];\n//   queryHashes.forEach(({ hash, id }) => {\n//     const result = fetchData(hash);\n//     if (result.error) errors.push(`hash${id} : ${result.error}`);\n//     data[`hash${id}`] = {\n//       ...result,\n//       id,\n//     };\n//   });\n//   console.log(data, \"==>data\");\n//   if (Object.values(data).every((d) => !d.isLoading)) {\n//     State.update({\n//       data: data,\n//       error: [...state.error, ...errors],\n//       isLoading: false,\n//     });\n//   }\n// };\n\nconst fetchData = (hash) => {\n  const data = fetch(\n    `https://api.flipsidecrypto.com/api/v2/queries/${hash}/data/latest`,\n    {\n      subscribe: true,\n      method: \"GET\",\n      headers: {\n        Accept: \"*/*\",\n      },\n    }\n  );\n  const result = {\n    data: (data && data.body) || null,\n    error: (data && !data.ok && (data.status || data.error)) || null,\n    isLoading: !data && !error,\n  };\n  return result;\n};\n\n// if (state.isLoading) {\n//   handleData();\n// }\n\nif (state.error.length > 0) {\n  function hide() {\n    const errors = state.error;\n    errors.shift();\n    if (errors.length > 0) setTimeout(hide, 2500);\n    State.update({ error: errors });\n  }\n  setTimeout(hide, 2500);\n}\n// api code finish\n\nconst Container = styled.div`\n  &&{text-align:center};\n`;\n\nreturn (\n  <div className=\"container-fluid py-2\">\n    <div className=\"pl-2\">\n      <div>\n        <div className=\"content\">\n          <div\n            style={{ background: themeColor?.sbt_area?.card_bg }}\n            className=\"shadow-sm rounded-2 overflow-auto\"\n          >\n            <Widget\n              src={`${Owner}/widget/table-pagination`}\n              props={{\n                themeColor: { table_pagination: themeColor.table_pagination },\n                data: state.data,\n                columns: [\n                  {\n                    title: \"Project/User\",\n                    key: \"project\",\n                    description:\n                      \"The Near address of top Nominee (based on number of Nomination)\",\n                  },\n                  {\n                    title: \"Near Social  Post\",\n                    key: \"social\",\n                    description: \"House Of Merit Nomination\",\n                  },\n                  {\n                    title: \"Ends In\",\n                    key: \"endsin\",\n                    description: \"Transparency Commission Nomination\",\n                  },\n                  {\n                    title: \"Reward\",\n                    key: \"reward\",\n                    description: \"Council Of Advisors Nomination\",\n                  },\n                  {\n                    title: \"Total Rewards\",\n                    key: \"total_reward\",\n                    description: \"Total Nomination\",\n                  },\n                  {\n                    title: \"Status\",\n                    key: \"status\",\n                    description: \"Nomination Not Revoked\",\n                  },\n                  {\n                    title: \"Engage Link\",\n                    key: \"engage\",\n                    description: \"Nomination Revoked\",\n                  },\n                ],\n                rowsCount: 5,\n              }}\n            />\n          </div>\n        </div>\n      </div>\n\n      <div className=\"toast-container position-fixed bottom-0 end-0 p-3\">\n        {state.error.length > 0 &&\n          state.error.map((er) => (\n            <div\n              className=\"toast show align-items-center text-bg-danger border-0\"\n              role=\"alert\"\n              aria-live=\"assertive\"\n              aria-atomic=\"true\"\n            >\n              <div className=\"d-flex\">\n                <div className=\"toast-body\">{er}</div>\n              </div>\n            </div>\n          ))}\n      </div>\n    </div>\n  </div>\n);\n\n// const props = {\n//   themeColor: {\n//     dynamic_header: {\n//       afterbrandcolor: \"#789efb\",\n//       color1brand: \"#000\",\n//       color2brand: \"#806ce1\",\n//       colordescription: \"#806ce1\",\n//       background:\n//         \"radial-gradient(circle, rgba(210,202,250,1) 0%, rgba(230,230,231,0.01) 0%, rgba(235,238,255,1) 100%, rgba(235,231,253,1) 100%, rgba(255,241,241,1) 100%, rgba(46,52,90,1) 100%);\",\n//     },\n//     tab_sbt: {\n//       backgroundColor: \"rgb(49,62,89)\",\n//       textColor: \"#fff\",\n//       headerColor: \"#806ce1\",\n//       numberColor: \"#fff\",\n//     },\n//     sbt_area: {\n//       section_bg: \"rgba(25,33,80)\",\n//       card_bg: \"rgb(49, 62, 89)\",\n//       card_title_color: \"#806ce1\",\n//     },\n//   },\n// };\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/socializer.near/widget/Table", "fact_widget_deployments_id": "2f0634d55caca3c7e016464ac22ebc35", "inserted_timestamp": "2023-09-11T07:48:49.347Z", "modified_timestamp": "2023-09-11T07:48:49.347Z", "__row_index": 12}