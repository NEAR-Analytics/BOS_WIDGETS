{"tx_hash": "9oxaNnxt1LvTcspVSHxfbVGZvh9eDav4w91hoCh1oedd", "action_id_social": "7zNcaZtjeMwRTEZRJDY9kf9aTPAL1eqEhAnWGiey8gwH-0-widget", "block_id": 101528550, "block_timestamp": "2023-09-20T05:28:35.562Z", "signer_id": "gr8h.near", "widget_name": "LensProfilePostsView", "source_code": "State.init({});\n\nconst Box = styled.div`\n  display: flex;\n  flex-wrap: wrap;\n  box-sizing: border-box;\n  text-align: left;\n  margin-left: 1rem;\n`;\n\nconst PostBox = styled.div`\n  width: 100%;\n  border: 1px solid gray;\n  margin-bottom: 1rem;\n  padding: 2rem 5px;\n`;\n\nconst ImageWrapper = styled.div`\n  width: 50%;\n  text-align: center;\n  margin: 0 auto;\n`;\n\nconst ImgPlaceholder = styled.div`\n  width: 80px;\n  height: 80px;\n`;\n\nconst PostContentWrapper = styled.div`\n  display: flex;\n  flex-direction: column;\n  margin: 0 1rem;\n`;\n\nconst PostDate = styled.p`\n  align-self: flex-end;\n`;\n\nconst PostDescription = styled.h3``;\nconst PostContent = styled.p``;\n\nconst SubHeading = styled.h2`\n  text-align: left;\n  font-size: 18px;\n`;\n\nconst SelectedProfileBox = styled.div`\n  display: flex;\n  flex-direction: row;\n  align-items: flex-start;\n  border-bottom: 1px solid gray;\n`;\n\nfunction renderPosts() {\n  return (\n    <>\n      <SelectedProfileBox>\n        <SubHeading>@{props.selectedProfile.profile.handle} posts:</SubHeading>\n      </SelectedProfileBox>\n      <br />\n      <Box>\n        {!props.posts || props.posts.length === 0 ? (\n          <div>No posts so far.</div>\n        ) : (\n          props.posts.map((post) => {\n            const metadata = post?.metadata;\n            const createdAt = new Date(post?.createdAt);\n\n            return (\n              <PostBox class=\"p-3\">\n                {metadata?.media?.length > 0 && (\n                  <ImageWrapper>\n                    {[metadata.media[0]].map((media) => {\n                      const mimeType = media?.original?.mimeType;\n\n                      let url = media?.original?.url;\n                      if (url.startsWith(\"ipfs://\")) {\n                        url = url.replace(\"ipfs://\", \"https://ipfs.io/ipfs/\");\n                      }\n\n                      return mimeType === \"video/mp4\" ? (\n                        <iframe\n                          src={media?.original?.url}\n                          width=\"100%\"\n                          height=\"100%\"\n                        />\n                      ) : mimeType?.startsWith(\"image\") ? (\n                        <img src={url} width={\"100%\"} />\n                      ) : null;\n                    })}\n                  </ImageWrapper>\n                )}\n\n                <PostContentWrapper>\n                  <PostDate>{createdAt.toDateString()}</PostDate>\n\n                  <PostDescription>\n                    <Markdown text={metadata?.description} />\n                  </PostDescription>\n\n                  <PostContent>\n                    <Markdown text={metadata?.content} />\n                  </PostContent>\n                </PostContentWrapper>\n              </PostBox>\n            );\n          })\n        )}\n      </Box>\n    </>\n  );\n}\n\n// console.log(\"LensProfilePostsView, props: \", props, \" state: \", state);\n\nreturn <div>{renderPosts()}</div>;\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/gr8h.near/widget/LensProfilePostsView", "fact_widget_deployments_id": "4cc2349b5ea09045b65936fc5eab2010", "inserted_timestamp": "2024-03-07T05:24:05.087Z", "modified_timestamp": "2024-03-07T05:24:05.087Z", "__row_index": 0}