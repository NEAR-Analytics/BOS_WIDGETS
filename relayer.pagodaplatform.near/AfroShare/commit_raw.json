{"tx_hash": "DZrszKoaWiPmvzjHscCcuSmySqZY9RZar5xGJ2a1gxUv", "action_id_social": "5ybuU8SkGbdVAEtNKCrbB9TMPXRUcrFRjxv5k1rC9VkH-0-widget", "block_id": 95919505, "block_timestamp": "2023-07-07T13:59:31.606Z", "signer_id": "relayer.pagodaplatform.near", "widget_name": "AfroShare", "source_code": "let { address, tokenId } = props;\nState.init({\n  loading: false,\n  token: {},\n  error: null,\n});\n\nconst alchemyApiKey = props.alchemyApiKey || \"docs-demo\";\n\nconst loadNFT = () => {\n  State.update({ loading: true });\n  const options = { method: \"GET\", headers: { accept: \"application/json\" } };\n  const nfts = fetch(\n    `https://eth-goerli.g.alchemy.com/nft/v2/${alchemyApiKey}/getNFTsForCollection?contractAddress=${address}&withMetadata=true&startToken=${tokenId}&limit=1`,\n    options\n  );\n  console.log(\"nft\", nfts);\n  if (nfts.status === 403) {\n    State.update({ error: \"Please add an Alchemy API key\" });\n  } else {\n    State.update({ error: \"\" });\n  }\n  State.update({ token: nfts.body.nfts[0] });\n  console.log(\"state.token\", state.token);\n  State.update({ loading: false });\n};\n\nloadNFT();\n\nreturn (\n  <div className=\"EventDetail container card shadow my-5 p-5\">\n    <h1 className=\"text-center mb-3\">AfroShare</h1>\n    <p className=\"text-center mb-3\">\n      Afroshare allows you to easily share your Afropolitan NFT by renting it to\n      others.\n    </p>\n    {state.loading && (\n      <>\n        <p className=\"text-primary\">Loading NFT details...</p>\n        <div class=\"progress\">\n          <div\n            class=\"progress-bar progress-bar-striped progress-bar-animated\"\n            role=\"progressbar\"\n            aria-valuenow=\"100\"\n            aria-valuemin=\"0\"\n            aria-valuemax=\"100\"\n            style={{ width: \"100%\" }}\n          ></div>\n        </div>\n      </>\n    )}\n    {state.token && (\n      <>\n        <h3 className=\"text-center mb-3\">{state.token.title}</h3>\n        <div className=\"container\">\n          <div className=\"card shadow-sm\">\n            <img\n              src={state.token.media[0].gateway}\n              width={300}\n              alt={state.token.title}\n            />\n            <div className=\"card-body\">\n              <p className=\"card-text\">\n                <a\n                  href={`https://testnets.opensea.io/assets/goerli/${address}/${tokenId}`}\n                  target=\"_blank\"\n                  rel=\"noreferrer\"\n                >\n                  View NFT on Opensea\n                </a>\n              </p>\n            </div>\n          </div>\n        </div>\n      </>\n    )}\n    {state.error && <p className=\"text-danger\">{state.error}</p>}\n    <hr />\n    <Widget src=\"tomiwa1a1.near/widget/RentNFT\" props={props} />\n    <hr />\n    <Widget src=\"tomiwa1a1.near/widget/TokenGate\" props={props} />\n    <hr />\n    <Widget src=\"tomiwa1a1.near/widget/TransferNFT\" props={props} />\n  </div>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/relayer.pagodaplatform.near/widget/AfroShare", "fact_widget_deployments_id": "ad44e9d18fb57f0fd4a34ce607aa13ea", "inserted_timestamp": "2024-03-07T05:24:05.087Z", "modified_timestamp": "2024-03-07T05:24:05.087Z", "__row_index": 5}