{"tx_hash": "CZQ9dFs2zDW8Y1LEHADCN2U2WcTLTez4wceG9PCJFgbJ", "action_id_social": "17ufGWjg9o1dNzJEimMjgN3EfiNNbE767DqaTmi7tcJ-0-widget", "block_id": 99683683, "block_timestamp": "2023-08-26T06:51:20.384Z", "signer_id": "relayer.pagodaplatform.near", "widget_name": "walley-store", "source_code": "const WalleyNavbar = styled.div`\n      padding: 15px;\n      display: flex;\n      flex-direction: column;\n      position: relative;\n      left: 0px;\n      height: 100%;\n      text-align: left;\n      &>svg {\n        text-align: left; \n        padding: 0;\n        width: 24px;\n        display: none;\n      }\n      @media screen and (max-width: 600px) {\n          flex-direction: row;\n          justify-content: space-evenly;\n          align-items: center;\n          text-align: center;\n          font-size: 12px;\n      }\n  `;\n\nconst WalleyNavbarButton = styled.button`\n      border: none;\n      text-align: left;\n      background: none;\n      color: #fff;\n      padding:0px;\n      font-weight: 500;\n  `;\n\nconst NavLine = styled.span`\n    width: 1px;\n    height: 70px;\n    background: white;\n    margin: 4px 0 4px 0;\n    @media screen and (max-width: 600px) {\n      display: none;\n    }\n  `;\nconst NavLineLast = styled.span`\n    width: 1px;\n    height: 100%;\n    background: white;\n    margin: 4px 0 4px 0;\n    @media screen and (max-width: 600px) {\n      display: none;\n    }\n  `;\nconst WalleyButton = styled.button`\n    background-color: ${(props) => props.bg};\n    color: ${(props) => props.color};\n    display: block;\n    width: 100%;\n    border-radius: 20px;\n    padding: 7px;\n    border: 0px;\n    font-weight: 500;\n    box-shadow: rgb(0, 0, 0, 0.19) 0px 10px 20px, rgb(0, 0, 0, 0.23) 0px 6px 6px;\n  \n  `;\n\nconst WalleyStoreImage = styled.img`\n    maring: 0 auto;\n    width: 200px;\n    text-align: center;\n  `;\n\nconst WalleyInput = styled.input`\n    display: block;\n    width: 100%;\n    padding: 6px;\n    border-radius: 20px;\n    background: none;\n    border: 2px solid rgb(66, 66, 66);\n    color: white;\n  `;\n\nconst WalleyLabel = styled.p`\n    width: 100%;\n  `;\nconst WalleyTransactions = styled.div`\n    height: auto;\n    margin-bottom: 20px;\n    overflow-y: scroll;\n    padding: 0px 15px 15px 15px;\n    display: grid;\n    grid-gap: 20px;\n    grid-template-columns: repeat(2, 1fr);\n    justiy-content: space-evenly;\n    @media screen and (max-width: 750px) {\n      grid-template-columns: repeat(1, 1fr);\n    }\n    &::-webkit-scrollbar {\n      width: 7px;\n    }\n  \n    &::-webkit-scrollbar-track {\n      background: rgb(66,66,66,0.6); \n    }\n    \n    &::-webkit-scrollbar-thumb {\n      background: #424242; \n    }\n  `;\n\nconst WalleySearch = styled.div`\n    display: flex;\n    padding: 0px 10px;\n    flex-direction: row;\n    @media screen and (max-width: 600px) {\n      flex-direction: column-reverse;\n    }\n    &>button {\n      width: 150px;\n      margin-right: 20px;\n      font-size: 16px;\n      @media screen and (max-width: 600px) {\n        width: 100%;\n        margin-right: 0px;\n        font-size: 13px;\n        margin-top: 5px;\n      }\n    }\n    &>input {\n      font-size: 16px;\n      @media screen and (max-width: 400px) {\n        width: 100%;\n        font-size: 13px;\n      }\n    }\n  `;\n\nconst TransactionCard = styled.div`\n    background: rgb(66, 66, 66, 0.6);\n    box-shadow: rgba(0, 0, 0, 0.3) 0px 19px 38px, rgba(0, 0, 0, 0.22) 0px 15px 12px;\n    border: 1px solid #424242;\n    border-radius: 20px;\n    padding: 30px;\n    display: flex;\n    flex-direction: row;\n    gap: 20px;\n    @media screen and (max-width: 600px) {\n      flex-direction: column;\n    }\n  `;\n\nconst TransactionCardMain = styled.div`\n  `;\n\nconst WalleyStoreBody = styled.div`\n  `;\n\nreturn (\n  <>\n    <WalleyNavbar>\n      <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\">\n        <path\n          d=\"M42.3795 1.00041H3.49873C-0.658836 0.841665 -0.658836 7.16116 3.49873 7.00242H42.2245C46.3065 7.16116 46.4652 1.00041 42.3833 1.00041H42.3795ZM3.49873 25.0009C-0.500093 25.0009 -0.500093 30.9991 3.49873 30.9991H25.4204C29.5024 30.9991 29.5024 25.0009 25.4204 25.0009H3.49873ZM3.49873 49.0014C-0.500093 49.0014 -0.500093 54.9996 3.49873 54.9996H52.6222C56.621 54.9996 56.621 49.0014 52.6222 49.0014H3.49873Z\"\n          fill=\"white\"\n        />\n      </svg>\n      <NavLine></NavLine>\n      <WalleyNavbarButton onClick={() => props.update({ view: \"home\" })}>\n        <span>Home</span>\n      </WalleyNavbarButton>\n      <NavLine></NavLine>\n      <WalleyNavbarButton onClick={() => props.update({ view: \"txPast\" })}>\n        <span>Receipts</span>\n      </WalleyNavbarButton>\n      <NavLineLast></NavLineLast>\n    </WalleyNavbar>\n    <WalleyStoreBody>\n      <WalleyTransactions>\n        {props.view === \"home\"\n          ? props.store.storePendingTransactions.length !== 0\n            ? props.store.storePendingTransactions.map((tx) => (\n                <TransactionCard>\n                  <WalleyImageContainer>\n                    <WalleyStoreImage\n                      src={`https://ipfs.near.social/ipfs/${\n                        props.store.storeImages[tx[6]]\n                      }`}\n                      alt={tx[6]}\n                    />\n                  </WalleyImageContainer>\n                  <TransactionCardMain>\n                    <p>Name - {tx[2]}</p>\n                    <p>Store name - {tx[6]} </p>\n                    <p>Max amount - {Big(tx[5]).toFixed(5)}</p>\n\n                    <p>Time - {props.unixToDate(parseInt(tx[10], 16))}</p>\n                    <WalleyButton\n                      color=\"white\"\n                      bg=\"blue\"\n                      onClick={() =>\n                        props.update({\n                          store: {\n                            ...props.store,\n                            approvePassword: \"\",\n                            bill: { uploading: false, amount: null },\n                            totalAmount: null,\n                            viewTxn: [...tx, \"approve\"],\n                          },\n                        })\n                      }\n                    >\n                      Approve\n                    </WalleyButton>\n                  </TransactionCardMain>\n                </TransactionCard>\n              ))\n            : \"No pending transactions\"\n          : props.store.storePastTransactions.length !== 0\n          ? props.store.storePastTransactions.map((tx) => (\n              <TransactionCard>\n                <WalleyImageContainer>\n                  <WalleyStoreImage\n                    src={`https://ipfs.near.social/ipfs/${\n                      props.store.storeImages[tx[6]]\n                    }`}\n                    alt={tx[6]}\n                  />\n                </WalleyImageContainer>\n                <TransactionCardMain>\n                  <p>Name - {tx[2]}</p>\n                  <p>Store name - {tx[6]} </p>\n                  <p>Max Amount - {Big(tx[5]).toFixed(5)}</p>\n\n                  <p>Total Bill Amount - {Big(tx[9]).toFixed(5)}</p>\n\n                  <p>Time - {unixToDate(parseInt(tx[10], 16))}</p>\n                  {props.user.openReceipt === Big(tx[1]).toFixed(0) ? (\n                    <>\n                      <WalleyStoreImage\n                        src={`https://ipfs.near.social/ipfs/${tx[7]}`}\n                        alt={tx[7]}\n                      />\n                      <WalleyButton\n                        color=\"#fff\"\n                        bg=\"#FA9703\"\n                        onClick={() =>\n                          props.update({\n                            user: {\n                              ...props.user,\n                              openReceipt: 0,\n                            },\n                          })\n                        }\n                      >\n                        Close Receipt\n                      </WalleyButton>\n                    </>\n                  ) : (\n                    <WalleyButton\n                      color=\"#fff\"\n                      bg=\"#FA9703\"\n                      onClick={() =>\n                        props.update({\n                          user: {\n                            ...props.user,\n                            openReceipt: Big(tx[1]).toFixed(0),\n                          },\n                        })\n                      }\n                    >\n                      Show Receipt\n                    </WalleyButton>\n                  )}\n                </TransactionCardMain>\n              </TransactionCard>\n            ))\n          : \"No past transactions found\"}\n      </WalleyTransactions>\n    </WalleyStoreBody>\n  </>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/relayer.pagodaplatform.near/widget/walley-store", "fact_widget_deployments_id": "ae6f2e342c4e3368312e4fb0b758881a", "inserted_timestamp": "2024-03-07T05:24:05.087Z", "modified_timestamp": "2024-03-07T05:24:05.087Z", "__row_index": 3}