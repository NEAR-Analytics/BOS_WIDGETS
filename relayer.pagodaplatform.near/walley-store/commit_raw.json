{"tx_hash": "F9pAU8XkPf36NABWXde69cxU4ZVYnpMwVjTYToSKqoRv", "action_id_social": "8xvrig7gaJ1kqYPQ8ueh9bkiHZN2Je4gomNzQRFgHvJH-0-widget", "block_id": 99684031, "block_timestamp": "2023-08-26T06:57:47.670Z", "signer_id": "relayer.pagodaplatform.near", "widget_name": "walley-store", "source_code": "const WalleyNavbar = styled.div`\r\n      padding: 15px;\r\n      display: flex;\r\n      flex-direction: column;\r\n      position: relative;\r\n      left: 0px;\r\n      height: 100%;\r\n      text-align: left;\r\n      &>svg {\r\n        text-align: left; \r\n        padding: 0;\r\n        width: 24px;\r\n        display: none;\r\n      }\r\n      @media screen and (max-width: 600px) {\r\n          flex-direction: row;\r\n          justify-content: space-evenly;\r\n          align-items: center;\r\n          text-align: center;\r\n          font-size: 12px;\r\n      }\r\n  `;\r\n\r\nconst WalleyNavbarButton = styled.button`\r\n      border: none;\r\n      text-align: left;\r\n      background: none;\r\n      color: #fff;\r\n      padding:0px;\r\n      font-weight: 500;\r\n  `;\r\n\r\nconst NavLine = styled.span`\r\n    width: 1px;\r\n    height: 70px;\r\n    background: white;\r\n    margin: 4px 0 4px 0;\r\n    @media screen and (max-width: 600px) {\r\n      display: none;\r\n    }\r\n  `;\r\nconst NavLineLast = styled.span`\r\n    width: 1px;\r\n    height: 100%;\r\n    background: white;\r\n    margin: 4px 0 4px 0;\r\n    @media screen and (max-width: 600px) {\r\n      display: none;\r\n    }\r\n  `;\r\nconst WalleyButton = styled.button`\r\n    background-color: ${(props) => props.bg};\r\n    color: ${(props) => props.color};\r\n    display: block;\r\n    width: 100%;\r\n    border-radius: 20px;\r\n    padding: 7px;\r\n    border: 0px;\r\n    font-weight: 500;\r\n    box-shadow: rgb(0, 0, 0, 0.19) 0px 10px 20px, rgb(0, 0, 0, 0.23) 0px 6px 6px;\r\n  \r\n  `;\r\n\r\nconst WalleyStoreImage = styled.img`\r\n    maring: 0 auto;\r\n    width: 200px;\r\n    text-align: center;\r\n  `;\r\n\r\nconst WalleyInput = styled.input`\r\n    display: block;\r\n    width: 100%;\r\n    padding: 6px;\r\n    border-radius: 20px;\r\n    background: none;\r\n    border: 2px solid rgb(66, 66, 66);\r\n    color: white;\r\n  `;\r\n\r\nconst WalleyLabel = styled.p`\r\n    width: 100%;\r\n  `;\r\nconst WalleyTransactions = styled.div`\r\n    height: auto;\r\n    margin-bottom: 20px;\r\n    overflow-y: scroll;\r\n    padding: 0px 15px 15px 15px;\r\n    display: grid;\r\n    grid-gap: 20px;\r\n    grid-template-columns: repeat(2, 1fr);\r\n    justiy-content: space-evenly;\r\n    @media screen and (max-width: 750px) {\r\n      grid-template-columns: repeat(1, 1fr);\r\n    }\r\n    &::-webkit-scrollbar {\r\n      width: 7px;\r\n    }\r\n  \r\n    &::-webkit-scrollbar-track {\r\n      background: rgb(66,66,66,0.6); \r\n    }\r\n    \r\n    &::-webkit-scrollbar-thumb {\r\n      background: #424242; \r\n    }\r\n  `;\r\n\r\nconst WalleySearch = styled.div`\r\n    display: flex;\r\n    padding: 0px 10px;\r\n    flex-direction: row;\r\n    @media screen and (max-width: 600px) {\r\n      flex-direction: column-reverse;\r\n    }\r\n    &>button {\r\n      width: 150px;\r\n      margin-right: 20px;\r\n      font-size: 16px;\r\n      @media screen and (max-width: 600px) {\r\n        width: 100%;\r\n        margin-right: 0px;\r\n        font-size: 13px;\r\n        margin-top: 5px;\r\n      }\r\n    }\r\n    &>input {\r\n      font-size: 16px;\r\n      @media screen and (max-width: 400px) {\r\n        width: 100%;\r\n        font-size: 13px;\r\n      }\r\n    }\r\n  `;\r\n\r\nconst TransactionCard = styled.div`\r\n    background: rgb(66, 66, 66, 0.6);\r\n    box-shadow: rgba(0, 0, 0, 0.3) 0px 19px 38px, rgba(0, 0, 0, 0.22) 0px 15px 12px;\r\n    border: 1px solid #424242;\r\n    border-radius: 20px;\r\n    padding: 30px;\r\n    display: flex;\r\n    flex-direction: row;\r\n    gap: 20px;\r\n    @media screen and (max-width: 600px) {\r\n      flex-direction: column;\r\n    }\r\n  `;\r\n\r\nconst TransactionCardMain = styled.div`\r\n  `;\r\n\r\nconst WalleyStoreBody = styled.div`\r\n  `;\r\n\r\nreturn (\r\n  <>\r\n    <WalleyNavbar>\r\n      <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\">\r\n        <path\r\n          d=\"M42.3795 1.00041H3.49873C-0.658836 0.841665 -0.658836 7.16116 3.49873 7.00242H42.2245C46.3065 7.16116 46.4652 1.00041 42.3833 1.00041H42.3795ZM3.49873 25.0009C-0.500093 25.0009 -0.500093 30.9991 3.49873 30.9991H25.4204C29.5024 30.9991 29.5024 25.0009 25.4204 25.0009H3.49873ZM3.49873 49.0014C-0.500093 49.0014 -0.500093 54.9996 3.49873 54.9996H52.6222C56.621 54.9996 56.621 49.0014 52.6222 49.0014H3.49873Z\"\r\n          fill=\"white\"\r\n        />\r\n      </svg>\r\n      <NavLine></NavLine>\r\n      <WalleyNavbarButton onClick={() => props.update({ view: \"home\" })}>\r\n        <span>Home</span>\r\n      </WalleyNavbarButton>\r\n      <NavLine></NavLine>\r\n      <WalleyNavbarButton onClick={() => props.update({ view: \"txPast\" })}>\r\n        <span>Receipts</span>\r\n      </WalleyNavbarButton>\r\n      <NavLineLast></NavLineLast>\r\n    </WalleyNavbar>\r\n    <WalleyStoreBody>\r\n      <WalleyTransactions>\r\n        {props.view === \"home\"\r\n          ? props.store.storePendingTransactions.length !== 0\r\n            ? props.store.storePendingTransactions.map((tx) => (\r\n                <TransactionCard>\r\n                  <WalleyImageContainer>\r\n                    <WalleyStoreImage\r\n                      src={`https://ipfs.near.social/ipfs/${\r\n                        props.store.storeImages[tx[6]]\r\n                      }`}\r\n                      alt={tx[6]}\r\n                    />\r\n                  </WalleyImageContainer>\r\n                  <TransactionCardMain>\r\n                    <p>Name - {tx[2]}</p>\r\n                    <p>Store name - {tx[6]} </p>\r\n                    <p>Max amount - {Big(tx[5]).toFixed(5)}</p>\r\n\r\n                    <p>Time - {props.props.(parseInt(tx[10], 16))}</p>\r\n                    <WalleyButton\r\n                      color=\"white\"\r\n                      bg=\"blue\"\r\n                      onClick={() =>\r\n                        props.update({\r\n                          store: {\r\n                            ...props.store,\r\n                            approvePassword: \"\",\r\n                            bill: { uploading: false, amount: null },\r\n                            totalAmount: null,\r\n                            viewTxn: [...tx, \"approve\"],\r\n                          },\r\n                        })\r\n                      }\r\n                    >\r\n                      Approve\r\n                    </WalleyButton>\r\n                  </TransactionCardMain>\r\n                </TransactionCard>\r\n              ))\r\n            : \"No pending transactions\"\r\n          : props.store.storePastTransactions.length !== 0\r\n          ? props.store.storePastTransactions.map((tx) => (\r\n              <TransactionCard>\r\n                <WalleyImageContainer>\r\n                  <WalleyStoreImage\r\n                    src={`https://ipfs.near.social/ipfs/${\r\n                      props.store.storeImages[tx[6]]\r\n                    }`}\r\n                    alt={tx[6]}\r\n                  />\r\n                </WalleyImageContainer>\r\n                <TransactionCardMain>\r\n                  <p>Name - {tx[2]}</p>\r\n                  <p>Store name - {tx[6]} </p>\r\n                  <p>Max Amount - {Big(tx[5]).toFixed(5)}</p>\r\n\r\n                  <p>Total Bill Amount - {Big(tx[9]).toFixed(5)}</p>\r\n\r\n                  <p>Time - {props.unixToDate(parseInt(tx[10], 16))}</p>\r\n                  {props.user.openReceipt === Big(tx[1]).toFixed(0) ? (\r\n                    <>\r\n                      <WalleyStoreImage\r\n                        src={`https://ipfs.near.social/ipfs/${tx[7]}`}\r\n                        alt={tx[7]}\r\n                      />\r\n                      <WalleyButton\r\n                        color=\"#fff\"\r\n                        bg=\"#FA9703\"\r\n                        onClick={() =>\r\n                          props.update({\r\n                            user: {\r\n                              ...props.user,\r\n                              openReceipt: 0,\r\n                            },\r\n                          })\r\n                        }\r\n                      >\r\n                        Close Receipt\r\n                      </WalleyButton>\r\n                    </>\r\n                  ) : (\r\n                    <WalleyButton\r\n                      color=\"#fff\"\r\n                      bg=\"#FA9703\"\r\n                      onClick={() =>\r\n                        props.update({\r\n                          user: {\r\n                            ...props.user,\r\n                            openReceipt: Big(tx[1]).toFixed(0),\r\n                          },\r\n                        })\r\n                      }\r\n                    >\r\n                      Show Receipt\r\n                    </WalleyButton>\r\n                  )}\r\n                </TransactionCardMain>\r\n              </TransactionCard>\r\n            ))\r\n          : \"No past transactions found\"}\r\n      </WalleyTransactions>\r\n    </WalleyStoreBody>\r\n  </>\r\n);\r\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/relayer.pagodaplatform.near/widget/walley-store", "fact_widget_deployments_id": "fbaef221b5a8b4fa08bbc6a14b0e6242", "inserted_timestamp": "2024-03-07T05:24:05.087Z", "modified_timestamp": "2024-03-07T05:24:05.087Z", "__row_index": 1}