{"tx_hash": "8guvDVkhDptbBYEGweMANJxa3Ke4rUi59TZvXyC38tzB", "action_id_social": "5KWFWEtzeJZd84qkfoU8zVayyUmwe5XK2E4Sz81Ss2bf-0-widget", "block_id": 96510235, "block_timestamp": "2023-07-15T06:21:22.973Z", "signer_id": "relayer.pagodaplatform.near", "widget_name": "AfroShareTemplate", "source_code": "let { address, tokenId } = props;\nState.init({\n  loading: false,\n  showLogin: true,\n  token: {},\n  error: null,\n  signer: null,\n});\n\nconst alchemyApiKey = props.alchemyApiKey || \"docs-demo\";\n\nconst loadNFT = () => {\n  State.update({ loading: true });\n  const options = { method: \"GET\", headers: { accept: \"application/json\" } };\n  const nfts = fetch(\n    `https://eth-goerli.g.alchemy.com/nft/v2/${alchemyApiKey}/getNFTsForCollection?contractAddress=${address}&withMetadata=true&startToken=${tokenId}&limit=1`,\n    options\n  );\n  console.log(\"nft\", nfts);\n  if (nfts.status === 403) {\n    State.update({ error: \"Please add an Alchemy API key\" });\n  } else {\n    State.update({ error: \"\" });\n  }\n  State.update({ token: nfts.body.nfts[0] });\n  console.log(\"state.token\", state.token);\n  State.update({ loading: false });\n\n  const signer = Ethers.send(\"eth_requestAccounts\")[0];\n  console.log(\"signer\", signer);\n  if (!signer) {\n    State.update({ error: \"Please login first\", showLogin: true });\n    return;\n  } else {\n    State.update({ error: \"\", signer: signer });\n  }\n};\n\nconst loginButton = (\n  <Web3Connect\n    className=\"FormSubmitContainer\"\n    connectLabel={web3connectLabel}\n    onConnect={(provider) => {\n      console.log(\"provider\", provider);\n      State.update({ provider });\n    }}\n  />\n);\n\nloadNFT();\n\nreturn (\n  <div className=\"EventDetail container card shadow my-5 p-5\">\n    <h1 className=\"text-center mb-3\">AfroShare by Eden</h1>\n    <p className=\"text-center mb-3\">\n      Afroshare allows you to easily share your Afropolitan NFT by renting it to\n      others.\n    </p>\n    {state.loading && (\n      <>\n        <p className=\"text-primary\">Loading NFT details...</p>\n        <div class=\"progress\">\n          <div\n            class=\"progress-bar progress-bar-striped progress-bar-animated\"\n            role=\"progressbar\"\n            aria-valuenow=\"100\"\n            aria-valuemin=\"0\"\n            aria-valuemax=\"100\"\n            style={{ width: \"100%\" }}\n          ></div>\n        </div>\n      </>\n    )}\n    {state.token && (\n      <>\n        <h3 className=\"text-center mb-3\">{state.token.title}</h3>\n        <div className=\"container\">\n          <div className=\"card shadow-sm\">\n            <img\n              src={state.token.media[0].gateway}\n              width={300}\n              alt={state.token.title}\n            />\n            <div className=\"card-body\">\n              <p className=\"card-text\">\n                <a\n                  href={`https://testnets.opensea.io/assets/goerli/${address}/${tokenId}`}\n                  target=\"_blank\"\n                  rel=\"noreferrer\"\n                >\n                  View NFT on Opensea\n                </a>\n              </p>\n            </div>\n          </div>\n        </div>\n      </>\n    )}\n    {state.error && <p className=\"text-danger\">{state.error}</p>}\n    {state.showLogin && (\n      <>\n        <hr />\n        {loginButton}\n      </>\n    )}\n\n    <hr />\n    <Widget src=\"edenchan.near/widget/MintNFT\" props={props} />\n    <hr />\n    <Widget src=\"edenchan.near/widget/RentNFT\" props={props} />\n    <hr />\n    <Widget src=\"edenchan.near/widget/TokenGate\" props={props} />\n    <hr />\n    <Widget src=\"edenchan.near/widget/TransferNFT\" props={props} />\n  </div>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/relayer.pagodaplatform.near/widget/AfroShareTemplate", "fact_widget_deployments_id": "131aeeb50d1d29fb510cbe2a0bca7ef8", "inserted_timestamp": "2024-03-07T05:24:05.087Z", "modified_timestamp": "2024-03-07T05:24:05.087Z", "__row_index": 6}