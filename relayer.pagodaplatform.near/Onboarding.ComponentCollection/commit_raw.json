{"tx_hash": "HNrnRZ2nXq3NvzXVy6RFGq1XrmvkTuwehDQv18rw7bjw", "action_id_social": "4xAxbvhdNYHAi3BGU4d4mqLsQ7CFXw2PzZXwVeyPkDkg-0-widget", "block_id": 93736501, "block_timestamp": "2023-06-08T12:21:33.215Z", "signer_id": "relayer.pagodaplatform.near", "widget_name": "Onboarding.ComponentCollection", "source_code": null, "metadata": null, "branch": {"draft": {"": "const accountId = props.accountId || context.accountId || \"near\";\n\nconst profile = Social.getr(`${accountId}/profile`);\nconst widgets = Social.getr(`${accountId}/widget`) ?? {};\n\nconsole.log(\"widgets:\", widgets);\n\nconst allWidgetsHistoryChangesBlocks = Social.keys(\n  `${accountId}/widget/*`,\n  \"final\",\n  {\n    return_type: \"History\",\n  }\n);\nconsole.log(\"allWidgetsHistoryChangesBlocks: \", allWidgetsHistoryChangesBlocks);\n\nif (!widgets) {\n  return <Text>{profile?.name} does not have any widgets yet.</Text>;\n}\nif (allWidgetsHistoryChangesBlocks === null) return \"Loading...\";\n\nconsole.log(\n  \"allWidgetsHistoryChangesBlocks[accountId]: \",\n  allWidgetsHistoryChangesBlocks[accountId]\n);\n\nconst widget = allWidgetsHistoryChangesBlocks[accountId]?.widget;\n\nconst totalCommits = Object.keys(widget)\n  .map((key) => widget[key])\n  .flat();\n\nconst Wrapper = styled.div`\n  display: flex;\n  flex-direction: column;\n  gap: 48px;\n`;\nconst Items = styled.div`\n  display: grid;\n  grid-template-columns: minmax(0, 1fr) minmax(0, 1fr);\n  gap: 24px;\n\n  @media (max-width: 700px) {\n    grid-template-columns: minmax(0, 1fr);\n  }\n`;\nconst Text = styled.p`\n  padding: 20px;\n  text-align: center;\n  color: #687076;\n`;\n\nreturn (\n  <Wrapper>\n    {Object.keys(widgets)?.length > 0 ? (\n      <Items>\n        {Object.keys(widgets)?.map((item, index) => (\n          <Widget\n            src=\"near/widget/Onboarding.ComponentCard\"\n            props={{\n              name: item,\n              accountId,\n              gateway: \"https://near.org\",\n              commits: allWidgetsHistoryChangesBlocks[accountId].widget[item],\n            }}\n          />\n        ))}\n      </Items>\n    ) : (\n      <Text>{profile?.name} does not have any widgets yet.</Text>\n    )}\n  </Wrapper>\n);\n"}}, "widget_modules_used": null, "widget_url": "https://near.social/#/relayer.pagodaplatform.near/widget/Onboarding.ComponentCollection", "fact_widget_deployments_id": "4472a558d1ca92ed7cbe65f3ed662741", "inserted_timestamp": "2024-03-07T05:24:05.087Z", "modified_timestamp": "2024-03-07T05:24:05.087Z", "__row_index": 3}