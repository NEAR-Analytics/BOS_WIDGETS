{"tx_hash": "3rnDMwoaGndtHm2XoMTFcexETkWkvcGRPhoEHfv9xhEe", "action_id_social": "Crbkh5gjrfAdsuGKgFjDdSrVrgBqrsz5CvpLJAJZEYNN-0-widget", "block_id": 116703290, "block_timestamp": "2024-04-12T18:43:59.566Z", "signer_id": "relayer.pagodaplatform.near", "widget_name": "GithubScraper", "source_code": "State.init({ githubApiKey: \"GitHub API Key\" });\nState.init({ repoUrl: \"GitHub Repo URL\" });\nState.init({ docUrl: \"Documentation URL\" });\n\n//define a variable to hold the response\nlet response = \"\";\n\n// event handlers\nconst handleSubmit = async (e) => {\n  e.preventDefault();\n\n  const repoUrl = document.getElementById(\"repoUrl\").value;\n  const docUrl = document.getElementById(\"docUrl\").value;\n\n  try {\n    const response = await fetch(\"https://devbot.hellopartage.xyz/scrape\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify({\n        repoUrl,\n        docUrl,\n        // Pass the GitHub API Key from the State object\n        githubApiKey: State.get(\"githubApiKey\"),\n      }),\n      credentials: \"include\",\n    });\n    const data = await response.json();\n    // Update the response variable with the data from the backend\n    response = data.response;\n  } catch (error) {\n    console.error(error);\n  }\n};\n\nconst handleCopyText = () => {\n  const outputArea = document.querySelector(\".outputArea\");\n  if (outputArea) {\n    outputArea.select();\n    document.execCommand(\"copy\");\n  }\n};\n\nreturn (\n  <div style={{ maxWidth: \"600px\", margin: \"0 auto\", padding: \"20px\" }}>\n    <h1> GitHub Scraper </h1>\n    <p>\n      1. Input your\n      <a href=\"https://github.com/settings/tokens?type=beta\">\n        Github API Key\n      </a>{\" \"}\n      :\n    </p>\n    <input\n      type=\"text\"\n      onChange={(e) => State.update({ githubApiKey: e.target.value })}\n    />\n    <p></p>\n\n    <p>2. Input the GitHub repository URL you want to scrape :</p>\n    <input\n      type=\"text\"\n      onChange={(e) => State.update({ repoUrl: e.target.value })}\n    />\n    <p>{state.repoUrl}</p>\n\n    <p>3. (optional) Input the documentation URL :</p>\n    <input\n      type=\"text\"\n      onChange={(e) => State.update({ docUrl: e.target.value })}\n    />\n    <p>{state.docUrl}</p>\n\n    <div style={{ display: \"flex\", alignItems: \"flex-start\", gap: \"10px\" }}>\n      <button\n        onClick={handleSubmit}\n        style={{\n          fontSize: \"1em\",\n          padding: \"10px 20px\",\n          borderRadius: \"5px\",\n          border: \"none\",\n          color: \"white\",\n          backgroundColor: \"#007bff\",\n          cursor: \"pointer\",\n          transition: \"background-color 0.3s ease\",\n        }}\n      >\n        Submit\n      </button>\n      <button\n        onClick={handleCopyText}\n        style={{\n          fontSize: \"1em\",\n          padding: \"10px 20px\",\n          borderRadius: \"5px\",\n          border: \"none\",\n          color: \"white\",\n          backgroundColor: \"#007bff\",\n          cursor: \"pointer\",\n          transition: \"background-color 0.3s ease\",\n        }}\n      >\n        Copy Text\n      </button>\n    </div>\n    <p></p>\n\n    <div>\n      <textarea\n        value={response}\n        readOnly\n        style={{\n          height: \"100px\",\n          width: \"100%\",\n          margin: \"10px 0\",\n          padding: \"20px\",\n          boxSizing: \"border-box\",\n          borderRadius: \"5px\",\n          border: \"1px solid #ccc\",\n          fontSize: \"1em\",\n        }}\n      />\n    </div>\n  </div>\n);\n", "metadata": {"fork_of": "jcarbonnell.near/widget/GithubScraper@116689349"}, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/relayer.pagodaplatform.near/widget/GithubScraper", "fact_widget_deployments_id": "9b2cc6f2d3c358adf8447e95c05f5b73", "inserted_timestamp": "2024-04-12T20:37:11.061Z", "modified_timestamp": "2024-04-12T20:37:11.061Z", "__row_index": 0}