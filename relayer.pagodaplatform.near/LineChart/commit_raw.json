{"tx_hash": "6GDxfKayTcKuQMGrQyB75tvUw3VfC1dwcTvryU16bWPN", "action_id_social": "BykTHNjRANF8hdMTMbEuKGicaQ2r6PPYDuaZyxkYnagV-0-widget", "block_id": 99407263, "block_timestamp": "2023-08-22T16:11:09.352Z", "signer_id": "relayer.pagodaplatform.near", "widget_name": "LineChart", "source_code": "const {\r\n  xColumn,\r\n  yColumn,\r\n  data,\r\n  legendMax,\r\n  legendMin,\r\n  label,\r\n  isXDate,\r\n  strokeColumn,\r\n  title,\r\n} = props;\r\nconst code = `\r\n<!-- observerable plot -->\r\n<div id=\"myplot\" style=\"width: 100%; display: flex; align-items: center; justify-content: center;\"></div>\r\n<script src=\"https://cdnjs.cloudflare.com/ajax/libs/d3/7.8.5/d3.min.js\" integrity=\"sha512-M7nHCiNUOwFt6Us3r8alutZLm9qMt4s9951uo8jqO4UwJ1hziseL6O3ndFyigx6+LREfZqnhHxYjKRJ8ZQ69DQ==\" crossorigin=\"anonymous\" referrerpolicy=\"no-referrer\"></script>\r\n<script type=\"module\">\r\n\r\nimport * as Plot from \"https://cdn.jsdelivr.net/npm/@observablehq/plot@0.6/+esm\";\r\n\r\nconst data = ${JSON.stringify(data ?? [])};\r\n\r\n// convert to date object\r\nif(1 == ${isXDate ? \"1\" : \"0\"}) {\r\n    data.forEach((x, index) => {\r\n        data[index]['${xColumn}'] = new Date(data[index]['${xColumn}']);\r\n    });\r\n}\r\n\r\nconst plot = Plot.plot({\r\n  width: 780,\r\n  x: {type: \"${isXDate ? \"date\" : \"band\"}\",},\r\n  ${isXDate ? `x: (d) => d3.utcDay(d.${xColumn}),` : \"\"}\r\n  y: {grid: true, label: \"${label}\"},\r\n  style: {\r\n    fontSize: 30\r\n  },\r\n  color: { legend: true },\r\n  marks: [\r\n    Plot.ruleY([0]),\r\n    Plot.lineY(data, {x: \"${xColumn}\", y: \"${yColumn}\", stroke: \"${strokeColumn}\"})\r\n  ]\r\n})\r\nconst div = document.querySelector(\"#myplot\");\r\ndiv.append(plot);\r\n\r\n</script>\r\n\r\n`;\r\n\r\nreturn (\r\n  <div className=\"w-100 d-flex flex-column align-items-center\">\r\n    {props.title && <strong>{props.title}</strong>}\r\n    <iframe\r\n      className=\"w-100\"\r\n      style={{ height: 500, width: 600 }}\r\n      srcDoc={code}\r\n    />\r\n  </div>", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/relayer.pagodaplatform.near/widget/LineChart", "fact_widget_deployments_id": "0c1a87702c49d485380f542cf5cf753a", "inserted_timestamp": "2024-03-07T05:24:05.087Z", "modified_timestamp": "2024-03-07T05:24:05.087Z", "__row_index": 8}