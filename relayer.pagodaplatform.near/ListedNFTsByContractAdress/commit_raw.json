{"tx_hash": "2rVhnPbaC4VaffKEv6MBtXW4UC1m7JPSCVAkucrD7E76", "action_id_social": "G4SprLXPxDZ8Q1yXLDxp8zwAtdNSaSjcJLv9hFNF1bsr-0-widget", "block_id": 92628451, "block_timestamp": "2023-05-24T21:20:30.195Z", "signer_id": "relayer.pagodaplatform.near", "widget_name": "ListedNFTsByContractAdress", "source_code": null, "metadata": null, "branch": {"draft": {"": "const contract = \"market.fewandfar.near\";\nconst params = {\n  nft_contract_id: \"mango.recurforever.near\",\n  from_index: \"0\",\n  limit: 5,\n};\nconst data = Near.view(contract, \"get_sales_by_nft_contract_id\", params);\nconsole.log(data);\n// IPFS base URL\nconst ipfsBaseURL = \"https://ipfs.io/ipfs/\";\n\n// Function to convert YoctoNEAR to NEAR and round to one decimal place\nfunction convertYoctoNearToNear(yoctoNear) {\n  const nearInString = yoctoNear.toString();\n  const nearLength = nearInString.length;\n  let nearValue;\n\n  if (nearLength <= 24) {\n    nearValue = \"0.\" + \"0\".repeat(24 - nearLength) + nearInString;\n  } else {\n    nearValue =\n      nearInString.slice(0, -24) + \".\" + nearInString.slice(-24, -24 + 2);\n  }\n\n  // Return rounded NEAR value\n  return Number(nearValue).toFixed(1);\n}\nreturn (\n  <>\n    <div className=\"container mt-3 text-center\">\n      <h1 className=\"mb-5\">FewFar</h1>\n      <h4 className=\"mb-4\">{`Total Listings: ${data.length}`}</h4>\n\n      {data.length > 0 && (\n        <h4 className=\"mb-4\">{`Contract Address: ${data[0].nft_contract_id}`}</h4>\n      )}\n\n      <div className=\"d-flex flex-wrap justify-content-center\">\n        {data.map((item, index) => (\n          <div\n            className=\"card m-2 shadow-lg\"\n            style={{ width: \"18rem\" }}\n            key={index}\n          >\n            <div className=\"card-body\">\n              <h5 className=\"card-title\">Token ID: {item.token_id}</h5>\n              <p className=\"card-text\">\n                <strong>NFT Contract ID:</strong> {item.nft_contract_id}\n              </p>\n              <p className=\"card-text\">\n                <strong>Owner ID:</strong> {item.owner_id}\n              </p>\n              <p className=\"card-text\">\n                <strong>Sale Price:</strong>{\" \"}\n                {convertYoctoNearToNear(item.sale_conditions.near)} NEAR\n              </p>\n            </div>\n          </div>\n        ))}\n      </div>\n    </div>\n  </>\n);\n"}}, "widget_modules_used": null, "widget_url": "https://near.social/#/relayer.pagodaplatform.near/widget/ListedNFTsByContractAdress", "fact_widget_deployments_id": "ea09b4aee3c95e91d4ed661e6c2acabc", "inserted_timestamp": "2024-03-07T05:24:05.087Z", "modified_timestamp": "2024-03-07T05:24:05.087Z", "__row_index": 0}