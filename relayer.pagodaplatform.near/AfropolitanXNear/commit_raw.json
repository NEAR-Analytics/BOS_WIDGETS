{"tx_hash": "BcLobyoNdEEX4DiXCSLGnDtiej23atWzUpx2ykv9g8c", "action_id_social": "2hj3NCU3STCAxzYB5SdjmyXSvDWgGnaHrEyZsPa4ozij-0-widget", "block_id": 96538379, "block_timestamp": "2023-07-15T15:06:11.654Z", "signer_id": "relayer.pagodaplatform.near", "widget_name": "AfropolitanXNear", "source_code": "const sender = Ethers.send(\"eth_requestAccounts\", [])[0];\nif (!sender) return \"You need to login first\";\nconst { nftCollectionAddress } = props;\nconst nftCollectionABI = [\n  {\n    inputs: [{ internalType: \"address\", name: \"owner\", type: \"address\" }],\n    name: \"balanceOf\",\n    outputs: [{ internalType: \"uint256\", name: \"\", type: \"uint256\" }],\n    stateMutability: \"view\",\n    type: \"function\",\n  },\n];\n\nState.init({ isLoggedIn: false, loading: false });\n\nconst getNftContract = async () => {\n  State.update({ loading: true });\n  const signer = Ethers.provider().getSigner();\n  const nftContract = new ethers.Contract(\n    nftCollectionAddress,\n    nftCollectionABI,\n    signer\n  );\n  nftContract\n    .balanceOf(sender)\n    .then((res) => {\n      if (parseInt(res[\"_hex\"], 16) > 0) {\n        State.update({ isLoggedIn: true });\n      } else {\n        State.update({ isLoggedIn: false });\n      }\n      State.update({ loading: false });\n    })\n    .catch((error) => console.log(error));\n};\n\nreturn (\n  <div>\n    <div>\n      <div style={{ display: \"flex\" }}>\n        <img\n          width={48}\n          src=\"https://res.cloudinary.com/crunchbase-production/image/upload/c_lpad,f_auto,q_auto:eco,dpr_1/wfb8wvfuzofnk7wnfvli\"\n        />\n        <h1\n          style={{\n            fontFamily: \"Syncopate, sans-serif\",\n            fontSize: \"2rem\",\n            fontWeight: \"bold\",\n            margin: \"0.5rem -0.4rem\",\n            color: \"#CF574A\",\n          }}\n        >\n          fropolitan x Near\n        </h1>\n      </div>\n      <h6\n        style={{\n          fontFamily: \"Syncopate, sans-serif\",\n          fontSize: \"0.8rem\",\n          margin: \"0.2rem 0.8rem\",\n        }}\n      >\n        NFT Gated payment system for Social Activities\n      </h6>\n      <hr />\n    </div>\n    <div\n      style={{\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n      }}\n    >\n      <div style={{ marginRight: \"1rem\" }}>\n        <img\n          style={{ borderRadius: \"50%\", margin: \"0.5rem\" }}\n          width={80}\n          src=\"https://i.seadn.io/gcs/files/4530fc473fea3a9dbdb8e61afe177920.jpg?auto=format&dpr=1&w=640\"\n          alt=\"Profile Image\"\n        />\n        <img\n          style={{ borderRadius: \"50%\", margin: \"0.5rem\" }}\n          width={80}\n          src=\"https://i.seadn.io/gcs/files/4530fc473fea3a9dbdb8e61afe177920.jpg?auto=format&dpr=1&w=640\"\n          alt=\"Profile Image\"\n        />\n        <img\n          style={{ borderRadius: \"50%\", margin: \"0.5rem\" }}\n          width={80}\n          src=\"https://i.seadn.io/gcs/files/4530fc473fea3a9dbdb8e61afe177920.jpg?auto=format&dpr=1&w=640\"\n          alt=\"Profile Image\"\n        />\n      </div>\n      <div>\n        <p style={{ fontFamily: \"Arial, sans-serif\", fontSize: \"1rem\" }}>\n          You can only enter the network if you own an Afropolitan Network NFT\\n\n        </p>\n        <p style={{ fontFamily: \"Arial, sans-serif\", fontSize: \"1rem\" }}>\n          Make sure metamask is installed as we will use it to verify your\n          ownership\n        </p>\n        <button\n          style={{\n            marginTop: \"1rem\",\n            fontSize: \"1rem\",\n            padding: \"0.5rem 1rem\",\n            borderRadius: \"0.25rem\",\n            backgroundColor: \"#CF574A\",\n            color: \"white\",\n            outline: \"none\",\n          }}\n          onClick={getNftContract}\n          disabled={state.loading}\n        >\n          Enter Network\n        </button>\n      </div>\n    </div>\n  </div>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/relayer.pagodaplatform.near/widget/AfropolitanXNear", "fact_widget_deployments_id": "ad51dc5f316efa33a468d2216697cc2b", "inserted_timestamp": "2024-03-07T05:24:05.087Z", "modified_timestamp": "2024-03-07T05:24:05.087Z", "__row_index": 2}