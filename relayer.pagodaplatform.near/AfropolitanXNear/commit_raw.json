{"tx_hash": "7CHtRnZLqocxsnY7hpTFcnRdvZgG5JSXyeq94bXrLLQC", "action_id_social": "8FzcHwBXnTVb84Aso7HDqBnGRLRiK3jMaaHupZ3kDYM3-0-widget", "block_id": 96523901, "block_timestamp": "2023-07-15T10:36:02.035Z", "signer_id": "relayer.pagodaplatform.near", "widget_name": "AfropolitanXNear", "source_code": "const sender = Ethers.send(\"eth_requestAccounts\", [])[0];\nif (!sender) return \"You need to login first\";\nconst { nftCollectionAddress } = props;\nconst nftCollectionABI = [\n  {\n    inputs: [{ internalType: \"address\", name: \"owner\", type: \"address\" }],\n    name: \"balanceOf\",\n    outputs: [{ internalType: \"uint256\", name: \"\", type: \"uint256\" }],\n    stateMutability: \"view\",\n    type: \"function\",\n  },\n];\n\nconst getNftContract = async () => {\n  const signer = Ethers.provider().getSigner();\n  const nftContract = new ethers.Contract(\n    nftCollectionAddress,\n    nftCollectionABI,\n    signer\n  );\n  nftContract\n    .balanceOf(sender)\n    .then((res) => {\n      console.log(parseInt(res[\"_hex\"], 16));\n    })\n    .catch((error) => console.log(error));\n};\n\nreturn (\n  <div>\n    <h1>NFT Gateway</h1>\n    <p>You are logged in as : {sender}</p>\n    <button onClick={getNftContract}>Login to DAO</button>\n  </div>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/relayer.pagodaplatform.near/widget/AfropolitanXNear", "fact_widget_deployments_id": "955df435bdb10ff5f92d1eacc6b586fe", "inserted_timestamp": "2024-03-07T05:24:05.087Z", "modified_timestamp": "2024-03-07T05:24:05.087Z", "__row_index": 3}