{"tx_hash": "6526Mh2wkCQecb67GvaXqcv452TKWbHuScMfCYVTnQ7h", "action_id_social": "CGqRTd6kxu6B85Vqrts4Ta1kH2DFCBpDPNw74qh6w9qk-0-widget", "block_id": 94292737, "block_timestamp": "2023-06-16T06:37:08.712Z", "signer_id": "relayer.pagodaplatform.near", "widget_name": "donate-me", "source_code": "const receiver = \"vishal-dharmawat.near\";\n\n// let TG_TO_YOCTONEAR_FACTOR = Big(\"1000000000000\"); // 1e12\n// let TGAmount = Big(300);\n// let _yoctoNearAmount = TGAmount * TG_TO_YOCTONEAR_FACTOR;\n\nState.init({\n  currentDonations: 0,\n  totalDonations: 100,\n  amount: 0.1,\n});\n\nconst DonateView = styled.div`\nbackground-color: lightblue;\ndisplay: inline-flex;\nflex-direction: column;\n`;\n\nconst DonateButton = styled.button`\n  background-color: #1a73e8;\n  color: white;\n  border: none;\n  padding: 10px;\n  margin: 1.5em;\n  margin-top: 0px;\n  text-align: center;\n  text-decoration: none;\n  display: inline-block;\n  font-size: 16px;\n  border-radius: 8px;\n  cursor: pointer;\n`;\n\nconst DonateInput = styled.input`\n    margin-right: 10px;\n    font-size: 16px;\n    border-radius: 5px;\n    border-color: transparent;\n    text-align: right;\n`;\n\nconst handleButtonClick = () => {\n  const NEAR_TO_YOCTONEAR_FACTOR = Big(\"1000000000000000000000000\"); // 1e24\n  let nearAmount = Big(Math.round(state.amount * 1e5) / 1e5); // Convert NEAR to a smaller unit that can be handled as an integer\n  let yoctoNearAmount = nearAmount * NEAR_TO_YOCTONEAR_FACTOR;\n\n  Near.call([\n    {\n      contractName: \"donation-near-social.near\",\n      methodName: \"donate\",\n      args: {\n        beneficiary: receiver,\n      },\n      deposit: yoctoNearAmount,\n      gas: \"200000000000000\",\n    },\n  ]);\n};\n\nconst childrenComp = props.childrenComp || <div>No children components</div>;\n\nconst handleChange = (e) => {\n  let amount = e.target.value > 0.1 ? e.target.value : 0.1;\n  State.update({\n    ...state,\n    amount,\n  });\n};\n\nreturn (\n  <DonateView>\n    {childrenComp}\n    {props.name && <div>Hi {props.name}</div>}\n    <div style={{ margin: \"1.5em\" }}>\n      <DonateInput\n        type=\"number\"\n        label=\"Near\"\n        min=\"0.1\"\n        defaultValue={state.amount}\n        onChange={handleChange}\n      />\n      <span>Near</span>\n    </div>\n    <DonateButton id=\"donateButton\">\n      <button\n        onClick={handleButtonClick}\n        style={{ backgroundColor: \"transparent\", border: \"none\" }}\n      >\n        Donate me Near\n      </button>\n    </DonateButton>\n    <button onClick={props.onClick}>Click me</button>\n  </DonateView>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/relayer.pagodaplatform.near/widget/donate-me", "fact_widget_deployments_id": "03f5bc251958347651f7e233c7c4a3ef", "inserted_timestamp": "2024-03-07T05:24:05.087Z", "modified_timestamp": "2024-03-07T05:24:05.087Z", "__row_index": 16}