{"tx_hash": "GQrXCqNiWkEvEtd4GuhYnmBCx4FQzxsbuUwUWkZCfQk5", "action_id_social": "4657UwnctVpx9XdMYa7RmTr2rinobbZAQzwxDgHvjezd-0-widget", "block_id": 100964391, "block_timestamp": "2023-09-12T14:16:02.614Z", "signer_id": "contribut3.near", "widget_name": "Perks.CategoriesInner", "source_code": "const ownerId = \"contribut3.near\";\n/** @type {string[]} */\nconst categories = props.categories;\n/** @type {string[]} */\nconst selected = props.selected;\n/** @type {{categories:string[];}[]} */\nconst results = props.results;\n/** @type {(string[]) => void} */\nconst setCategories = props.setCategories;\n\nState.init({\n  selected,\n});\n\nconst setCategory = (category) => {\n  selected.push(category);\n  State.update({ selected });\n};\n\nconst removeCategory = (category) => {\n  const index = selected.indexOf(category);\n  selected.splice(index, 1);\n  State.update({ selected });\n};\n\nconst Category = styled.button`\n  display: flex;\n  padding: 0.375rem 1.125rem;\n  justify-content: center;\n  align-items: center;\n  gap: 0.3125rem;\n  border-radius: 3.125rem;\n  border: 1px solid var(--ui-elements-light, #eceef0);\n  background: var(--background-light, #fafafa);\n  color: var(--text-text-dark, #11181c);\n  text-align: center;\n  font-family: Inter;\n  font-size: 0.8125rem;\n  font-style: normal;\n  font-weight: 500;\n  line-height: 142%; /* 1.15375rem */\n  letter-spacing: 0.01625rem;\n\n  &.selected {\n    border-radius: 3.125rem;\n    background: var(--ui-elements-dark, #11181c);\n    color: var(--ui-elements-white, #fff);\n    border: none;\n    text-align: center;\n    font-family: Inter;\n    font-size: 0.8125rem;\n    font-style: normal;\n    font-weight: 500;\n    line-height: 142%; /* 1.15375rem */\n    letter-spacing: 0.01625rem;\n  }\n`;\n\nconst Separator = styled(\"Separator.Root\")`\n  width: 100%;\n  height: 1px;\n  background: var(--ui-elements-light, #eceef0);\n`;\n\nconst ClearButton = styled.button`\n  display: flex;\n  width: 7rem;\n  height: 2.5rem;\n  padding: 0.5rem 1rem;\n  justify-content: center;\n  align-items: center;\n  gap: 0.5rem;\n  border-radius: 3.125rem;\n  border: none;\n  background: var(--background-black-2, #161615);\n  color: var(--text-text-white, #fff);\n  text-align: center;\n  font-family: \"Mona Sans\";\n  font-size: 0.875rem;\n  font-style: normal;\n  font-weight: 600;\n  line-height: 142%; /* 1.2425rem */\n  letter-spacing: 0.00875rem;\n`;\n\nconst ShowButton = styled.button`\n  display: flex;\n  width: 9.1875rem;\n  height: 2.5rem;\n  padding: 0.5rem 1rem;\n  justify-content: center;\n  align-items: center;\n  gap: 0.5rem;\n  border-radius: 3.125rem;\n  border: none;\n  background: var(--primary-primary-default, #00ec97);\n  color: var(--text-text-dark, #11181c);\n  text-align: center;\n  font-family: \"Mona Sans\";\n  font-size: 0.875rem;\n  font-style: normal;\n  font-weight: 600;\n  line-height: 142%; /* 1.2425rem */\n  letter-spacing: 0.00875rem;\n`;\n\nconst resultCount = results.filter(\n  ({ fields: { category: categories } }) =>\n    state.selected.length === 0 ||\n    state.selected.includes(\"All\") ||\n    categories.some((category) => state.selected.includes(category)),\n).length;\n\nreturn (\n  <>\n    <div>\n      {categories.map((category) => {\n        const isSelected = state.selected.includes(category);\n        const onClick = () => {\n          if (isSelected) {\n            removeCategory(category);\n          } else {\n            setCategory(category);\n          }\n        };\n\n        return (\n          <Category\n            key={category}\n            onClick={onClick}\n            // disabled={isSelected}\n            className={isSelected ? \"selected\" : \"\"}\n          >\n            {category}\n          </Category>\n        );\n      })}\n    </div>\n    <Separator />\n    <div>\n      <ClearButton onClick={() => State.update({ selected: [] })}>\n        Clear filters\n      </ClearButton>\n      <ShowButton onClick={() => setCategories(state.selected)}>\n        Show {resultCount} results\n      </ShowButton>\n    </div>\n  </>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/contribut3.near/widget/Perks.CategoriesInner", "fact_widget_deployments_id": "2715104a0ef43b3cdf970319aaab43db", "inserted_timestamp": "2024-03-07T05:24:05.087Z", "modified_timestamp": "2024-03-07T05:24:05.087Z", "__row_index": 0}