{"tx_hash": "9ziLwkhMvBLbSWgbxm1cMdoWLovjvizzpzHaBCDZoJvr", "action_id_social": "DfDU35c5RuX3fYYLUhPgFXk5d67DtBCeMbzmAERJPXod-0-widget", "block_id": 88784657, "block_timestamp": "2023-04-04T07:43:10.679Z", "signer_id": "contribut3.near", "widget_name": "Invite", "source_code": "const ownerId = \"contribut3.near\";\nconst entityId = props.entityId;\nconst contributorId = props.accountId ?? context.accountId;\n\nif (!entityId) {\n  return \"Cannot show invite without entityId or contributorId!\";\n}\n\nconst invite = Near.view(\n  ownerId,\n  \"get_invite\",\n  { entity_id: entityId, contributor_id: contributorId },\n  \"final\",\n  false\n);\n\nconst Controls = styled.div`\n  flex-direction: column;\n  justify-content: start;\n  align-items: stretch;\n  display: ${({ isAuthorized }) => (isAuthorized ? \"flex\" : \"none\")};\n`;\n\nconst AcceptButton = styled.button`\n  background-color: #12b76a;\n  border: 1px solid #12b76a;\n  border-radius: 4px;\n  padding: 0.5em 1em;\n  box-shadow: 0px 1px 2px rgba(16, 24, 40, 0.05);\n  color: white;\n  transition: background-color 0.2s ease-in-out;\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: center;\n\n  &:hover {\n    background-color: #0e9f5d;\n  }\n`;\n\nconst RejectButton = styled.button`\n  background-color: white;\n  border: 1px solid #d0d5dd;\n  border-radius: 4px;\n  padding: 0.5em 1em;\n  margin-top: 0.5em;\n  color: #f04438;\n  transition-property: background-color, color;\n  transition-timing-function: ease-in-out;\n  transition-duration: 0.2s;\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: center;\n\n  &:hover {\n    background-color: #f04438;\n    color: white;\n  }\n`;\n\nconst IconContainer = styled.i`\n  transform: translate(0, -1px);\n  margin-right: 0.25em;\n`;\n\nconst controls = (\n  <Controls isAuthorized={contributorId === context.accountId}>\n    <AcceptButton\n      onClick={() =>\n        Near.call(ownerId, \"accept_invite\", { account_id: entityId })\n      }\n    >\n      <IconContainer>\n        <svg\n          width=\"20\"\n          height=\"20\"\n          viewBox=\"0 0 20 20\"\n          fill=\"none\"\n          xmlns=\"http://www.w3.org/2000/svg\"\n        >\n          <path\n            d=\"M17.1666 5L7.99992 14.1667L3.83325 10\"\n            stroke=\"currentColor\"\n            stroke-width=\"1.66667\"\n            stroke-linecap=\"round\"\n            stroke-linejoin=\"round\"\n          />\n        </svg>\n      </IconContainer>\n      <span>Accept</span>\n    </AcceptButton>\n    <RejectButton\n      style={{ minWidth: \"7em\" }}\n      onClick={() =>\n        Near.call(ownerId, \"reject_invite\", { account_id: entityId })\n      }\n    >\n      <IconContainer>\n        <svg\n          width=\"20\"\n          height=\"20\"\n          viewBox=\"0 0 20 20\"\n          fill=\"none\"\n          xmlns=\"http://www.w3.org/2000/svg\"\n        >\n          <path\n            d=\"M15.5 5L5.5 15M5.5 5L15.5 15\"\n            stroke=\"currentColor\"\n            stroke-width=\"1.66667\"\n            stroke-linecap=\"round\"\n            stroke-linejoin=\"round\"\n          />\n        </svg>\n      </IconContainer>\n      <span>Reject</span>\n    </RejectButton>\n  </Controls>\n);\n\nconst Container = styled.div`\n  display: flex;\n  flex-direction: row;\n  justify-content: start;\n  min-height: 8em;\n  padding: 0 0.75em;\n  border-radius: 4px;\n  background-color: #f0f9ff;\n`;\n\nconst Wrapper = styled.div`\n  flex-grow: 1;\n  padding: 0.75em 0;\n`;\n\nconst DescriptionWrapper = styled.div`\n  margin-top: 0.5em;\n  padding-left: 0.5em;\n  border-left: 3px solid #b2ddff;\n`;\n\nreturn (\n  <Container id={accountId}>\n    <Wrapper>\n      <Widget\n        src={`${ownerId}/widget/ProfileLine`}\n        props={{\n          accountId: entityId,\n          isEntity: true,\n          imageSize: \"3em\",\n          update: props.update,\n          additionalText: (\n            <b>\n              invited{\" \"}\n              {contributorId === context.accountId ? (\n                \"you\"\n              ) : (\n                <Widget\n                  src={`${ownerId}/widget/ProfileLine`}\n                  props={{ accountId: contributorId }}\n                />\n              )}{\" \"}\n              to contribute to\n            </b>\n          ),\n          additionalColumn: controls,\n          additionalRow: (\n            <>\n              <b>\n                Need{\" \"}\n                {typeof invite.contribution_type === \"string\"\n                  ? invite.contribution_type\n                  : invite.contribution_type.Other}\n              </b>\n              <DescriptionWrapper>\n                <Widget\n                  src={`${ownerId}/widget/DescriptionArea`}\n                  props={{ description: invite.description }}\n                />\n              </DescriptionWrapper>\n            </>\n          ),\n        }}\n      />\n    </Wrapper>\n  </Container>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/contribut3.near/widget/Invite", "fact_widget_deployments_id": "fefb89cdcbcf36bc51dd79f851a19e8b", "inserted_timestamp": "2024-03-07T05:24:05.087Z", "modified_timestamp": "2024-03-07T05:24:05.087Z", "__row_index": 0}