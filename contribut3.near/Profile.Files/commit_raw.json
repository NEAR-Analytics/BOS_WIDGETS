{"tx_hash": "H9nwBfF4fbLZRkH1ARpXodsRxt2Gu4cTGpaJkVP1CMAt", "action_id_social": "CjN2UtVQmvXirJfP82QchHmUe2QJiqNd1gnaWZg6UqWD-0-widget", "block_id": 101035021, "block_timestamp": "2023-09-13T12:58:34.759Z", "signer_id": "contribut3.near", "widget_name": "Profile.Files", "source_code": "const ownerId = \"contribut3.near\";\nconst canEdit = true;\n\nState.init({\n  deck: \"\",\n  white_paper: \"\",\n  roadmap: \"\",\n  team_deck: \"\",\n  demo: \"\",\n  projectIsFetched: false,\n});\n\nif (!state.projectIsFetched) {\n  Near.asyncView(\n    ownerId,\n    \"get_project\",\n    { account_id: context.accountId },\n    \"final\",\n    false,\n  ).then((project) =>\n    State.update({\n      deck: project.deck,\n      white_paper: project.white_paper,\n      roadmap: project.roadmap,\n      team_deck: project.team_deck,\n      demo: project.demo,\n      projectIsFetched: true,\n    }),\n  );\n  return <>Loading...</>;\n}\n\nconst onSave = (project) => {\n  Near.call(ownerId, \"edit_project\", {\n    account_id: context.accountId,\n    project,\n  });\n};\n\nconst Container = styled.div`\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n  gap: 1rem;\n`;\n\nconst Header = styled.div`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  width: 100%;\n\n  @media screen and (max-width: 768px) {\n    flex-direction: column;\n    justify-content: flex-start;\n    align-items: flex-start;\n    gap: 1rem;\n  }\n\n  & > div {\n    display: flex;\n    align-items: center;\n    gap: 1rem;\n\n    & > h2 {\n      color: #000;\n      font-family: Inter;\n      font-size: 1.1875rem;\n      font-style: normal;\n      font-weight: 700;\n      line-height: normal;\n    }\n\n    & > small {\n      color: var(--ui-elements-gray, #7e868c);\n      font-family: Inter;\n      font-size: 0.875rem;\n      font-style: normal;\n      font-weight: 400;\n      line-height: 1.25rem; /* 142.857% */\n      letter-spacing: 0.00875rem;\n    }\n  }\n`;\n\nlet completed = 0;\nconst total = 5;\nif (state.deck) completed++;\nif (state.white_paper) completed++;\nif (state.roadmap) completed++;\nif (state.team_deck) completed++;\nif (state.demo) completed++;\n\nreturn (\n  <Container>\n    <Header>\n      <div>\n        <h2>Project overview</h2>\n        <small>\n          Completed:{\" \"}\n          {(completed / total).toLocaleString(\"en-GB\", { style: \"percent\" })}\n        </small>\n      </div>\n    </Header>\n    <Widget\n      src={`${ownerId}/widget/Inputs.File`}\n      props={{\n        label: \"Pitch deck\",\n        id: \"pitch-deck\",\n        fileAccept: [\".pdf\"],\n        value: state.deck,\n        onSave: (deck) => onSave({ deck }),\n        canEdit,\n      }}\n    />\n    <Widget\n      src={`${ownerId}/widget/Inputs.File`}\n      props={{\n        label: \"White paper\",\n        id: \"white-paper\",\n        fileAccept: [\".pdf\"],\n        value: state.white_paper,\n        onSave: (white_paper) => onSave({ white_paper }),\n        canEdit,\n      }}\n    />\n    <Widget\n      src={`${ownerId}/widget/Inputs.File`}\n      props={{\n        label: \"Roadmap\",\n        id: \"roadmap\",\n        fileAccept: [\".pdf\"],\n        value: state.roadmap,\n        onSave: (roadmap) => onSave({ roadmap }),\n        canEdit,\n      }}\n    />\n    <Widget\n      src={`${ownerId}/widget/Inputs.File`}\n      props={{\n        label: \"Team\",\n        id: \"team\",\n        fileAccept: [\".pdf\"],\n        value: state.team_deck,\n        onSave: (team_deck) => onSave({ team_deck }),\n        canEdit,\n      }}\n    />\n    <Widget\n      src={`${ownerId}/widget/Inputs.File`}\n      props={{\n        label: \"Demo video\",\n        id: \"demo-video\",\n        fileAccept: [\"video/*\"],\n        value: state.demo,\n        onSave: (demo) => onSave({ demo }),\n        canEdit,\n      }}\n    />\n  </Container>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/contribut3.near/widget/Profile.Files", "fact_widget_deployments_id": "98ce389ab4be04a865e11364c202fbd3", "inserted_timestamp": "2024-03-07T05:24:05.087Z", "modified_timestamp": "2024-03-07T05:24:05.087Z", "__row_index": 0}