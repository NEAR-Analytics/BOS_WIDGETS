{"tx_hash": "GQrXCqNiWkEvEtd4GuhYnmBCx4FQzxsbuUwUWkZCfQk5", "action_id_social": "4657UwnctVpx9XdMYa7RmTr2rinobbZAQzwxDgHvjezd-0-widget", "block_id": 100964391, "block_timestamp": "2023-09-12T14:16:02.614Z", "signer_id": "contribut3.near", "widget_name": "Project.Layout", "source_code": "const ownerId = \"contribut3.near\";\n/**\n * @param {{ipfs_cid?:string;url?:string}} image\n **/\nconst getImageSrc = (image) => {\n  if (image.ipfs_cid) {\n    return `https://ipfs.near.social/ipfs/${image.ipfs_cid}`;\n  } else if (image.url) {\n    return image.url;\n  } else {\n    return \"https://thewiki.io/static/media/sasha_anon.6ba19561.png\";\n  }\n};\n\nconst Container = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n  gap: 3rem;\n  width: 100%;\n`;\n\nconst Header = styled.div`\n  display: flex;\n  padding-bottom: 0px;\n  align-items: flex-start;\n  gap: 1.5rem;\n  align-self: stretch;\n  width: 100%;\n`;\n\nconst ImageContainer = styled.div`\n  display: flex;\n  width: 7rem;\n  height: 7rem;\n  flex-shrink: 0;\n  justify-content: center;\n  align-items: center;\n  border-radius: 0.5rem;\n  border: 3px solid var(--ui-elements-light, #eceef0);\n  background: var(--background-light, #fafafa);\n  overflow: hidden;\n`;\n\nconst ImageBlock = styled.img`\n  object-fit: cover;\n  width: 100%;\n  height: 100%;\n`;\n\nconst Details = styled.div`\n  display: flex;\n  padding-top: 1px;\n  flex-direction: column;\n  align-items: flex-start;\n  gap: 0.75rem;\n  width: 100%;\n\n  @media screen and (max-width: 768px) {\n    & > :nth-child(n + 2) {\n      display: none;\n    }\n  }\n`;\n\nconst NameArea = styled.div`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  align-self: stretch;\n  width: 100%;\n\n  @media screen and (max-width: 768px) {\n    flex-direction: column;\n    align-items: flex-start;\n    gap: 0.75rem;\n  }\n`;\n\nconst CTA = styled.div`\n  display: flex;\n  justify-content: flex-end;\n  align-items: center;\n  gap: 0.9375rem;\n`;\n\nconst CTAButton = styled.button`\n  display: flex;\n  height: 1.875rem;\n  padding: 0.5rem 0.75rem;\n  justify-content: center;\n  align-items: center;\n  gap: 0.5rem;\n  border-radius: 3.125rem;\n  border: 1px solid var(--ui-elements-light, #eceef0);\n  background: var(--background-light, #fafafa);\n  color: var(--text-text-primary, #101828);\n  text-align: center;\n  font-family: \"Mona Sans\";\n  font-size: 0.75rem;\n  font-style: normal;\n  font-weight: 600;\n  line-height: 1.0375rem; /* 138.333% */\n`;\n\nconst Tagline = styled.p`\n  display: flex;\n  align-items: center;\n  gap: 0.75rem;\n  color: var(--gray-900, #101828);\n  font-family: \"Mona Sans\";\n  font-size: 0.875rem;\n  font-style: normal;\n  font-weight: 400;\n  line-height: 140%; /* 1.225rem */\n  letter-spacing: 0.00875rem;\n`;\n\nconst Content = styled.div`\n  width: 100%;\n`;\n\nconst Column = styled.div`\n  display: flex;\n  flex-direction: column;\n  gap: 1.06rem;\n  width: 100%;\n\n  @media screen and (min-width: 769px) {\n    & > :nth-child(n + 2) {\n      display: none;\n    }\n  }\n`;\n\nState.init({\n  profile: null,\n  profileIsFetched: false,\n});\n\nif (!state.profileIsFetched) {\n  Near.asyncView(\n    \"social.near\",\n    \"get\",\n    { keys: [`${props.accountId}/profile/**`] },\n    \"final\",\n    false,\n  ).then((profile) => {\n    State.update({\n      profile: profile[props.accountId].profile,\n      profileIsFetched: true,\n    });\n  });\n  return <>Loading...</>;\n}\n\nreturn (\n  <Container>\n    <Column>\n      <Header>\n        <ImageContainer>\n          <ImageBlock src={getImageSrc(state.profile.image)} />\n        </ImageContainer>\n        <Details>\n          <NameArea>\n            <Widget\n              src={`${ownerId}/widget/NameAndAccount`}\n              props={{\n                accountId,\n                name: state.profile.name,\n                nameSize: \"1.5625rem\",\n                accountSize: \".875rem\",\n              }}\n            />\n            <CTA>\n              <CTAButton>Edit</CTAButton>\n              <CTAButton>Share</CTAButton>\n            </CTA>\n          </NameArea>\n          <Tagline>{state.profile.tagline}</Tagline>\n          <Widget\n            src={`${ownerId}/widget/Tags`}\n            props={{ tags: state.profile.verticals }}\n          />\n        </Details>\n      </Header>\n      <div>\n        <Tagline>{state.profile.tagline}</Tagline>\n        <Widget\n          src={`${ownerId}/widget/Tags`}\n          props={{ tags: state.profile.verticals }}\n        />\n      </div>\n    </Column>\n    <Content>{props.children}</Content>\n  </Container>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/contribut3.near/widget/Project.Layout", "fact_widget_deployments_id": "0f66d21edc41de2d1e62e803eb116cd9", "inserted_timestamp": "2024-03-07T05:24:05.087Z", "modified_timestamp": "2024-03-07T05:24:05.087Z", "__row_index": 1}