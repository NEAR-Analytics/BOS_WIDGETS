{"tx_hash": "Aoprob1L12n4B9fzbx2GXkksLvrQz5WY7KGrUfqKiv2c", "action_id_social": "8cyYE6khr8uaHJipFUaswxMDLrcacugdeekMDtFtjsJ9-0-widget", "block_id": 112373780, "block_timestamp": "2024-02-08T09:25:51.480Z", "signer_id": "amirsaran.near", "widget_name": "cookies", "source_code": "const Cookies = styled.div`\n    background-color: white;\n    position: fixed;\n    bottom: 0;\n    box-shadow: 0 8px 48px rgba(0,0,0,.15);\n    border-radius: 4px;\n    margin: 16px auto;\n    padding: 16px;\n    display: flex;\n    align-items: center;\n    gap: 15px;\n    max-width: 80%;\n    left: 0;\n    right: 0;\n    \n    p {\n        margin-bottom: 0;\n    }\n\n    .buttons {\n        display: flex;\n        gap: 15px;\n\n        button {\n            color: white;\n            border-radius: 100px;\n            padding-left: 25px;\n            padding-right: 25px;\n        }\n\n        .btn-secondary {\n            background-color: #33353B;\n        }\n    }\n\n    @media only screen and (max-width: 800px) {\n        flex-direction: column;\n        align-items: flex-start;\n    }\n`;\n\nconst CustomizeDialogContent = styled.div`\n    padding: 15px;\n    display: flex;\n    flex-direction: column;\n    gap: 50px;\n\n    .info {\n        display: flex;\n        flex-direction: column;\n        gap: 20px;\n\n        h2 {\n            font-size: 22px;\n        }\n    }\n\n`;\n\nState.init({\n  cookiePopupTimestamp: null,\n  cookieAcceptance: null,\n  isDialogOpen: false,\n});\n\nuseEffect(() => {\n  State.update({ cookiePopupTimestamp: Storage.get(\"cookie_popup_timestamp\") });\n  State.update({ cookieAcceptance: Storage.get(\"cookie_acceptance\") });\n}, []);\n\nif (state.cookiePopupTimestamp && state.cookieAcceptance) {\n  return \"\";\n}\n\nconst onAccept = (cookie_acceptance) => {\n  const cookie_popup_timestamp = Date.now();\n\n  Storage.set(\"cookie_popup_timestamp\", cookie_popup_timestamp);\n  Storage.set(\"cookie_acceptance\", cookie_acceptance);\n\n  State.update({ cookiePopupTimestamp: cookie_popup_timestamp });\n  State.update({ cookieAcceptance: cookie_acceptance });\n};\n\nconst onCustomize = () => {\n  State.update({ isDialogOpen: true });\n};\n\nreturn (\n  <Cookies>\n    <Widget\n      src=\"near/widget/DIG.Dialog\"\n      props={{\n        content: (\n          <CustomizeDialogContent>\n            <div class=\"info\">\n              <div>\n                <h2>Necessary Cookies</h2>\n                <p>\n                  These cookies are required for website functionality such as\n                  storing your settings and preferences, as detailed{\" \"}\n                  <a href=\"near.org/near/widget/NearOrg.CookieDetails\">here</a>.\n                </p>\n              </div>\n              <div>\n                <h2>Marketing & Analytics Cookies</h2>\n                <p>\n                  We recommend accepting these cookies, which include\n                  third-party cookies, for the improvement of user experience\n                  and discoverability on the B.O.S. These cookies contribute to\n                  anonymized statistics which are analyzed in aggregate.\n                </p>\n              </div>\n            </div>\n            <div class=\"buttons\">\n              <button\n                onClick={() => {\n                  onAccept(\"all\");\n                  State.update({ isDialogOpen: false });\n                }}\n              >\n                Accept All\n              </button>\n              <button\n                class=\"btn-secondary\"\n                onClick={() => {\n                  onAccept(\"required_only\");\n                  State.update({ isDialogOpen: false });\n                }}\n              >\n                Accept Required Only\n              </button>\n            </div>\n          </CustomizeDialogContent>\n        ),\n        open: state.isDialogOpen,\n        actionButtons: false,\n        contentStyles: \"max-width: 750px;\",\n        onOpenChange: (value) => State.update({ isDialogOpen: value }),\n      }}\n    />\n    <p>\n      We use our own and third-party cookies on our website to enhance your\n      experience, analyze traffic, and for marketing. For more information see\n      our{\" \"}\n      <a\n        href=\"https://near.org/cookies\"\n        target=\"_blank\"\n        rel=\"noopener noreferrer\"\n      >\n        Cookie Policy\n      </a>\n      .{\" \"}\n    </p>\n    <div class=\"buttons\">\n      <button className=\"btn-secondary\" onClick={onCustomize}>\n        Customize\n      </button>\n      <button onClick={() => onAccept(\"all\")}>Accept</button>\n    </div>\n  </Cookies>\n);\n", "metadata": {"fork_of": "amirsaran.near/widget/cookies@112373765"}, "branch": {"draft": null}, "widget_modules_used": null, "widget_url": "https://near.social/#/amirsaran.near/widget/cookies", "fact_widget_deployments_id": "87d9033e6f82c42efacc167c8137b8a6", "inserted_timestamp": "2024-03-07T05:24:05.087Z", "modified_timestamp": "2024-03-07T05:24:05.087Z", "__row_index": 0}