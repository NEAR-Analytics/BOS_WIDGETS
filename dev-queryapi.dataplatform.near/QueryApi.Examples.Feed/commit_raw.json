{"tx_hash": "HCzTupF1wddFkN1mHytn6zwhsfJrR6Zjy5e9sCTYxn5b", "action_id_social": "6JZ99g4Ncj45J3jxhvSZsnw8wXTAmyWZrcJEkNsy5UCz-0-widget", "block_id": 97019927, "block_timestamp": "2023-07-21T21:24:56.950Z", "signer_id": "dev-queryapi.dataplatform.near", "widget_name": "QueryApi.Examples.Feed", "source_code": "const GRAPHQL_ENDPOINT =\n  props.GRAPHQL_ENDPOINT || \"https://near-queryapi.api.pagoda.co\";\nconst APP_OWNER = props.APP_OWNER || \"dataplatform.near\";\nconst loadMorePosts = props.loadMorePosts;\nconst hasMore = props.hasMore || false;\nconst posts = props.posts || [];\n\nconst Subheading = styled.h2`\n  display: block;\n  margin: 0;\n  font-size: 14px;\n  line-height: 10px;\n  color: ${(p) => (p.bold ? \"#11181C !important\" : \"#687076 !important\")};\n  font-weight: ${(p) => (p.bold ? \"600\" : \"400\")};\n  font-size: ${(p) => (p.small ? \"12px\" : \"14px\")};\n  overflow: ${(p) => (p.ellipsis ? \"hidden\" : \"visible\")};\n  text-overflow: ${(p) => (p.ellipsis ? \"ellipsis\" : \"unset\")};\n  white-space: nowrap;\n  outline: none;\n`;\n\n\nconst Post = styled.div`\n  border-bottom: 1px solid #ECEEF0;\n  padding: 24px 0 12px;\n\n  @media (max-width: 1200px) {\n    padding: 12px 0 0;\n  }\n`;\n\nconst renderItem = (item, i) => {\n  if (item.accounts_liked.length !== 0) {\n    item.accounts_liked = JSON.parse(item.accounts_liked);\n  }\n  return (\n    <Post className=\"post\" key={item.block_height + \"_\" + item.account_id}>\n      <Widget\n        src={`${APP_OWNER}/widget/QueryApi.Examples.Feed.Post`}\n        props={{\n          accountId: item.account_id,\n          blockHeight: item.block_height,\n          content: item.content,\n          comments: item.comments,\n          likes: item.accounts_liked,\n          GRAPHQL_ENDPOINT,\n          APP_OWNER,\n        }}\n      />\n    </Post>\n  );\n};\n\nconst renderedItems = posts.map(renderItem);\n\nconst Loader = () => {\nreturn(        \n  <div className=\"loader\">\n    <span\n      className=\"spinner-grow spinner-grow-sm me-1\"\n      role=\"status\"\n      aria-hidden=\"true\"\n    />\n    Loading ...\n  </div>)\n}\n\nif (!posts) return(<Loader/>)\n\nreturn (\n  <InfiniteScroll\n    pageStart={0}\n    loadMore={loadMorePosts}\n    hasMore={hasMore}\n    loader={\n      <div className=\"loader\">\n        <span\n          className=\"spinner-grow spinner-grow-sm me-1\"\n          role=\"status\"\n          aria-hidden=\"true\"\n        />\n        Loading ...\n      </div>\n    }\n  >\n    {renderedItems}\n  </InfiniteScroll>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/dev-queryapi.dataplatform.near/widget/QueryApi.Examples.Feed", "fact_widget_deployments_id": "7050707f7beca07877fb49befac56c50", "inserted_timestamp": "2024-03-07T05:24:05.087Z", "modified_timestamp": "2024-03-07T05:24:05.087Z", "__row_index": 0}