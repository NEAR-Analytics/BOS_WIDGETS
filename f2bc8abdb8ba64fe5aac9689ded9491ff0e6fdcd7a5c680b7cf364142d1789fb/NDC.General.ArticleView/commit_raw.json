{"tx_hash": "Fo33RP6Astz6C1iKcvi6pzLovA5qgde3smTTtuYD5qCg", "action_id_social": "BtptRU2gkUDJuqeNc5tZain51KpXi7nGSSJ28n7rs126-0-widget", "block_id": 98010378, "block_timestamp": "2023-08-03T21:59:43.746Z", "signer_id": "f2bc8abdb8ba64fe5aac9689ded9491ff0e6fdcd7a5c680b7cf364142d1789fb", "widget_name": "NDC.General.ArticleView", "source_code": "//This widget cames from NDC.Nomination.Page\nconst { isTest, writersWhiteList, articleToRenderData } = props;\n\nconst addressForArticles = isTest ? \"test_sayALotArticle\" : \"sayALotArticle\";\n// const authorForWidget = \"sayalot.near\";\nconst authorForWidget =\n  \"f2bc8abdb8ba64fe5aac9689ded9491ff0e6fdcd7a5c680b7cf364142d1789fb\";\nconst accountId = context.accountId;\nconst article = articleToRenderData;\n\nconst notifyAccountId = article.author;\n\nState.init({ showReply: false, isMain: true, article: article });\n\nif (!state.article) {\n  return \"Loading...\";\n}\n\nconst canUserEditArticle = () => {\n  const canOnlyAuthorEdit = true;\n  const isAccountIdInWhiteList = writersWhiteList.some(\n    (val) => val === accountId\n  );\n  const isAccountIdEqualsAuthor = accountId === state.article.author;\n\n  if (canOnlyAuthorEdit) {\n    return isAccountIdEqualsAuthor;\n  } else {\n    return isAccountIdInWhiteList;\n  }\n};\n\nreturn (\n  <div>\n    <div className=\"d-flex justify-content-center\">\n      <div>\n        <Widget\n          src={widgets.header}\n          props={{\n            startTime: time[0],\n            endTime: time[1],\n            type: \"Nomination\",\n          }}\n        />\n      </div>\n    </div>\n    <div className=\"row\">\n      <div className=\"my-3\">\n        <span>\n          <i className=\"bi bi-chevron-left mr-2\"></i>\n          Back\n        </span>\n      </div>\n    </div>\n    <div>\n      <Widget\n        props={{\n          data: state,\n          house: props.house,\n          accountId,\n          nomination_contract: nominationContract,\n          registry_contract: registryContract,\n          api_key: apiKey,\n        }}\n        src={widgets.mobile}\n      />\n    </div>\n    <div className=\"w-100\">\n      <Widget\n        src={widgets.header}\n        props={{\n          startTime: time[0],\n          endTime: time[1],\n          type: \"Nomination\",\n        }}\n      />\n    </div>\n    <div className=\"row\">\n      <div className=\"my-3\">\n        <span>\n          <i className=\"bi bi-chevron-left mr-2\"></i>\n          Back\n        </span>\n      </div>\n    </div>\n    <div className=\"row\">\n      <Widget\n        props={{\n          data: state,\n          house: props.house,\n          accountId,\n          nomination_contract: nominationContract,\n          registry_contract: registryContract,\n          api_key: apiKey,\n        }}\n        src={widgets.desktop}\n      />\n    </div>\n  </div>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/f2bc8abdb8ba64fe5aac9689ded9491ff0e6fdcd7a5c680b7cf364142d1789fb/widget/NDC.General.ArticleView", "fact_widget_deployments_id": "546f67e76accc32b57c1acc8496d4998", "inserted_timestamp": "2023-08-03T23:28:45.467Z", "modified_timestamp": "2023-08-03T23:28:45.467Z", "__row_index": 82}