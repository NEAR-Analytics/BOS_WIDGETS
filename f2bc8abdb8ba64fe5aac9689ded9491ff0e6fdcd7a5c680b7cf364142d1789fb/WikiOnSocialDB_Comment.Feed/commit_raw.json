{"tx_hash": "3xajSfJS41S3edGy9myrXS1AkScoDZnFqcJCzB3rFy87", "action_id_social": "2HdGyiQG2ht45tToXf1eEDXnDXfv1vdyfSdcXJ6Wy8qD-0-widget", "block_id": 91113923, "block_timestamp": "2023-05-05T00:01:18.031Z", "signer_id": "f2bc8abdb8ba64fe5aac9689ded9491ff0e6fdcd7a5c680b7cf364142d1789fb", "widget_name": "WikiOnSocialDB_Comment.Feed", "source_code": "const addressForArticles = \"wikiTest2Article\";\nconst addressForComments = \"wikiTest2Comment\";\nconst lastEditor = props.lastEditor;\nconst commentToShareBlockHeight = props.commentToShareBlockHeight\n  ? Number(props.commentToShareBlockHeight)\n  : false;\n\nconst showAllComments = props.showAllComments;\n\nconst authorForWidget =\n  \"f2bc8abdb8ba64fe5aac9689ded9491ff0e6fdcd7a5c680b7cf364142d1789fb\";\nconst index = {\n  action: addressForComments,\n  key: props.item,\n  options: {\n    limit: props.limit ?? 3,\n    order: \"desc\",\n    accountId: props.accounts,\n    subscribe: props.subscribe,\n  },\n};\n\nconst raw = !!props.raw;\n\nconst renderItem = (a, showAllComments) => {\n  console.log(\"in\");\n  return (\n    a.value.type === \"md\" &&\n    ((a.blockHeight === commentToShareBlockHeight && !showAllComments) ||\n      showAllComments) && (\n      <div key={JSON.stringify(a)}>\n        <Widget\n          src={`${authorForWidget}/widget/WikiOnSocialDB_Comment`}\n          props={{\n            lastEditorAccountId: lastEditor,\n            wikiSiteBlockHeight: props.blockHeight,\n            accountId: a.accountId,\n            blockHeight: a.blockHeight,\n            highlight:\n              a.accountId === props.highlightComment?.accountId &&\n              a.blockHeight === props.highlightComment?.blockHeight,\n            raw,\n          }}\n        />\n      </div>\n    )\n  );\n};\n\nreturn (\n  <div>\n    <Widget\n      src={`${authorForWidget}/widget/WikiOnSocialDB_ManualIndexFeed`}\n      props={{\n        commentToShareBlockHeight,\n        showAllComments: props.showAllComments,\n        index,\n        reverse: true,\n        renderItem,\n        nextLimit: 10,\n        loadMoreText: \"Show earlier comments...\",\n      }}\n    />\n  </div>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/f2bc8abdb8ba64fe5aac9689ded9491ff0e6fdcd7a5c680b7cf364142d1789fb/widget/WikiOnSocialDB_Comment.Feed", "fact_widget_deployments_id": "9c85e2025eda4018bdf5097a9a29c0a1", "inserted_timestamp": "2024-03-07T05:24:05.087Z", "modified_timestamp": "2024-03-07T05:24:05.087Z", "__row_index": 13}