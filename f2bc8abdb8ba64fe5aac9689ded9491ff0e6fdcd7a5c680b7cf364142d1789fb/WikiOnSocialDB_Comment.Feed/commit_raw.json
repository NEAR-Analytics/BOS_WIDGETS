{"tx_hash": "DcMfA8Bj8bFPd23dtkBaytuEkassmM6if8r2uMkEgozJ", "action_id_social": "Fc3aFSbYjyj1qQDYgbCAqFa76yMYmPdEBxC9DPhdDchG-0-widget", "block_id": 91114461, "block_timestamp": "2023-05-05T00:11:32.903Z", "signer_id": "f2bc8abdb8ba64fe5aac9689ded9491ff0e6fdcd7a5c680b7cf364142d1789fb", "widget_name": "WikiOnSocialDB_Comment.Feed", "source_code": "const addressForArticles = \"wikiTest2Article\";\nconst addressForComments = \"wikiTest2Comment\";\nconst lastEditor = props.lastEditor;\nconst commentToShareBlockHeight = props.commentToShareBlockHeight\n  ? Number(props.commentToShareBlockHeight)\n  : false;\n\nconst showAllComments = props.showAllComments;\n\nconst authorForWidget =\n  \"f2bc8abdb8ba64fe5aac9689ded9491ff0e6fdcd7a5c680b7cf364142d1789fb\";\nconst index = {\n  action: addressForComments,\n  key: props.item,\n  options: {\n    limit: props.limit ?? 3,\n    order: \"desc\",\n    accountId: props.accounts,\n    subscribe: props.subscribe,\n  },\n};\n\nconst raw = !!props.raw;\n\nconst renderItem = (a, showAllComments) => {\n  return (\n    <>\n      {a.value.type === \"md\" &&\n        ((a.blockHeight === commentToShareBlockHeight && !showAllComments) ||\n          showAllComments) && (\n          <div key={JSON.stringify(a)}>\n            <Widget\n              src={`${authorForWidget}/widget/WikiOnSocialDB_Comment`}\n              props={{\n                lastEditorAccountId: lastEditor,\n                wikiSiteBlockHeight: props.blockHeight,\n                accountId: a.accountId,\n                blockHeight: a.blockHeight,\n                highlight:\n                  a.accountId === props.highlightComment?.accountId &&\n                  a.blockHeight === props.highlightComment?.blockHeight,\n                raw,\n              }}\n            />\n          </div>\n        )}\n    </>\n  );\n};\n\nreturn (\n  <div>\n    <Widget\n      src={`${authorForWidget}/widget/WikiOnSocialDB_ManualIndexFeed`}\n      props={{\n        commentToShareBlockHeight,\n        showAllComments: props.showAllComments,\n        index,\n        reverse: true,\n        renderItem,\n        nextLimit: 10,\n        loadMoreText: \"Show earlier comments...\",\n      }}\n    />\n  </div>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/f2bc8abdb8ba64fe5aac9689ded9491ff0e6fdcd7a5c680b7cf364142d1789fb/widget/WikiOnSocialDB_Comment.Feed", "fact_widget_deployments_id": "d15aa08433da11b9342e1561501fb384", "inserted_timestamp": "2000-01-01T00:00:00.000Z", "modified_timestamp": "2000-01-01T00:00:00.000Z", "__row_index": 22}