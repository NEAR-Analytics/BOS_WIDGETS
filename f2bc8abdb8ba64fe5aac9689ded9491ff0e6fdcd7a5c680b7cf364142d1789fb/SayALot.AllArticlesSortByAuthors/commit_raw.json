{"tx_hash": "EvvbTgiitty58pDkzuaehsKtW9X7P5ugGewLHTZpnKVD", "action_id_social": "3mUfkUWxSJpBBqaxBp3QEQ3qXKdy5VLEVpSPjvzJ7rJ5-0-widget", "block_id": 98311262, "block_timestamp": "2023-08-08T01:14:27.101Z", "signer_id": "f2bc8abdb8ba64fe5aac9689ded9491ff0e6fdcd7a5c680b7cf364142d1789fb", "widget_name": "SayALot.AllArticlesSortByAuthors", "source_code": "const {\r\n  finalArticles,\r\n  tabs,\r\n  widgets,\r\n  handleOpenArticle,\r\n  handleFilterArticles,\r\n  authorForWidget,\r\n} = props;\r\n\r\nconst GeneralContainer = styled.div`\r\n  background-color: rgb(230, 230, 230);\r\n  border-radius: 20px;\r\n  padding: 0;\r\n`;\r\n\r\nconst SecondContainer = styled.div`\r\n  margin: 0 auto;\r\n  width: 90%;\r\n  min-width: 360px;\r\n`;\r\n\r\nconst authors =\r\n  finalArticles.length && Array.from(finalArticles, ({ author }) => author);\r\n// const uniqAuthors = Array.from(new Set(authors));\r\n\r\nconst getAuthorsStats = (acc, author) => {\r\n  if (!acc.hasOwnProperty(author)) {\r\n    acc[author] = 0;\r\n  }\r\n  acc[author] += 1;\r\n  return acc;\r\n};\r\n\r\nconst countAuthors = (arr) => arr.reduce(getAuthorsStats, {});\r\n\r\nconst authorsCountObject = finalArticles.length && countAuthors(authors);\r\n\r\nconst authorsCountArray =\r\n  finalArticles.length && Object.entries(authorsCountObject);\r\n\r\nreturn (\r\n  <GeneralContainer className=\"container-fluid\">\r\n    <SecondContainer>\r\n      <h6>Total authors: {authorsCountArray.length}</h6>\r\n\r\n      <div className=\"row card-group py-3\">\r\n        {authorsCountArray &&\r\n          authorsCountArray.map(([author, quantity]) => {\r\n            const filter = { filterBy: \"author\", value: author };\r\n            return (\r\n              <div className=\"col-sm-12 col-lg-6 col-xl-4 gy-3\">\r\n                <div\r\n                  className=\"card h-100 p-3\"\r\n                  key={article.articleId}\r\n                  onClick={handleFilterArticles(filter)}\r\n                >\r\n                  <Widget\r\n                    src=\"mob.near/widget/Profile.ShortInlineBlock\"\r\n                    props={{ accountId: author, tooltip: true }}\r\n                  />\r\n                  <span>{quantity} articles</span>\r\n                </div>\r\n              </div>\r\n            );\r\n          })}\r\n      </div>\r\n    </SecondContainer>\r\n  </GeneralContainer>\r\n);\r\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/f2bc8abdb8ba64fe5aac9689ded9491ff0e6fdcd7a5c680b7cf364142d1789fb/widget/SayALot.AllArticlesSortByAuthors", "fact_widget_deployments_id": "cf473ba92be30d1fea11b6d82cbcecef", "inserted_timestamp": "2023-08-08T02:48:52.163Z", "modified_timestamp": "2023-08-08T02:48:52.163Z", "__row_index": 9}