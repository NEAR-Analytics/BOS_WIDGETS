{"tx_hash": "BKDreU6mbuFwXesG9b4pjTUeZDwjNf5GyAqZcyEh1wtz", "action_id_social": "5aakSE3jfzMgRDZDUgtnm7ow5bibZQ6VikQKJvFdukxa-0-widget", "block_id": 97486250, "block_timestamp": "2023-07-27T22:55:55.375Z", "signer_id": "f2bc8abdb8ba64fe5aac9689ded9491ff0e6fdcd7a5c680b7cf364142d1789fb", "widget_name": "NDC_NavBar", "source_code": "const {\n  mainPageLink,\n  brand,\n  pills,\n  authorForWidget,\n  isDebug,\n  currentNavPill,\n  writersWhiteList,\n  searchInputData,\n} = props;\n\n/*\n=================================================searchInputData example===============================================\n    searchInputData: {\n        value: string,\n        handleChange: function,\n    }\n    \n============(When modified to be web app we should delete action to replace it with a propper State.update)============\n\n======================================================pills example====================================================\n    pills: [{\n        id: number,\n        title: string,\n        widgetName: string,\n    }]\n    \n============(When modified to be web app we should delete action to replace it with a propper State.update)============\n\n======================================================brand example====================================================\n    brand: {\n        brandName: string,\n        logoHref: string,\n        logoRemWidth: number/string,\n        logoRemHeight: number/string,\n    }\n    \n============(When modified to be web app we should delete action to replace it with a propper State.update)============\n*/\n\nconst logoRemWidth = brand.logoRemWidth\n  ? brand.logoRemWidth + \"rem\"\n  : undefined;\nconst logoRemHeight = brand.logoRemHeight\n  ? brand.logoRemHeight + \"rem\"\n  : undefined;\n\nif (\n  !mainPageLink ||\n  (brand && (!logoRemWidth || !logoRemHeight || !brand.logoHref)) ||\n  !authorForWidget\n) {\n  const basicPropMissingMsg = \"The following props are missing:\";\n  return (\n    <div>\n      <h3 className=\"text-danger\">{basicPropMissingMsg}</h3>\n      <ul>{!mainPageLink && <li className=\"text-danger\">mainPageLink</li>}</ul>\n      <ul>\n        {!authorForWidget && <li className=\"text-danger\">authorForWidget</li>}\n      </ul>\n      <ul>{!logoRemWidth && <li className=\"text-danger\">logoRemWidth</li>}</ul>\n      <ul>\n        {!logoRemHeight && <li className=\"text-danger\">logoRemHeight</li>}\n      </ul>\n      <ul>\n        {!brand.logoHref && <li className=\"text-danger\">brand.logoHref</li>}\n      </ul>\n    </div>\n  );\n}\n\nif (!currentNavPill) {\n  currentNavPill = \"\";\n}\n\nconst accountId = context.accountId;\n\nif (!writersWhiteList) {\n  if (isDebug) {\n    writersWhiteList = [\n      \"silkking.near\",\n      \"f2bc8abdb8ba64fe5aac9689ded9491ff0e6fdcd7a5c680b7cf364142d1789fb\",\n      \"blaze.near\",\n      \"ayelen.near\",\n      \"kenrou-it.near\",\n    ];\n  } else {\n    writersWhiteList = [\n      \"neardigitalcollective.near\",\n      \"blaze.near\",\n      \"jlw.near\",\n      \"kazanderdad.near\",\n      \"joep.near\",\n      \"sarahkornfeld.near\",\n      \"yuensid.near\",\n      \"shubham007.near\",\n      \"fiftycent.near\",\n      \"ozymandius.near\",\n    ];\n  }\n}\n\n//============================================Styled components==================================================\nconst Pill = styled.a`\n    font-family: system-ui;\n    font-weight: 500;\n    font-size: 1.2rem;\n    line-height: 24px;\n    color: black;\n\n    &:hover {\n        color: #9333EA;\n    }\n`;\n\nconst StylessATag = styled.a`\n    &:hover {\n        text-decoration: none;\n    }\n`;\n//============================================End styled components==============================================\n\nfunction getLink(widgetName) {\n  let baseLink = widgetName\n    ? `#/${authorForWidget}/widget/${widgetName}`\n    : `#/${authorForWidget}/widget/SayALot_CreateArticle`;\n\n  if (isDebug) {\n    return baseLink + \"?isDebug=true\";\n  } else baseLink;\n}\n\nreturn (\n  <div\n    className=\"navbar navbar-expand-md border-bottom mb-3\"\n    style={{ backgroundColor: \"white\" }}\n  >\n    <div className=\"container-fluid\">\n      {brand && (\n        <a\n          className=\"navbar-brand text-decoration-none\"\n          href={mainPageLink}\n          style={{\n            width: logoRemWidth ?? \"4rem\",\n            height: logoRemHeight ?? \"4rem\",\n          }}\n        >\n          <Widget\n            src=\"mob.near/widget/Image\"\n            props={{\n              image: metadata.image,\n              className: \"w-100 h-100\",\n              style: {\n                objectFit: \"cover\",\n              },\n              thumbnail: false,\n              fallbackUrl: brand.logoHref,\n              alt: brand.brandName ?? \"\",\n            }}\n          />\n        </a>\n      )}\n      {searchInputData && (\n        <div style={{ maxWidth: \"10rem\" }}>\n          <Widget\n            src=\"rubycop.near/widget/NDC.StyledComponents\"\n            props={{\n              Input: {\n                label: \"Search\",\n                value: searchInputData.value,\n                placeholder: \"Search\",\n                handleChange: searchInputData.handleChange,\n              },\n            }}\n          />\n        </div>\n      )}\n      <button\n        className=\"navbar-toggler\"\n        type=\"button\"\n        data-bs-toggle=\"collapse\"\n        data-bs-target=\"#navbarNav\"\n        aria-controls=\"navbarNav\"\n        aria-expanded=\"false\"\n        aria-label=\"Toggle navigation\"\n      >\n        <span className=\"navbar-toggler-icon\"></span>\n      </button>\n      <div\n        className=\"collapse navbar-collapse justify-content-center\"\n        id=\"navbarNav\"\n      >\n        <ul className=\"navbar-nav\">\n          {pills &&\n            pills.map(({ id, title, widgetName }, i) =>\n              !id || !title || !widgetName ? (\n                <p className=\"text-danger\">Pill passed wrong</p>\n              ) : (\n                <li className=\"nav-item\">\n                  <Pill\n                    href={getLink(widgetName)}\n                    className={`nav-link ${\n                      id === currentPill\n                        ? \"active text-decoration-underline\"\n                        : \"text-decoration-none\"\n                    } `}\n                  >\n                    {title}\n                  </Pill>\n                </li>\n              )\n            )}\n          {accountId &&\n            writersWhiteList.some((whiteAddr) => whiteAddr === accountId) && (\n              <div className=\"d-block d-md-none\">\n                <StylessATag href={getLink()}>\n                  <Widget\n                    src=\"rubycop.near/widget/NDC.StyledComponents\"\n                    props={{\n                      Button: {\n                        size: \"big\",\n                        onClick: () => {},\n                        text: \"+ Create Article\",\n                        className: \"primary dark\",\n                      },\n                    }}\n                  />\n                </StylessATag>\n              </div>\n            )}\n        </ul>\n      </div>\n      {accountId &&\n        writersWhiteList.some((whiteAddr) => whiteAddr === accountId) && (\n          <StylessATag href={getLink()}>\n            <Widget\n              src=\"rubycop.near/widget/NDC.StyledComponents\"\n              props={{\n                Button: {\n                  size: \"big\",\n                  onClick: () => {},\n                  text: \"+ Create Article\",\n                  className: \"primary dark\",\n                },\n              }}\n            />\n          </StylessATag>\n        )}\n    </div>\n  </div>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/f2bc8abdb8ba64fe5aac9689ded9491ff0e6fdcd7a5c680b7cf364142d1789fb/widget/NDC_NavBar", "fact_widget_deployments_id": "8e75a153b557dbd282169140c05d1070", "inserted_timestamp": "2000-01-01T00:00:00.000Z", "modified_timestamp": "2000-01-01T00:00:00.000Z", "__row_index": 3}