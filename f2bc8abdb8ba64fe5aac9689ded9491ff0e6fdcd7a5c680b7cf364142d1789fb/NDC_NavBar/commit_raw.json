{"tx_hash": "HhK3DYQDCn9xznH1c8dsuv4MFQnXPCs4LacQHadn7ksJ", "action_id_social": "7282CSWTYFCyF4Gkc5Yw2BLX2zqBjXbX6Mojk6YcvRps-0-widget", "block_id": 97486430, "block_timestamp": "2023-07-27T22:59:16.227Z", "signer_id": "f2bc8abdb8ba64fe5aac9689ded9491ff0e6fdcd7a5c680b7cf364142d1789fb", "widget_name": "NDC_NavBar", "source_code": "const {\r\n  mainPageLink,\r\n  brand,\r\n  pills,\r\n  authorForWidget,\r\n  isDebug,\r\n  currentNavPill,\r\n  writersWhiteList,\r\n  searchInputData,\r\n} = props;\r\n\r\n/*\r\n=================================================searchInputData example===============================================\r\n    searchInputData: {\r\n        value: string,\r\n        handleChange: function,\r\n    }\r\n    \r\n============(When modified to be web app we should delete action to replace it with a propper State.update)============\r\n\r\n======================================================pills example====================================================\r\n    pills: [{\r\n        id: number,\r\n        title: string,\r\n        widgetName: string,\r\n    }]\r\n    \r\n============(When modified to be web app we should delete action to replace it with a propper State.update)============\r\n\r\n======================================================brand example====================================================\r\n    brand: {\r\n        brandName: string,\r\n        logoHref: string,\r\n        logoRemWidth: number/string,\r\n        logoRemHeight: number/string,\r\n    }\r\n    \r\n============(When modified to be web app we should delete action to replace it with a propper State.update)============\r\n*/\r\n\r\nconst logoRemWidth = brand.logoRemWidth\r\n  ? brand.logoRemWidth + \"rem\"\r\n  : undefined;\r\nconst logoRemHeight = brand.logoRemHeight\r\n  ? brand.logoRemHeight + \"rem\"\r\n  : undefined;\r\n\r\nif (\r\n  !mainPageLink ||\r\n  (brand && (!logoRemWidth || !logoRemHeight || !brand.logoHref)) ||\r\n  !authorForWidget\r\n) {\r\n  const crucialPropMissingMsg = \"The following props are missing:\";\r\n  return (\r\n    <div>\r\n      <h3 className=\"text-danger\">{crucialPropMissingMsg}</h3>\r\n      <ul>{!mainPageLink && <li className=\"text-danger\">mainPageLink</li>}</ul>\r\n      <ul>\r\n        {!authorForWidget && <li className=\"text-danger\">authorForWidget</li>}\r\n      </ul>\r\n      <ul>{!logoRemWidth && <li className=\"text-danger\">logoRemWidth</li>}</ul>\r\n      <ul>\r\n        {!logoRemHeight && <li className=\"text-danger\">logoRemHeight</li>}\r\n      </ul>\r\n      <ul>\r\n        {!brand.logoHref && <li className=\"text-danger\">brand.logoHref</li>}\r\n      </ul>\r\n    </div>\r\n  );\r\n}\r\n\r\nif (!currentNavPill) {\r\n  currentNavPill = \"\";\r\n}\r\n\r\nconst accountId = context.accountId;\r\n\r\nif (!writersWhiteList) {\r\n  if (isDebug) {\r\n    writersWhiteList = [\r\n      \"silkking.near\",\r\n      \"f2bc8abdb8ba64fe5aac9689ded9491ff0e6fdcd7a5c680b7cf364142d1789fb\",\r\n      \"blaze.near\",\r\n      \"ayelen.near\",\r\n      \"kenrou-it.near\",\r\n    ];\r\n  } else {\r\n    writersWhiteList = [\r\n      \"neardigitalcollective.near\",\r\n      \"blaze.near\",\r\n      \"jlw.near\",\r\n      \"kazanderdad.near\",\r\n      \"joep.near\",\r\n      \"sarahkornfeld.near\",\r\n      \"yuensid.near\",\r\n      \"shubham007.near\",\r\n      \"fiftycent.near\",\r\n      \"ozymandius.near\",\r\n    ];\r\n  }\r\n}\r\n\r\n//============================================Styled components==================================================\r\nconst Pill = styled.a`\r\n    font-family: system-ui;\r\n    font-weight: 500;\r\n    font-size: 1.2rem;\r\n    line-height: 24px;\r\n    color: black;\r\n\r\n    &:hover {\r\n        color: #9333EA;\r\n    }\r\n`;\r\n\r\nconst StylessATag = styled.a`\r\n    &:hover {\r\n        text-decoration: none;\r\n    }\r\n`;\r\n//============================================End styled components==============================================\r\n\r\nfunction getLink(widgetName) {\r\n  let baseLink = widgetName\r\n    ? `#/${authorForWidget}/widget/${widgetName}`\r\n    : `#/${authorForWidget}/widget/SayALot_CreateArticle`;\r\n\r\n  if (isDebug) {\r\n    return baseLink + \"?isDebug=true\";\r\n  } else baseLink;\r\n}\r\n\r\nreturn (\r\n  <div\r\n    className=\"navbar navbar-expand-md border-bottom mb-3\"\r\n    style={{ backgroundColor: \"white\" }}\r\n  >\r\n    <div className=\"container-fluid\">\r\n      {brand && (\r\n        <a\r\n          className=\"navbar-brand text-decoration-none\"\r\n          href={mainPageLink}\r\n          style={{\r\n            width: logoRemWidth ?? \"4rem\",\r\n            height: logoRemHeight ?? \"4rem\",\r\n          }}\r\n        >\r\n          <Widget\r\n            src=\"mob.near/widget/Image\"\r\n            props={{\r\n              image: metadata.image,\r\n              className: \"w-100 h-100\",\r\n              style: {\r\n                objectFit: \"cover\",\r\n              },\r\n              thumbnail: false,\r\n              fallbackUrl: brand.logoHref,\r\n              alt: brand.brandName ?? \"\",\r\n            }}\r\n          />\r\n        </a>\r\n      )}\r\n      {searchInputData && (\r\n        <div style={{ maxWidth: \"10rem\" }}>\r\n          <Widget\r\n            src=\"rubycop.near/widget/NDC.StyledComponents\"\r\n            props={{\r\n              Input: {\r\n                label: \"Search\",\r\n                value: searchInputData.value,\r\n                placeholder: \"Search\",\r\n                handleChange: searchInputData.handleChange,\r\n              },\r\n            }}\r\n          />\r\n        </div>\r\n      )}\r\n      <button\r\n        className=\"navbar-toggler\"\r\n        type=\"button\"\r\n        data-bs-toggle=\"collapse\"\r\n        data-bs-target=\"#navbarNav\"\r\n        aria-controls=\"navbarNav\"\r\n        aria-expanded=\"false\"\r\n        aria-label=\"Toggle navigation\"\r\n      >\r\n        <span className=\"navbar-toggler-icon\"></span>\r\n      </button>\r\n      <div\r\n        className=\"collapse navbar-collapse justify-content-center\"\r\n        id=\"navbarNav\"\r\n      >\r\n        <ul className=\"navbar-nav\">\r\n          {pills &&\r\n            pills.map(({ id, title, widgetName }, i) =>\r\n              !id || !title || !widgetName ? (\r\n                <p className=\"text-danger\">Pill passed wrong</p>\r\n              ) : (\r\n                <li className=\"nav-item\">\r\n                  <Pill\r\n                    href={getLink(widgetName)}\r\n                    className={`nav-link ${\r\n                      id === currentPill\r\n                        ? \"active text-decoration-underline\"\r\n                        : \"text-decoration-none\"\r\n                    } `}\r\n                  >\r\n                    {title}\r\n                  </Pill>\r\n                </li>\r\n              )\r\n            )}\r\n        </ul>\r\n      </div>\r\n      {accountId &&\r\n        writersWhiteList.some((whiteAddr) => whiteAddr === accountId) && (\r\n          <StylessATag href={getLink()}>\r\n            <Widget\r\n              src=\"rubycop.near/widget/NDC.StyledComponents\"\r\n              props={{\r\n                Button: {\r\n                  size: \"big\",\r\n                  onClick: () => {},\r\n                  text: \"+ Create Article\",\r\n                  className: \"primary dark\",\r\n                },\r\n              }}\r\n            />\r\n          </StylessATag>\r\n        )}\r\n    </div>\r\n  </div>\r\n);\r\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/f2bc8abdb8ba64fe5aac9689ded9491ff0e6fdcd7a5c680b7cf364142d1789fb/widget/NDC_NavBar", "fact_widget_deployments_id": "b423b27dc059901884aa01202bbc3a80", "inserted_timestamp": "2000-01-01T00:00:00.000Z", "modified_timestamp": "2000-01-01T00:00:00.000Z", "__row_index": 2}