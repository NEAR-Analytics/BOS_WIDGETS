{"tx_hash": "C5R7qKQ22c5kFNBVBFnxxkHeroY5eLSvtMPD1BxVTTYP", "action_id_social": "HjoefRBSNWaCA77aASsGTL9rfwy66aDzpjMuLVWhE5UM-0-widget", "block_id": 103310857, "block_timestamp": "2023-10-13T22:27:50.954Z", "signer_id": "f2bc8abdb8ba64fe5aac9689ded9491ff0e6fdcd7a5c680b7cf364142d1789fb", "widget_name": "Lib.Use.Template", "source_code": "//Functions that you'll use at beggining\r\n//Example:\r\n// [\r\n//     {\r\n//         library1 as string(equal to library name): [\r\n//             {functionName: string, key: string, props: object }\r\n//         ]\r\n//     }, {\r\n//         library2 as string(equal to library name): [\r\n//             {functionName: string, key: string, props: object }\r\n//         ]\r\n//     }\r\n// ]\r\nconst initLibsCalls = {\r\n  LibTemplate: [\r\n    {\r\n      functionName: \"firstFunctionName\",\r\n      key: \"keyThatWillUseTheFunctionToReturnValueOnThisWidgetState\",\r\n      props: {\r\n        firstProp: \"First value\",\r\n        secondProp: \"Second value\",\r\n      },\r\n    },\r\n    {\r\n      functionName: \"secondFunctionName\",\r\n      key: \"secondKey\",\r\n      props: {\r\n        firstProp: \"First value\",\r\n        secondProp: \"Second value\",\r\n      },\r\n    },\r\n  ],\r\n  LibSecondTemplate: [\r\n    {\r\n      functionName: \"firstFunctionName\",\r\n      key: \"thirdKey\",\r\n      props: {\r\n        firstProp: \"First value\",\r\n        secondProp: \"Second value\",\r\n      },\r\n    },\r\n    {\r\n      functionName: \"secondFunctionName\",\r\n      key: \"fourthKey\",\r\n      props: {\r\n        firstProp: \"First value\",\r\n        secondProp: \"Second value\",\r\n      },\r\n    },\r\n  ],\r\n};\r\nState.init({ libsCalls: initLibsCalls });\r\n\r\nlet newLibsCalls = state.libsCalls;\r\n\r\nState.update({ libsCalls: newLibsCalls });\r\n\r\n//Array of libs that you'll use. They may not have special characters after \"widget/\"\r\nconst libSrcArray = [\r\n  `f2bc8abdb8ba64fe5aac9689ded9491ff0e6fdcd7a5c680b7cf364142d1789fb/widget/LibTemplate`,\r\n  `f2bc8abdb8ba64fe5aac9689ded9491ff0e6fdcd7a5c680b7cf364142d1789fb/widget/LibSecondTemplate`,\r\n];\r\n\r\nfunction stateUpdate(obj) {\r\n  State.update(obj);\r\n}\r\n\r\n//Method to call librarys\r\nfunction makeLibCall(src, stateUpdate, libsCalls) {\r\n  console.log(\"libsCalls: \", libsCalls);\r\n  const widgetName = src.split(\"widget/\")[1];\r\n  console.log(\"widgetName: \", widgetName);\r\n  const libCalls = libsCalls[widgetName];\r\n  console.log(\"libCalls: \", libCalls);\r\n  return (\r\n    <>\r\n      <Widget\r\n        src={src}\r\n        props={{\r\n          //Here you can pass every required prop for the librery but the next 2 must exist\r\n          stateUpdate,\r\n          libCalls,\r\n        }}\r\n      />\r\n    </>\r\n  );\r\n}\r\n\r\n//I use this to make sure the library never display anithing\r\nconst CallLibrary = styled.div`\r\n  display: none;\r\n`;\r\n\r\nconsole.log(state);\r\n\r\nreturn (\r\n  <>\r\n    {state.keyThatWillUseTheFunctionToReturnValueOnThisWidgetState && (\r\n      <h1>keyThatWillUseTheFunctionToReturnValueOnThisWidgetState</h1>\r\n    )}\r\n    {state.secondKey && <h1>secondKey</h1>}\r\n    {state.thirdKey && <h1>thirdKey</h1>}\r\n    {state.fourthKey && <h1>fourthKey</h1>}\r\n    {\r\n      // <CallLibrary>\r\n    }\r\n    <div>\r\n      {libSrcArray.map((src) => makeLibCall(src, stateUpdate, state.libsCalls))}\r\n    </div>\r\n    {\r\n      // </CallLibrary>\r\n    }\r\n  </>\r\n);\r\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/f2bc8abdb8ba64fe5aac9689ded9491ff0e6fdcd7a5c680b7cf364142d1789fb/widget/Lib.Use.Template", "fact_widget_deployments_id": "87b6e000b651188073aaab32b2a57d8c", "inserted_timestamp": "2024-03-07T05:24:05.087Z", "modified_timestamp": "2024-03-07T05:24:05.087Z", "__row_index": 0}