{"tx_hash": "GP42E2S18YNZwfAzRfmsupjyLn4pZXJ6q2fwmSkwZa2Y", "action_id_social": "2TgDHn8JqEr14hCh9XcctkDrrYa9ysL9g3GU289DDmT3-0-widget", "block_id": 103079605, "block_timestamp": "2023-10-10T21:37:39.450Z", "signer_id": "f2bc8abdb8ba64fe5aac9689ded9491ff0e6fdcd7a5c680b7cf364142d1789fb", "widget_name": "Test3", "source_code": "const accountId = \"ayelen.near\";\r\nconst sbtsNames = [\"fractal.i-am-human.near - class 1\"];\r\n\r\nconsole.log(\"aID: \", accountId);\r\nconsole.log(\"sbtsNames: \", sbtsNames);\r\n\r\nconst userSBTs = Near.view(\"registry.i-am-human.near\", \"sbt_tokens_by_owner\", {\r\n  account: accountId,\r\n});\r\nconsole.log(\"userSBTs: \", userSBTs);\r\n\r\nconst sbtsData = sbtsNames.map((sbt) => {\r\n  console.log(\"SBT: \", sbt);\r\n  const data = sbt.split(\" - class \");\r\n  console.log(\"split: \", data);\r\n  return { name: data[0], classNumber: data[1] };\r\n});\r\n\r\nconsole.log(\"sbtsData: \", sbtsData);\r\n\r\nconst sbtsFiltered = userSBTs.filter((sbt) => {\r\n  return sbt[0] === sbtsData[0].name;\r\n});\r\n\r\nconsole.log(\"sbtsFiltered: \", sbtsFiltered);\r\n\r\nconst result =\r\n  sbtsFiltered[0][1].find((sbt) => {\r\n    console.log(1, \"SBT: \", sbt);\r\n    return Number(sbt.metadata[\"class\"]) === Number(sbtsData[0].classNumber);\r\n  }) !== undefined;\r\n\r\nconsole.log(\"result: \", result);\r\n\r\nreturn <></>;\r\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/f2bc8abdb8ba64fe5aac9689ded9491ff0e6fdcd7a5c680b7cf364142d1789fb/widget/Test3", "fact_widget_deployments_id": "6232e3b88b55755017cb6ebeed279c1f", "inserted_timestamp": "2023-10-10T23:34:35.302Z", "modified_timestamp": "2023-10-10T23:34:35.302Z", "__row_index": 2}