{"tx_hash": "3HnA2oV3RJz4tfPXh3LoxphSbqW3VTXLL73LyWRxDxQy", "action_id_social": "4LNufn8Qxc9AGPjLqhaA7rzDryXJ843EHBZxffsMx9r3-0-widget", "block_id": 97416601, "block_timestamp": "2023-07-27T01:15:30.465Z", "signer_id": "f2bc8abdb8ba64fe5aac9689ded9491ff0e6fdcd7a5c680b7cf364142d1789fb", "widget_name": "Test2", "source_code": "const isDebug = props.isDebug;\r\nconst author = props.author;\r\nconst addressForArticles = isDebug ? \"test_sayALotArticle\" : \"sayALotArticle\";\r\n\r\nconst articleBlackList = [91092435, 91092174, 91051228, 91092223, 91051203];\r\n\r\nconst writersWhiteList = props.writersWhiteList ?? [\r\n  \"neardigitalcollective.near\",\r\n  \"blaze.near\",\r\n  \"jlw.near\",\r\n  \"kazanderdad.near\",\r\n  \"joep.near\",\r\n  \"sarahkornfeld.near\",\r\n  \"yuensid.near\",\r\n  \"shubham007.near\",\r\n  \"fiftycent.near\",\r\n  \"ozymandius.near\",\r\n  \"chloe.near\",\r\n];\r\n\r\nconst sayALotWorkers = [\r\n  \"silkking.near\",\r\n  \"f2bc8abdb8ba64fe5aac9689ded9491ff0e6fdcd7a5c680b7cf364142d1789fb\",\r\n  \"blaze.near\",\r\n  \"ayelen.near\",\r\n  \"kenrou-it.near\",\r\n];\r\n\r\nif (isDebug) {\r\n  writersWhiteList = sayALotWorkers;\r\n}\r\n\r\nconst allArticles = Social.index(addressForArticles, \"main\", {\r\n  order: \"asc\",\r\n  accountId: author,\r\n})\r\n  .filter((articleIndex) => writersWhiteList.includes(articleIndex.accountId))\r\n  .filter(\r\n    (articleIndex) => !articleBlackList.includes(articleIndex.blockHeight)\r\n  );\r\n\r\nlet allFirstArticlesBlochHeight = [];\r\n\r\nconst allActualArticles = allArticles.map((articleData) => {\r\n  let actualArticle = JSON.parse(\r\n    Social.get(\r\n      `${articleData.accountId}/${addressForArticles}/main`,\r\n      articleData.blockHeight\r\n    )\r\n  );\r\n  if (\r\n    !allFirstArticlesBlochHeight.find(\r\n      (articleBlockHeight) => articleBlockHeight[0] === actualArticle.articleId\r\n    )\r\n  ) {\r\n    allFirstArticlesBlochHeight.push([\r\n      actualArticle.articleId,\r\n      articleData.blockHeight,\r\n    ]);\r\n  }\r\n});\r\n\r\nconsole.log(allFirstArticlesBlochHeight);\r\n\r\nreturn <p></p>;\r\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/f2bc8abdb8ba64fe5aac9689ded9491ff0e6fdcd7a5c680b7cf364142d1789fb/widget/Test2", "fact_widget_deployments_id": "9337c3a413c7e7b2dc14138df6e79df0", "inserted_timestamp": "2024-03-07T05:24:05.087Z", "modified_timestamp": "2024-03-07T05:24:05.087Z", "__row_index": 6}