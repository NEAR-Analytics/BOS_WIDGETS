{"tx_hash": "FGvibZKvJqszCcmPnxs4khzE18aX26M6BE4nxNJMBqLd", "action_id_social": "Dzt4J3XP3YAn3ibDo2NMCJi4L1HVV9HqHVzFUWZyjQBL-0-widget", "block_id": 102163543, "block_timestamp": "2023-09-28T17:39:35.335Z", "signer_id": "f2bc8abdb8ba64fe5aac9689ded9491ff0e6fdcd7a5c680b7cf364142d1789fb", "widget_name": "MarkdownEditorIframe", "source_code": "const initialText = props.initialText ?? \"# Hello World\\n\\n\";\n\nconst embedCss = props.embedCss || \"\";\n\nconst code = `\n<script src=\"https://unpkg.com/react@18/umd/react.development.js\" crossorigin></script>\n<script src=\"https://unpkg.com/react-dom@18/umd/react-dom.development.js\" crossorigin></script>\n<script src=\"https://unpkg.com/react-markdown-editor-lite@1.3.4/lib/index.js\" crossorigin></script>\n<link rel=\"stylesheet\" href=\"https://unpkg.com/react-markdown-editor-lite@1.3.4/lib/index.css\" />\n\n<style>\n${embedCss}\n</style>\n\n<div id=\"react-root\"></div>\n\n<script>\nfunction TestReact(props) {\n  console.log(\"FC0: \", ${props.forceClear})\n  const parentStateUpdate = ${props.stateUpdate};\n  const [value, setValue] = React.useState(props.initialText || \"\");\n  return React.createElement(ReactMarkdownEditorLite.default, {\n      value: ${props.forceClear} ? \"FC\" : \"N\",\n      view: { menu: true, md: true, html: false },\n      canView: { menu: true, md: false, html: false, fullScreen: false, hideMenu: true },\n      onChange: ({ text }) => {\n        ${props.forceClear} && parentStateUpdate({ clearArticleBody: false })\n        setValue(text);\n        window.top.postMessage(text, \"*\");\n      },\n      renderHTML: () => {},\n      className: \"full\",\n    }); \n}\n\nconst domContainer = document.querySelector('#react-root');\nconst root = ReactDOM.createRoot(domContainer);\n\nwindow.addEventListener(\"message\", (event) => {\n  root.render(React.createElement(TestReact, {\n    initialText: event.data,\n  }));\n});\n\n</script>\n`;\n\nconsole.log(\"FC: \", props.forceClear);\n\nreturn (\n  <iframe\n    className=\"w-100 h-100\"\n    srcDoc={code}\n    message={initialText}\n    onMessage={props.onChange}\n  />\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/f2bc8abdb8ba64fe5aac9689ded9491ff0e6fdcd7a5c680b7cf364142d1789fb/widget/MarkdownEditorIframe", "fact_widget_deployments_id": "75cff4cec7eecef62b8946f2a27414cc", "inserted_timestamp": "2023-09-28T19:36:40.478Z", "modified_timestamp": "2023-09-28T19:36:40.478Z", "__row_index": 13}