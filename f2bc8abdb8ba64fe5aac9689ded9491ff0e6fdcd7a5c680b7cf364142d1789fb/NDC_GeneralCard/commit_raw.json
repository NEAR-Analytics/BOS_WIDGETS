{"tx_hash": "3a4wDfJY2nNiHSTyfPQcfzoZjFQC9y76tNtjMqGH3o5a", "action_id_social": "HSRA17ts8GZ1QScacXYGQti5KfdgfiYPLgKjVK23k3LT-0-widget", "block_id": 97729099, "block_timestamp": "2023-07-31T02:07:28.292Z", "signer_id": "f2bc8abdb8ba64fe5aac9689ded9491ff0e6fdcd7a5c680b7cf364142d1789fb", "widget_name": "NDC_GeneralCard", "source_code": "const {\r\n  data,\r\n  registry_contract,\r\n  nomination_contract,\r\n  election_contract,\r\n  api_key,\r\n  cardType,\r\n} = props;\r\n\r\ncardType = cardType.toLowerCase();\r\n\r\nconst accountId = data.author ?? context.accountId;\r\n\r\nState.init({\r\n  verified: false,\r\n  start: true,\r\n  voted: false,\r\n  shareText: \"Copy link to the clipboard\",\r\n});\r\n\r\nconst widgets = {\r\n  styledComponents: \"rubycop.near/widget/NDC.StyledComponents\",\r\n  candidatePage: \"#/rubycop.near/widget/NDC.Nomination.Candidate.Page\",\r\n  addComment: \"rubycop.near/widget/NDC.Nomination.AddComment\",\r\n  reactions: \"sayalot.near/widget/SayALot_Reactions\",\r\n};\r\n\r\nconst isHuman = Near.view(registry_contract, \"is_human\", {\r\n  account: context.accountId,\r\n});\r\nState.update({ verified: isHuman[0][1].length > 0 });\r\n\r\nconst httpRequestOpt = {\r\n  headers: { \"x-api-key\": api_key },\r\n};\r\n\r\nfunction getVerifiedHuman() {\r\n  asyncFetch(\r\n    `https://api.pikespeak.ai/nominations/is-upvoted-by?candidate=${data.indexerData.nominee}&upvoter=${context.accountId}`,\r\n    httpRequestOpt\r\n  ).then((res) => {\r\n    State.update({ voted: res.body });\r\n  });\r\n}\r\n\r\nif (state.start) {\r\n  getVerifiedHuman();\r\n  State.update({ start: false });\r\n}\r\n\r\nfunction handleUpVote() {\r\n  Near.call(\r\n    nomination_contract,\r\n    state.voted ? \"remove_upvote\" : \"upvote\",\r\n    {\r\n      candidate: data.indexerData.nominee,\r\n    },\r\n    300000000000000,\r\n    state.voted ? 0 : 1000000000000000000000\r\n  );\r\n}\r\n\r\nfunction handleShare() {\r\n  State.update({ shareText: \"Copied\" });\r\n  clipboard.writeText(\r\n    \"https://near.org/#/rubycop.near/widget/NDC.Nomination.Candidate.Page?house=\" +\r\n      data.indexerData.house +\r\n      \"&candidate=\" +\r\n      data.indexerData.nominee\r\n  );\r\n}\r\n\r\nfunction getComponentURL() {\r\n  const url =\r\n    \"https%3A%2F%2Fnear.org%2F%23%2Frubycop.near%2Fwidget%2FNDC.Nomination.Candidate.Page%3Fhouse%3D\" +\r\n    data.indexerData.house +\r\n    \"%26candidate%3D\" +\r\n    data.indexerData.nominee;\r\n  return url;\r\n}\r\n\r\n//TODO review this for sayALot\r\n\r\nconst addressForArticles = isDebug ? \"test_sayALotArticle\" : \"sayALotArticle\";\r\nconst item = {\r\n  type: \"social\",\r\n  path: `${data.author}/${addressForArticles}/main`,\r\n  blockHeight: firstArticleBlockHeight,\r\n};\r\n\r\nconst Card = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: flex-start;\r\n  padding: 16px;\r\n  gap: 16px;\r\n  background: #f8f8f9;\r\n  border-radius: 10px;\r\n`;\r\nconst HeaderCard = styled.div`\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: center;\r\n  padding: 0px;\r\n  gap: 12px;\r\n  width: 100%;\r\n`;\r\n\r\nconst profilePictureStyles = {\r\n  width: \"45px\",\r\n  height: \"45px\",\r\n  borderRadius: \"50%\",\r\n};\r\nconst ProfilePicture = styled.img`\r\n  width: ${profilePictureStyles.width};\r\n  height: ${profilePictureStyles.height};\r\n  border-radius: ${profilePictureStyles.borderRadius};\r\n`;\r\nconst HeaderContent = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: flex-start;\r\n  padding: 0px;\r\n  gap: 4px;\r\n  width: 70%;\r\n`;\r\nconst HeaderTag = styled.div`\r\n  display: flex;\r\n  flex-direction: row;\r\n  justify-content: center;\r\n  align-items: center;\r\n  padding: 4px 8px;\r\n  height: 18px;\r\n  background: linear-gradient(90deg, #9333ea 0%, #4f46e5 100%);\r\n  border-radius: 100px;\r\n`;\r\nconst HeaderTagP = styled.p`\r\n  height: 10px;\r\n  font-style: normal;\r\n  font-weight: 500;\r\n  font-size: 11px;\r\n  display: flex;\r\n  align-items: center;\r\n  color: white;\r\n  margin: 0;\r\n`;\r\nconst HeaderContentText = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: flex-start;\r\n  padding: 0px;\r\n`;\r\nconst NominationName = styled.p`\r\n  font-weight: 500;\r\n  font-size: 14px;\r\n  margin: 0;\r\n  align-items: center;\r\n  color: #000000;\r\n  white-space: nowrap;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n`;\r\nconst NominationUser = styled.p`\r\n  font-style: normal;\r\n  font-weight: 400;\r\n  font-size: 12px;\r\n  margin: 0px;\r\n  line-height: 120%;\r\n  display: flex;\r\n  align-items: center;\r\n  color: #828688;\r\n  white-space: nowrap;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n`;\r\nconst UpvoteButtonDisabled = styled.button`\r\n  display: flex;\r\n  padding: 2px 12px;\r\n  align-items: center;\r\n  gap: 6px;\r\n  border-radius: 4px;\r\n  background: var(--buttons-disable, #c3cace);\r\n  cursor: default !important;\r\n`;\r\n\r\nconst UpvoteButton = styled.button`\r\n  padding: 6px 12px;\r\n  border-radius: 8px;\r\n  background: #fff;\r\n  font-size: 14px;\r\n  font-weight: 500;\r\n  line-height: 24px;\r\n  color: ${(props) => (props.disabled ? \"#C3CACE\" : \"#9333EA\")};\r\n  border: 1px solid #9333ea;\r\n  border-color: ${(props) => (props.disabled ? \"#C3CACE\" : \"\")};\r\n`;\r\n\r\nconst UpvoteCount = styled.p`\r\n  font-size: 12px;\r\n  font-weight: 500;\r\n  line-height: 24px;\r\n  margin: 0px;\r\n  background: linear-gradient(90deg, #9333ea 0%, #4f46e5 100%);\r\n  -webkit-background-clip: text;\r\n  -webkit-text-fill-color: transparent;\r\n  background-clip: text;\r\n  text-fill-color: transparent;\r\n`;\r\nconst Icon = styled.img`\r\n  width: 17px;\r\n  height: 17px;\r\n`;\r\nconst CollapseCandidate = styled.div`\r\n  padding: 12px;\r\n  background: #ffffff;\r\n  border-radius: 6px;\r\n`;\r\nconst CollapseCandidateContent = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  align-items: flex-start;\r\n  padding: 0px;\r\n  gap: 5px;\r\n`;\r\nconst CollapseCandidateText = styled.p`\r\n  width: 274px;\r\n  font-style: normal;\r\n  font-weight: 700;\r\n  font-size: 12px;\r\n  line-height: 120%;\r\n  margin: 0px;\r\n  margin-bottom: 3px;\r\n  color: #000000;\r\n`;\r\nconst DownArrow = styled.img`\r\n  width: 16px;\r\n  height: 16px;\r\n`;\r\nconst CandidateTagContainer = styled.div`\r\n  gap: 4px;\r\n`;\r\n\r\nconst KeyIssues = styled.div`\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: flex-start;\r\n  padding: 12px;\r\n  gap: 12px;\r\n  background: #ffffff;\r\n  border-radius: 6px;\r\n  width: 100%;\r\n`;\r\nconst KeyIssuesContent = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: flex-start;\r\n  padding: 0px;\r\n  gap: 12px;\r\n  width: 100%;\r\n`;\r\nconst KeyIssuesHeader = styled.div`\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: flex-start;\r\n  padding: 0px;\r\n  gap: 12px;\r\n`;\r\nconst KeyIssuesTitle = styled.p`\r\n  font-style: normal;\r\n  font-weight: 700;\r\n  font-size: 14px;\r\n  line-height: 120%;\r\n  margin-bottom: 0;\r\n`;\r\nconst KeyIssuesContainer = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: flex-start;\r\n  padding: 0px;\r\n  gap: 8px;\r\n  overflow-y: scroll;\r\n  height: 250px;\r\n  width: 100%;\r\n`;\r\nconst KeyIssueTitle = styled.p`\r\n  font-weight: 500;\r\n  font-size: 11px;\r\n  margin-bottom: 0px;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n  white-space: nowrap;\r\n`;\r\nconst KeyIssueDescription = styled.p`\r\n  font-weight: 400;\r\n  font-size: 11px;\r\n  margin-bottom: 0;\r\n`;\r\nconst KeyIssueSeparator = styled.div`\r\n  height: 1px;\r\n  margin: 7px 0 2px 0;\r\n  background: rgba(208, 214, 217, 0.4);\r\n`;\r\nconst LowerSection = styled.div`\r\n  display: flex;\r\n  width: 100%;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  align-items: flex-start;\r\n  gap: 8px;\r\n`;\r\nconst LowerSectionContainer = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  align-items: flex-start;\r\n  gap: 12px;\r\n  align-self: stretch;\r\n`;\r\nconst ButtonsLowerSection = styled.div`\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: center;\r\n  padding: 0px;\r\n  width: 100%;\r\n  height: 28px;\r\n`;\r\nconst TextLowerSectionContainer = styled.div`\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: center;\r\n  padding: 0px;\r\n  gap: 4px;\r\n  width: 239px;\r\n  height: 24px;\r\n\r\n  flex-grow: 1;\r\n`;\r\nconst ClockIcon = styled.img`\r\n  width: 12px;\r\n  height: 12px;\r\n`;\r\nconst TimestampText = styled.div`\r\n  font-style: italic;\r\n  font-weight: 300;\r\n  font-size: 11px;\r\n  line-height: 14px;\r\n  margin: 0px;\r\n  gap: 2px;\r\n  color: #000000;\r\n\r\n  b {\r\n    font-weight: 600;\r\n  }\r\n`;\r\nconst CommentsCounter = styled.p`\r\n  width: 96px;\r\n  height: 24px;\r\n  font-style: normal;\r\n  font-weight: 500;\r\n  font-size: 12px;\r\n  line-height: 24px;\r\n  margin: 0px;\r\n  text-align: right;\r\n  background: linear-gradient(90deg, #9333ea 0%, #4f46e5 100%);\r\n  -webkit-background-clip: text;\r\n  -webkit-text-fill-color: transparent;\r\n  background-clip: text;\r\n  text-fill-color: transparent;\r\n`;\r\nconst ButtonsContainer = styled.div`\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: center;\r\n  padding: 0px;\r\n  gap: 4px;\r\n  width: 87px;\r\n  height: 28px;\r\n`;\r\nconst TagSection = styled.div`\r\n  display: flex;\r\n  align-items: flex-start;\r\n  gap: 4px;\r\n  flex-wrap: wrap;\r\n  overflow: hidden;\r\n`;\r\n\r\nconst CommentButtonDisabled = styled.button`\r\n  display: flex;\r\n  padding: 2px 12px;\r\n  align-items: center;\r\n  gap: 6px;\r\n  border-radius: 4px;\r\n  b\r\n  background: var(--buttons-disable, #c3cace);\r\n  cursor: default !important;\r\n`;\r\nconst CommentButtonDiv = styled.button`\r\n  display: flex;\r\n  padding: 2px 12px;\r\n  align-items: center;\r\n  gap: 6px;\r\n  b\r\n  border-radius: 80px;\r\n  background-image: linear-gradient(#f8f8f9, #f8f8f9),\r\n    radial-gradient(circle at top left, #9333ea 0%, #4f46e5 100%);\r\n  background-origin: border-box;\r\n  background-clip: padding-box, border-box;\r\n  border-radius: 4px;\r\n`;\r\nconst CommentButtonCounter = styled.p`\r\n  font-size: 12px;\r\n  font-weight: 500;\r\n  line-height: 24px;\r\n  margin: 0px;\r\n  background: linear-gradient(90deg, #9333ea 0%, #4f46e5 100%);\r\n  -webkit-background-clip: text;\r\n  -webkit-text-fill-color: transparent;\r\n  background-clip: text;\r\n  text-fill-color: transparent;\r\n`;\r\nconst CommentButtonIcon = styled.img`\r\n  width: 14px;\r\n  height: 14px;\r\n`;\r\n\r\nconst DropdownContainer = styled.div`\r\n  position: relative;\r\n  display: inline-block;\r\n`;\r\n\r\nconst Dropbtn = styled.button`\r\n  background-color: #4caf50;\r\n  color: white;\r\n  padding: 16px;\r\n  font-size: 16px;\r\n`;\r\n\r\nconst DropdownContent = styled.div`\r\n  display: none;\r\n  left: 0;\r\n  font-size: 12px;\r\n  flex-direction: column;\r\n  align-items: flex-start;\r\n  position: absolute;\r\n  border-radius: 8px;\r\n  background: #ffffff;\r\n  box-shadow: 0px 0px 30px 0px rgba(0, 0, 0, 0.2);\r\n  border-radius: 8px;\r\n  z-index: 1;\r\n  padding: 8px;\r\n`;\r\n\r\nconst Element = styled.div`\r\n  width: 150px;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  cursor: pointer;\r\n  padding: 10px;\r\n\r\n  &:hover {\r\n    border-radius: 6px;\r\n    background: #f8f8f9;\r\n  }\r\n`;\r\n\r\nconst ShareLink = styled.a`\r\n  color: black;\r\n  margin-right: 8px 12px;\r\n  text-decoration: none;\r\n  display: block;\r\n  text-align: start;\r\n`;\r\n\r\nconst ShareIcon = styled.img`\r\n  width: 20px;\r\n`;\r\n\r\nconst DropdownContainerHover = styled.div`\r\n  width: fit-content;\r\n  float: right;\r\n\r\n  &:hover ${DropdownContent} {\r\n    display: flex;\r\n    margin-top: -165px;\r\n  }\r\n`;\r\n\r\nconst Separation = styled.div`\r\n    position: absolute;\r\n  }\r\n`;\r\n\r\nconst sayALotProfileImageStyles = {\r\n  width: profilePictureStyles.width,\r\n  height: profilePictureStyles.height,\r\n  borderRadius: profilePictureStyles.borderRadius,\r\n  overflow: \"hidden\",\r\n};\r\n\r\nconst inner = (\r\n  <div className=\"d-flex flex-row mx-1\">\r\n    <Widget\r\n      src=\"mob.near/widget/ProfileImage\"\r\n      props={{\r\n        metadata,\r\n        accountId,\r\n        widgetName,\r\n        style: sayALotProfileImageStyles,\r\n        className: \"me-2 rounded-pill\",\r\n      }}\r\n    />\r\n  </div>\r\n);\r\n\r\nlet tagsData;\r\nif (cardType == \"nomination\") {\r\n  tagsData = data.nominationData.tags.trim().split(\",\");\r\n} else if (cardType == \"sayalot\") {\r\n  tagsData = data.tags;\r\n}\r\n\r\nconst renderTags = () => {\r\n  return (\r\n    <>\r\n      {tagsData.map((data) => (\r\n        <>\r\n          {data && (\r\n            <Widget\r\n              src={widgets.styledComponents}\r\n              props={{\r\n                Tag: { title: data },\r\n              }}\r\n            />\r\n          )}\r\n        </>\r\n      ))}\r\n    </>\r\n  );\r\n};\r\n\r\nconst canUpvote = () =>\r\n  state.verified && context.accountId != data.indexerData?.nominee;\r\n\r\nconst getShortUserName = () => {\r\n  const userId =\r\n    cardType == \"nomination\"\r\n      ? data.nominationData?.profileAccount\r\n      : cardType == \"sayalot\"\r\n      ? accountId\r\n      : \"\";\r\n\r\n  if (userId.length === 64) return `${userId.slice(0, 4)}..${userId.slice(-4)}`;\r\n  const name = userId.slice(0, -5); // truncate .near\r\n\r\n  return name.length > 20 ? `${name.slice(0, 20)}...` : name;\r\n};\r\n\r\nconst trimText = (text, limit) => {\r\n  if (!text) return \"\";\r\n\r\n  const _limit = limit ?? 200;\r\n  const ending = text.length > _limit ? \"...\" : \"\";\r\n  const trimmed = text.slice(0, limit ?? 200);\r\n\r\n  return `${trimmed}${ending}`;\r\n};\r\n\r\nfunction getPublicationDate(creationTimestamp) {\r\n  if (creationTimestamp == 0) {\r\n    return \"Creation timestamp passed wrong\";\r\n  }\r\n  return new Date(creationTimestamp).toDateString();\r\n}\r\n\r\nfunction getUserName() {\r\n  const profile = Social.getr(`${accountId}/profile`);\r\n\r\n  if (cardType == \"nomination\") return data.profileData?.name;\r\n  if (cardType == \"sayalot\") return profile.name;\r\n}\r\n\r\nconst keyIssues = [\r\n  {\r\n    title:\r\n      \"Involvement in the NEAR ecosystem, qualifications to be a candidate and reasons for being voted\",\r\n    desc: data.nominationData.HAYInvolve,\r\n  },\r\n  {\r\n    title: \"Strategy to develop the NEAR ecosystem\",\r\n    desc: data.nominationData.WIYStrategy,\r\n  },\r\n  {\r\n    title: \"Key Issue 1\",\r\n    desc: data.nominationData.Key_Issue_1,\r\n  },\r\n  {\r\n    title: \"Key Issue 2\",\r\n    desc: data.nominationData.Key_Issue_2,\r\n  },\r\n  {\r\n    title: \"Key Issue 3\",\r\n    desc: data.nominationData.Key_Issue_3,\r\n  },\r\n  {\r\n    title: \"Other Platform\",\r\n    desc: data.nominationData.addition_platform,\r\n  },\r\n];\r\n\r\nreturn (\r\n  <div className=\"p-2 col-lg-4 col-md-6 col-sm-12\">\r\n    <Card>\r\n      {state.showModal && (\r\n        <Widget\r\n          src={widgets.addComment}\r\n          props={{\r\n            candidateOrReplay: true,\r\n            username: data.indexerData.nominee,\r\n            onClickConfirm: () => State.update({ showModal: false }),\r\n            onClickCancel: () => State.update({ showModal: false }),\r\n          }}\r\n        />\r\n      )}\r\n      <HeaderCard className=\"d-flex justify-content-between\">\r\n        <div className=\"d-flex align-items-center gap-2\">\r\n          {cardType == \"sayalot\" && (\r\n            <Widget\r\n              src=\"mob.near/widget/Profile.OverlayTrigger\"\r\n              props={{ accountId, children: inner }}\r\n            />\r\n          )}\r\n          {cardType == \"nomination\" && (\r\n            <ProfilePicture\r\n              src={\r\n                data.imgURL ??\r\n                \"https://apricot-straight-eagle-592.mypinata.cloud/ipfs/QmZBPPMKLdZG2zVpYaf9rcbtNfAp7c3BtsvzxzBb9pNihm?_gl=1*6avmrp*rs_ga*MzkyOTE0Mjc4LjE2ODY4NjgxODc.*rs_ga_5RMPXG14TE*MTY4NjkzMzM2NC4zLjEuMTY4NjkzMzM4Ni4zOC4wLjA.\"\r\n              }\r\n              alt=\"pic\"\r\n            ></ProfilePicture>\r\n          )}\r\n          <HeaderContent>\r\n            {cardType == \"nomination\" && (\r\n              <Widget\r\n                src={widgets.styledComponents}\r\n                props={{\r\n                  Tag: {\r\n                    title:\r\n                      data.indexerData.house == \"HouseOfMerit\"\r\n                        ? \"House of Merit\"\r\n                        : data.indexerData.house == \"CouncilOfAdvisors\"\r\n                        ? \"Council of Advisors\"\r\n                        : \"Transparency Commission\",\r\n                    className: \"dark\",\r\n                  },\r\n                }}\r\n              />\r\n            )}\r\n            <HeaderContentText>\r\n              <NominationName>{getUserName()}</NominationName>\r\n              <NominationUser>{getShortUserName()}</NominationUser>\r\n            </HeaderContentText>\r\n          </HeaderContent>\r\n        </div>\r\n        {canUpvote() &&\r\n          cardType ==\r\n            \"nomination\"(\r\n              <Widget\r\n                src={widgets.styledComponents}\r\n                props={{\r\n                  Button: {\r\n                    text: `+${data.upVoteData?.upvotes ?? 0}`,\r\n                    className: \"secondary dark\",\r\n                    size: \"sm\",\r\n                    onClick: handleUpVote,\r\n                    icon: <i className=\"bi bi-hand-thumbs-up\"></i>,\r\n                  },\r\n                }}\r\n              />\r\n            )}\r\n      </HeaderCard>\r\n      {cardType == \"nomination\" && (\r\n        <CollapseCandidate className=\"w-100\">\r\n          <CollapseCandidateContent>\r\n            <CollapseCandidateText>\r\n              Candidate Affiliations\r\n            </CollapseCandidateText>\r\n            <CandidateTagContainer className=\"w-100 d-flex flex-wrap\">\r\n              {JSON.parse(data.nominationData?.afiliation).map((data) => (\r\n                <>\r\n                  {data.company_name && (\r\n                    <Widget\r\n                      src={widgets.styledComponents}\r\n                      props={{\r\n                        Tag: { title: data.company_name },\r\n                      }}\r\n                    />\r\n                  )}\r\n                </>\r\n              ))}\r\n            </CandidateTagContainer>\r\n          </CollapseCandidateContent>\r\n        </CollapseCandidate>\r\n      )}\r\n      <KeyIssues>\r\n        <KeyIssuesContent>\r\n          <KeyIssuesHeader>\r\n            <KeyIssuesTitle>\r\n              {cardType == \"nomination\" && Platform}\r\n              {cardType == \"sayalot\" && data.articleId}\r\n            </KeyIssuesTitle>\r\n          </KeyIssuesHeader>\r\n          <KeyIssuesContainer>\r\n            {cardType == \"nomination\" &&\r\n              keyIssues.map((issue, i) => (\r\n                <div className=\"w-100\" key={i}>\r\n                  <KeyIssueTitle>{issue.title}</KeyIssueTitle>\r\n                  <KeyIssueDescription className=\"text-secondary\">\r\n                    {trimText(issue.desc)}\r\n                  </KeyIssueDescription>\r\n                  <KeyIssueSeparator />\r\n                </div>\r\n              ))}\r\n            {\r\n              //TODO? Create resumes or put all the article?\r\n            }\r\n          </KeyIssuesContainer>\r\n        </KeyIssuesContent>\r\n      </KeyIssues>\r\n      <LowerSection>\r\n        <LowerSectionContainer>\r\n          {tagsData.length > 0 && (\r\n            <KeyIssues>\r\n              <KeyIssuesContent>\r\n                <KeyIssuesHeader>\r\n                  <KeyIssuesTitle>Tags</KeyIssuesTitle>\r\n                </KeyIssuesHeader>\r\n                <div className=\"d-flex w-100\">\r\n                  <TagSection>{renderTags()}</TagSection>\r\n                </div>\r\n              </KeyIssuesContent>\r\n            </KeyIssues>\r\n          )}\r\n          <ButtonsLowerSection>\r\n            <TextLowerSectionContainer className=\"align-items-center\">\r\n              <i className=\"bi bi-clock\"></i>\r\n              {((cardType == \"nomination\" && data.indexerData.timestamp) ||\r\n                cardType == \"sayalot\") && (\r\n                <TimestampText>\r\n                  <span>\r\n                    {getPublicationDate(\r\n                      cardType == \"nomination\"\r\n                        ? data.indexerData.timestamp\r\n                        : cardType == \"sayalot\"\r\n                        ? data.timeLastEdit\r\n                        : 0\r\n                    )}\r\n                  </span>\r\n                  <span>by</span>\r\n                  <b>\r\n                    {cardType == \"nomination\" && data.indexerData.nominee}\r\n                    {cardType == \"sayalot\" && data.author}\r\n                  </b>\r\n                </TimestampText>\r\n              )}\r\n            </TextLowerSectionContainer>\r\n          </ButtonsLowerSection>\r\n          {/*TODO review buttons functionality in sayALot*/}\r\n          <div className=\"d-flex w-100 align-items-center\">\r\n            {!data.preview && (\r\n              <div className=\"d-flex w-100 gap-2 justify-content-between\">\r\n                <Widget\r\n                  src={widgets.styledComponents}\r\n                  props={{\r\n                    Button: {\r\n                      text: `+${data.upVoteData.comments.length ?? 0} Comments`,\r\n                      disabled: !state.verified,\r\n                      size: \"sm\",\r\n                      className: \"secondary dark w-100 justify-content-center\",\r\n                      onClick: () => {\r\n                        !data.preview ? State.update({ showModal: true }) : \"\";\r\n                      },\r\n                      icon: <i className=\"bi bi-chat-square-text-fill\"></i>,\r\n                    },\r\n                  }}\r\n                />\r\n                <Widget\r\n                  src={widgets.styledComponents}\r\n                  props={{\r\n                    Link: {\r\n                      text: \"View\",\r\n                      size: \"sm\",\r\n                      className: \"primary w-100 justify-content-center\",\r\n                      href: `${widgets.candidatePage}?house=${data.indexerData.house}&candidate=${data.indexerData.nominee}&nomination_contract=${nomination_contract}&election_contract=${election_contract}`,\r\n                      icon: <i className=\"bi bi-eye fs-6\"></i>,\r\n                    },\r\n                  }}\r\n                />\r\n              </div>\r\n            )}\r\n          </div>\r\n          {/*TODO review this*/}\r\n          {cardType == \"sayALot\" && (\r\n            <Widget\r\n              src={widgets.reactions}\r\n              props={(isDebug, item, realArticleId)}\r\n            />\r\n          )}\r\n        </LowerSectionContainer>\r\n      </LowerSection>\r\n    </Card>\r\n  </div>\r\n);\r\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/f2bc8abdb8ba64fe5aac9689ded9491ff0e6fdcd7a5c680b7cf364142d1789fb/widget/NDC_GeneralCard", "fact_widget_deployments_id": "d208a7a5fadf1aec3e6bbb5c5142d1de", "inserted_timestamp": "2024-03-07T05:24:05.087Z", "modified_timestamp": "2024-03-07T05:24:05.087Z", "__row_index": 0}