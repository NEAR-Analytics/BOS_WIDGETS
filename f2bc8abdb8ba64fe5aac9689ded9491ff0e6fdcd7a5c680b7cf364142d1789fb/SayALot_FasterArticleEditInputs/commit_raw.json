{"tx_hash": "BEMM5XMy1DRWoC4nQLh6PBikxX4zxhqQBhL8svRkwvLk", "action_id_social": "HdAMyjjG59hJi9UhXHt67rZMezmMsGg9qZfuPRbZ64UR-0-widget", "block_id": 96485656, "block_timestamp": "2023-07-14T22:41:44.650Z", "signer_id": "f2bc8abdb8ba64fe5aac9689ded9491ff0e6fdcd7a5c680b7cf364142d1789fb", "widget_name": "SayALot_FasterArticleEditInputs", "source_code": "//======= Get props =======\nconst defaultStateUpdate = (obj) => State.update(obj);\nconst stateUpdate = props.stateUpdate ?? defaultStateUpdate;\n\nconst articleTags = props.articleTags ?? [];\nconst textAreaInitialText = props.firstTextareaText ?? \"\";\nconst isDebug = props.isDebug;\n\n//======= Initialisation =======\n\nState.init({ textAreaText: textAreaInitialText });\nconst authorForWidget =\n  \"f2bc8abdb8ba64fe5aac9689ded9491ff0e6fdcd7a5c680b7cf364142d1789fb\";\n\n//======= Functions =======\n\nconst getTagObjectfromArray = (tagArray) => {\n  if (!tagArray) return {};\n  return tagArray.reduce((acc, value) => ({ ...acc, [value]: \"\" }), {});\n};\n\n// Next function cames from parent widget. Not sure what it was used for.\n// const filterTagsFromNull = (tagsObj) => {\n//   const entries = Object.entries(tagsObj);\n\n//   const result = entries.reduce((acc, value) => {\n//     if (value[1] !== null) {\n//       return [...acc, value[0]];\n//     } else {\n//       return acc;\n//     }\n//   }, []);\n//   return result;\n// };\n\nconsole.log(state.note);\n\n//======= Render =======\nreturn (\n  <div className=\"d-flex gap-2\" style={{ minHeight: \"300px\" }}>\n    <div className=\"w-50\">\n      <Widget\n        src=\"mob.near/widget/MarkdownEditorIframe\"\n        props={{\n          initialText: state.textAreaText,\n          onChange: (textAreaText) => State.update({ textAreaText }),\n        }}\n        onBlur={() => stateUpdate({ note: state.textAreaInitialText })}\n      />\n    </div>\n    <div className=\"w-50\">\n      <Widget\n        src=\"mob.near/widget/TagsEditor\"\n        props={{\n          initialTagsObject: getTagObjectfromArray(articleTags),\n          placeholder: \"Input tags\",\n          setTagsObject: (tags) => {\n            // console.log(filterTagsFromNull(tags));\n            // Next line is from parent widget. Not sure what it was used for.\n            // state.tags = filterTagsFromNull(tags);\n            stateUpdate({ tags: tags });\n          },\n        }}\n      />\n\n      <Widget\n        src=\"mob.near/widget/SocialMarkdown\"\n        props={{\n          text: state.textAreaText,\n          onHashtag: (hashtag) => (\n            <span\n              key={hashtag}\n              className=\"d-inline-flex\"\n              style={{ fontWeight: 500 }}\n            >\n              <a\n                href={\n                  isDebug\n                    ? `https://near.social/#/${authorForWidget}/widget/SayALot_ArticlesByTag?tag=${hashtag}&isDebug=true`\n                    : `https://near.social/#/${authorForWidget}/widget/SayALot_ArticlesByTag?tag=${hashtag}`\n                }\n              >\n                #{hashtag}\n              </a>\n            </span>\n          ),\n        }}\n      />\n    </div>\n  </div>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/f2bc8abdb8ba64fe5aac9689ded9491ff0e6fdcd7a5c680b7cf364142d1789fb/widget/SayALot_FasterArticleEditInputs", "fact_widget_deployments_id": "8b727bebb4d168b7e1dd52a932882629", "inserted_timestamp": "2000-01-01T00:00:00.000Z", "modified_timestamp": "2000-01-01T00:00:00.000Z", "__row_index": 10}