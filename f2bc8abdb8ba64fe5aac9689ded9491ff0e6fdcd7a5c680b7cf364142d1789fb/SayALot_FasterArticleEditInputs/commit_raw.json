{"tx_hash": "3xxhRfoCpKL7RjepmbmB85nvoDgE2Xgb3747gthCPAxZ", "action_id_social": "CD7vfntCZoRJ8L4JUY1tFksx2HhwxjiooKE8yk1mErwP-0-widget", "block_id": 96481886, "block_timestamp": "2023-07-14T21:31:37.996Z", "signer_id": "f2bc8abdb8ba64fe5aac9689ded9491ff0e6fdcd7a5c680b7cf364142d1789fb", "widget_name": "SayALot_FasterArticleEditInputs", "source_code": "//======= Get props =======\r\nconst defaultStateUpdate = (obj) => State.update(obj);\r\nconst stateUpdate = props.stateUpdate ?? defaultStateUpdate;\r\n\r\nconst textAreaInitialText = props.firstTextareaText ?? \"\";\r\nconst isDebug = props.isDebug;\r\n\r\n//======= Initialisation =======\r\n\r\nState.init({ textAreaText: textAreaInitialText });\r\nconst authorForWidget =\r\n  \"f2bc8abdb8ba64fe5aac9689ded9491ff0e6fdcd7a5c680b7cf364142d1789fb\";\r\n\r\n//======= Functions =======\r\n\r\nconst getTagObjectfromArray = (tagArray) => {\r\n  if (!tagArray) return {};\r\n  return tagArray.reduce((acc, value) => ({ ...acc, [value]: \"\" }), {});\r\n};\r\n\r\n// Next function cames from parent widget. Not sure what it was used for.\r\n// const filterTagsFromNull = (tagsObj) => {\r\n//   const entries = Object.entries(tagsObj);\r\n\r\n//   const result = entries.reduce((acc, value) => {\r\n//     if (value[1] !== null) {\r\n//       return [...acc, value[0]];\r\n//     } else {\r\n//       return acc;\r\n//     }\r\n//   }, []);\r\n//   return result;\r\n// };\r\n\r\n//======= Render =======\r\nreturn (\r\n  <div className=\"d-flex gap-2\" style={{ minHeight: \"300px\" }}>\r\n    <div className=\"w-50\">\r\n      <Widget\r\n        src=\"mob.near/widget/MarkdownEditorIframe\"\r\n        props={{\r\n          initialText: textAreaText,\r\n          onChange: (textAreaText) => State.update({ textAreaText }),\r\n        }}\r\n        onBlur={stateUpdate({ note: textAreaText })}\r\n      />\r\n    </div>\r\n    <div className=\"w-50\">\r\n      <Widget\r\n        src=\"mob.near/widget/TagsEditor\"\r\n        props={{\r\n          initialTagsObject: getTagObjectfromArray(state.article.tags),\r\n          placeholder: \"Input tags\",\r\n          setTagsObject: (tags) => {\r\n            // console.log(filterTagsFromNull(tags));\r\n            // Next line is from parent widget. Not sure what it was used for.\r\n            // state.tags = filterTagsFromNull(tags);\r\n            stateUpdate({ tags });\r\n          },\r\n        }}\r\n      />\r\n      <Widget\r\n        src=\"mob.near/widget/SocialMarkdown\"\r\n        props={{\r\n          text: state.textAreaText,\r\n          onHashtag: (hashtag) => (\r\n            <span\r\n              key={hashtag}\r\n              className=\"d-inline-flex\"\r\n              style={{ fontWeight: 500 }}\r\n            >\r\n              <a\r\n                href={\r\n                  isDebug\r\n                    ? `https://near.social/#/${authorForWidget}/widget/SayALot_ArticlesByTag?tag=${hashtag}&isDebug=true`\r\n                    : `https://near.social/#/${authorForWidget}/widget/SayALot_ArticlesByTag?tag=${hashtag}`\r\n                }\r\n              >\r\n                #{hashtag}\r\n              </a>\r\n            </span>\r\n          ),\r\n        }}\r\n      />\r\n    </div>\r\n  </div>\r\n);\r\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/f2bc8abdb8ba64fe5aac9689ded9491ff0e6fdcd7a5c680b7cf364142d1789fb/widget/SayALot_FasterArticleEditInputs", "fact_widget_deployments_id": "8aa7e20bf06e71e25a7d63df6ee25e58", "inserted_timestamp": "2000-01-01T00:00:00.000Z", "modified_timestamp": "2000-01-01T00:00:00.000Z", "__row_index": 11}