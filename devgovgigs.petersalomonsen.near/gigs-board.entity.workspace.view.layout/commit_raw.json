{"tx_hash": "fjEcXUaYRLVUxSFhs2aysNqF3DToCFcx8SkoYrxMbJN", "action_id_social": "7Rnt8v3ooWf4rdczYK81UmEcJ2EhfTzEsVDe19JabxiQ-0-widget", "block_id": 104717173, "block_timestamp": "2023-11-01T21:57:54.074Z", "signer_id": "devgovgigs.petersalomonsen.near", "widget_name": "gigs-board.entity.workspace.view.layout", "source_code": "/* INCLUDE: \"common.jsx\" */\nconst nearDevGovGigsContractAccountId =\n  props.nearDevGovGigsContractAccountId ||\n  (context.widgetSrc ?? \"devgovgigs.near\").split(\"/\", 1)[0];\n\nconst nearDevGovGigsWidgetsAccountId =\n  props.nearDevGovGigsWidgetsAccountId ||\n  (context.widgetSrc ?? \"devgovgigs.near\").split(\"/\", 1)[0];\n\nfunction widget(widgetName, widgetProps, key) {\n  widgetProps = {\n    ...widgetProps,\n    nearDevGovGigsContractAccountId: props.nearDevGovGigsContractAccountId,\n    nearDevGovGigsWidgetsAccountId: props.nearDevGovGigsWidgetsAccountId,\n    referral: props.referral,\n  };\n\n  return (\n    <Widget\n      src={`${nearDevGovGigsWidgetsAccountId}/widget/gigs-board.${widgetName}`}\n      props={widgetProps}\n      key={key}\n    />\n  );\n}\n\nfunction href(widgetName, linkProps) {\n  linkProps = { ...linkProps };\n\n  if (props.nearDevGovGigsContractAccountId) {\n    linkProps.nearDevGovGigsContractAccountId =\n      props.nearDevGovGigsContractAccountId;\n  }\n\n  if (props.nearDevGovGigsWidgetsAccountId) {\n    linkProps.nearDevGovGigsWidgetsAccountId =\n      props.nearDevGovGigsWidgetsAccountId;\n  }\n\n  if (props.referral) {\n    linkProps.referral = props.referral;\n  }\n\n  const linkPropsQuery = Object.entries(linkProps)\n    .filter(([_key, nullable]) => (nullable ?? null) !== null)\n    .map(([key, value]) => `${key}=${value}`)\n    .join(\"&\");\n\n  return `/#/${nearDevGovGigsWidgetsAccountId}/widget/gigs-board.pages.${widgetName}${\n    linkPropsQuery ? \"?\" : \"\"\n  }${linkPropsQuery}`;\n}\n/* END_INCLUDE: \"common.jsx\" */\n\nconst WorkspaceViewLayout = ({\n  configurationControls,\n  children,\n  link,\n  metadata,\n  isConfiguratorActive,\n  isSynced,\n  onCancel,\n  onConfigure,\n  onDelete,\n  onSave,\n  permissions,\n}) => (\n  <div\n    className=\"d-flex flex-column align-items-center gap-4 w-100\"\n    style={{ paddingBottom: 72 }}\n  >\n    <div\n      className=\"d-flex justify-content-end gap-3 p-3 rounded-4 w-100\"\n      style={{\n        backgroundColor: \"#181818\",\n        zIndex: 100,\n      }}\n    >\n      {typeof link === \"string\" && link.length > 0 ? (\n        <>\n          {widget(\"components.molecule.button\", {\n            classNames: { root: \"btn-sm btn-outline-secondary text-light\" },\n            href: link,\n            icon: { type: \"bootstrap_icon\", variant: \"box-arrow-up-right\" },\n            isHidden: \"Disabled for MVP\",\n            label: \"Open in new tab\",\n            rel: \"noreferrer\",\n            role: \"button\",\n            target: \"_blank\",\n            type: \"link\",\n          })}\n\n          {widget(\"components.molecule.button\", {\n            classNames: { root: \"btn-sm btn-outline-secondary text-light\" },\n            icon: { type: \"bootstrap_icon\", variant: \"bi-clipboard-fill\" },\n            isHidden: isConfiguratorActive,\n            label: \"Copy link\",\n            onClick: () => clipboard.writeText(link),\n          })}\n        </>\n      ) : null}\n\n      {permissions.can_configure && (\n        <>\n          <div className=\"me-auto\">\n            {(configurationControls ?? []).map((controlProps) =>\n              widget(\n                \"components.molecule.button\",\n                {\n                  classNames: {\n                    root: \"btn-sm btn-outline-secondary text-light\",\n                  },\n                  ...controlProps,\n                  isHidden: !isConfiguratorActive,\n                },\n                controlProps.label\n              )\n            )}\n          </div>\n\n          {widget(\"components.molecule.button\", {\n            classNames: {\n              root: \"btn-sm btn-outline-warning shadow-none border-0\",\n            },\n\n            isHidden: typeof onCancel !== \"function\" || !isConfiguratorActive,\n            label: \"Cancel\",\n            onClick: onCancel,\n          })}\n\n          {widget(\"components.molecule.button\", {\n            classNames: { root: \"btn-sm btn-primary\" },\n            icon: { type: \"bootstrap_icon\", variant: \"bi-gear-wide-connected\" },\n            isHidden: typeof onConfigure !== \"function\" || isConfiguratorActive,\n            label: \"Configure\",\n            onClick: onConfigure,\n          })}\n\n          {widget(\"components.molecule.button\", {\n            classNames: { root: \"btn-sm btn-success\" },\n            disabled: isSynced,\n\n            icon: {\n              type: \"svg_icon\",\n              variant: \"floppy_drive\",\n              width: 14,\n              height: 14,\n            },\n\n            isHidden: typeof onSave !== \"function\" || !isConfiguratorActive,\n            label: \"Save\",\n            onClick: onSave,\n          })}\n\n          {widget(\"components.molecule.button\", {\n            classNames: {\n              root: \"btn-sm btn-outline-danger shadow-none border-0\",\n            },\n\n            icon: { type: \"bootstrap_icon\", variant: \"bi-recycle\" },\n\n            isHidden:\n              \"Disabled for MVP\" ??\n              (typeof onDelete !== \"function\" || isConfiguratorActive),\n\n            label: \"Delete\",\n            onClick: onDelete,\n          })}\n        </>\n      )}\n    </div>\n\n    <div className=\"d-flex flex-column align-items-center gap-2 py-4\">\n      <h5 className=\"h5 d-inline-flex gap-2 m-0\">\n        {widget(\"components.atom.icon\", {\n          type: \"bootstrap_icon\",\n          variant: \"bi-kanban-fill\",\n        })}\n\n        <span>\n          {(metadata.title?.length ?? 0) > 0 ? metadata.title : \"Untitled view\"}\n        </span>\n      </h5>\n\n      <p className=\"m-0 py-1 text-secondary text-center\">\n        {(metadata.description?.length ?? 0) > 0\n          ? metadata.description\n          : \"No description provided\"}\n      </p>\n    </div>\n\n    <div className=\"d-flex gap-3 w-100\" style={{ overflowX: \"auto\" }}>\n      {children}\n    </div>\n  </div>\n);\n\nreturn WorkspaceViewLayout(props);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/devgovgigs.petersalomonsen.near/widget/gigs-board.entity.workspace.view.layout", "fact_widget_deployments_id": "a327d10d504b9675575ad109e38a6e57", "inserted_timestamp": "2024-03-07T05:24:05.087Z", "modified_timestamp": "2024-03-07T05:24:05.087Z", "__row_index": 0}