{"tx_hash": "CFoMSfTcTz1bqpeQYvAMRzEAAcCgiSQBwJhVobzxSmzq", "action_id_social": "74BrBBL9eJhoVTsQ62z7WEZ2mxnAPkhdaZWoeyjUqJ1h-0-widget", "block_id": 103824160, "block_timestamp": "2023-10-20T18:49:40.792Z", "signer_id": "michsoftsterv2.near", "widget_name": "MetaTandaCreation", "source_code": null, "metadata": null, "branch": {"draft": {"": "const labelName = props.label ?? \"Nombre Tanda\";\nconst placeholderName = props.placeholder ?? \"super tanda\";\nconst labelDescription = props.label ?? \"Descrici\u00f3n\";\nconst placeholderDescription = props.placeholder ?? \"una tanda con Meta Pool\";\nconst labelContribution = props.label ?? \"Contribuci\u00f3n\";\nconst placeholderContribution = props.placeholder ?? \"1.0\";\nconst labelPenalty = props.label ?? \"Penalizaci\u00f3n\";\nconst placeholderPenalty = props.placeholder ?? \"0.1\";\nconst labelStart = props.label ?? \"Inicio\";\nconst placeholderStart = props.placeholder ?? \"20/10/2023\";\nconst labelEnd = props.label ?? \"Final\";\nconst placeholderEnd = props.placeholder ?? \"20/10/2024\";\nconst labelInterval = props.label ?? \"Intervalo\";\nconst placeholderInterval = props.placeholder ?? \"15\";\nconst labelTaxPayer = props.label ?? \"Contribuyentes\";\nconst placeholderTaxPayer = props.placeholder ?? \"4\";\nconst labelTokenAddress = props.label ?? \"Token Address\";\nconst placeholderTokenAddress =\n  props.placeholder ?? \"0x2137df2e54abd6bF1c1a8c1739f2EA6A8C15F144\";\n\nState.init({\n  chainId: 0,\n  price: 0,\n});\n\n/**\n * Ethereum Contract\n */\n\nconst priceFeedAddress = \"0x07dD4Ce17De84bA13Fc154A7FdB46fC362a41E2C\";\n\nconst priceFeedABI = [\n  {\n    inputs: [],\n    name: \"getPrice\",\n    outputs: [{ internalType: \"uint256\", name: \"\", type: \"uint256\" }],\n    stateMutability: \"view\",\n    type: \"function\",\n  },\n];\n\nif (Ethers.provider()) {\n  Ethers.provider()\n    .getNetwork()\n    .then((chainIdData) => {\n      if (chainIdData?.chainId) {\n        State.update({ chainId: chainIdData.chainId });\n      }\n    });\n\n  if (state.chainId === 1313161555) {\n    if (state.price === 0) {\n      const priceFeedContract = new ethers.Contract(\n        priceFeedAddress,\n        priceFeedABI,\n        Ethers.provider().getSigner()\n      );\n\n      priceFeedContract.getPrice().then((priceRes) => {\n        State.update({ price: ethers.utils.formatEther(priceRes) });\n      });\n    }\n  }\n}\n\nconst handleButtonClick =\n  props.handleButtonClick || (() => console.log(\"button clicked\"));\n\nconst value = props.value ?? \"\";\nconst onChange = props.onChange ?? (() => {});\nconst validate = props.validate ?? (() => {});\nconst error = props.error ?? \"\";\n\nconst Container = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n  justify-content: flex-start;\n  padding: 0px;\n  gap: 0.45em;\n  width: 100%;\n`;\n\nconst Label = styled.label`\n  font-style: normal;\n  font-weight: 600;\n  font-size: 0.95em;\n  line-height: 1.25em;\n  color: #344054;\n`;\n\nconst Error = styled.span`\n  display: inline-block;\n  font-style: normal;\n  font-weight: 400;\n  font-size: 0.75em;\n  line-height: 1.25em;\n  color: #ff4d4f;\n  height: 0;\n  overflow: hidden;\n  transition: height 0.3s ease-in-out;\n\n  &.show {\n    height: 1.25em;\n  }\n`;\n\nconst Input = styled.input`\n  box-sizing: border-box;\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  padding: 0.5em 0.75em;\n  gap: 0.5em;\n  background: #ffffff;\n  border: 1px solid #d0d5dd;\n  box-shadow: 0px 1px 2px rgba(11, 24, 40, 0.05);\n  border-radius: 4px;\n  color: #101828;\n  width: 100%;\n`;\n\nreturn (\n  <Container>\n    <div>Meta Tandas</div>\n    <Label>{labelName}</Label>\n    <Input\n      type=\"text\"\n      placeholder={placeholderName}\n      value={value}\n      onChange={({ target: { value } }) => onChange(value)}\n      onBlur={() => validate()}\n    />\n    <Label>{labelDescription}</Label>\n    <Input\n      type=\"text\"\n      placeholder={placeholderDescription}\n      value={value}\n      onChange={({ target: { value } }) => onChange(value)}\n      onBlur={() => validate()}\n    />\n    <Label>{labelContribution}</Label>\n    <Input\n      type=\"text\"\n      placeholder={placeholderContribution}\n      value={value}\n      onChange={({ target: { value } }) => onChange(value)}\n      onBlur={() => validate()}\n    />\n    <Label>{labelPenalty}</Label>\n    <Input\n      type=\"text\"\n      placeholder={placeholderPenalty}\n      value={value}\n      onChange={({ target: { value } }) => onChange(value)}\n      onBlur={() => validate()}\n    />\n    <Label>{labelStart}</Label>\n    <Input\n      type=\"text\"\n      placeholder={placeholderStart}\n      value={value}\n      onChange={({ target: { value } }) => onChange(value)}\n      onBlur={() => validate()}\n    />\n    <Label>{labelEnd}</Label>\n    <Input\n      type=\"text\"\n      placeholder={placeholderEnd}\n      value={value}\n      onChange={({ target: { value } }) => onChange(value)}\n      onBlur={() => validate()}\n    />\n    <Label>{labelInterval}</Label>\n    <Input\n      type=\"text\"\n      placeholder={placeholderInterval}\n      value={value}\n      onChange={({ target: { value } }) => onChange(value)}\n      onBlur={() => validate()}\n    />\n    <Label>{labelTaxPayer}</Label>\n    <Input\n      type=\"text\"\n      placeholder={placeholderTaxPayer}\n      value={value}\n      onChange={({ target: { value } }) => onChange(value)}\n      onBlur={() => validate()}\n    />\n    <Label>{labelTokenAddress}</Label>\n    <Input\n      type=\"text\"\n      placeholder={placeholderTokenAddress}\n      value={value}\n      onChange={({ target: { value } }) => onChange(value)}\n      onBlur={() => validate()}\n    />\n    <button class=\"btn btn-primary\" onClick={handleButtonClick}>\n      Iniciar Tanda\n    </button>\n    <Error className={error ? \"show\" : \"\"}>{error}</Error>\n  </Container>\n);\n"}}, "widget_modules_used": null, "widget_url": "https://near.social/#/michsoftsterv2.near/widget/MetaTandaCreation", "fact_widget_deployments_id": "d95e630c603899d3900e438f0dcf7b8b", "inserted_timestamp": "2023-10-20T20:42:09.352Z", "modified_timestamp": "2023-10-20T20:42:09.352Z", "__row_index": 3}