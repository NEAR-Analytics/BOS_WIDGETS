{"tx_hash": "Gydru4hpKUsN5XpNTCKRfz7py5nRFq8uXt9wdrqdX7DP", "action_id_social": "2Fk814brAtEt3StJrRzaotJs9EHGcJzvbzeAVR2x6913-0-widget", "block_id": 104666036, "block_timestamp": "2023-11-01T06:08:00.870Z", "signer_id": "discover.near", "widget_name": "Project.Settings", "source_code": "const { data, thingId } = props;\nconst initialTabs = data.tabs || [];\nState.init({\n  tabs: initialTabs,\n  src: \"\",\n  blockHeight: \"\",\n  iconClass: \"\",\n  title: \"\",\n  hasChanges: false,\n});\n\nconst handleAddTab = () => {\n  const newTab = {\n    iconClass: iconClass,\n    title: title,\n    module: {\n      src: src,\n      blockHeight: blockHeight,\n    },\n  };\n  State.update({ tabs: [...tabs, newTab], hasChanges: true });\n};\n\nconst handleRemoveTab = (index) => {\n  const newTabs = [...tabs];\n  newTabs.splice(index, 1);\n  State.update({ tabs: newTabs, hasChanges: true });\n};\n\nconst handleSave = () => {\n  Social.set({\n    thing: {\n      [thingId]: {\n        \"\": JSON.stringify({ ...data, tabs }),\n      },\n    },\n  });\n  setHasChanges(false);\n};\n\nreturn (\n  <div>\n    <div className=\"d-flex flex-column gap-3\" style={{ maxWidth: 720 }}>\n      <input\n        placeholder=\"iconClass\"\n        value={iconClass}\n        onChange={(e) => State.update({ iconClass: e.target.value })}\n      />\n      <input\n        placeholder=\"title\"\n        value={title}\n        onChange={(e) => State.update({ title: e.target.value })}\n      />\n      <input\n        placeholder=\"src\"\n        value={src}\n        onChange={(e) => State.update({ src: e.target.value })}\n      />\n      <input\n        placeholder=\"blockHeight\"\n        value={blockHeight}\n        onChange={(e) => State.update({ blockHeight: e.target.value })}\n      />\n      <button onClick={handleAddTab}>Add Tab</button>\n    </div>\n    <ul>\n      {tabs &&\n        tabs.map((tab, index) => (\n          <li key={index}>\n            {tab.module.src} - {tab.module.blockHeight}\n            <button onClick={() => handleRemoveTab(index)}>Remove</button>\n          </li>\n        ))}\n    </ul>\n    <div>\n      <button onClick={handleSave} disabled={!hasChanges}>\n        Save\n      </button>\n    </div>\n  </div>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/discover.near/widget/Project.Settings", "fact_widget_deployments_id": "1c75d778d80bb62675b6217eddfa4327", "inserted_timestamp": "2024-03-07T05:24:05.087Z", "modified_timestamp": "2024-03-07T05:24:05.087Z", "__row_index": 0}