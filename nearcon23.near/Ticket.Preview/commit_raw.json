{"tx_hash": "J3ioFGmZ3modVvxLdbwVeqDvGWQozuqyRD8EJLqTvD87", "action_id_social": "FTTextZh91hj3GHKZxM456naB5HtcjrTuXLSjpS4197z-0-widget", "block_id": 104703232, "block_timestamp": "2023-11-01T17:40:33.070Z", "signer_id": "nearcon23.near", "widget_name": "Ticket.Preview", "source_code": "const ownerId = \"nearcon23.near\";\n\nconst HeaderStyle = styled.div`\n   background: url(\"https://ipfs.near.social/ipfs/bafkreigmwev6i2ivgz5ampkihov2ub7yenn7hohs34erheclixz2dopwru\");\n  background-repeat: no-repeat;\n  background-size: cover;\n  height: 64px;\n  display: flex;\n  margin-top:-12px;\n  align-items: flex-end;\n  padding:15px;\n  p {\n    margin-bottom: 0px;\n    font-size:22px;\n    font-weight: 700;\n    color: black;\n  }\n`;\n\n\nconst Body = styled.div`\n  min-height: 100vh;\n  text-align: center;\n  justify-content: center;\n  padding-top:20px;\n  p {\n    text-align:center;\n  }\n`;\nconst Container = styled.div`\n  background:url(\"https://ipfs.near.social/ipfs/bafkreiadf32sz4riwsk6gwxrts7qqldhjae7jkgvl5gbhzngj4ekur2iuq\");\n   background-repeat: no-repeat;\n  background-attachment: fixed;\n  background-size: cover;\n`;\nconst NavLink = styled.div`\n  * {\n      color: #000000;\n  }\n`;\n\nconst [tikcetData, setTicketData] = useState(null);\nconst { privateKey } = props;\n\nconst fetchTicketData = () => {\n  const apiURL = `https://21mqgszhf3.execute-api.us-east-1.amazonaws.com/testnet/api/v1/accounts/${privateKey}/validate`;\n  const { body } = fetch(apiURL);\n  setTicketData(body.user);\n};\n\nif (privateKey) {\n  fetchTicketData();\n}\n\nreturn (\n  <Container>\n    <Widget\n      props={{\n        nearconId: state.userData.nearconId,\n        cid: state.userData.cid,\n      }}\n      src={`${ownerId}/widget/Navbar`}\n    />\n    <HeaderStyle>\n      <div\n        style={{\n          display: \"flex\",\n          alignItems: \"center\",\n          width: \"100%\",\n          justifyContent: \"space-between\",\n        }}\n      >\n        <p>Admin</p>\n\n        <NavLink>\n          <Link to=\"/mobile\">\n            <Widget\n              src={`${ownerId}/widget/Inputs.Toggle2`}\n              props={{ rightLabel: \"Home\", value: true }}\n            />\n          </Link>\n        </NavLink>\n      </div>\n    </HeaderStyle>\n    <Body>\n      <div\n        style={{\n          textAlign: \"center\",\n          display: \"flex\",\n          margin: \"auto\",\n          width: \"fit-content\",\n          gap: 8,\n        }}\n      >\n        <svg\n          xmlns=\"http://www.w3.org/2000/svg\"\n          width=\"40\"\n          height=\"35\"\n          viewBox=\"0 0 40 35\"\n          fill=\"none\"\n        >\n          <path\n            d=\"M37.7671 1.08347L15.4366 24.4116C14.592 25.2939 13.1957 25.3357 12.2998 24.5055L2.55461 15.4743C2.06219 15.018 1.3181 14.9672 0.768182 15.3522C0.106375 15.8157 -0.0382998 16.736 0.44939 17.3801L12.5154 33.3171C13.2234 34.2522 14.6238 34.2664 15.3506 33.3459L39.5785 2.65917C39.9752 2.15663 39.9083 1.43127 39.4263 1.0098C38.9425 0.586766 38.2115 0.619226 37.7671 1.08347Z\"\n            fill=\"white\"\n          />\n        </svg>\n\n        <p style={{ color: \"#DCDCF9\", fontSize: 30 }}>Valid Ticket</p>\n      </div>\n      <p\n        style={{\n          color: \"#9797FF\",\n          fontWeight: \"400\",\n          fontFamily: \"Mona Sans\",\n          marginTop: -10,\n        }}\n      >\n        Please show the QR code to an event organizer\n      </p>\n      <div\n        style={{\n          marginTop: 100,\n          minHeight: 250,\n          color: \"white\",\n          justifyContent: \"center\",\n          display: \"flex\",\n          flexDirection: \"column\",\n          alignItems: \"center\",\n\n          position: \"relative\",\n        }}\n      >\n        <img\n          style={{ width: \"min(90%, 350px)\", position: \"absolute\" }}\n          src=\"https://ipfs.near.social/ipfs/bafkreihqgi6mrfuje32swbbmhxlybwtguo4oyjjeher6jcw25m6pwxxqji\"\n        />\n        <div\n          style={{\n            zIndex: 10,\n            // marginTop: -275,\n\n            display: \"flex\",\n            justifyContent: \"center\",\n            alignItems: \"center\",\n            flexDirection: \"column\",\n          }}\n        >\n          <p style={{ color: \"black\", fontWeight: \"500\", marginBottom: -5 }}>\n            Name\n          </p>\n          <p\n            style={{\n              color: \"black\",\n              fontWeight: \"700\",\n              fontSize: 25,\n              textAlign: \"center\",\n              width: \"15ch\",\n              wordWrap: \"break-word\",\n            }}\n          >\n            {tikcetData.name}\n          </p>\n          <div\n            style={{\n              display: \"flex\",\n              justifyContent: \"center\",\n              alignItems: \"center\",\n              flexDirection: \"column\",\n            }}\n          >\n            <p style={{ color: \"black\", fontWeight: \"500\", marginBottom: -5 }}>\n              Email\n            </p>\n            <p\n              style={{\n                color: \"black\",\n                fontWeight: \"700\",\n                fontSize: 25,\n                width: \"15ch\",\n                wordWrap: \"break-word\",\n              }}\n            >\n              {tikcetData.email}\n            </p>\n          </div>\n        </div>\n      </div>\n      {!state.success && (\n        <>\n          <Link\n            to={`/ticket?secretKey=${privateKey}&contractId=ncon23.keypom.testnet`}\n          >\n            <button\n              style={{\n                marginTop: 190,\n                backgroundColor: \"#00EC97\",\n                borderWidth: 0,\n                padding: 10,\n                fontWeight: \"600\",\n                color: \"black\",\n                borderRadius: 100,\n                width: \"90%\",\n              }}\n              onClick={() => confirmId()}\n            >\n              Get QR Code\n            </button>\n          </Link>\n\n          <Link to=\"/\">\n            <button\n              style={{\n                marginTop: 20,\n                backgroundColor: \"#000\",\n                borderWidth: 0,\n                borderRadius: 50,\n                width: \"90%\",\n                padding: 12,\n                fontWeight: \"600\",\n              }}\n            >\n              Home\n            </button>\n          </Link>\n        </>\n      )}\n    </Body>\n  </Container>\n);\n", "metadata": {"platform": "jutsu.ai"}, "branch": {"draft": null}, "widget_modules_used": null, "widget_url": "https://near.social/#/nearcon23.near/widget/Ticket.Preview", "fact_widget_deployments_id": "eb6a0ebdfed175b12f9e48dc20fffe41", "inserted_timestamp": "2024-03-07T05:24:05.087Z", "modified_timestamp": "2024-03-07T05:24:05.087Z", "__row_index": 0}