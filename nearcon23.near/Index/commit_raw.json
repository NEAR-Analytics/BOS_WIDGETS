{"tx_hash": "7yenULHAU1N8S8RSBDZtbxafibr2BDSuD5o48THW2s6g", "action_id_social": "5yauRp39pHoUxmLSw2LtH9vuT6Yto2gdBPxYgFQbtvrJ-0-widget", "block_id": 104750450, "block_timestamp": "2023-11-02T08:39:43.090Z", "signer_id": "nearcon23.near", "widget_name": "Index", "source_code": "const ownerId = \"nearcon23.near\";\nconst apiUrl =\n  \"https://gqqkd7l7mk.execute-api.us-east-1.amazonaws.com/mainnet/api/v1\";\nconst availableTabs = [\n  \"home\",\n  \"register\",\n  \"hackathon\",\n  \"speakers\",\n  \"schedule\",\n  \"terms\",\n  \"ticket\",\n  \"profile\",\n  \"travel\",\n];\n\nconst { secretkey } = props;\n\nconst storedSecretKey = Storage.get(\n  \"newPrivateKey\",\n  `${ownerId}/widget/Ticket.Page`\n)\n  ? Storage.get(\"newPrivateKey\", `${ownerId}/widget/Ticket.Page`)\n  : Storage.get(\"newPrivateKey\", `${ownerId}/widget/RegisterMobile.Index`);\n\nconst fetchData = () => {\n  const key = secretkey ? secretkey : storedSecretKey;\n  asyncFetch(`${apiUrl}/accounts/auth/${key}`).then(({ body }) => {\n    State.update({ redirectToMobile: !!body?.nearconId });\n  });\n};\n\nuseEffect(() => {\n  fetchData();\n}, [secretkey, storedSecretKey]);\n\nif (state.redirectToMobile) {\n  return <Redirect to=\"/mobile\" />;\n}\n\nconst getTab = (tab) => {\n  if (!tab || !availableTabs.includes(tab)) {\n    return \"home\";\n  }\n\n  return tab;\n};\n\nState.init({\n  tab: getTab(props.tab),\n  collapsible: true,\n});\n\nconst isForm = [].includes(state.tab);\n\nconst update = (state) => State.update(state);\n\nconst tabContentWidget = {\n  profile: \"Profile.Page\",\n  home: \"Home.Page\",\n  register: \"Register.Page\",\n  hackathon: \"Hackathon.Page\",\n  speakers: \"Speakers.Page\",\n  schedule: \"Schedule.Page\",\n  terms: \"Terms.Page\",\n  ticket: \"Ticket.Page\",\n  travel: \"Travel.Page\",\n}[state.tab];\n\nconst tabContent = (\n  <Widget\n    src={`${ownerId}/widget/${tabContentWidget}`}\n    props={{ update, props }}\n  />\n);\n\nconst ContentContainer = styled.div`\n  width: 100%;\n  background: #ffffff;\n  border: 1px solid #eceef0;\n  border-radius: 24px;\n  padding: 0;\n  overflow: hidden;\n\n  @media screen and (max-width: 768px) {\n    width: 100%;\n  }\n\n  &.form {\n    border: none;\n    background: #fafafa;\n  }\n\n  * {\n    margin: 0;\n  }\n`;\n\nconst Sidebar = styled.div`\n  flex-direction: row;\n  position: sticky;\n  top: 0;\n\n  @media screen and (max-width: 768px) {\n    & > div {\n      &:last-child {\n        display: none;\n      }\n    }\n  }\n\n  @media screen and (min-width: 768px) {\n    & > div {\n      &:first-child {\n        display: none;\n      }\n    }\n  }\n`;\n\nconst Content = styled.div`\n  display: flex;\n  flex-direction: row;\n  position: relative;\n  width: 100%;\n\n  @media screen and (max-width: 768px) {\n    flex-direction: column;\n  }\n`;\n\nconst Container = styled.div``;\n\nreturn (\n  <Container>\n    <Widget\n      src={`${ownerId}/widget/Navbar`}\n      props={{ update, collapsible: state.collapsible }}\n    />\n    <Content>\n      <Sidebar>\n        <Widget\n          src={`${ownerId}/widget/Sidebar`}\n          props={{\n            tab: state.tab,\n            update,\n            collapsible: state.collapsible,\n          }}\n        />\n        <Widget\n          src={`${ownerId}/widget/Sidebar`}\n          props={{ tab: state.tab, update, collapsible: false }}\n        />\n      </Sidebar>\n\n      <ContentContainer className={isForm ? \"form\" : \"\"}>\n        {tabContent}\n        <Widget src={`${ownerId}/widget/Footer`} />\n      </ContentContainer>\n    </Content>\n  </Container>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/nearcon23.near/widget/Index", "fact_widget_deployments_id": "4251dbaec2fcce1bb63d801671760d84", "inserted_timestamp": "2024-03-07T05:24:05.087Z", "modified_timestamp": "2024-03-07T05:24:05.087Z", "__row_index": 232}