{"tx_hash": "3bigyEid7ZGk7Yur9BvKhGS2is8ypkgNBhfT2aEU5cta", "action_id_social": "AXdF3wueoY5YoY9JyHh3WWMhHBq3Qqw9NqRmSY94NTGE-0-widget", "block_id": 102346897, "block_timestamp": "2023-10-01T03:52:05.495Z", "signer_id": "sharddog.near", "widget_name": "Transfer", "source_code": "// This is a demo component to transfer NEAR tokens using BOS component with a helper `transfer-near.near` contract as native transfers are not supported on BOS yet: https://t.me/neardev/29391\n// Here is the contract itself: https://github.com/frol/transfer-near-contract; it is implemented with nesdie, so it only requires only 1 TGas attached to the function call.\n\nconst amount = props.amount ?? \"1\";\nconst receiver = \"comic.sharddog.near\";\nconst showReceiver = props.showReceiver ?? false;\nconst showAmount = props.showAmount ?? true;\n\nState.init({\n  amount: amount,\n  receiver: receiver,\n  showReceiver: showReceiver,\n  showAmount: showAmount,\n});\nconst transferNEAR = () => {\n  const oneTeraGas = 1000000000000;\n  const oneNEARInYoctoNEAR = 1000000000000000000000000;\n  // Let's transfer amount NEAR to frol.near\n  Near.call(\n    \"transfer-near.near\",\n    \"transfer_near\",\n    state.receiver,\n    oneTeraGas,\n    state.amount * oneNEARInYoctoNEAR\n  );\n};\n\nconst onChangeAmount = (amount) => {\n  State.update({\n    amount,\n  });\n};\nconst onChangeReceiver = (receiver) => {\n  //   const validReceiverLink = isNearAddress(receiver); // add error message or change button based on this\n  State.update({\n    receiver,\n    // validReceiver: validReceiverLink,\n  });\n};\n// styled div\nconst Actions = styled.div`\n  display: flex;\n  gap: 6px;\n`;\nconst FollowButtonWrapper = styled.div`\n  width: 100%;\n  div,\n  button {\n    width: 100%;\n  }\n  @media (max-width: 1200px) {\n    width: auto;\n    div,\n    button {\n      width: auto;\n    }\n  }\n`;\nconst Wrapper = styled.div`\n .bi-search {\n    position: absolute;\n    top: 0;\n    z-index: 100;\n    font-size: 14px;\n    width: 100%;\n    line-height: 40px;\n    color: #687076;\n  }\n\n  .input-group {\n    height: 100%;\n    wdith: 50%;\n  }\n\n  input {\n    padding: 0 14px 0 42px;\n    border: 1px solid #d0d5dd !important;\n    background: #ffffff;\n    border-radius: 100px;\n  }\n\n  .join-button {\n    display: inline-flex;\n    align-items: center;\n    justify-content: center;\n    gap: 8px;\n    padding: 8px 16px;\n    height: 32px;\n    border-radius: 100px;\n    font-weight: 600;\n    font-size: 12px;\n    line-height: 15px;\n    text-align: center;\n    cursor: pointer;\n    background: #FBFCFD;\n    border: 1px solid #D7DBDF;\n    color: ${props.primary ? \"#006ADC\" : \"#11181C\"} !important;\n    white-space: nowrap;\n\n    &:hover,\n    &:focus {\n      background: #ECEDEE;\n      text-decoration: none;\n      outline: none;\n    }\n\n    i {\n      display: inline-block;\n      color: #7E868C;\n    }\n  }\n`;\n\nreturn (\n  <>\n    {state.showAmount && (\n      <div className=\" mb-2\">\n        Missed a panel?\n        <br />\n        Pay what you want and then claim this panels through the link below.\n        <input\n          type=\"number\"\n          placeholder={state.amount}\n          onChange={(e) => onChangeAmount(e.target.value)}\n        />\n      </div>\n    )}\n    {state.showReceiver && (\n      <div className=\"mb-2\">\n        Receiver Address\n        <input\n          type=\"text\"\n          readOnly={true}\n          placeholder={state.receiver}\n          onChange={(e) => onChangeReceiver(e.target.value)}\n        />\n      </div>\n    )}\n\n    <Actions>\n      <FollowButtonWrapper>\n        <Wrapper>\n          <button className=\"join-button\" onClick={transferNEAR}>\n            Transfer {state.amount} NEAR to {state.receiver}\n          </button>\n        </Wrapper>\n      </FollowButtonWrapper>\n    </Actions>\n  </>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/sharddog.near/widget/Transfer", "fact_widget_deployments_id": "c1ed18cffc9d8877959c4ec032420445", "inserted_timestamp": "2024-03-07T05:24:05.087Z", "modified_timestamp": "2024-03-07T05:24:05.087Z", "__row_index": 6}