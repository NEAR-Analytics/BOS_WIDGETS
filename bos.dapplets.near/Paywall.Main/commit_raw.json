{"tx_hash": "EWmKDWKVxHqGss2ceCQEFWRgh1Rjk6nvZk62NcQ2CUjT", "action_id_social": "4HHtV21UNmXEEfeBCx9aRep8f7gLDjdGqZcaKVBrHhWD-0-widget", "block_id": 111290864, "block_timestamp": "2024-01-25T15:35:31.124Z", "signer_id": "bos.dapplets.near", "widget_name": "Paywall.Main", "source_code": "const { nearAccountId } = props\nconst { authorId, id } = props.link\n\nif (!id) return <></>\n\nconst userAccountId = context.accountId || nearAccountId\nconst CONTRACT_ADDRESS = \"v2.paywall.near\"\n\nState.update({\n  hasContent: Near.view(\n      CONTRACT_ADDRESS,\n      \"has_content\",\n      { context_id: id },\n      'final',\n      true\n    )\n})\n\nif (state.hasContent) {\n  State.update({\n    content: Near.view(\n        CONTRACT_ADDRESS,\n        \"get_one\",\n        {\n          context_id: id,\n          account_id: userAccountId || ''\n        },\n        'final',\n        true\n      )\n  })\n}\n\nreturn (\n  <>\n    {state.content\n      ? <Widget\n          src=\"bos.dapplets.near/widget/Paywall.Content\"\n          props={{\n            content: state.content,\n            CONTRACT_ADDRESS,\n            nearAccountId,\n          }\n        }/>\n      : authorId === userAccountId\n      ? <Widget\n          src=\"bos.dapplets.near/widget/Paywall.Form\"\n          props={{ linkId: id, CONTRACT_ADDRESS }}\n        />\n      : <></>}\n  </>\n)\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/bos.dapplets.near/widget/Paywall.Main", "fact_widget_deployments_id": "ead70e556dcaaeaa310d36fb255ed853", "inserted_timestamp": "2024-03-07T05:24:05.087Z", "modified_timestamp": "2024-03-07T05:24:05.087Z", "__row_index": 8}