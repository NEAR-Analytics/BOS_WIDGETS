{"tx_hash": "F5siP3jyiG26XiiwG3tu1tPeCYWMcMDkVkRaRhPRbCaD", "action_id_social": "Acp372rh2rHyMjLqD7WTR3Fmcj4YkAxkUu6Qmn5ye2Qk-0-widget", "block_id": 111050752, "block_timestamp": "2024-01-22T17:14:08.560Z", "signer_id": "bos.dapplets.near", "widget_name": "Paywall.Main", "source_code": "const { nearAccountId } = props;\nconst { authorId, id } = props.link;\n\nif (!id) return <></>;\n\nconst userAccountId = context.accountId || nearAccountId\nconst MOCKED_ADDRESS = \"ncownthflapqowieuryt.near\" // ToDo: one needs account address to get content for context\nconst CONTRACT_ADDRESS = \"v2.paywall.near\";\n\nState.update({\n  content: Near.view(\n      CONTRACT_ADDRESS,\n      \"get_content_by_post_for_account\",\n      {\n        context_id: id,\n        account_id: userAccountId || MOCKED_ADDRESS\n      }\n    )[0]\n})\n\nreturn (\n  <>\n    {state.content\n      ? <Widget\n          src=\"bos.dapplets.near/widget/Paywall.Content\"\n          props={{\n            content: state.content,\n            CONTRACT_ADDRESS,\n            nearAccountId,\n          }\n        }/>\n      : authorId === userAccountId\n      ? <Widget\n          src=\"bos.dapplets.near/widget/Paywall.Form\"\n          props={{ linkId: id, CONTRACT_ADDRESS }}\n        />\n      : <></>}\n  </>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/bos.dapplets.near/widget/Paywall.Main", "fact_widget_deployments_id": "0c7a619291b6be3dd350e7ef2c4cf0ce", "inserted_timestamp": "2024-03-07T05:24:05.087Z", "modified_timestamp": "2024-03-07T05:24:05.087Z", "__row_index": 6}