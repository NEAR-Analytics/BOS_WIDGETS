{"tx_hash": "7N96wDxaNmTYp1jNRmyxaVQDgqP6ZLwW48jTsc9Vjfpu", "action_id_social": "8AFXHAAgmCBUPBpAcovirDgjoTWsDkvVwQ2Dynf4oWSu-0-widget", "block_id": 117163007, "block_timestamp": "2024-04-19T09:26:14.528Z", "signer_id": "bos.dapplets.near", "widget_name": "DefaultLayoutManager", "source_code": "if (!props.widgets || props.widgets.length === 0) return <></>;\n\nconst [isWaiting, setIsWaiting] = useState(false)\n\nconst handleRemoveWidget = (linkId) => {\n  setIsWaiting(true)\n  props.deleteUserLink(linkId).then(() => setIsWaiting(false)).catch(() => setIsWaiting(false))\n}\n\nconst Container = styled.div`\n  display: flex;\n  gap: 8px;\n  margin-left: 8px;\n`;\n\nconst WidgetWrapper = styled.div`\n  max-width: 100%;\n  min-width: 18px;\n  position: relative;\n`;\n\nconst WidgetBadgeWrapper = styled.div`\n  position: absolute;\n  right: 0px;\n  top: 0px;\n  z-index: 1200;\n  background: rgba(255, 255, 255, 0.35);\n  width: 100%;\n  height: 100%;\n  display: flex;\n  -webkit-box-align: center;\n  align-items: center;\n  -webkit-box-pack: center;\n  justify-content: center;\n  border-radius: 4%;\n  backdrop-filter: blur(0.5px);\n  div {\n    padding: 2px;\n  }\n`;\n\nreturn (\n  <Container>\n    {props.widgets\n      .filter((w) => w.isSuitable === undefined || w.isSuitable === true)\n      .map((widget) => (\n        <WidgetWrapper key={widget.linkId}>\n          {props.isEditMode ? (\n            <WidgetBadgeWrapper\n              title={\n                widget.linkAuthorId === context.accountId\n                  ? `Remove ${widget.src.split(\"widget/\").pop()}`\n                  : \"disable in edit mode \"\n              }\n              style={{\n                opacity: widget.linkAuthorId === context.accountId ? \"1\" : \"0\",\n              }}\n            >\n              {widget.linkAuthorId === context.accountId ? isWaiting ? (\n                <span role=\"status\" aria-hidden=\"true\" class=\"spinner-grow spinner-grow-sm\" />\n              ) : (\n                <Widget\n                  src=\"bos.dapplets.near/widget/LayoutManager.DeleteWidgetButton\"\n                  props={{\n                    onClick: () => handleRemoveWidget(widget.linkId),\n                  }}\n                />\n              ) : //   <Widget src=\"bos.dapplets.near/widget/LayoutManager.LockedWidgetBadge\" />\n              null}\n            </WidgetBadgeWrapper>\n          ) : null}\n          <Widget src={widget.src} props={widget.props} />\n        </WidgetWrapper>\n      ))}\n  </Container>\n);\n", "metadata": {}, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/bos.dapplets.near/widget/DefaultLayoutManager", "fact_widget_deployments_id": "195f6a83d8b80be4c6c3bcbcbea3386e", "inserted_timestamp": "2024-04-19T10:42:30.638Z", "modified_timestamp": "2024-04-19T11:37:10.141Z", "__row_index": 28}