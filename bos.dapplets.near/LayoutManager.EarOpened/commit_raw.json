{"tx_hash": "3J7FXqhG6cH4fFx54W3CfHqTNQX5KoXSwihdnveUzZpm", "action_id_social": "3m4GsSfgGEBiciPvebTE8ndrirLHqSvUYGFLmqBmD9FT-0-widget", "block_id": 118980229, "block_timestamp": "2024-05-15T15:24:58.232Z", "signer_id": "bos.dapplets.near", "widget_name": "LayoutManager.EarOpened", "source_code": "const widgets = props.widgets ?? [];\nconst {\n  isEditMode,\n  enableEditMode,\n  disableEditMode,\n  handleOpenMenu,\n  handleOnMouseLeave,\n  deleteUserLink,\n} = props;\n\nconst suitableWidgets = widgets.filter(\n  (w) => w.isSuitable === undefined || w.isSuitable === true\n);\n\nconst isMyLinksInjected = !!widgets.some(\n  (w) => w.linkAuthorId === context.accountId\n);\n\n// Disable edit mode if last widget was removed\nuseEffect(() => {\n  if (isEditMode && !isMyLinksInjected) {\n    disableEditMode();\n  }\n}, [isMyLinksInjected, isEditMode]);\n\nconst TriggerShowPanel = styled.div`\n  width: 40px;\n  height: auto;\n  border-radius: 0px 4px 4px 0px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  position: absolute;\n  right: -33px;\n  top: -20px;\n  z-index: 79;\n`;\n\nconst ActionsWrapper = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  padding-top: 6px;\n  border: 1px solid #384bff;\n  border-radius: 0px 4px 4px 0px;\n  right: 60px;\n  width: 40px;\n  min-height: 34px;\n  height: auto;\n  background: #fff;\n  z-index: 1080;\n\n  @keyframes translateAnimation {\n    0% {\n      display: none;\n      opacity: 0;\n    }\n     80% {\n      display: flex;\n      opacity: 0;\n    }\n    100% {\n      display: flex;\n      opacity: 1;\n    }\n  }\n  animation: translateAnimation 0.3s ease forwards;\n  transition: all 0.2s;\n  span{\n    display: block;\n    margin-bottom: 5px;\n\n  }\n`;\n\nconst ActionBlock = styled.span`\n  position: relative;\n\n  div {\n    z-index: 1000;\n  }\n`;\n\nreturn (\n  <TriggerShowPanel\n    onMouseOut={handleOnMouseLeave}\n    style={{\n      margin: \"0px -7px\",\n      top: suitableWidgets.length ? \"\" : \"-20px\",\n    }}\n  >\n    <Widget  loading={<></>} src=\"bos.dapplets.near/widget/LayoutManager.SupportingSpan\" />\n    <ActionsWrapper\n      style={{\n        backgroundColor: suitableWidgets.length ? \"\" : \"#DB504A!important\",\n      }}\n    >\n      {suitableWidgets.map((widget) => (\n        <ActionBlock key={widget.linkId}>\n          {isEditMode ? (\n            <Widget\n             loading={<></>}\n              src=\"bos.dapplets.near/widget/LayoutManager.WidgetBadgeWrapper\"\n              props={{\n                widget,\n                deleteUserLink,\n              }}\n            />\n          ) : null}\n          <Widget  loading={<></>} src={widget.src} props={widget.props} />\n        </ActionBlock>\n      ))}\n      {isEditMode ? (\n        <Widget\n         loading={<></>}\n          src=\"bos.dapplets.near/widget/LayoutManager.Buttons.Apply\"\n          props={{ onClick: disableEditMode }}\n        />\n      ) : isMyLinksInjected ? (\n        <Widget\n         loading={<></>}\n          src=\"bos.dapplets.near/widget/LayoutManager.Buttons.Edit\"\n          props={{ onClick: enableEditMode }}\n        />\n      ) : null}\n      <Widget\n       loading={<></>}\n        src=\"bos.dapplets.near/widget/LayoutManager.Buttons.Plus\"\n        props={{ widgets: suitableWidgets, onClick: handleOpenMenu }}\n      />\n    </ActionsWrapper>\n    {suitableWidgets.length ? (\n      <Widget  loading={<></>} src=\"bos.dapplets.near/widget/LayoutManager.SupportingSpan\" />\n    ) : null}\n  </TriggerShowPanel>\n);\n", "metadata": {}, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/bos.dapplets.near/widget/LayoutManager.EarOpened", "fact_widget_deployments_id": "d8923744c885aab473c81381703d7b81", "inserted_timestamp": "2024-05-15T16:55:31.288Z", "modified_timestamp": "2024-05-15T17:51:14.266Z", "__row_index": 1}