{"tx_hash": "3RLntoKjdptCag8n61ViCPwu4TFpoofohTbbX3EXHvXD", "action_id_social": "Ec5XRjSNcdCx9pMx2EEGKg8WLjpcnchs88B3toVBm8QX-0-widget", "block_id": 118364546, "block_timestamp": "2024-05-06T12:06:38.586Z", "signer_id": "bos.dapplets.near", "widget_name": "WebGuide.Main", "source_code": "const { context } = props;\n\nconst [counter, setCounter] = useState(0);\n\nconst stepsCount = 5;\n\nconst handleIncrement = () => {\n  setCounter((val) => Math.min(val + 1, stepsCount - 1));\n};\n\nconst handleDecrement = () => {\n  setCounter((val) => Math.max(val - 1, 0));\n};\n\nconst CalloutForContext =\n  ({ arrowTo }) =>\n  ({ children, context, attachContextRef, attachInsPointRef }) => {\n    return (\n      <Widget\n        src=\"bos.dapplets.near/widget/WebGuide.OverlayTrigger\"\n        loading={children}\n        props={{\n          type: \"callout\",\n          navi: {\n            currentStepIndex: counter,\n            totalSteps: stepsCount,\n          },\n          buttons: [\n            {\n              variant: \"secondary\",\n              disabled: counter === 0,\n              onClick: handleDecrement,\n              label: \"Prev\",\n            },\n            {\n              variant: \"primary\",\n              disabled: counter === stepsCount - 1,\n              onClick: handleIncrement,\n              label: \"Next\",\n            },\n          ],\n          status: {\n            type: \"info\",\n            text: context.type,\n          },\n          content: context.parsed.id,\n          children:\n            arrowTo === \"context\"\n              ? ({ ref }) => {\n                  attachContextRef(ref);\n                  return children;\n                }\n              : arrowTo === \"insPoint\"\n              ? ({ ref }) => {\n                  attachInsPointRef(ref);\n                  return children;\n                }\n              : children,\n        }}\n      />\n    );\n  };\n\nreturn (\n  <>\n    {counter == 0 ? (\n      <MuWebWrapperPortal\n        target={{\n          namespace: \"mweb\",\n          contextType: \"notch\",\n          injectTo: \"hidden\",\n          if: { id: { eq: \"notch\" } },\n        }}\n        component={CalloutForContext({ arrowTo: \"context\" })}\n      />\n    ) : null}\n\n    {counter == 1 ? (\n      <MuWebWrapperPortal\n        target={{\n          namespace: \"mweb\",\n          contextType: \"mutation\",\n          injectTo: \"hidden\",\n          if: { id: { eq: \"bos.dapplets.near/mutation/Testing2\" } },\n        }}\n        component={CalloutForContext({ arrowTo: \"context\" })}\n      />\n    ) : null}\n\n    {counter == 2 ? (\n      <MuWebWrapperPortal\n        target={{\n          namespace: \"bos.dapplets.near/parser/twitter\",\n          contextType: \"post\",\n          injectTo: \"avatar\",\n          if: { id: { eq: \"1694995344461894022\" } },\n        }}\n        component={CalloutForContext({ arrowTo: \"insPoint\" })}\n      />\n    ) : null}\n\n    {counter == 3 ? (\n      <MuWebWrapperPortal\n        target={{\n          namespace: \"bos.dapplets.near/parser/twitter\",\n          contextType: \"post\",\n          injectTo: \"southPanel\",\n          if: { id: { eq: \"1694995344461894022\" } },\n          insteadOf: {\n            linkId: \"2dec2fe13441c1432d7a881e9cb58659\",\n          },\n        }}\n        component={CalloutForContext()}\n      />\n    ) : null}\n\n    {counter == 4 ? (\n      <MuWebWrapperPortal\n        target={{\n          namespace: \"mweb\",\n          contextType: \"ear-trigger\",\n          injectTo: \"hidden\",\n          if: { id: { eq: \"1694995344461894022\" } },\n        }}\n        component={CalloutForContext({ arrowTo: \"context\" })}\n      />\n    ) : null}\n  </>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/bos.dapplets.near/widget/WebGuide.Main", "fact_widget_deployments_id": "8415fc86f7a794da4c20b4b483aa5a11", "inserted_timestamp": "2024-05-06T13:39:28.857Z", "modified_timestamp": "2024-05-06T13:39:28.857Z", "__row_index": 19}