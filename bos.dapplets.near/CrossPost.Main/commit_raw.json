{"tx_hash": "9xB5aWcDuccwS6G24GJEHf24stsR1FSkHYeY4f5hhLsi", "action_id_social": "51Zsx3c93Z3CP2ZpTT9GjvpKbr4KGYQe9kqigg7G2Had-0-widget", "block_id": 119985972, "block_timestamp": "2024-05-29T09:35:06.550Z", "signer_id": "bos.dapplets.near", "widget_name": "CrossPost.Main", "source_code": "const getTopContext = (ctx) => {\n  return ctx.parent ? drillUpContext(ctx) : ctx;\n};\n\nconst buildShareLink = (targetUrl, mutationId) => {\n  const url = new URL(\"https://augm.link/mutate\");\n\n  url.searchParams.set(\"t\", targetUrl);\n  url.searchParams.set(\"m\", mutationId);\n\n  return url.href;\n};\n\nconst buildRepostText = (shareLink, text) => {\n  return `Forwarded from X with [MutableWeb](${shareLink}):\\n\\n${text}`;\n};\n\nconst handleCrosspostClick = () => {\n  const post = props.context.parsed;\n  const { mutationId } = getTopContext(props.context);\n  const shareLink = buildShareLink(post.url, mutationId);\n  const repostText = buildRepostText(shareLink, post.text);\n\n  Social.set({\n    post: {\n      main: JSON.stringify({\n        type: \"md\",\n        text: repostText,\n      }),\n      index: {\n        post: JSON.stringify({\n          key: \"main\",\n          value: { type: \"md\" },\n        }),\n      },\n    },\n  });\n};\n\nreturn (\n  <button disabled={!context.accountId} onClick={handleCrosspostClick}>\n    CrossPost\n  </button>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/bos.dapplets.near/widget/CrossPost.Main", "fact_widget_deployments_id": "e0f9c37679b02a9eacbdb5c889b752f4", "inserted_timestamp": "2024-05-29T10:55:46.491Z", "modified_timestamp": "2024-05-29T11:55:22.397Z", "__row_index": 2}