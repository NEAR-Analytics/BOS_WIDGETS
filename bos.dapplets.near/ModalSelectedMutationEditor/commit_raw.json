{"tx_hash": "GMCJS7VwrvT38ju8qwY4NBEwea1AD5uFJEQJMARPWnvn", "action_id_social": "96b2APk9acdCuGTsZoohrF1Ho2ZPJ7sSeeAvmh1JUZ4m-0-widget", "block_id": 116404762, "block_timestamp": "2024-04-08T16:20:52.958Z", "signer_id": "bos.dapplets.near", "widget_name": "ModalSelectedMutationEditor", "source_code": "const [accountId] = props.selectedMutation\n  ? props.selectedMutation.id.split(\"/\")\n  : null;\nState.init({\n  textSave:\n    context.accountId && accountId === context.accountId ? `Publish` : \"Fork\",\n  isOpenParametersSave: false,\n});\nconst parametersSave =\n  context.accountId && accountId === context.accountId\n    ? [\"Publish\", \"Fork\"]\n    : [\"Fork\"];\n\nconst SelectedMutationEditorWrapper = styled.div`\ndisplay: flex;\nflex-direction: column;\n    position: absolute;\n    top: 100px;\n    left: 50%;\n transform: translateX(-50%);\npadding: 20px;\ngap: 20px;\nborder-radius: 10px;\nfont-family: sans-serif;\nborder: 1px solid #02193A;\nbackground: #F8F9FF;\nwidth: 400px;\nmax-height: 446px;\n`;\n\nconst Close = styled.span`\ncursor:pointer;\n&:hover{\n  opacity:0.5\n}`;\n\nconst HeaderEditor = styled.div`\ndisplay: flex;\n    justify-content: space-between;\n    align-items: center;\n    color: rgba(2, 25, 58, 1);\n    font-size: 18px;\n    font-weight: 600;\n    line-height: 21.09px;\n    text-align: left;\n    svg{\n      margin-left: auto;\n    }\n`;\nconst ButtonsBlock = styled.div`\ndisplay: flex;\n    justify-content: space-between;\n    align-items: center;\n`;\n\nconst ButtonsRevert = styled.div`\ndisplay: flex;\n    justify-content: center;\n    align-items: center;\n    border: 1px solid rgba(226, 226, 229, 1);\n    color: rgba(2, 25, 58, 1);\n    width: 175px;\n    height:42px;\n    border-radius: 10px;\nfont-size: 14px;\nfont-weight: 400;\nline-height: 20.86px;\ntext-align: center;\ncursor: pointer;\n&:hover{\n  opacity:0.5\n}\n    `;\nconst ButtonsSave = styled.div`\ndisplay: flex;\n    justify-content: center;\n    align-items: center;\n      width: 175px;\n    height:42px;\n    border-radius: 10px;\n    background: ${\n      context.accountId ? \"rgba(56, 75, 255, 1)\" : \"rgba(56, 75, 255, 0.5)\"\n    } ;\n    color:#fff;\nfont-size: 14px;\nfont-weight: 400;\nline-height: 20.86px;\ntext-align: center;\nposition: relative;\ncursor: pointer;\n&:hover{\n  opacity:0.5\n}\n    `;\nconst TextSave = styled.div`\n    display: inline-block;\n    overflow: hidden;\n    word-wrap: no-wrap;\n    text-overflow: ellipsis;\n    width: 100%;\n    padding: 0 10px;\n    text-align: center;\n    `;\nconst ArrowWrapper = styled.div`\ndisplay: flex;\n    justify-content: center;\n    align-items: center;\n    width: 42px;\n    height: 42px;\n    margin-left: auto;\n    .rotateIcon{\n        transform: rotate(180deg);\n    }\n`;\n\nconst SaveChanges = styled.div`\nposition:absolute;\ndisplay: flex;\n    justify-content: center;\n    align-items: center;\n    flex-direction: column;\nright: 0;\ntop:52px;\nwidth: 179px;\nheight: 112px;\npadding: 10px;\ngap: 10px;\nborder-radius: 10px;\nbackground:rgba(231, 236, 239, 1);\nfont-size: 14px;\nfont-weight: 400;\nline-height: 20.86px;\ntext-align: center;\ncolor: rgba(34, 34, 34, 1);\n\n`;\n\nconst SaveChangesItem = styled.div`\ndisplay: flex;\n    justify-content: center;\n    align-items: center;\n    width: 159px;\nheight:41px;\nborder-radius: 4px ; \ncursor: pointer;\n&:hover{\n  opacity:0.5\n}\n`;\n\nconst Input = styled.input`\n  display: block;\n  flex-grow: 1;\n  border: none;\n  background: none;\n  margin: 0;\n  min-width: 150px;\n  height: 40px;\n  line-height: 40px;\n  padding: 0;\n  color: var(--sand12);\n  font: var(--text-base);\n  outline: none !important;\n  text-align: left;\n  transition:\n    color 200ms,\n    opacity 200ms;\n\n  [data-textarea=\"true\"] & {\n    line-height: 1.5;\n    padding: 8px 12px;\n    height: unset;\n    min-height: 5.5rem;\n  }\n\n  &::placeholder {\n    color: var(--sand10);\n    font: var(--text-base);\n    opacity: 1;\n  }\n\n  [data-disabled=\"true\"] & {\n    opacity: 1;\n    color: var(--sand9);\n\n    &::placeholder {\n      color: var(--sand9);\n    }\n  }\n`;\nconst closeIcon = (\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    width=\"30\"\n    height=\"30\"\n    viewBox=\"0 0 30 30\"\n    fill=\"none\"\n  >\n    <path\n      d=\"M21 9L9 21\"\n      stroke=\"#02193A\"\n      stroke-width=\"2\"\n      stroke-linecap=\"round\"\n      stroke-linejoin=\"round\"\n    />\n    <path\n      d=\"M9 9L21 21\"\n      stroke=\"#02193A\"\n      stroke-width=\"2\"\n      stroke-linecap=\"round\"\n      stroke-linejoin=\"round\"\n    />\n  </svg>\n);\nconst iconEdit = (\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    width=\"24\"\n    height=\"24\"\n    viewBox=\"0 0 24 24\"\n    fill=\"none\"\n  >\n    <path\n      d=\"M12 18H19\"\n      stroke=\"#7A818B\"\n      stroke-width=\"1.5\"\n      stroke-linecap=\"round\"\n      stroke-linejoin=\"round\"\n    />\n    <path\n      d=\"M15.2504 5.47176C15.5524 5.1697 15.9621 5 16.3893 5C16.6008 5 16.8103 5.04166 17.0057 5.12261C17.2011 5.20355 17.3787 5.32219 17.5282 5.47176C17.6778 5.62133 17.7964 5.79889 17.8774 5.99431C17.9583 6.18972 18 6.39917 18 6.61069C18 6.82221 17.9583 7.03166 17.8774 7.22708C17.7964 7.42249 17.6778 7.60006 17.5282 7.74962L8.03715 17.2407L5 18L5.75929 14.9629L15.2504 5.47176Z\"\n      stroke=\"#7A818B\"\n      stroke-width=\"1.5\"\n      stroke-linecap=\"round\"\n      stroke-linejoin=\"round\"\n    />\n  </svg>\n);\n\nconst arrow = (\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    width=\"14\"\n    height=\"8\"\n    viewBox=\"0 0 14 8\"\n    fill=\"none\"\n  >\n    <path\n      d=\"M1 1L7 7L13 1\"\n      stroke=\"white\"\n      stroke-width=\"2\"\n      stroke-linecap=\"round\"\n      stroke-linejoin=\"round\"\n    />\n  </svg>\n);\n\nreturn (\n  <SelectedMutationEditorWrapper>\n    <HeaderEditor>\n      <Input\n        onChange={props.handleEditMutationName}\n        value={props.mutationName ? props.mutationName : \"\"}\n      />\n\n      <Close onClick={props.onClose}> {closeIcon}</Close>\n    </HeaderEditor>\n    {state.textSave === \"Fork\" && context.accountId ? (\n      <Input\n        onChange={(e) => props.handleEditMutationId(e, context.accountId)}\n        placeholder={\"enter id mutation\"}\n        value={props.selectedMutation.id ? props.selectedMutation.id : \"\"}\n      />\n    ) : null}\n    <div\n      style={{\n        overflow: \"hidden\",\n        overflowY: \"auto\",\n        maxHeight: \"400px\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        gap: \"5px\",\n      }}\n    >\n      {props.apps && props.apps.length\n        ? props.apps.map((app, i) => (\n            <Widget\n              key={i}\n              src=\"bos.dapplets.near/widget/ApplicationCard\"\n              props={{\n                src: app.id,\n                metadata: app.metadata,\n                hideButtons: !context.accountId,\n                selectedApps:\n                  props.selectedApps &&\n                  props.selectedApps.filter((x) => x === app.id)[0],\n                handleEditMutationApps: props.handleEditMutationApps,\n              }}\n            />\n          ))\n        : null}\n    </div>\n    <ButtonsBlock>\n      <ButtonsRevert onClick={props.handleResetMutation}>\n        Revert changes\n      </ButtonsRevert>\n      <ButtonsSave>\n        <TextSave\n          onClick={() =>\n            state.textSave === \"Publish\"\n              ? props.handleSaveMutation(props.selectedMutation, true)\n              : props.handleSaveMutation(props.selectedMutation, false)\n          }\n        >\n          {state.textSave}\n        </TextSave>\n        <ArrowWrapper\n          style={{\n            transform: state.isOpenParametersSave\n              ? \"rotate(180deg)\"\n              : \"rotate(0deg)\",\n          }}\n          onClick={() =>\n            context.accountId\n              ? State.update({\n                  isOpenParametersSave: !state.isOpenParametersSave,\n                })\n              : null\n          }\n        >\n          {arrow}\n        </ArrowWrapper>\n        {state.isOpenParametersSave ? (\n          <SaveChanges>\n            {parametersSave.map((x, i) => (\n              <SaveChangesItem\n                onClick={() =>\n                  State.update({\n                    isOpenParametersSave: !state.isOpenParametersSave,\n                    textSave: x,\n                  })\n                }\n                key={i}\n              >\n                {x}\n              </SaveChangesItem>\n            ))}\n          </SaveChanges>\n        ) : null}\n      </ButtonsSave>\n    </ButtonsBlock>\n  </SelectedMutationEditorWrapper>\n);\n", "metadata": {"fork_of": "bos.dapplets.near/widget/ModalSelectedMutationEditor@116404677"}, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/bos.dapplets.near/widget/ModalSelectedMutationEditor", "fact_widget_deployments_id": "3cc45d7e2214ace235397233d3b80ae3", "inserted_timestamp": "2024-04-08T17:32:36.436Z", "modified_timestamp": "2024-04-08T17:32:36.436Z", "__row_index": 13}