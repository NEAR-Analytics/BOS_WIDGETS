{"tx_hash": "8uTWqYWptuD5v4uivydpkG4kPBeZGWgm637XnWbw4V7t", "action_id_social": "D6oqoWr1QPnDMEZcmzSrVfVCbX68yciABXvkP6MDUDVk-0-widget", "block_id": 94981949, "block_timestamp": "2023-06-25T07:42:38.036Z", "signer_id": "eamondang.near", "widget_name": "Donate", "source_code": null, "metadata": null, "branch": {"draft": {"": "const contract = \"donate.eamondang.near\";\nconst total = Near.view(contract, \"total\", {});\nconst tokenDecimals = 18;\nconst amount = 0;\n\nif (!total || context.loading) {\n  return \"Loading...\";\n}\n\n// Use and manipulate state\nState.init({ amount });\n\nconst onInputChange = ({ target }) => {\n  State.update({ amount: target.value });\n};\n\nconst onBtnClick = () => {\n  Near.call(contract, \"donate\", {\n    amount: state.amount.pow(18),\n  });\n};\n\n// Define components\nconst DonateForm = (\n  <>\n    <div class=\"border border-black p-3\">\n      <label>Amount Donate</label>\n      <input placeholder=\"1000\" onChange={onInputChange} />\n      <button class=\"btn btn-primary mt-2\" onClick={onBtnClick}>\n        Donate\n      </button>\n    </div>\n  </>\n);\n\nconst notLoggedInWarning = <p class=\"text-center py-2\"> Login to Donate </p>;\n\n// Render\nreturn (\n  <>\n    <div class=\"container border border-info p-3\">\n      <h3 class=\"text-center\">\n        The contract says i have:\n        <span class=\"text-decoration-underline\">{total}</span> Donate\n      </h3>\n\n      <p class=\"text-center py-2\">Donate Me =))</p>\n\n      {context.accountId ? DonateForm : notLoggedInWarning}\n    </div>\n  </>\n);\n"}}, "widget_modules_used": null, "widget_url": "https://near.social/#/eamondang.near/widget/Donate", "fact_widget_deployments_id": "f326131a20df6fbd9eac3e1e6eeb4064", "inserted_timestamp": "2024-03-07T05:24:05.087Z", "modified_timestamp": "2024-03-07T05:24:05.087Z", "__row_index": 12}