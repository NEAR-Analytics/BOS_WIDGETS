{"tx_hash": "8TF3rh4r55xskaLsayzNQG2CqWvWCDmMbMTWQ9sM9XL5", "action_id_social": "AkGk7GGabfbztJ8skP3idUytBJLi2BYscnuybyatv3WU-0-widget", "block_id": 108260605, "block_timestamp": "2023-12-18T15:36:57.328Z", "signer_id": "sainy.near", "widget_name": "SupercallAccount", "source_code": "const Card = styled.div`\n  position: relative;\n  background-color: #fff;\n  width: 410px;\n  height: 200px;\n  border-radius: 12px;\n  border: 1px solid #E9EBED;\n  box-shadow: 0px 1px 2px 0px rgba(16, 24, 40, 0.05);\n  border-radius: 12px;\n  padding:16px\n`;\n\nconst TextMain = styled.div`\nfont-size: 14px;\nfont-style: normal;\nfont-weight: 600;\nline-height: 20px;\ncolor:#262930;\n`;\n\nconst TextGray = styled.div`\nfont-size: 12px;\nfont-style: normal;\nfont-weight: 400;\nline-height: 20px;\ncolor:#656973;\n`;\nconst ButtonCreate = styled.div`\nborder-radius: 14px;\nborder: 1px dashed #C3C5C7;\nbackground: #FFF;\nfont-size: 12px;\nfont-style: normal;\nfont-weight: 400;\ncursor:pointer;\nwidth: 70px;\nheight: 28px;\ntext-align:center;\npadding: 5px 0;\n\n`;\n\nconst arrowDownIcon = (\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    width=\"11\"\n    height=\"7\"\n    viewBox=\"0 0 11 7\"\n    fill=\"none\"\n  >\n    <path\n      d=\"M1 1L5.14645 5.14645C5.34171 5.34171 5.65829 5.34171 5.85355 5.14645L10 1\"\n      stroke=\"#656973\"\n      stroke-width=\"1.5\"\n      stroke-linecap=\"round\"\n    />\n  </svg>\n);\n\nState.init({\n  selectedToken: 0,\n});\n\nconst signer = Ethers.send(\"eth_requestAccounts\", [])[0];\n\nconst strTokenList = fetch(\n  `https://raw.githubusercontent.com/SainyTK/contract-list/main/tokens/${props.chainId}.json`\n).body;\nconst strChainInfo = fetch(\n  `https://raw.githubusercontent.com/ethereum-lists/chains/master/_data/chains/eip155-${props.chainId}.json`\n).body;\n\nlet tokenList = [];\nlet chainInfo = {};\nlet logoUrl = \"https://chainlist.org/unknown-logo.png\";\n\ntry {\n  tokenList = JSON.parse(strTokenList);\n  chainInfo = JSON.parse(strChainInfo);\n  console.log(chainInfo);\n  if (chainInfo.icon) {\n    logoUrl = `https://icons.llamao.fi/icons/chains/rsz_${chainInfo.icon}.jpg`;\n  }\n} catch (e) {}\n\nif (!signer) {\n  return <Web3Connect />;\n}\n\nconst selectedToken = tokenList[state.selectedToken];\n\nfunction handleSelect(index) {\n  State.update({ selectedToken: index });\n\n  if (typeof props.onChange === \"function\") {\n    props.onChange(tokenList[index]);\n  }\n}\n\nconst readAddress = (num) => {\n  return Storage.get(\n    `contractAddress:${num || \"0\"}`,\n    \"sainy.near/widget/SupercallDeployer\"\n  );\n};\n\nconst formatWalletAddres = (wallet) => {\n  return `${\n    wallet.substring(0, 6) + \"...\" + wallet.substring(wallet.length - 4)\n  }`.toLowerCase();\n};\n\nconst createCard = (\n  <Card>\n    <div\n      style={{\n        display: \"flex\",\n        flexDirection: \"column\",\n        height: \"100%\",\n        cursor: \"pointer\",\n      }}\n      onClick={() => {}}\n    >\n      <div style={{ margin: \"auto\" }}>\n        <svg\n          xmlns=\"http://www.w3.org/2000/svg\"\n          width=\"41\"\n          height=\"40\"\n          viewBox=\"0 0 41 40\"\n          fill=\"none\"\n        >\n          <path\n            d=\"M20.5 15V25M25.5 20H15.5M35.5 20C35.5 21.9698 35.112 23.9204 34.3582 25.7403C33.6044 27.5601 32.4995 29.2137 31.1066 30.6066C29.7137 31.9995 28.0601 33.1044 26.2403 33.8582C24.4204 34.612 22.4698 35 20.5 35C18.5302 35 16.5796 34.612 14.7597 33.8582C12.9399 33.1044 11.2863 31.9995 9.8934 30.6066C8.50052 29.2137 7.39563 27.5601 6.64181 25.7403C5.88799 23.9204 5.5 21.9698 5.5 20C5.5 16.0218 7.08035 12.2064 9.8934 9.3934C12.7064 6.58035 16.5218 5 20.5 5C24.4782 5 28.2936 6.58035 31.1066 9.3934C33.9196 12.2064 35.5 16.0218 35.5 20Z\"\n            stroke=\"#FF0420\"\n            stroke-width=\"2.5\"\n            stroke-linecap=\"round\"\n            stroke-linejoin=\"round\"\n          />\n        </svg>\n        <TextMain>{\"Create\"}</TextMain>\n      </div>\n    </div>\n  </Card>\n);\n\nconst renderSelectToken = () => (\n  <div style={{ width: \"100%\" }}>\n    <div class=\"dropdown\">\n      <button\n        type=\"button\"\n        id=\"dropdownMenuButton1\"\n        data-bs-toggle=\"dropdown\"\n        aria-expanded=\"false\"\n        style={{\n          width: \"100%\",\n          display: \"flex\",\n          borderRadius: \"8px\",\n          border: \"1px solid #E9EBED\",\n          background: \"#FFF\",\n          color: \"#262930\",\n        }}\n      >\n        {selectedToken ? (\n          <div\n            style={{\n              display: \"flex\",\n              justifyContent: \"space-between\",\n              width: \"100%\",\n            }}\n          >\n            <div>\n              <img\n                src={selectedToken.logoURI}\n                width={24}\n                height={24}\n                className=\"rounded-full mx-1\"\n              />\n              <span style={{ fontSize: \"14px\", fontWeight: 500 }}>\n                {selectedToken.symbol}\n              </span>\n            </div>\n            <div>{arrowDownIcon}</div>\n          </div>\n        ) : (\n          <span>Select a token</span>\n        )}\n      </button>\n\n      <ul\n        class=\"dropdown-menu\"\n        aria-labelledby=\"dropdownMenuButton1\"\n        style={{\n          width: \"100%\",\n          border: \"1px solid #E9EBED\",\n          background: \"#FFF\",\n          color: \"#262930\",\n          borderRadius: \"8px\",\n          boxShadow: \" 8px 8px 16px -4px rgba(16, 24, 40, 0.08)\",\n          padding: \"0px 8px 0px 8px\",\n        }}\n      >\n        {tokenList &&\n          tokenList.slice(0, 5).map((token, index) => (\n            <li\n              key={index}\n              onClick={() => handleSelect(index)}\n              style={{\n                borderBottom:\n                  index !== tokenList.length - 1 && \"1px solid #E9EBED\",\n              }}\n            >\n              <div class=\"dropdown-item\" href=\"#\" style={{ padding: \"14px\" }}>\n                <img\n                  src={token.logoURI}\n                  width={24}\n                  height={24}\n                  className=\"rounded-full\"\n                />\n                <span\n                  style={{ fontSize: \"12px\", fontWeight: 500, marginLeft: 1 }}\n                >\n                  {token.symbol}\n                </span>\n              </div>\n            </li>\n          ))}\n      </ul>\n    </div>\n  </div>\n);\n\nreturn (\n  <div>\n    <div\n      style={{\n        display: \"flex\",\n        flexWrap: \"wrap\",\n        gap: \"20px\",\n      }}\n    >\n      <Card style={{ position: \"relative\" }}>\n        <div style={{ display: \"flex\" }}>\n          <img\n            src={logoUrl}\n            width={24}\n            height={24}\n            style={{ borderRadius: \"100%\" }}\n            className=\"rounded-full\"\n          />\n          <TextMain style={{ margin: \"auto 4px\" }}>{chainInfo.name}</TextMain>\n        </div>\n        <div style={{ position: \"absolute\", top: \"16px\", right: \"16px\" }}>\n          <Widget\n            src=\"sainy.near/widget/SupercallDeployer\"\n            props={{ accountNumber: \"0\" }}\n          />\n        </div>\n        <TextGray style={{ marginTop: \"20px\" }}>{`ADDRESS`}</TextGray>\n        <TextMain>{formatWalletAddres(readAddress(\"0\")) || \"\"}</TextMain>\n        <TextGray style={{ marginTop: \"20px\" }}>{`TOKEN HOLDINGS`}</TextGray>\n        <div>{renderSelectToken()}</div>\n      </Card>\n    </div>\n  </div>\n);\n", "metadata": {"fork_of": "sainy.near/widget/SupercallAccount@108259607"}, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/sainy.near/widget/SupercallAccount", "fact_widget_deployments_id": "1f2ac611516c2d2a80cd66f883785925", "inserted_timestamp": "2023-12-18T17:51:15.647Z", "modified_timestamp": "2023-12-20T03:22:11.422Z", "__row_index": 5}