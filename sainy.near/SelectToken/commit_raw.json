{"tx_hash": "CSBjHkCLLa8p5Dx3sCekUGZujSkcp1fh5zPEc9qb64vA", "action_id_social": "CxHFjBZBPcDiReFvjnLusegsgGFqnmn22ZrQiGc6brgD-0-widget", "block_id": 108295740, "block_timestamp": "2023-12-19T02:11:01.181Z", "signer_id": "sainy.near", "widget_name": "SelectToken", "source_code": "const arrowDownIcon = (\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    width=\"11\"\n    height=\"7\"\n    viewBox=\"0 0 11 7\"\n    fill=\"none\"\n  >\n    <path\n      d=\"M1 1L5.14645 5.14645C5.34171 5.34171 5.65829 5.34171 5.85355 5.14645L10 1\"\n      stroke=\"#656973\"\n      stroke-width=\"1.5\"\n      stroke-linecap=\"round\"\n    />\n  </svg>\n);\n\nState.init({\n  selectedToken: 0,\n});\n\nconst strTokenList = fetch(\n  `https://raw.githubusercontent.com/SainyTK/contract-list/main/tokens/${props.chainId}.json`\n).body;\nconst strChainInfo = fetch(\n  `https://raw.githubusercontent.com/ethereum-lists/chains/master/_data/chains/eip155-${props.chainId}.json`\n).body;\n\nlet tokenList = [];\nlet chainInfo = {};\nlet logoUrl = \"https://chainlist.org/unknown-logo.png\";\n\ntry {\n  tokenList = JSON.parse(strTokenList);\n  chainInfo = JSON.parse(strChainInfo);\n  console.log(chainInfo);\n  if (chainInfo.icon) {\n    logoUrl = `https://icons.llamao.fi/icons/chains/rsz_${chainInfo.icon}.jpg`;\n  }\n} catch (e) {}\n\nconst selectedToken = tokenList[state.selectedToken];\n\nfunction handleSelect(index) {\n  State.update({ selectedToken: index });\n\n  if (typeof props.onChange === \"function\") {\n    props.onChange(tokenList[index]);\n  }\n}\n\nreturn (\n  <div style={{ width: \"100%\" }}>\n    <div class=\"dropdown\">\n      <button\n        type=\"button\"\n        id=\"dropdownMenuButton1\"\n        data-bs-toggle=\"dropdown\"\n        aria-expanded=\"false\"\n        style={{\n          width: \"100%\",\n          display: \"flex\",\n          borderRadius: \"8px\",\n          border: \"1px solid #E9EBED\",\n          background: \"#FFF\",\n          color: \"#262930\",\n        }}\n      >\n        {selectedToken ? (\n          <div\n            style={{\n              display: \"flex\",\n              justifyContent: \"space-between\",\n              width: \"100%\",\n            }}\n          >\n            <div>\n              <img\n                src={selectedToken.logoURI}\n                width={24}\n                height={24}\n                className=\"rounded-full mx-1\"\n              />\n              <span style={{ fontSize: \"14px\", fontWeight: 500 }}>\n                {selectedToken.symbol}\n              </span>\n            </div>\n            <div>{arrowDownIcon}</div>\n          </div>\n        ) : (\n          <span>Select a token</span>\n        )}\n      </button>\n\n      <ul\n        class=\"dropdown-menu\"\n        aria-labelledby=\"dropdownMenuButton1\"\n        style={{\n          width: \"100%\",\n          border: \"1px solid #E9EBED\",\n          background: \"#FFF\",\n          color: \"#262930\",\n          borderRadius: \"8px\",\n          boxShadow: \" 8px 8px 16px -4px rgba(16, 24, 40, 0.08)\",\n          padding: \"0px 8px 0px 8px\",\n        }}\n      >\n        {tokenList &&\n          tokenList.slice(0, 5).map((token, index) => (\n            <li\n              key={index}\n              onClick={() => handleSelect(index)}\n              style={{\n                borderBottom:\n                  index !== tokenList.length - 1 && \"1px solid #E9EBED\",\n              }}\n            >\n              <div class=\"dropdown-item\" href=\"#\" style={{ padding: \"14px\" }}>\n                <img\n                  src={token.logoURI}\n                  width={24}\n                  height={24}\n                  className=\"rounded-full\"\n                />\n                <span\n                  style={{ fontSize: \"12px\", fontWeight: 500, marginLeft: 1 }}\n                >\n                  {token.symbol}\n                </span>\n              </div>\n            </li>\n          ))}\n      </ul>\n    </div>\n  </div>\n);\n", "metadata": {"fork_of": "sainy.near/widget/SelectToken@108261434"}, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/sainy.near/widget/SelectToken", "fact_widget_deployments_id": "7b31172dc8546a38676d85a00b0e4853", "inserted_timestamp": "2024-03-07T05:24:05.087Z", "modified_timestamp": "2024-03-07T05:24:05.087Z", "__row_index": 0}