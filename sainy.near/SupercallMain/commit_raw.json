{"tx_hash": "Gr8yKLugXaXRwCujUhw8CM5DGDPi7zy1GRpLFtq5SNLc", "action_id_social": "72oeoGjU3cnPdUDkcukzd99jDFnxBv8sZKQQ5eDxySP9-0-widget", "block_id": 108262556, "block_timestamp": "2023-12-18T16:12:56.224Z", "signer_id": "sainy.near", "widget_name": "SupercallMain", "source_code": "const MainLayout = styled.div`\n  position: relative;\n  margin-bottom:20px;\n  height: 100%;\n`;\n\nconst PatternBackground = styled.div`\nheight: 100%;\nbackground-image:  linear-gradient(#E9EBED 0.9px, transparent 0.9px), linear-gradient(to right, #E9EBED 0.9px, #F7F9F9 0.9px);\nbackground-size: 18px 18px;\npadding-bottom:100px;\n`;\n\nconst MULTICALL_ABI_URL =\n  \"https://gist.githubusercontent.com/SainyTK/8b83bbd26610ceeaa215a46f942d2702/raw/9bc41907fd49bc56553cf226c3ac92b225343cae/multicall-abi.json\";\nconst MULTICALL_ABI = fetch(MULTICALL_ABI_URL).body;\n\nconst signer = Ethers.send(\"eth_requestAccounts\", [])[0];\n\nif (ethers && signer) {\n  Ethers.provider()\n    .getNetwork()\n    .then((chainIdData) => {\n      if (chainIdData?.chainId) {\n        State.update({ chainId: chainIdData?.chainId });\n      }\n    });\n}\n\nfunction readAddress(accountNumber) {\n  const addr = Storage.get(\n    `contractAddress:${accountNumber}`,\n    \"sainy.near/widget/SupercallDeployer\"\n  );\n  return addr;\n}\n\nfunction getCalls() {\n  return Storage.get(`calls`, \"sainy.near/widget/SupercallBundler\");\n}\n\nfunction processCall() {\n  const multicallAddr = readAddress(\"0\");\n  const multicall = new ethers.Contract(\n    multicallAddr,\n    MULTICALL_ABI,\n    Ethers.provider().getSigner()\n  );\n  const calls = getCalls();\n  multicall.aggregate(calls);\n}\n\nreturn (\n  <MainLayout>\n    <Widget src=\"fofay-ac.near/widget/NavbarSupercall\" />\n    <PatternBackground>\n      <div style={{ padding: \"54px 120px 12px 120px\" }}>\n        <div style={{ marginBottom: \"54px\" }}>\n          <Widget\n            src=\"sainy.near/widget/SupercallAccount\"\n            props={{ chainId: state.chainId }}\n          />\n        </div>\n        <div>\n          <Widget\n            src=\"sainy.near/widget/SupercallBundler\"\n            props={{ chainId: state.chainId }}\n          />\n        </div>\n      </div>\n      <div\n        style={{\n          width: \"100%\",\n          bottom: \"24px\",\n          left: 0,\n          position: \"fixed\",\n          display: \"flex\",\n          justifyContent: \"center\",\n        }}\n      >\n        <Widget\n          src=\"nt-sorravit.near/widget/CallNode\"\n          props={{ processCallContract: () => processCall() }}\n        />\n      </div>\n    </PatternBackground>\n  </MainLayout>\n);\n", "metadata": {"fork_of": "sainy.near/widget/SupercallMain@108260898"}, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/sainy.near/widget/SupercallMain", "fact_widget_deployments_id": "ed0efc7704182d01ff1af97fa47de0a7", "inserted_timestamp": "2023-12-18T18:21:17.285Z", "modified_timestamp": "2023-12-20T03:22:11.422Z", "__row_index": 5}