{"tx_hash": "AtoNQcA2heYgMpyHWrVnefK5nPBbG7rzJNHMDdZgEAnP", "action_id_social": "DF2etUiqwdDaQnjbKVhA9SGEsixFsqs5nUctge5GJAWi-0-widget", "block_id": 117611045, "block_timestamp": "2024-04-25T18:51:51.771Z", "signer_id": "thomasguntenaar.near", "widget_name": "devhub.page.announcements", "source_code": "const MainContent = styled.div`\n  padding-left: 2rem;\n  padding-right: 2rem;\n  flex: 3;\n  @media screen and (max-width: 960px) {\n    padding-left: 0rem;\n    padding-right: 0rem;\n  }\n  .post:hover {\n    background-color: inherit !important;\n  }\n`;\n\nconst Heading = styled.div`\n  font-size: 28px;\n  font-weight: 600;\n  margin-bottom: 1rem;\n`;\n\nconst SubHeading = styled.div`\n  font-size: 15px;\n  font-weight: 600;\n`;\n\nconst Container = styled.div`\n  flex-wrap: no-wrap;\n  max-width: 100%;\n\n  background: #fff;\n\n  .max-width-100 {\n    max-width: 100%;\n  }\n  @media screen and (max-width: 960px) {\n    flex-wrap: wrap;\n  }\n\n  .card {\n    border-radius: 1rem !important;\n  }\n\n  .display-none {\n    display: none;\n  }\n`;\n\nconst TabContainer = styled.div`\n  display: flex;\n  gap: 5px;\n  background-color: rgb(244, 244, 244);\n  justify-content: center;\n  align-items: center;\n  border-radius: 5px;\n  padding: 0 3px;\n`;\n\nconst Tab = styled.div`\n  cursor: pointer;\n  font-size: 14px;\n  font-weight: 700;\n  color: rgb(153, 153, 153);\n  padding: 5px 10px;\n  border-radius: 5px;\n`;\n\nconst Line = styled.div`\n  width: 100%;\n  border-bottom: 1px solid rgb(223, 223, 223);\n`;\n\nconst tabs = [\"All\", \"Announcements\", \"Discussions\"];\nconst [selectedTab, setSelectedTab] = useState(\"All\");\nconst [sort, setSort] = useState(\"desc\");\n\nconst followGraph = Social.keys(\n  `community.devhub.near/graph/follow/*`,\n  \"final\"\n);\nconst accountsFollowing =\n  props.accountsFollowing ??\n  (followGraph\n    ? Object.keys(followGraph[\"community.devhub.near\"].graph.follow || {})\n    : null);\n\nconst filteredAccountIds =\n  accountsFollowing &&\n  accountsFollowing.filter((account) => {\n    if (selectedTab === \"All\") return true;\n    if (selectedTab === \"Announcements\") {\n      return !account.includes(\"discussions\");\n    }\n    if (selectedTab === \"Discussions\") {\n      return account.includes(\"discussions\");\n    }\n  });\n\nreturn (\n  <div className=\"w-100\" style={{ maxWidth: \"100%\" }}>\n    <Heading>Activity Feed</Heading>\n    <Line />\n    <Container className=\"d-flex gap-3 px-2 py-4\">\n      <MainContent className=\"max-width-100\">\n        <div className=\"d-flex flex-column gap-4\">\n          <div className=\"d-flex flex-wrap justify-content-between\">\n            <TabContainer>\n              {tabs.map((tab) => (\n                <Tab\n                  className={selectedTab === tab ? \"text-black bg-white\" : \"\"}\n                  onClick={() => setSelectedTab(tab)}\n                >\n                  {tab}\n                </Tab>\n              ))}\n            </TabContainer>\n            <div className={\"d-flex align-items-center gap-2\"}>\n              <select\n                name=\"sort\"\n                id=\"sort\"\n                class=\"form-select border-0\"\n                value={sort}\n                onChange={(e) => {\n                  setSort(e.target.value);\n                }}\n              >\n                <option selected value=\"desc\">\n                  Latest\n                </option>\n                <option value=\"recentcommentdesc\">Last Commented</option>\n              </select>\n            </div>\n          </div>\n\n          <div\n            className={\"card p-4\"}\n            style={{ overflow: \"auto\", height: \"60vh\" }}\n          >\n            <Widget\n              key=\"feed\"\n              src=\"thomasguntenaar.near/widget/devhub.components.feed.SubscribedFeed\"\n              props={{\n                sort: sort,\n                accounts: filteredAccountIds,\n                threshold: 250,\n              }}\n            />\n          </div>\n        </div>\n      </MainContent>\n    </Container>\n  </div>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/thomasguntenaar.near/widget/devhub.page.announcements", "fact_widget_deployments_id": "05e824c0382a70e403f2143698c71310", "inserted_timestamp": "2024-04-25T20:39:41.964Z", "modified_timestamp": "2024-04-25T20:39:41.964Z", "__row_index": 13}