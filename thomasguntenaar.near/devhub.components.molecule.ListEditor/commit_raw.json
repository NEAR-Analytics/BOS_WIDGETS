{"tx_hash": "6y7JjVTxM18FxFBhRfzuixtUePsjcazQBB6NxPAbAeF3", "action_id_social": "CQ81z4R8BisMGDxXvU9Fb3fEK3mepgdwmCd83uutFDck-0-widget", "block_id": 107997496, "block_timestamp": "2023-12-15T10:08:19.351Z", "signer_id": "thomasguntenaar.near", "widget_name": "devhub.components.molecule.ListEditor", "source_code": "const { Tile } =\n  VM.require(\"thomasguntenaar.near/widget/devhub.components.molecule.Tile\") ||\n  (() => <></>);\n\nconst { data, setList, validate, invalidate } = props;\n\nconst [newItem, setNewItem] = useState(\"\");\n\nconst handleAddItem = () => {\n  if (validate(newItem)) {\n    setList([...data.list, newItem]);\n    setNewItem(\"\");\n  } else {\n    return invalidate();\n  }\n};\n\nconst handleDeleteItem = (index) => {\n  const updatedData = [...data.list];\n  updatedData.splice(index, 1);\n  setList(updatedData);\n};\n\nconst Item = styled.div`\n  padding: 10px;\n  margin: 5px;\n  display: flex;\n  align-items: center;\n  flex-direction: row;\n  gap: 10px;\n`;\n\nreturn (\n  <>\n    {data.list.map((item, index) => (\n      <Item key={index}>\n        <div className=\"flex-grow-1\">\n          <Widget\n            src=\"thomasguntenaar.near/widget/devhub.components.molecule.Input\"\n            props={{\n              className: \"flex-grow-1\",\n              value: item,\n              skipPaddingGap: true,\n              placeholder: data.placeholder,\n              inputProps: {\n                prefix: data.prefix,\n                disabled: true,\n              },\n            }}\n          />\n        </div>\n        <button\n          className=\"btn btn-outline-danger\"\n          onClick={() => handleDeleteItem(index)}\n        >\n          <i className=\"bi bi-trash-fill\" />\n        </button>\n      </Item>\n    ))}\n    {data.list.length < data.maxLength && (\n      <Item>\n        <div className=\"flex-grow-1\">\n          <Widget\n            src=\"thomasguntenaar.near/widget/devhub.components.molecule.Input\"\n            props={{\n              className: \"flex-grow-1\",\n              skipPaddingGap: true,\n              onChange: (e) => setNewItem(e.target.value),\n              value: newItem,\n              placeholder: data.placeholder,\n              inputProps: {\n                prefix: data.prefix,\n              },\n            }}\n          />\n        </div>\n        <button\n          className=\"btn btn-success add-member\"\n          onClick={handleAddItem}\n          disabled={newItem === \"\"}\n          data-testid=\"add-to-list\"\n        >\n          <i className=\"bi bi-plus\" />\n        </button>\n      </Item>\n    )}\n  </>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/thomasguntenaar.near/widget/devhub.components.molecule.ListEditor", "fact_widget_deployments_id": "1fa9fa987bd86b94b49a42c4e54946fd", "inserted_timestamp": "2024-03-07T05:24:05.087Z", "modified_timestamp": "2024-03-07T05:24:05.087Z", "__row_index": 42}