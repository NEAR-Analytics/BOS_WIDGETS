{"tx_hash": "2UrcPYzrAJUxrBAdDGimuaEenxnw3CrVYYA4zURSHooQ", "action_id_social": "GzyTEUGwPm7CdT7fn1xjpPwj71kchRUrouN3jJo9ZwD6-0-widget", "block_id": 119060157, "block_timestamp": "2024-05-16T17:24:27.267Z", "signer_id": "thomasguntenaar.near", "widget_name": "devhub.entity.addon.blogv2.editor.BlogOverview", "source_code": "// Pagination not necessary since it won't be too many blogs per community\n// a few hundred widgets per account are also not a problem\nconst { data, editPostId, handleItemClick, selectedItem } = props;\n\nconst options = { year: \"numeric\", month: \"short\", day: \"numeric\" };\nconst formattedDate = (date) => new Date(date).toLocaleString(\"en-US\", options);\n\nconst blogData = [\n  {\n    id: \"new\",\n    title: \"New Blog Post\",\n    status: \"DRAFT\",\n    createdAt: new Date().toISOString().slice(0, 10),\n    updatedAt: new Date().toISOString().slice(0, 10),\n    publishedAt: \"yyyy-MM-dd\",\n    content: \"\",\n    author: \"\",\n    description: \"\",\n    subtitle: \"\",\n  },\n  ...data,\n];\n\nreturn (\n  <table id=\"manage-blog-table\" className=\"w-full table-auto text-sm text-left\">\n    <thead className=\"bg-gray-50 text-gray-600 font-medium border-b\">\n      <tr>\n        <th className=\"py-3 px-6\">Name</th>\n        {props.hideColumns ? null : (\n          <>\n            <th className=\"py-3 px-6\">Status</th>\n            <th className=\"py-3 px-6\" data-testid=\"createdAt\">\n              Created At\n            </th>\n            <th className=\"py-3 px-6\" data-testid=\"updatedAt\">\n              Updated At\n            </th>\n            <th className=\"py-3 px-6\" data-testid=\"publishedAt\">\n              Visible Publish Date\n            </th>\n          </>\n        )}\n      </tr>\n    </thead>\n    <tbody className=\"text-gray-600 divide-y\">\n      {(blogData || []).map((it) => {\n        // Hide the new blog post item unless selectedItem is new\n        if (it.id === \"new\" && selectedItem !== \"new\") {\n          return;\n        }\n\n        return (\n          <tr\n            id={`edit-blog-selector-${it.id}`}\n            key={it.id}\n            onClick={() => handleItemClick(it)}\n          >\n            <td scope=\"row\" className={`px-6 py-4 whitespace-nowrap`}>\n              {it.id === selectedItem.id ||\n              (it.id === \"new\" && selectedItem === \"new\") ? (\n                <span\n                  className={`px-3 py-2 rounded-full font-semibold text-xs ${\"text-green-600 bg-green-50\"}`}\n                >\n                  {it.title}\n                </span>\n              ) : (\n                it.title\n              )}\n            </td>\n            {!props.hideColumns ? (\n              <>\n                <td className=\"px-6 py-4 whitespace-nowrap\">\n                  <span\n                    className={`px-3 py-2 rounded-full font-semibold text-xs ${\n                      it.status == \"PUBLISH\"\n                        ? \"text-green-600 bg-green-50\"\n                        : \"text-blue-600 bg-blue-50\"\n                    }`}\n                  >\n                    {it.status == \"PUBLISH\" ? \"Published\" : \"Draft\"}\n                  </span>\n                </td>\n                <td className=\"px-6 py-4 whitespace-nowrap\">\n                  {formattedDate(it.createdAt)}\n                </td>\n                <td className=\"px-6 py-4 whitespace-nowrap\">\n                  {formattedDate(it.updatedAt)}\n                </td>\n                <td className=\"px-6 py-4 whitespace-nowrap\">\n                  {formattedDate(it.publishedAt)}\n                </td>\n              </>\n            ) : null}\n          </tr>\n        );\n      })}\n    </tbody>\n  </table>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/thomasguntenaar.near/widget/devhub.entity.addon.blogv2.editor.BlogOverview", "fact_widget_deployments_id": "43c14673d3959e0eca8fe59b3a77eba6", "inserted_timestamp": "2024-05-16T18:51:52.015Z", "modified_timestamp": "2024-05-16T19:50:18.874Z", "__row_index": 3}