{"tx_hash": "C6mQzKLqvGBcYjREABwYELHXMvGT4y8GUM2yQWSrtfBo", "action_id_social": "Fa4ivvK4JNYCbL63tabQxTPNgpzSZPGAqK97k1np4vG1-0-widget", "block_id": 109735768, "block_timestamp": "2024-01-06T12:45:15.291Z", "signer_id": "thomasguntenaar.near", "widget_name": "devhub.feature.post-search.panel", "source_code": "const { href } = VM.require(\"thomasguntenaar.near/widget/core.lib.url\");\n\nhref || (href = () => {});\n\nState.init({\n  tag: props.tag,\n  author: props.author,\n  term: \"\",\n});\n\nconst updateInput = (term) => {\n  State.update({\n    term: term,\n  });\n};\n\nconst buttonStyle = {\n  backgroundColor: \"#0C7283\",\n  color: \"#f3f3f3\",\n};\n\nconst PageTitle = styled.h1`\n  color: #555555;\n  font-size: 24px;\n  font-style: normal;\n  font-weight: 500;\n  line-height: 120%; /* 28.8px */\n  letter-spacing: -0.24px;\n\n  margin: 0;\n  margin-bottom: 1rem;\n`;\n\nconst Container = styled.div`\n  padding: 24px;\n  width: 100%;\n`;\n\nconst PostContainer = styled.div`\n  margin: 0 1rem;\n`;\n\nconst InputContainer = styled.div`\n  display: flex;\n  flex-direction: row;\n  position: relative;\n  width: 25%;\n\n  @media screen and (max-width: 768px) {\n    width: 100%;\n  }\n`;\n\nconst DropdownContainer = styled.div`\n  width: 25%;\n\n  @media screen and (max-width: 768px) {\n    width: 100%;\n  }\n`;\n\nconst StyledDropdown = styled.div`\n  button {\n    width: 100%;\n    text-align: left;\n\n    &::after {\n      position: absolute;\n      right: 8px;\n      top: 45%;\n      transform: translateX(-50%);\n    }\n  }\n`;\n\nreturn (\n  <>\n    {!props.hideHeader && (\n      <Container>\n        <div className=\"w-100\">\n          <PageTitle>Activity Feed</PageTitle>\n          <div>\n            <div className=\"d-flex flex-column flex-md-row gap-4\">\n              <InputContainer>\n                <div className=\"position-absolute d-flex ps-3 flex-column h-100 justify-center\">\n                  <i class=\"bi bi-search m-auto\"></i>\n                </div>\n                <input\n                  type=\"search\"\n                  className=\"ps-5 form-control border rounded-2\"\n                  value={state.term ?? \"\"}\n                  onChange={(e) => updateInput(e.target.value)}\n                  onKeyDown={(e) => e.key == \"Enter\" && search()}\n                  placeholder={props.placeholder ?? `Search by content`}\n                />\n              </InputContainer>\n              <DropdownContainer>\n                <div class=\"dropdown\">\n                  <StyledDropdown>\n                    <button\n                      class=\"btn dropdown-toggle bg-white border rounded-2\"\n                      type=\"button\"\n                      data-bs-toggle=\"dropdown\"\n                      aria-expanded=\"false\"\n                    >\n                      Sort: {props.recency === \"all\" ? \"All replies\" : \"Latest\"}{\" \"}\n                    </button>\n                    <ul class=\"dropdown-menu dropdown-menu-end dropdown-menu-lg-start px-2 shadow\">\n                      <li>\n                        <a\n                          style={{ borderRadius: \"5px\" }}\n                          class=\"dropdown-item link-underline link-underline-opacity-0\"\n                          href={href({\n                            widgetSrc: \"thomasguntenaar.near/widget/app\",\n                            params: { page: \"feed\" },\n                          })}\n                        >\n                          Latest\n                        </a>\n                      </li>\n                      <li>\n                        <a\n                          style={{ borderRadius: \"5px\" }}\n                          class=\"dropdown-item link-underline link-underline-opacity-0\"\n                          href={href({\n                            widgetSrc: \"thomasguntenaar.near/widget/app\",\n                            params: { page: \"feed\", recency: \"all\" },\n                          })}\n                        >\n                          All replies\n                        </a>\n                      </li>\n                    </ul>\n                  </StyledDropdown>\n                </div>\n              </DropdownContainer>\n              <div class=\"dropdown\">\n                <Widget\n                  src=\"thomasguntenaar.near/widget/devhub.feature.post-search.by-author\"\n                  props={{\n                    author: state.author,\n                    onAuthorSearch: (author) => {\n                      State.update({ author });\n                    },\n                  }}\n                />\n              </div>\n              <div>\n                <Widget\n                  src=\"thomasguntenaar.near/widget/devhub.feature.post-search.by-tag\"\n                  props={{\n                    tag: state.tag,\n                    onTagSearch: (tag) => {\n                      State.update({ tag });\n                    },\n                  }}\n                />\n              </div>\n              <div className=\"d-flex flex-row-reverse flex-grow-1\">\n                {props.children}\n              </div>\n            </div>\n          </div>\n        </div>\n      </Container>\n    )}\n    <PostContainer>\n      <Widget\n        src=\"thomasguntenaar.near/widget/devhub.entity.post.List\"\n        props={{\n          author: state.author,\n          tag: state.tag,\n          term: state.term,\n          recency: props.recency,\n          transactionHashes: props.transactionHashes,\n          updateTagInput: (tag) => State.update({ tag }),\n        }}\n      />\n    </PostContainer>\n  </>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/thomasguntenaar.near/widget/devhub.feature.post-search.panel", "fact_widget_deployments_id": "08d67458ef4f5dc708b8d669fbc993be", "inserted_timestamp": "2024-03-07T05:24:05.087Z", "modified_timestamp": "2024-03-07T05:24:05.087Z", "__row_index": 63}