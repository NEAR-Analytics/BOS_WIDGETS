{"tx_hash": "DzVzpuKAC5Gs6zL8KvXbMpsJjiyiCC6VJgRkyVrKV1j4", "action_id_social": "9KTsUn96L1rc2GWXUV92k7RQVogJxqYwcCEF3HYjhRza-0-widget", "block_id": 115990515, "block_timestamp": "2024-04-02T15:31:23.109Z", "signer_id": "thomasguntenaar.near", "widget_name": "core.lib.common", "source_code": "// https://docs.rs/near-sdk/latest/near_sdk/env/constant.STORAGE_PRICE_PER_BYTE.html\nconst STORAGE_PRICE_PER_BYTE = \"10000000000000000000\";\n// https://github.com/NearSocial/social-db/blob/d28c647252ce25a06c70c3b7f4930ccdcd217fd9/contract/src/account.rs#L8C5-L8C50\nconst MIN_STORAGE_BYTES = \"2000\";\nconst MIN_STORAGE_COST = Big(STORAGE_PRICE_PER_BYTE).times(MIN_STORAGE_BYTES);\n\n// in case the user is new and doesn't have min storage cost, increasing the deposit\nfunction getDepositAmountForWriteAccess(userStorageDeposit) {\n  const depositAmt = Big(userStorageDeposit?.available).gt(MIN_STORAGE_COST)\n    ? Big(10).pow(22)\n    : Big(MIN_STORAGE_COST).plus(Big(10).pow(22));\n\n  return depositAmt;\n}\n\nfunction readableDate(timestamp) {\n  var a = new Date(timestamp);\n  var options = {\n    month: \"short\",\n    day: \"2-digit\",\n    year: \"numeric\",\n    hour: \"2-digit\",\n    minute: \"2-digit\",\n    timeZone: \"UTC\",\n  };\n  return a.toLocaleString(\"en-US\", options) + \" UTC\";\n}\n\nreturn { getDepositAmountForWriteAccess, readableDate };\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/thomasguntenaar.near/widget/core.lib.common", "fact_widget_deployments_id": "e80e8c26b5a6c2e81ba6fb2fc1c4bdcb", "inserted_timestamp": "2024-04-02T16:32:41.462Z", "modified_timestamp": "2024-04-02T17:33:21.922Z", "__row_index": 12}