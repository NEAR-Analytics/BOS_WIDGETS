{"tx_hash": "NDYdKoh7kzMSTfGYYghiaGNMg8Bynd7saviM8sfeTUa", "action_id_social": "CRbmaDAaVMofLKdHV9ipV19bXFYN6WxEuNZwpu89UHDq-0-widget", "block_id": 106738680, "block_timestamp": "2023-11-28T14:26:09.407Z", "signer_id": "inscribe.near", "widget_name": "lib.data.GlobalData", "source_code": "State.init({\n  balance: undefined,\n  tickerRawData: {},\n  holders: [],\n  ticker: [\n    {\n      title: \"Token:\",\n      value: \"-\",\n    },\n    {\n      title: \"Protocol:\",\n      value: \"-\",\n    },\n    {\n      title: \"Total Supply:\",\n      value: \"-\",\n    },\n    {\n      title: \"Total Minted:\",\n      value: \"-\",\n    },\n    {\n      title: \"Minted%:\",\n      value: \"-\",\n    },\n    {\n      title: \"Mint Limit:\",\n      value: \"-\",\n    },\n    {\n      title: \"Holders:\",\n      value: \"-\",\n    },\n  ],\n});\n\nfunction fetchAllData() {\n  const result = fetch(`${config.indexerUrl}/tickers`, {\n    method: \"GET\",\n  });\n  const data = result.body[0];\n  State.update({\n    tickerRawData: data,\n    ticker: [\n      {\n        title: \"Token:\",\n        value: data.display_name,\n      },\n      {\n        title: \"Protocol:\",\n        value: \"NRC-20\",\n      },\n      {\n        title: \"Total Supply:\",\n        value: Number(data.max_supply ?? 0).toLocaleString(),\n      },\n      {\n        title: \"Total Minted:\",\n        value: Number(data.total_supply ?? 0).toLocaleString(),\n      },\n      {\n        title: \"Minted%:\",\n        value:\n          Big(data.total_supply ?? 0)\n            .div(data.max_supply ?? 1)\n            .times(100)\n            .toFixed(2) + \"%\",\n      },\n      {\n        title: \"Mint Limit:\",\n        value: Number(data.limit).toLocaleString(),\n      },\n      {\n        title: \"Holders:\",\n        value: Number(data.holders).toLocaleString(),\n      },\n    ],\n  });\n  const displayName = state.tickerRawData.display_name;\n  if (displayName) {\n    const holdersResult = fetch(\n      `${config.indexerUrl}/tickers/${displayName}/holders`,\n      {\n        method: \"GET\",\n      }\n    );\n    State.update({\n      holders: holdersResult.body,\n    });\n  }\n  const accountId = props.accountId || context.accountId;\n  const balancesResponse = fetch(`${config.indexerUrl}/balances/${accountId}`, {\n    method: \"GET\",\n  });\n  const balance = balancesResponse.body[0]?.balance ?? \"0\";\n  State.update({ balance });\n}\n\nfetchAllData();\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/inscribe.near/widget/lib.data.GlobalData", "fact_widget_deployments_id": "e34b4b1c3b560f4655905258af59fc9a", "inserted_timestamp": "2024-03-07T05:24:05.087Z", "modified_timestamp": "2024-03-07T05:24:05.087Z", "__row_index": 0}