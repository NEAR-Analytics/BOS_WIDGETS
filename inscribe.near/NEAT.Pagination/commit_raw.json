{"tx_hash": "tVgjj2jodnSMA55MYggGYVRjwRinRrp3diWrrA2He1q", "action_id_social": "C9WQvBEvHquLSYQyxcGfq193Vm65HFrc4HQfRvxoD143-0-widget", "block_id": 111938181, "block_timestamp": "2024-02-02T14:31:11.808Z", "signer_id": "inscribe.near", "widget_name": "NEAT.Pagination", "source_code": "const TGas = Big(10).pow(12);\nconst MaxGasPerTransaction = TGas.mul(250);\nconst GasPerTransaction = MaxGasPerTransaction.plus(TGas);\nconst pageAmountOfPage = 5;\nconst ipfsPrefix = \"https://ipfs.near.social/ipfs\";\nconst landingUrl = \"https://neatprotocol.ai\";\nconst partnerProgramUrl = \"https://forms.gle/4M3fvw3LPiJSyffcA\";\nconst nrc20DocHost = \"https://docs.nrc-20.io/\";\nfunction toLocaleString(source, decimals, rm) {\n  if (typeof source === \"string\") {\n    return toLocaleString(Number(source), decimals);\n  } else if (typeof source === \"number\") {\n    return decimals !== undefined\n      ? source.toLocaleString(undefined, {\n          maximumFractionDigits: decimals,\n          minimumFractionDigits: decimals,\n        })\n      : source.toLocaleString();\n  } else {\n    // Big type\n    return toLocaleString(\n      decimals !== undefined\n        ? Number(source.toFixed(decimals, rm))\n        : source.toNumber(),\n      decimals\n    );\n  }\n}\n\nfunction formatAmount(_balance, _decimal) {\n  const balance = _balance ?? 0;\n  const decimal = _decimal ?? 8;\n  return toLocaleString(\n    Big(balance).div(Big(10).pow(decimal)).toFixed(),\n    decimal\n  );\n}\n\nfunction formatDeployTime(blockTime) {\n  const milliseconds = blockTime / 1000000;\n  const date = new Date(milliseconds);\n\n  const year = date.getUTCFullYear();\n  const month = (date.getUTCMonth() + 1).toString().padStart(2, \"0\");\n  const day = date.getUTCDate().toString().padStart(2, \"0\");\n  const hours = date.getUTCHours().toString().padStart(2, \"0\");\n  const minutes = date.getUTCMinutes().toString().padStart(2, \"0\");\n  const seconds = date.getUTCSeconds().toString().padStart(2, \"0\");\n  return `${year}/${month}/${day} ${hours}:${minutes}:${seconds}`;\n}\n\n// Config for Bos app\nfunction getConfig(network) {\n  switch (network) {\n    case \"mainnet\":\n      return {\n        ownerId: \"inscribe.near\",\n        graphUrl:\n          \"https://api.thegraph.com/subgraphs/name/inscriptionnear/neat\",\n        nodeUrl: \"https://rpc.mainnet.near.org\",\n        contractName: \"inscription.near\",\n        methodName: \"inscribe\",\n        args: {\n          p: \"nrc-20\",\n          op: \"mint\",\n          tick: \"neat\",\n          amt: \"100000000\",\n        },\n        transferArgs: {\n          p: \"nrc-20\",\n          op: \"transfer\",\n          tick: \"neat\",\n        },\n        ftWrapperFactory: \"nrc-20.near\",\n        ftWrapper: \"neat.nrc-20.near\",\n        refFinance: \"https://app.ref.finance/\",\n        minMintEvents: 1_000_000,\n        minHolders: 1_000,\n        neatDecimals: 8,\n      };\n    case \"testnet\":\n      return {\n        ownerId: \"inscribe.testnet\",\n        graphUrl:\n          \"https://api.thegraph.com/subgraphs/name/inscriptionnear/neat-test\",\n        nodeUrl: \"https://rpc.testnet.near.org\",\n        contractName: \"inscription.testnet\",\n        methodName: \"inscribe\",\n        args: {\n          p: \"nrc-20\",\n          op: \"mint\",\n          tick: \"neat\",\n          amt: \"100000000\",\n        },\n        transferArgs: {\n          p: \"nrc-20\",\n          op: \"transfer\",\n          tick: \"neat\",\n        },\n        ftWrapperFactory: \"nrc-20.testnet\",\n        ftWrapper: \"neat.nrc-20.testnet\",\n        refFinance: \"https://testnet.ref-finance.com/\",\n        minMintEvents: 10,\n        minHolders: 5,\n        neatDecimals: 8,\n      };\n    default:\n      throw Error(`Unconfigured environment '${network}'.`);\n  }\n}\nconst config = getConfig(context.networkId);\nconst tx = {\n  contractName: config.contractName,\n  methodName: config.methodName,\n  args: config.args,\n  gas: GasPerTransaction,\n};\n\nfunction ftWrapperAddress(tick) {\n  return tick.toLowerCase() + \".\" + config.ftWrapperFactory;\n}\n\n\n\nconst PaginationContainer = styled.div`\n  display: flex;\n  align-items: center;\n  gap: 8px;\n`;\n\nconst Pagination = styled.button`\n  border: none;\n  cursor: pointer;\n  padding: 0 8px;\n  height: 28px;\n  font-size: 14px;\n  font-weight: 600;\n\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  color: #ffffffc0;\n  border-radius: 4px;\n  background: ${(props) => (props.selected ? \"#44444442\" : \"#191919\")};\n\n  &:disabled {\n    cursor: not-allowed;\n    opacity: 0.4;\n  }\n`;\n\nconst PageNumberImage = styled.img`\n  width: auto;\n  height: 10px;\n`;\n\nconst { current, totalPage, updateCurrentPage } = props;\n\nif (!current || !totalPage) {\n  return <div />;\n}\n\nfunction generatePageNumbers(current, totalPage) {\n  if (Number(totalPage) <= 3) {\n    return [\n      \"&lt;\",\n      ...new Array(Number(totalPage))\n        .fill(1)\n        .map((_, idx) => String(Number(idx) + 1)),\n      \"&gt;\",\n    ];\n  }\n  let pageNumbers = [];\n  let prefix = [\"&lt;\", \"1\"];\n  let suffix = [totalPage, \"&gt;\"];\n  let left = String(Number(current) - 1);\n  let right = String(Number(current) + 1);\n\n  pageNumbers.push(...prefix);\n\n  const check = (num) =>\n    !pageNumbers.includes(num) &&\n    !suffix.includes(num) &&\n    Number(num) > Number(pageNumbers[pageNumbers.length - 1]) &&\n    Number(num) < suffix[0];\n\n  if (check(left)) {\n    if (Number(left) !== Number(pageNumbers[pageNumbers.length - 1]) + 1) {\n      pageNumbers.push(\"...\");\n    }\n    pageNumbers.push(left);\n  }\n  if (check(current)) {\n    pageNumbers.push(current);\n  }\n  if (check(right)) {\n    pageNumbers.push(right);\n    if (Number(right) !== Number(suffix[0]) - 1) {\n      pageNumbers.push(\"...\");\n    }\n  }\n  pageNumbers.push(...suffix);\n  return pageNumbers;\n}\n\nconst pageNumbers = generatePageNumbers(current, totalPage);\nreturn (\n  <PaginationContainer>\n    {pageNumbers.map((pageNumber, idx) => {\n      if (pageNumber === \"...\") {\n        return (\n          <Pagination style={{ cursor: \"default\" }} key={idx}>\n            {pageNumber}\n          </Pagination>\n        );\n      }\n      if (pageNumber === \"&lt;\") {\n        return (\n          <Pagination\n            key={idx}\n            onClick={() => updateCurrentPage(String(Number(current) - 1))}\n            selected={current === pageNumber}\n            disabled={Number(current) === 1 || Number(totalPage) === 0}\n          >\n            <PageNumberImage\n              src={`${ipfsPrefix}/bafkreiadbeblhz4umyl7mfboqig5sz5c5etakc2tuivbwwwpng22dl5ylm`}\n            />\n          </Pagination>\n        );\n      }\n      if (pageNumber === \"&gt;\") {\n        return (\n          <Pagination\n            key={idx}\n            onClick={() => updateCurrentPage(String(Number(current) + 1))}\n            selected={current === pageNumber}\n            disabled={\n              Number(current) === Number(totalPage) || Number(totalPage) === 0\n            }\n          >\n            <PageNumberImage\n              src={`${ipfsPrefix}/bafkreig3zoeyz3455dimqrantb5r44c6nmir234wl67v2epdur4fa6a2pa`}\n            />\n          </Pagination>\n        );\n      }\n      return (\n        <Pagination\n          key={idx}\n          onClick={() => updateCurrentPage(pageNumber)}\n          selected={current === pageNumber}\n        >\n          {pageNumber}\n        </Pagination>\n      );\n    })}\n  </PaginationContainer>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/inscribe.near/widget/NEAT.Pagination", "fact_widget_deployments_id": "2200a63fd0a22926fc35b87c7060f2f7", "inserted_timestamp": "2024-03-07T05:24:05.087Z", "modified_timestamp": "2024-03-07T05:24:05.087Z", "__row_index": 0}