{"tx_hash": "5PVpwSoGfNSwxThTmgJddjTjWkHPG7NEt1D5dvVig6fh", "action_id_social": "7oeG3Fv5rwwiJWnutxtCHMiQFW5uLzXVCAc9TVPinJDP-0-widget", "block_id": 96653624, "block_timestamp": "2023-07-17T02:51:11.505Z", "signer_id": "genadrop.near", "widget_name": "Untitled-1", "source_code": "const title = props.title ?? \"GenaDrop NFT Holders\";\nconst contract = props.contract ?? \"genadrop-contract.nftgen.near\";\nconst showTitle = props.showTitle ?? true;\n\nconst data = Social.keys(\"*/profile\", \"final\");\n\nif (!data) {\n  return \"Loading...\";\n}\n\nconst accounts = Object.entries(data);\nconst holderData = [];\n\nfor (let i = 0; i < accounts.length; ++i) {\n  const accountId = accounts[i][0];\n\n  const nftData = Near.view(contract, \"nft_supply_for_owner\", {\n    account_id: accountId,\n  });\n\n  if (nftData && nftData > 0) {\n    holderData.push({ accountId, nftData });\n  }\n}\nholderData.sort((a, b) => b.nftData - a.nftData);\nconst holderProfiles = holderData.map((holder, index) => (\n  <div className=\"mb-2\" key={holder.accountId}>\n    <h5 className=\"m-3\">\n      <b>Rank {index + 1}:</b> Minted {holder.nftData}\n    </h5>\n    <Widget\n      src=\"near/widget/AccountProfileCard\"\n      props={{ accountId: holder.accountId }}\n    />\n  </div>\n));\n\n// const accounts = Object.entries(data);\n// const holderData = [];\n// const nftData = Near.view({ contract }, \"nft_supply_for_owner\", {\n//   account_id: accountId,\n// }); // add to this\n\n// holderData.sort((a, b) => b.nftData - a.nftData);\n\nreturn (\n  <>\n    {showTitle && <h3 className=\"m-3\">{title}</h3>}\n    <h5 className=\"m-3\">\n      <i>{holderProfiles.length} Total</i>\n    </h5>\n    <div className=\"m-3\">{holderProfiles}</div>\n  </>\n);\n", "metadata": {"description": "See NFT Holders with BOS Profile pass In contract and title and showTitle", "linktree": {"website": "bos.genadrop.io"}, "name": "GenaDrop NFT Holders", "platform": "nearpad", "tags": {"nft": ""}}, "branch": {"draft": null}, "widget_modules_used": null, "widget_url": "https://near.social/#/genadrop.near/widget/Untitled-1", "fact_widget_deployments_id": "6a923d13bbd12f46db04dad39080c1ed", "inserted_timestamp": "2000-01-01T00:00:00.000Z", "modified_timestamp": "2000-01-01T00:00:00.000Z", "__row_index": 63}