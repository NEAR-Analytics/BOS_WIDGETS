{"tx_hash": "3xnnAH974vEe8HcB3f5tEJGb3FpcDxg4c66ACDZGpViV", "action_id_social": "Bm8GSAXj6x4mHUQ39yeYEBZmCn3Tz5kwpRYFePQaRJHh-0-widget", "block_id": 104220879, "block_timestamp": "2023-10-26T03:38:38.076Z", "signer_id": "toch.near", "widget_name": "createHackathonBtn", "source_code": "const indexKey = props.indexKey ?? \"main\";\nconst draftKey = props.indexKey ?? \"draft\";\nconst draft = Storage.privateGet(draftKey);\nconst groupId = props.groupId;\n\nconst show = props.show || false;\nconst text = props.text || \"\";\nconst trigger = props.trigger || false;\n\nuseEffect(() => {\n  if (trigger) {\n    composeData();\n  }\n}, [trigger]);\n\nconst content = {\n  type: \"md\",\n  text: text,\n};\n\nconst composeData = () => {\n  const data = {\n    post: {\n      main: JSON.stringify(Object.assign({ groupId }, content)),\n    },\n    index: {\n      post: JSON.stringify({\n        key: indexKey,\n        value: {\n          type: \"md\",\n        },\n      }),\n    },\n  };\n\n  // const item = {\n  //   type: \"social\",\n  //   path: `${context.accountId}/post/main`,\n  // };\n\n  // const notifications = state.extractMentionNotifications(\n  //   state.content.text,\n  //   item\n  // );\n\n  // if (notifications.length) {\n  //   data.index.notify = JSON.stringify(\n  //     notifications.length > 1 ? notifications : notifications[0]\n  //   );\n  // }\n\n  // const hashtags = state.extractHashtags(state.content.text);\n\n  // if (hashtags.length) {\n  //   data.index.hashtag = JSON.stringify(\n  //     hashtags.map((hashtag) => ({\n  //       key: hashtag,\n  //       value: item,\n  //     }))\n  //   );\n  // }\n\n  return data;\n};\n\nState.init({\n  onChange: ({ content }) => {\n    State.update({ content });\n    Storage.privateSet(draftKey, content.text || \"\");\n  },\n});\n\nreturn (\n  <>\n    <div className=\"container\">\n      <CommitButton\n        disabled={!text}\n        force\n        className=\"btn btn-primary rounded-5 mt-2\"\n        data={composeData}\n      >\n        Create Hackathon\n      </CommitButton>\n    </div>\n  </>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/toch.near/widget/createHackathonBtn", "fact_widget_deployments_id": "6b18401b9177d585cefa142256ac0ab6", "inserted_timestamp": "2023-10-26T05:28:42.512Z", "modified_timestamp": "2023-10-26T05:28:42.512Z", "__row_index": 4}