{"tx_hash": "2dN66rAJYwcRPjkttY3kUqb4AtW43cFFzpKUDgct5RY8", "action_id_social": "7u94DboG9oRTLXU6e4LRdEBdqPaEpTALfiujYQHScDZy-0-widget", "block_id": 91686315, "block_timestamp": "2023-05-12T13:34:53.136Z", "signer_id": "efiz.near", "widget_name": "View", "source_code": "const path = props.path;\nconst type = props.type;\n\nconst parts = path.split(\"/\");\nlet value = {};\n\nif (parts.length < 2) {\n  if (type === \"account\") {\n    // return default profile or setting's profile\n  } else if (type === \"widget\") {\n    if (path.endsWith(\"/\")) {\n      path = path.slice(0, -1);\n    }\n    return <Widget src={path} />;\n  } else if (type === \"graph\") {\n    parts.push(\"**\");\n    value = Social.get(parts.join(\"/\"), \"final\");\n  } else if (type === \"index\") {\n    return null;\n  } else if (type === \"profile\") {\n    value = Social.get(parts.join(\"/\"), \"final\");\n  } else if (type === \"post\") {\n    // return default post or post from settings\n    const index = {\n      action: parts[1],\n      key: parts[2],\n      options: {\n        limit: 10,\n        order: \"desc\",\n        accountId: parts[0],\n      },\n    };\n\n    function renderItem(a) {\n      if (a.value.type === \"md\") {\n        return (\n          <>\n            <Widget\n              src=\"efiz.near/widget/Edge\"\n              props={{ blockHeight: a.blockHeight }}\n            />\n            <Widget\n              src=\"near/widget/Posts.Post\"\n              props={{ accountId: a.accountId, blockHeight: a.blockHeight }}\n            />\n          </>\n        );\n      } else {\n        return <p>lol no</p>;\n      }\n    }\n    return (\n      <Widget\n        src=\"efiz.near/widget/MergedIndexFeed\"\n        props={{ index, renderItem, disableCaching: true }}\n      />\n    );\n\n    //   value = Social.get(path, \"final\");\n    //   value = JSON.parse(value);\n    //   return <Widget src=\"efiz.near/widget/Post.View\" props={{ value }} />;\n  } else {\n    value = Social.get(parts.join(\"/\"), \"final\");\n    value = JSON.parse(value);\n  }\n} else {\n  console.log(\"uncaught path: \", path);\n}\n\nconst text = `\n\\`\\`\\`json\n${JSON.stringify(value, undefined, 2)}\n\\`\\`\\`\n`;\nreturn <Markdown text={text} />;\n", "metadata": null, "branch": {"draft": null}, "widget_modules_used": null, "widget_url": "https://near.social/#/efiz.near/widget/View", "fact_widget_deployments_id": "ecfc56c3adb5a7a41b66ca8bb5c8e888", "inserted_timestamp": "2000-01-01T00:00:00.000Z", "modified_timestamp": "2000-01-01T00:00:00.000Z", "__row_index": 1}