{"tx_hash": "6Woj6pwTTkzjBkZLCyLoQwCMHT268uPU47nrYJQTLven", "action_id_social": "E9pzy6sdmeKp1AiMo5M3cTggUQD7oL2PizeTyKfU92YW-0-widget", "block_id": 101958274, "block_timestamp": "2023-09-25T23:50:59.228Z", "signer_id": "efiz.near", "widget_name": "post.feed", "source_code": "const { Feed } = VM.require(\"devs.near/widget/Module.Feed\");\nconst { ContextMenu } = VM.require(\"efiz.near/widget/Module.ContextMenu\");\n\nContextMenu = ContextMenu || (() => <></>); // make sure you have this or else it can break\nFeed = Feed || (() => <></>);\n\nconst Overlay = styled.div`\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  display: grid;\n  place-items: center;\n  overflow-y: auto;\n  z-index: 1000;\n  width: 100vw;\n  height: 100vh;\n  background: rgba(0, 0, 0, 0.7);\n  backdrop-filter: blur(6px);\n`;\n\nconst Content = styled.div`\n  min-width: 500px;\n  max-width: 1000px;\n  margin-top: 20px;\n  margin-bottom: 20px;\n  outline: none !important;\n`;\n\nreturn (\n  <div\n    className=\"d-flex flex-column gap-1\"\n    style={{\n      background: \"#fefefe\",\n      padding: \"23px\",\n    }}\n  >\n    <h3>\n      <b>Every Post</b>\n    </h3>\n    <Widget\n      src=\"devs.near/widget/Compose\"\n      // props={{\n      //   index: {\n      //     post: JSON.stringify([\n      //       {\n      //         key: {\n      //           type: \"post\",\n      //           path: `${creatorId}/thing/${groupId}`,\n      //         },\n      //         value: {\n      //           type: \"md\",\n      //         },\n      //       },\n      //     ]),\n      //   },\n      // }}\n    />\n    <Feed\n      index={[\n        {\n          action: \"post\",\n          key: \"main\",\n          options: {\n            limit: 10,\n            order: \"desc\",\n            accountId: props.accounts,\n          },\n          cacheOptions: {\n            ignoreCache: true,\n          },\n        },\n        {\n          action: \"repost\",\n          key: \"main\",\n          options: {\n            limit: 10,\n            order: \"desc\",\n            accountId: props.accounts,\n          },\n          cacheOptions: {\n            ignoreCache: true,\n          },\n        },\n      ]}\n      Item={(p) => {\n        const item = {\n          path: `${p.accountId}/post/main`,\n          blockHeight: p.blockHeight,\n          type: \"social\",\n        };\n\n        return (\n          <ContextMenu\n            Item={() => (\n              <Widget\n                loading={<div className=\"w-100\" style={{ height: \"200px\" }} />}\n                src=\"mob.near/widget/MainPage.N.Post\" // Fork and edit this\n                props={{\n                  accountId: p.accountId,\n                  blockHeight: p.blockHeight,\n                }}\n              />\n            )}\n            passProps={{\n              // PROPS THAT WILL BE PASSED TO FUNCTION\n              show: {\n                item,\n              },\n            }}\n            handlers={{\n              // FUNCTION DEFINITIONS\n              show: ({ item }) => {\n                const data = {\n                  index: {},\n                };\n                const notifications = [\"james.near\"].map((accountId) => ({\n                  key: accountId,\n                  value: {\n                    type: \"forward\",\n                    item,\n                  },\n                }));\n\n                if (notifications.length) {\n                  Social.set({\n                    notify: JSON.stringify(\n                      notifications.length > 1\n                        ? notifications\n                        : notifications[0]\n                    ),\n                  });\n                }\n              },\n            }}\n            items={{\n              // MENU ITEM TO RENDER, WILL CALL FUNCTION WHEN CLICKED\n              show: () => (\n                <>\n                  <i className=\"menu__item__icon bi bi-arrow-return-right\" />\n                  Forward\n                </>\n              ),\n            }}\n          />\n        );\n      }}\n    />\n  </div>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/efiz.near/widget/post.feed", "fact_widget_deployments_id": "563e6c68bf281cb558cd9c7b6f34b4e5", "inserted_timestamp": "2023-09-26T01:43:33.888Z", "modified_timestamp": "2023-09-26T01:43:33.888Z", "__row_index": 0}