{"tx_hash": "AMiGZTDFnZjUNo79aaYy58f7LNvVMgf443JWV9d1mdGg", "action_id_social": "6Tx3tMMMfrfZc32gPk3beBy2QWNmQV3aQmZzgN3h2xxm-0-widget", "block_id": 96928071, "block_timestamp": "2023-07-20T16:54:09.499Z", "signer_id": "efiz.near", "widget_name": "every.module", "source_code": "function mergeItems(iIndex, oldItems, newItems, desc) {\n  const index = indices[iIndex];\n  const items = [\n    ...new Set(\n      [\n        ...newItems.map((item) => ({\n          ...item,\n          action: index.action,\n          key: index.key,\n          index: iIndex,\n        })),\n        ...oldItems,\n      ].map((i) => JSON.stringify(i))\n    ),\n  ].map((i) => JSON.parse(i));\n  items.sort((a, b) => a.blockHeight - b.blockHeight);\n  if (desc) {\n    items.reverse();\n  }\n  return items;\n}\n\nfunction Grid({ children, numColumns }) {\n  const StyledGrid = styled.div`\n    display: grid;\n    grid-template-columns: repeat(${numColumns || 3}, 1fr);\n\n    @media (hover: none) {\n      grid-template-columns: repeat(1, 1fr);\n    }\n  `;\n  return <StyledGrid>{children}</StyledGrid>;\n}\n\nfunction normalizePath(path) {\n  return path.replace(/\\//g, \"_\");\n}\n\nfunction generateUID() {\n  return (\n    Math.random().toString(16).slice(2) +\n    Date.now().toString(36) +\n    Math.random().toString(16).slice(2)\n  );\n}\n\nfunction createThing({ data, type, thingId, onCommit, onCancel }) {\n  thingId = thingId || generateUID();\n\n  const save = {\n    every: {\n      thing: {\n        [thingId]: JSON.stringify(data),\n      },\n    },\n    index: {\n      every: JSON.stringify({\n        key: type,\n        value: {\n          thingId,\n          type,\n        },\n      }),\n    },\n  };\n  Social.set(save, {\n    onCommit,\n    onCancel,\n  });\n}\n\nreturn { mergeItems, Grid, normalizePath };\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/efiz.near/widget/every.module", "fact_widget_deployments_id": "b7b08dcd0dc1940714953c83c673ed11", "inserted_timestamp": "2024-03-07T05:24:05.087Z", "modified_timestamp": "2024-03-07T05:24:05.087Z", "__row_index": 0}