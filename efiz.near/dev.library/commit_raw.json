{"tx_hash": "GLWZAp2YWct69NMSbKgBrEarjyX3EpzQa4HAhQYZNztX", "action_id_social": "FDGBbsDCkJiB2TR3NZAF5hwEuSnh33XcDLkRqEcucY8C-0-widget", "block_id": 94706719, "block_timestamp": "2023-06-21T17:48:06.484Z", "signer_id": "efiz.near", "widget_name": "dev.library", "source_code": "const ownerId = \"manzanal.near\";\nconst accountId = props.accountId ?? context.accountId;\n\nconst data = props.data;\n\nconst filterTag = props.commonComponentTag ?? \"dev\";\nconst debug = props.debug ?? false;\n\nconst searchComponents = () => {\n  return (\n    <div class=\"mb-4\">\n      <div className=\"mb-2\">\n        <Widget\n          src=\"mob.near/widget/ComponentSearch\"\n          props={{\n            debug: debug,\n            filterTag: filterTag,\n            placeholder: \"\ud83d\udd0d Search for common components\",\n            limit: 24,\n            onChange: ({ result }) => {\n              State.update({ components: result });\n            },\n          }}\n        />\n      </div>\n      {state.components && (\n        <div className=\"mb-2\">\n          {state.components?.map((comp, i) => {\n            const parts = comp.split(\"/\");\n            return (\n              <div class=\"mb-2\" key={i}>\n                <Widget\n                  src=\"mob.near/widget/WidgetMetadata\"\n                  props={{\n                    accountId: parts[0],\n                    widgetName: parts[2],\n                    expanded: false,\n                  }}\n                />\n              </div>\n            );\n          })}\n        </div>\n      )}\n    </div>\n  );\n};\n\nconst renderCategory = (categoryId) => {\n  if (!categoryId || categoryId === \"\") return <></>;\n  const item = data.categories?.find((i) => i.id == categoryId);\n  return (\n    <div class=\"mt-3\">\n      <div class=\"text fs-5 text-muted mb-1\" id={item.id}>\n        {item.label}\n      </div>\n      <div class=\"border border-2 mb-4 rounded\"></div>\n      <div class=\"container\">\n        <div className=\"row \">\n          {item.components.map((comp, i) => {\n            const parts = comp.split(\"/\");\n            return (\n              <div class=\"col-6 mb-2\">\n                <Widget\n                  key={i}\n                  src=\"mob.near/widget/WidgetMetadata\"\n                  props={{\n                    accountId: parts[0],\n                    widgetName: parts[2],\n                    expanded: false,\n                  }}\n                />\n              </div>\n            );\n          })}\n        </div>\n      </div>\n    </div>\n  );\n};\nState.init({\n  tab: \"home\",\n  id: \"\",\n});\n\nconst renderHome = () => {\n  return (\n    <>\n      {searchComponents()}\n      <div class=\"mt-2\">\n        <h4>Gallery</h4>\n        <p class=\"text text-muted \">\n          A curated list of common components grouped by categories.\n        </p>\n        <div className=\"mb-3\">\n          {data.categories && (\n            <div className=\"mb-6\">\n              {data.categories.map((cat, i) => renderCategory(cat.id))}\n            </div>\n          )}\n        </div>\n      </div>\n    </>\n  );\n};\n\nconst onSelect = (selection) => {\n  State.update({ tab: selection.tab, id: selection.id ? selection.id : \"\" });\n};\n\nconst renderContent = {\n  home: renderHome(),\n  searchComponents: searchComponents(),\n  category: renderCategory(state.id),\n}[state.tab];\n\nreturn (\n  <>\n    <div class=\"row\">\n      <div class=\"col-md-3\">\n        <Widget\n          src=\"hack.near/widget/CommonComponentsLibrary.Navbar\"\n          props={{\n            tab: state.tab,\n            onSelect,\n            navItems: data.categories?.map((i) => ({\n              id: i.id,\n              category: i.label,\n              icon: i.icon,\n            })),\n          }}\n        />\n        <hr className=\"border-2\" />\n        <Widget\n          src=\"miraclx.near/widget/Attribution\"\n          props={{ authors: [ownerId], dep: true }}\n        />\n      </div>\n      <div class=\"col-md-9\">\n        {\" \"}\n        <h2>Components Library</h2>\n        <p class=\"text text-muted\">\n          Building blocks for Near Social applications.\n        </p>\n        {renderContent}\n      </div>\n    </div>\n  </>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/efiz.near/widget/dev.library", "fact_widget_deployments_id": "b3bb654c804ab9e26b28ac76cbf99309", "inserted_timestamp": "2024-03-07T05:24:05.087Z", "modified_timestamp": "2024-03-07T05:24:05.087Z", "__row_index": 0}