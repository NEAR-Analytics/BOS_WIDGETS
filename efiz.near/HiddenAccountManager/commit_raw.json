{"tx_hash": "9gwDQJ39dX4Tkcm3GsU5uEQ4DsbcEBywvVYHjTfo2UbH", "action_id_social": "7DEMkKHroLGaXjCZmZvZS3Aaybpx9TsHXEP75WB1vsEh-0-widget", "block_id": 113705207, "block_timestamp": "2024-02-27T20:04:01.315Z", "signer_id": "efiz.near", "widget_name": "HiddenAccountManager", "source_code": "const accountId = props.accountId ?? context.accountId;\n\nconst hiddenAccounts = Social.get(`${accountId}/graph/hide/*`, \"final\");\n\nif (!hiddenAccounts) {\n  return <></>;\n}\n\nhiddenAccounts = hiddenAccounts && Object.keys(hiddenAccounts);\n\nconst [accounts, setAccounts] = useState(hiddenAccounts);\n\nreturn (\n  <>\n    <h1>Hidden Accounts</h1>\n    <div\n      style={{\n        display: \"flex\",\n        flexDirection: \"column\",\n        maxWidth: \"400px\",\n      }}\n    >\n      {accounts.length ? (\n        <>\n          {accounts.map((it) => (\n            <div\n              key={it}\n              style={{\n                display: \"flex\",\n                justifyContent: \"space-between\",\n                alignItems: \"center\",\n              }}\n            >\n              <Widget\n                src=\"mob.near/widget/ProfileLine\"\n                props={{\n                  accountId: it,\n                  link: false,\n                  hideAccountId: true,\n                  hideImage: true,\n                }}\n              />\n              <button\n                className={\"btn btn-outline-dark\"}\n                onClick={() => {\n                  Social.set({\n                    graph: {\n                      hide: {\n                        [it]: null,\n                      },\n                    },\n                    onCommit: () => {\n                      setAccounts((prevAccounts) =>\n                        prevAccounts.filter((acc) => acc !== it)\n                      );\n                    },\n                  });\n                }}\n              >\n                unhide\n              </button>\n            </div>\n          ))}\n        </>\n      ) : (\n        <p>No hidden accounts</p>\n      )}\n    </div>\n  </>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/efiz.near/widget/HiddenAccountManager", "fact_widget_deployments_id": "8fff7c90df0f20cbe3a070f68cf8849d", "inserted_timestamp": "2024-03-07T05:24:05.087Z", "modified_timestamp": "2024-03-07T05:24:05.087Z", "__row_index": 1}