{"tx_hash": "3WotXerfpceUgoUqsKfkT9BrCKHWMJQ4PzfZRxVeQsdf", "action_id_social": "AUXaCn3X8xFYLkYT4TxvCCwFbqWSzzMYnmwrwTLhcatH-0-widget", "block_id": 113705305, "block_timestamp": "2024-02-27T20:06:04.796Z", "signer_id": "efiz.near", "widget_name": "HiddenAccountManager", "source_code": "const accountId = props.accountId ?? context.accountId;\n\nconst hiddenAccounts = Social.get(`${accountId}/graph/hide/*`, \"final\");\n\nif (!hiddenAccounts) {\n  return (\n    <>\n      <h1>Hidden Accounts</h1>\n      <p>No hidden accounts found.</p>\n    </>\n  );\n}\n\nhiddenAccounts = hiddenAccounts && Object.keys(hiddenAccounts);\n\nconst [accounts, setAccounts] = useState(hiddenAccounts || []);\n\nreturn (\n  <>\n    <h1>Hidden Accounts</h1>\n    <div\n      style={{\n        display: \"flex\",\n        flexDirection: \"column\",\n        maxWidth: \"400px\",\n      }}\n    >\n      {\n        accounts.length ? (\n          <>\n            {accounts.map((it) => (\n              <div\n                key={it}\n                style={{\n                  display: \"flex\",\n                  justifyContent: \"space-between\",\n                  alignItems: \"center\",\n                }}\n              >\n                <Widget\n                  src=\"mob.near/widget/ProfileLine\"\n                  props={{\n                    accountId: it,\n                    link: false,\n                    hideAccountId: true,\n                    hideImage: true,\n                  }}\n                />\n                <button\n                  className={\"btn btn-outline-dark\"}\n                  onClick={() => {\n                    Social.set({\n                      graph: {\n                        hide: {\n                          [it]: null,\n                        },\n                      },\n                      onCommit: () => {\n                        setAccounts((prevAccounts) =>\n                          prevAccounts.filter((acc) => acc !== it)\n                        );\n                      },\n                    });\n                  }}\n                >\n                  unhide\n                </button>\n              </div>\n            ))}\n          </>\n        ) : null // Render nothing when accounts.length is 0\n      }\n    </div>\n  </>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/efiz.near/widget/HiddenAccountManager", "fact_widget_deployments_id": "9a16b4c15101a74648bf02970fe9b9ed", "inserted_timestamp": "2024-03-07T05:24:05.087Z", "modified_timestamp": "2024-03-07T05:24:05.087Z", "__row_index": 0}