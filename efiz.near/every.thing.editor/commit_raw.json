{"tx_hash": "DGymM8kws8zwH1kRYWtnDaR4CMKUEcmVNF43QWaXLWrA", "action_id_social": "ANToiveEG4hacHtAWfd1RjD4xstZ3nb3dJ3tVM1E94LE-0-widget", "block_id": 97556769, "block_timestamp": "2023-07-28T20:51:05.251Z", "signer_id": "efiz.near", "widget_name": "every.thing.editor", "source_code": "const files = props.files;\n\nlet initialFile = files[0];\n\nState.init({\n  file: initialFile,\n});\n\nconst Button = styled.button``;\n\nfunction onChange(e) {\n  //   Storage.privateSet({ path: state.path }, e.target.value);\n  console.log(e);\n  State.update({\n    code: e.target.value,\n  });\n}\n\nfunction composeData() {\n  const parts = state.file.path.split(\"/\");\n  let content = {};\n  if (parts[1] === \"widget\") {\n    content = {\n      \"\": state.code,\n    };\n    console.log(state.code);\n  }\n  //   switch (parts[1]) {\n  //     case \"widget\": {\n  //       content = {\n  //         \"\": \"state.code\",\n  //       };\n  //       break;\n  //     }\n  //     case \"thing\": {\n  //       content = state.code;\n  //       break;\n  //     }\n  //     case \"type\": {\n  //       content = state.code;\n  //       break;\n  //     }\n  //   }\n  const data = {\n    [parts[1]]: {\n      [parts[2]]: content,\n    },\n  };\n  return data;\n}\n\nreturn (\n  <div>\n    <div>\n      {files.map((file) => {\n        return (\n          <Button\n            onClick={() =>\n              State.update({\n                file,\n              })\n            }\n          >\n            {file.path}\n          </Button>\n        );\n      })}\n    </div>\n    <Widget\n      src={\"efiz.near/widget/MonacoEditor\"}\n      props={{\n        path: state.file.path,\n        language: state.file.language,\n        code: state.file.code,\n        onChange: onChange,\n      }}\n    />\n    <CommitButton className=\"btn btn-primary\" data={composeData}>\n      Save\n    </CommitButton>\n  </div>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/efiz.near/widget/every.thing.editor", "fact_widget_deployments_id": "deb2c30c7f4e97336bf2f7f93b2484c8", "inserted_timestamp": "2000-01-01T00:00:00.000Z", "modified_timestamp": "2000-01-01T00:00:00.000Z", "__row_index": 15}