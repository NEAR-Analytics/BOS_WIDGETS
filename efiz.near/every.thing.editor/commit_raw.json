{"tx_hash": "B2s4oJSP66LkTdHC6WP3YBQD1qS7zC3rQ5dxKzXvkWK4", "action_id_social": "GK9WhFfwZaPCX4xc7A3FFRwWPnqXsXbbNKBpN91ANGk2-0-widget", "block_id": 97550219, "block_timestamp": "2023-07-28T18:48:57.798Z", "signer_id": "efiz.near", "widget_name": "every.thing.editor", "source_code": "const path = props.path;\nconst blockHeight = props.blockHeight || \"final\";\n\nconst jThing = Social.get(path, blockHeight);\n\nif (!jThing) {\n  return <></>;\n}\n\nState.init({\n  view: \"TYPE\",\n});\n\nconst Button = styled.button``;\n\nlet language;\nlet code;\n\nswitch (state.view) {\n  case \"THING\": {\n    language = \"json\";\n    code = jThing;\n    break;\n  }\n  // case \"TYPE\": {\n  //   language = \"json\";\n  //   const thing = JSON.parse(jThing);\n  //   path = thing.type;\n  //   code = Social.get(path, \"final\");\n  //   break;\n  // }\n  case \"WIDGET\": {\n    language = \"javascript\";\n    const thing = JSON.parse(jThing);\n    path = thing.template.src;\n    code = Social.get(path, \"final\");\n    break;\n  }\n}\n\nif (!code || !path || !language) {\n  return <></>;\n}\n\n// <Button onClick={() => State.update({ view: \"TYPE\" })}>type</Button>\n\nreturn (\n  <div>\n    <div>\n      <Button onClick={() => State.update({ view: \"THING\" })}>thing</Button>\n      <Button onClick={() => State.update({ view: \"WIDGET\" })}>widget</Button>\n    </div>\n    <Widget\n      src={\"efiz.near/widget/MonacoEditor\"}\n      props={{\n        path,\n        code,\n        language,\n      }}\n    />\n  </div>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/efiz.near/widget/every.thing.editor", "fact_widget_deployments_id": "0dcefc13cc0c7e1ef2cdb03227ba93a1", "inserted_timestamp": "2000-01-01T00:00:00.000Z", "modified_timestamp": "2000-01-01T00:00:00.000Z", "__row_index": 25}