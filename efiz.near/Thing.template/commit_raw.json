{"tx_hash": "3v83pHLVS5zkLaDaG6tDZ6G18jLhTAurCkj14crShcLx", "action_id_social": "HifB8SDL9iNZWeruTqDzvNpycVH2JFkEjSMb5qnNHCda-0-widget", "block_id": 98288456, "block_timestamp": "2023-08-07T17:23:45.072Z", "signer_id": "efiz.near", "widget_name": "Thing.template", "source_code": "State.init({\n  currentFolder: props.rootFolder,\n});\n\nconst Container = styled.div`\n  border: 1px solid #ccc;\n  height: fit-content;\n`;\n\nconst Header = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: flex-end;\n  border-bottom: 1px solid #ccc;\n`;\n\nconst IconBox = styled.div`\n  font-size: 2em;\n  line-height: 1.25;\n  font-weight: 400;\n  cursor: pointer;\n`;\n\nconst Content = styled.div`\n  padding: 1px;\n  min-height: 300px;\n`;\n\nconst Button = styled.button`\n  text-transform: lowercase !important;\n`;\n\nconst ButtonRow = styled.div`\n  display: flex;\n  flex-direction: row;\n  flex-wrap: wrap;\n  justify-content: flex-end;\n  gap: 4px;\n`;\n\nfunction Modifier() {\n  const renderIcon = () => {\n    return (\n      <svg\n        xmlns=\"http://www.w3.org/2000/svg\"\n        viewBox=\"0 0 24 24\"\n        fill=\"black\"\n        width=\"24px\"\n        height=\"24px\"\n      >\n        <circle cx=\"12\" cy=\"12\" r=\"8\" />\n      </svg>\n    );\n  };\n\n  return (\n    <Widget\n      src=\"efiz.near/widget/Common.Dropdown\"\n      props={{\n        renderIcon: renderIcon,\n        elements: [],\n      }}\n    />\n  );\n}\n\nconst FolderItem = styled.div`\n  cursor: pointer;\n  margin: 8px;\n  padding: 8px;\n  border: 1px solid #ccc;\n  border-radius: 4px;\n`;\n\nconst DocumentItem = styled.div`\n  margin-left: 20px;\n`;\n\nconst openFolder = (folder) => {\n  State.update({ currentFolder: folder });\n};\n\nconst renderDocuments = (folder) => {\n  return folder.documents.map((document) => (\n    <DocumentItem key={document.id}>{document.name}</DocumentItem>\n  ));\n};\n\nconst renderFolders = (folder) => {\n  return (\n    folder &&\n    folder.folders.map((subfolder) => (\n      <FolderItem key={subfolder.id} onClick={() => openFolder(subfolder)}>\n        {subfolder.name}\n      </FolderItem>\n    ))\n  );\n};\n\nconst handleCreateDocument = () => {\n  if (state.currentFolder) {\n    props.createDocument(\n      state.currentFolder.id,\n      \"New Document\",\n      \"Document content goes here\"\n    );\n  }\n};\n\nconst handleCreateFolder = () => {\n  if (state.currentFolder) {\n    props.createFolder(state.currentFolder.id, \"New Folder\");\n  }\n};\n\nconst handleBackToRoot = () => {\n  State.update({ rootFolder });\n};\n\nreturn (\n  <Container>\n    <Header>\n      <ButtonRow>\n        <Modifier />\n      </ButtonRow>\n    </Header>\n    <Content>\n      <div>\n        {state.currentFolder ? (\n          <>\n            <button onClick={handleBackToRoot}>Back to Root</button>\n            <h2>{state.currentFolder.name}</h2>\n            <button onClick={handleCreateDocument}>Create Document</button>\n            <button onClick={handleCreateFolder}>Create Folder</button>\n            <div>\n              {renderDocuments(state.currentFolder)}\n              {renderFolders(state.currentFolder)}\n            </div>\n          </>\n        ) : (\n          <div>\n            <h2>Root Folder</h2>\n            {renderFolders(props.rootFolder)}\n          </div>\n        )}\n      </div>\n    </Content>\n  </Container>\n);\n\n// which is inside of a widget\n// inside of a Thing.\n// A Thing is a curation of widgets and other things.\n\n<Widget\n  src={`nearui.near/widget/Typography.Text`} // the template, which honestly should be a require. Since it must be stateless\n  props={{\n    // these are the props that follow the type\n    children: \"Your Text Here\", // is a stateless required component, or a stateful widget\n    tag: \"h1\",\n    size: \"5\",\n    weight: \"bold\",\n    color: \"primary\",\n    className: \"mt-4 mb-2\",\n    otherProps: {\n      // this gets passed to this component...\n      id: \"my-text\",\n    },\n  }}\n/>;\n// A widget is a structure of widgets\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/efiz.near/widget/Thing.template", "fact_widget_deployments_id": "0060da663d90772ea755542cfb7cf0df", "inserted_timestamp": "2024-03-07T05:24:05.087Z", "modified_timestamp": "2024-03-07T05:24:05.087Z", "__row_index": 0}