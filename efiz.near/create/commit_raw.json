{"tx_hash": "8vi8DRhP6cWUPA4MAEgzzR1MgfHgj6rKtXgKxnCJXRiF", "action_id_social": "32CEZ65xyE546Z4ygV6wLEpznz21avnhgc3HTixacsGQ-0-widget", "block_id": 93743412, "block_timestamp": "2023-06-08T14:39:46.371Z", "signer_id": "efiz.near", "widget_name": "create", "source_code": "const onChange = props.onChange;\nconst type = JSON.parse(Social.get(props.type, \"final\") || \"null\");\nconst properties = type.properties || [];\n// const test = [\n//   { name: \"test\", type: \"boolean\", required: false },\n//   { name: \"test2\", type: \"number\", required: false },\n//   { name: \"image\", type: \"every.near/type/image\", required: false },\n// ];\n// properties = [...properties, ...test];\n\nconst Input = styled.input`\n  width: 300px;\n  height: 30px;\n`;\n\nconst Select = styled.select`\n  height: 30px;\n  width: 300px;\n`;\n\nconst Button = styled.button`\n  text-transform: lowercase !important;\n  padding: 8px;\n`;\n\nconst Container = styled.div`\n  display: flex;\n  flex-direction: column;\n  gap: 4px;\n`;\n\nconst handleInputChange = (name, value) => {\n  State.update({ [name]: value });\n  if (props.onChange) {\n    props.onChange({ [name]: value });\n  }\n};\n\nfunction Property({ item }) {\n  if (item.type === \"string\") {\n    return (\n      <Input\n        key={item.name}\n        onChange={(e) => handleInputChange(item.name, e.target.value)}\n        value={state[item.name] || \"\"}\n        placeholder={item.name}\n      />\n    );\n  } else if (item.type === \"boolean\") {\n    return (\n      <Select\n        key={item.name}\n        onChange={(e) => handleInputChange(item.name, e.target.value)}\n        value={state[item.name] || \"\"}\n      >\n        <option value=\"true\">true</option>\n        <option value=\"false\">false</option>\n      </Select>\n    );\n  } else if (item.type === \"number\") {\n    return (\n      <Input\n        key={item.name}\n        type=\"number\"\n        onChange={(e) =>\n          handleInputChange(item.name, parseInt(e.target.value, 10))\n        }\n        value={state[item.name] || \"\"}\n        placeholder={item.name}\n      />\n    );\n  } else {\n    const itemType = JSON.parse(Social.get(item.type, \"final\") || \"null\");\n    const widgetSrc = itemType?.widgets?.create;\n    // it would be great to modify the onChange function\n    return <Widget src={widgetSrc} onChange={onChange} />;\n  }\n}\n\nreturn (\n  <Container>\n    {properties.map((item) => (\n      <Property item={item} />\n    ))}\n  </Container>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/efiz.near/widget/create", "fact_widget_deployments_id": "f0ea88da6d342ae958d0161f2ff91fe9", "inserted_timestamp": "2000-01-01T00:00:00.000Z", "modified_timestamp": "2000-01-01T00:00:00.000Z", "__row_index": 0}