{"tx_hash": "2nuUFBGtwMbd7wuUsi17KmfFQBqDt21Cd5zoPEUsEk7H", "action_id_social": "9amP4KPAG6TXXVBszDiUXHXXNTdgkcnzYmmzUnyfrZ6T-0-widget", "block_id": 119361369, "block_timestamp": "2024-05-20T18:15:21.807Z", "signer_id": "efiz.near", "widget_name": "PotlockDonateAll", "source_code": "const { getApprovedApplications } = VM.require(\"potlock.near/widget/SDK.pot\");\n\nconst POT_ID = \"oss.v1.potfactory.potlock.near\";\nconst DONATION_CONTRACT_ID = \"donate.potlock.near\";\nconst AMOUNT = \"0.1\";\nconst referrer_id = props.referrer_id || \"efiz.near\";\n\nconst projects = getApprovedApplications(POT_ID);\n\nconst handleDonateAll = () => {\n  const projectIds = projects.map((it) => it.project_id);\n  const transactions = [];\n\n  projectIds.forEach((projectId) => {\n    const amountIndivisible = Big(parseFloat(AMOUNT)).mul(Big(10).pow(24));\n    const args = {};\n\n    args.recipient_id = projectId;\n    args.referrer_id = referrer_id;\n\n    transactions.push({\n      contractName: POT_ID,\n      methodName: \"donate\",\n      args,\n      deposit: amountIndivisible.toString(),\n      gas: \"300000000000000\",\n    });\n  });\n\n  Near.call(transactions);\n};\n\nreturn <button onClick={handleDonateAll}>donate</button>;\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/efiz.near/widget/PotlockDonateAll", "fact_widget_deployments_id": "e7bf9e27f2b1cdb60ca1ed7d1a6a7424", "inserted_timestamp": "2024-05-20T19:51:25.009Z", "modified_timestamp": "2024-05-20T19:51:25.009Z", "__row_index": 0}