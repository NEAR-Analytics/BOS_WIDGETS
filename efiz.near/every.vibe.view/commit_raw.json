{"tx_hash": "B5xqNm7EYN8apfUeJ6CenwzLZtW7VSPPmXuh3b2pg3wk", "action_id_social": "C8V47HA3auviFjt991RcfAoSPHae3J6vyork7ETaWrby-0-widget", "block_id": 96499976, "block_timestamp": "2023-07-15T03:07:11.544Z", "signer_id": "efiz.near", "widget_name": "every.vibe.view", "source_code": "const path = props.path;\nconst blockHeight =\n  props.blockHeight === \"now\" ? \"now\" : parseInt(props.blockHeight);\nconst subscribe = !!props.subscribe;\nconst parts = path.split(\"/\");\nconst accountId = parts[0];\nconst notifyAccountId = accountId;\n\nconst postUrl = `https://near.org#/near/widget/PostPage?accountId=${accountId}&blockHeight=${blockHeight}`;\n\nState.init({ hasBeenFlagged: false });\n\nconst content = props.content ?? JSON.parse(Social.get(path, blockHeight));\nconst type = content.type;\n\nconst item = {\n  type: \"social\",\n  path: path,\n  blockHeight,\n};\n\nconst Post = styled.div`\n  position: relative;\n\n  &::before {\n    content: \"\";\n    display: block;\n    position: absolute;\n    left: 19px;\n    top: 52px;\n    bottom: 12px;\n    width: 2px;\n    background: #eceef0;\n  }\n`;\n\nconst Header = styled.div`\n  margin-bottom: 0;\n  display: inline-flex;\n`;\n\nconst Body = styled.div`\n  padding-left: 52px;\n  padding-bottom: 1px;\n`;\n\nconst Content = styled.div`\n  img {\n    display: block;\n    max-width: 100%;\n    max-height: 80vh;\n    margin: 0 0 12px;\n  }\n`;\n\nconst Text = styled.p`\n  display: block;\n  margin: 0;\n  font-size: 14px;\n  line-height: 20px;\n  font-weight: 400;\n  color: #687076;\n  white-space: nowrap;\n`;\n\nconst Actions = styled.div`\n  display: flex;\n  align-items: center;\n  gap: 12px;\n  margin: -6px -6px 6px;\n`;\n\nfunction renderContent() {\n  if (type === \"md\" || type === \"social\") {\n    return (\n      <>\n        {content.text && (\n          <Widget\n            src=\"near/widget/SocialMarkdown\"\n            props={{ text: content.text }}\n          />\n        )}\n\n        {content.image && (\n          <Widget\n            src=\"mob.near/widget/Image\"\n            props={{\n              image: content.image,\n            }}\n          />\n        )}\n      </>\n    );\n  }\n}\n\nreturn (\n  <Post>\n    <Header>\n      <div className=\"row\">\n        <div className=\"col-auto\">\n          <Widget\n            src=\"near/widget/AccountProfile\"\n            props={{\n              accountId,\n              hideAccountId: true,\n              inlineContent: (\n                <>\n                  <Text as=\"span\">\uff65</Text>\n                  <Text>\n                    {blockHeight === \"now\" ? (\n                      \"now\"\n                    ) : (\n                      <>\n                        <Widget\n                          src=\"mob.near/widget/TimeAgo\"\n                          props={{ blockHeight }}\n                        />{\" \"}\n                        ago\n                      </>\n                    )}\n                  </Text>\n                  <Widget\n                    src=\"efiz.near/widget/SBT.Badge\"\n                    props={{ accountId: accountId }}\n                  />\n                  <Widget\n                    src=\"proofofvibes.near/widget/Vibes.Button.proposeVibee\"\n                    props={{}}\n                  />\n                </>\n              ),\n            }}\n          />\n        </div>\n      </div>\n    </Header>\n\n    <Body>\n      <Content>{renderContent()}</Content>\n      {blockHeight !== \"now\" && (\n        <Actions>\n          <Widget\n            src=\"near/widget/CopyUrlButton\"\n            props={{\n              url: postUrl,\n            }}\n          />\n        </Actions>\n      )}\n    </Body>\n  </Post>\n);\n", "metadata": {"platform": "nearpad"}, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/efiz.near/widget/every.vibe.view", "fact_widget_deployments_id": "62ff1538a82b1fadc411084b1b2e021e", "inserted_timestamp": "2000-01-01T00:00:00.000Z", "modified_timestamp": "2000-01-01T00:00:00.000Z", "__row_index": 1}