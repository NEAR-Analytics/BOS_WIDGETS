{"tx_hash": "56Q7U3pM8jxTajb5fRiCM2JZBzfL7YbXVE3vxEXFpc3P", "action_id_social": "45NG6QjazzEcMnjLgbVnGk9T43qixNivsj1uQk4Ltvbs-0-widget", "block_id": 97881917, "block_timestamp": "2023-08-02T01:51:35.400Z", "signer_id": "efiz.near", "widget_name": "SimpleMDE", "source_code": "const data = props.data;\nconst onChange = props.onChange;\nconst height = props.height ?? \"500px\";\n\nconst code = `\n<style>\n#react-root {\n    height: 100vh;\n}\n</style>\n<script src=\"https://unpkg.com/react@18/umd/react.development.js\" crossorigin></script>\n<script src=\"https://unpkg.com/react-dom@18/umd/react-dom.development.js\" crossorigin></script>\n<link rel=\"stylesheet\" href=\"https://cdn.jsdelivr.net/simplemde/latest/simplemde.min.css\">\n<script src=\"https://cdn.jsdelivr.net/simplemde/latest/simplemde.min.js\"></script>\n<script src=\"https://cdn.jsdelivr.net/highlight.js/latest/highlight.min.js\"></script>\n<link rel=\"stylesheet\" href=\"https://cdn.jsdelivr.net/highlight.js/latest/styles/github.min.css\">\n\n<div id=\"react-root\"></div>\n\n<script>\nfunction MarkdownEditor(props) {\n    const [value, setValue] = React.useState(props.initialText || \"\");\n    React.useEffect(() => {\n        const simplemde = new SimpleMDE({\n            element: document.getElementById('markdown-input'),\n            autofocus: true,\n            renderingConfig: {\n                singleLineBreaks: false,\n                codeSyntaxHighlighting: true,\n            },\n            showIcons: [\"code\", \"table\"],\n        });\n\n        simplemde.codemirror.on('change', () => {\n            const content = simplemde.value();\n            window.parent.postMessage({ content }, \"*\");\n        });\n\n        setValue(props.initialText || \"\");\n    }, [props.initialText]);\n\n    return React.createElement('textarea', { id: 'markdown-input', value: value });\n}\n\nconst domContainer = document.querySelector('#react-root');\nconst root = ReactDOM.createRoot(domContainer);\n\nwindow.addEventListener(\"message\", (event) => {\n    root.render(React.createElement(MarkdownEditor, {\n        initialText: event.data.content,\n    }));\n});\n</script>\n`;\nreturn (\n  <iframe\n    className=\"w-100\"\n    style={{\n      height: height,\n    }}\n    srcDoc={code}\n    message={data.content ?? \"\"}\n    onMessage={(event) => {\n      onChange({ content: event.data.content });\n    }}\n  />\n);\n", "metadata": {"platform": "jutsu.ai"}, "branch": {"draft": null}, "widget_modules_used": null, "widget_url": "https://near.social/#/efiz.near/widget/SimpleMDE", "fact_widget_deployments_id": "4f23acba21484974d1cb58783382c752", "inserted_timestamp": "2023-08-02T03:29:15.868Z", "modified_timestamp": "2023-08-02T03:29:15.868Z", "__row_index": 54}