{"tx_hash": "26T9U7msxksMj4zjKNWZiV55EVXNFaReRJye3AEK218y", "action_id_social": "A4iCnumxYjP9gXy8T2oXMnVnRpy1a112QSAVc2fWCUFK-0-widget", "block_id": 100892153, "block_timestamp": "2023-09-11T15:16:01.606Z", "signer_id": "8345e6972edb36c6b5c3e34b81eb515501258f52b95b8ad01720209cd619c652", "widget_name": "Lendle.Card.Markets", "source_code": "const {\n  config,\n  markets,\n  // showVestModal,\n  // setShowVestModal,\n  // onActionSuccess,\n  // chainId,\n  // healthFactor,\n  // formatHealthFactor,\n  // depositETHGas,\n  // depositERC20Gas,\n} = props;\n\nconsole.log(\"markets2\", markets);\n\nState.init({\n  data: undefined,\n});\n\n// const VestButton = ({ data }) => (\n//   <Widget\n//     src={`${config.ownerId}/widget/Lendle.PrimaryButton`}\n//     props={{\n//       config,\n//       children: \"Vest\",\n//       onClick: () => {\n//         State.update({ data });\n//         setShowVestModal(true);\n//       },\n//     }}\n//   />\n// );\n\nreturn (\n  <>\n    <Widget\n      src={`${config.ownerId}/widget/Lendle.Card.CardsView`}\n      props={{\n        config,\n        style: {\n          marginTop: \"16px\",\n          background: \"#1B0027\",\n          border: \"1px solid #42307D\",\n          borderRadius: \"12px\",\n        },\n        title: \"\",\n        body:\n          !markets || markets.length < 1 ? (\n            <Widget\n              src={`${config.ownerId}/widget/Lendle.Card.CardEmpty`}\n              props={{\n                config,\n                children: \"Markets data not loaded\",\n              }}\n            />\n          ) : (\n            <>\n              {/* pcView */}\n              <Widget\n                src={`${config.ownerId}/widget/Lendle.Card.CardsTable`}\n                props={{\n                  config,\n                  headers: [\n                    \"Assets\",\n                    \"Market size\",\n                    \"Supply APY\",\n                    \"Borrow APY\",\n                    \"Total borrowed\",\n                    \"\",\n                  ],\n                  data: markets.map((row) =>\n                    row.underlyingAsset\n                      ? [\n                          <Widget\n                            src={`${config.ownerId}/widget/Lendle.Card.TokenWrapper`}\n                            props={{\n                              children: [\n                                <img\n                                  width={64}\n                                  height={64}\n                                  src={`https://raw.githubusercontent.com/lendle-xyz/lendle-bos/main/src/images/${row.symbol.toLowerCase()}.svg`}\n                                />,\n                                <div>\n                                  <div className=\"token-title\">\n                                    {row.symbol}\n                                  </div>\n                                  {/* <div className=\"token-chain\">{row.name}</div> */}\n                                </div>,\n                              ],\n                            }}\n                          />,\n                          <div>\n                            <div>\n                              {Number(\n                                row.totalDepositBalanceUSD /\n                                  row.marketReferencePriceInUsd\n                              ).toFixed(0)}\n                            </div>\n                            <div>\n                              $ {Number(row.totalDepositBalanceUSD).toFixed(0)}\n                            </div>\n                          </div>,\n                          `${(Number(row.supplyAPY) * 100).toFixed(2)} %`,\n                          `${(Number(row.variableBorrowAPY) * 100).toFixed(\n                            2\n                          )} %`,\n                          <div>\n                            <div>\n                              {Number(\n                                row.totalBorrowBalanceUSD /\n                                  row.marketReferencePriceInUsd\n                              ).toFixed(0)}\n                            </div>\n                            <div>\n                              $ {Number(row.totalBorrowBalanceUSD).toFixed(0)}\n                            </div>\n                          </div>,\n                          // <VestButton data={row} />,\n                        ]\n                      : []\n                  ),\n                }}\n              />\n              {/* mobile view */}\n              {markets.map((row) => {\n                return (\n                  <Widget\n                    src={`${config.ownerId}/widget/Lendle.Card.CardContainer`}\n                    props={{\n                      children: [\n                        <Widget\n                          src={`${config.ownerId}/widget/Lendle.Card.CardsBody`}\n                          props={{\n                            config,\n                            children: [\n                              <Widget\n                                src={`${config.ownerId}/widget/Lendle.Card.TokenWrapper`}\n                                props={{\n                                  children: row.underlyingAsset\n                                    ? [\n                                        <img\n                                          width={64}\n                                          height={64}\n                                          src={`https://raw.githubusercontent.com/lendle-xyz/lendle-bos/main/src/images/${row.symbol.toLowerCase()}.svg`}\n                                        />,\n                                        <div>\n                                          <div className=\"token-title\">\n                                            {row.symbol}\n                                          </div>\n                                          {/* <div className=\"token-chain\">\n                                        {row.name}\n                                      </div> */}\n                                        </div>,\n                                      ]\n                                    : [],\n                                }}\n                              />,\n                              <Widget\n                                src={`${config.ownerId}/widget/Lendle.Card.CardDataWrapper`}\n                                props={{\n                                  children: row.underlyingAsset\n                                    ? [\n                                        <div className=\"card-data-row\">\n                                          <div className=\"card-data-key\">\n                                            Market size\n                                          </div>\n                                          <div className=\"card-data-value\">\n                                            <div>\n                                              {Number(\n                                                row.totalDepositBalanceUSD /\n                                                  row.marketReferencePriceInUsd\n                                              ).toFixed(0)}\n                                            </div>\n                                            <div className=\"card-data-usd-price\">\n                                              ${\" \"}\n                                              {Number(\n                                                row.totalDepositBalanceUSD\n                                              ).toFixed(0)}\n                                            </div>\n                                          </div>\n                                        </div>,\n                                        <div className=\"card-data-row\">\n                                          <div className=\"card-data-key\">\n                                            Supply APY\n                                          </div>\n                                          <div className=\"card-data-value\">{`${(\n                                            Number(row.supplyAPY) * 100\n                                          ).toFixed(2)} %`}</div>\n                                        </div>,\n                                        <div className=\"card-data-row\">\n                                          <div className=\"card-data-key\">\n                                            Borrow APY\n                                          </div>\n                                          <div className=\"card-data-value\">{`${(\n                                            Number(row.variableBorrowAPY) * 100\n                                          ).toFixed(2)} %`}</div>\n                                        </div>,\n                                        <div className=\"card-data-row\">\n                                          <div className=\"card-data-key\">\n                                            Total borrowed\n                                          </div>\n                                          <div className=\"card-data-value\">\n                                            <div>\n                                              {Number(\n                                                row.totalBorrowBalanceUSD /\n                                                  row.marketReferencePriceInUsd\n                                              ).toFixed(0)}\n                                            </div>\n                                            <div className=\"card-data-usd-price\">\n                                              ${\" \"}\n                                              {Number(\n                                                row.totalBorrowBalanceUSD\n                                              ).toFixed(0)}\n                                            </div>\n                                          </div>\n                                        </div>,\n                                      ]\n                                    : [],\n                                }}\n                              />,\n                              // <VestButton data={row} />,\n                            ],\n                          }}\n                        />,\n                        <Widget\n                          src={`${config.ownerId}/widget/Lendle.Card.Divider`}\n                          props={{ config }}\n                        />,\n                      ],\n                    }}\n                  />\n                );\n              })}\n            </>\n          ),\n      }}\n    />\n    {/* {showVestModal && (\n      <Widget\n        src={`${config.ownerId}/widget/Lendle.Modal.VestModal`}\n        props={{\n          config,\n          onRequestClose: () => setShowVestModal(false),\n          data: {\n            ...state.data,\n            healthFactor,\n          },\n          onActionSuccess,\n          chainId,\n          depositETHGas,\n          depositERC20Gas,\n          formatHealthFactor,\n        }}\n      />\n    )} */}\n  </>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/8345e6972edb36c6b5c3e34b81eb515501258f52b95b8ad01720209cd619c652/widget/Lendle.Card.Markets", "fact_widget_deployments_id": "4c61896a8dfabea86db4f98670618763", "inserted_timestamp": "2024-03-07T05:24:05.087Z", "modified_timestamp": "2024-03-07T05:24:05.087Z", "__row_index": 1}