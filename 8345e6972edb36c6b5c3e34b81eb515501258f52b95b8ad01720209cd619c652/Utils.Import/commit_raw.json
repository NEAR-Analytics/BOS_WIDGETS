{"tx_hash": "26T9U7msxksMj4zjKNWZiV55EVXNFaReRJye3AEK218y", "action_id_social": "A4iCnumxYjP9gXy8T2oXMnVnRpy1a112QSAVc2fWCUFK-0-widget", "block_id": 100892153, "block_timestamp": "2023-09-11T15:16:01.606Z", "signer_id": "8345e6972edb36c6b5c3e34b81eb515501258f52b95b8ad01720209cd619c652", "widget_name": "Utils.Import", "source_code": "// `modules` are a map from module name to component path who must have an `onLoad` callback props that return functions\n// `onLoad` needs to be defined in the parent component for receiving the loaded functions\nconst { modules, onLoad } = props;\n\nState.init({\n  modules: {},\n});\n\n// Import functions from modules\nfunction importFunctions(name, functions) {\n  const modules = state.modules;\n  if (!modules[name]) {\n    modules[name] = functions;\n    State.update({\n      modules,\n    });\n  }\n  // invoke `onLoad` if all modules are ready\n  if (\n    Object.keys(state.modules).length === Object.keys(modules).length &&\n    onLoad &&\n    typeof onLoad === \"function\"\n  ) {\n    onLoad(state.modules);\n  }\n}\n\nconst importedModules = !modules ? (\n  <div />\n) : (\n  <>\n    {Object.entries(modules).map(([name, path]) => (\n      <Widget\n        src={path}\n        props={{ onLoad: (functions) => importFunctions(name, functions) }}\n      />\n    ))}\n  </>\n);\n\nreturn <div style={{ display: \"none\" }}>{importedModules}</div>;\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/8345e6972edb36c6b5c3e34b81eb515501258f52b95b8ad01720209cd619c652/widget/Utils.Import", "fact_widget_deployments_id": "e872e3a3ed3ce10e3271afb26896e75d", "inserted_timestamp": "2024-03-07T05:24:05.087Z", "modified_timestamp": "2024-03-07T05:24:05.087Z", "__row_index": 0}