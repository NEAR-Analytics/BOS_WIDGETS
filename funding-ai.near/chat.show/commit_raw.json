{"tx_hash": "GL9qwJZjgRQFjdKwGfxhRRGULFR8zbu5gJimuGG7fjme", "action_id_social": "8MQiu9JdZkta9Uhhd4V9CN5PT6mEYXL8rCqufp4XABbc-0-widget", "block_id": 114581599, "block_timestamp": "2024-03-12T18:45:58.257Z", "signer_id": "funding-ai.near", "widget_name": "chat.show", "source_code": "const Container = styled.div`\n  display:flex;\n  flex-direction:column;\n  align-items:center;\n  height:100vh;\n  background-image: linear-gradient(to right top, #cad5fe, #ced9fe, #d3ddff, #d7e0ff, #dce4ff);\n`;\n\nconst Row = styled.div`\n  display:flex;\n  flex-direction: column;\n  width:100%;\n  overflow: auto;\n`;\n\nconst Header = styled.div`\n  display:flex;\n  width:100%;\n  justify-content:space-between;\n  font-size: 0.875rem; \n  line-height: 1.25rem; \n  padding: 15px 20px;\n  background: #acbafc;\n  .logo{\n    display:flex;\n    color: #3730a3;\n    font-size:20px;\n    font-weight:700;\n    text-decoration:none;\n  }\n  .info{\n    margin-left: 10px;\n    display:flex;\n    gap:10px;\n    align-items:center;\n  }\n  .icon{\n    display:flex;\n    align-items:center;\n    justify-content:center;\n    border-radius: 50%;\n    background: #9aa8fb;\n    padding: 2px;\n  }\n`;\n\nconst Content = styled.div`\n  display:flex;\n  justify-content:center;\n  flex-direction:column;\n  \n`;\n\nconst SearchBar = styled.div`\n  position:relative;\n  width:80%;\n  display:flex;\n  margin: 1rem auto;\n  flex-direction:column;\n  @media screen and (max-width:768px){\n    width:100%;\n    padding:0 10px;\n  }\n\n  .title{\n    color:#807eca;\n    margin-bottom:5px;\n  }\n  input{\n    &::placeholder{\n      color:#9b97d1;\n    }\n  }\n  .search{\n    width:100%;\n    border-radius:15px;\n    border: 2px solid #c7d2fe;\n    padding: 10px 20px;\n    outline:none;\n    color:#3730a3;\n    font-weight:500;\n    :focus{\n      border: 2px solid #3730a3;\n    }\n    :hover{\n      border: 2px solid #3730a3;\n    }\n    &::placeholder{\n      color:#9b97d1;\n    }\n    @media screen and (max-width:768px){\n      padding: 15px 20px;\n    }\n  }\n  .arrow{\n    position:absolute;\n    right:10px;\n    top: 50%;\n    cursor:default;\n    background:none;\n    outline:none;\n    border:none;\n    font-size:20px;\n    @media screen and (max-width:768px){\n      top:52%;\n      right:20px;\n    }\n  }\n  .button-arrow{\n    border-radius: 100%;\n    outline:none;\n    border:none;\n    background:#5d76cb;\n    @media screen and (max-width:768px){\n      border-radius: 50px;\n      width:30px;\n      height:30px;\n    }\n  }\n  .icon-arrow{\n    //position:absolute;\n    right:5px;\n    top:6px;\n  }\n`;\n\nconst View = styled.div`\n    padding: 0 10px;\n`;\n\nconst ListResult = styled.div`\n    display:flex;\n    flex-direction:column;\n    border: 2px solid #c7d2fe;\n    border-radius:15px;\n    color:#7c7bc8;\n    background:#eef2ff;\n    max-width:80%;\n    margin: 0 auto;\n    height:100%;\n    //max-height:100%;\n    @media screen and (max-width:768px){\n        max-width:100%;\n    }\n    .allProject{\n      display:flex;\n      flex-direction:row;\n      align-items:center;\n      margin-top:10px;\n      margin-left:38px;\n      gap:10px;\n      @media screen and (max-width:768px){\n        margin-left:32px;\n      }\n    }\n    .header{\n      margin-left:15px;\n      font-size:16px;\n      font-weight:600;\n    }\n    .listItem{\n        display:flex;\n        flex-direction:column;\n        gap:20px;\n        margin-top:10px;\n        padding-bottom:20px;\n        padding:0 10px;\n        padding-bottom:20px;\n        @media screen and (max-width:768px){\n            padding:0 5px;\n            padding-bottom:20px;\n        }\n    }\n    .item{\n        display:flex;\n        flex-direction:row;\n        text-align:left;\n        align-items:center;\n        gap:10px;\n        width:100%;\n        border: 1px solid #a5b4fc;\n        min-height:20px;\n        border-radius:15px;\n        padding:10px 20px;\n        text-decoration:none;\n        max-height:90px;\n    }\n    .itemLeft{\n      width:30px;\n      height:30px;\n      display:flex;\n      justify-content:center;\n      align-items:center;\n    }\n    .itemRight{\n      display:flex;\n      flex-direction:row;\n      text-align:left;\n      align-items:center;\n      width:100%;\n      cursor:pointer;\n      gap:10px;\n    }\n    .image{\n        border-radius:50px;\n        border: 2px solid #c7d2fe;\n        width:50px;\n        height:50px;\n    }\n    .project{\n        display:flex;\n        flex-direction:column;\n        gap:2px;\n    }\n    .title{\n        color:#7c7bc8;\n        font-size:15px;\n        font-weight:500;\n        @media screen and (max-width:768px){\n            font-size:12px;\n        }\n    }\n    .decs{\n        font-size:11px;\n        @media screen and (max-width:768px){\n            font-size:10px;\n        }\n    }\n`;\n\nconst Ideas = styled.div`\n\n  // width:50%;\n  display:flex;\n  justify-content:center;\n  // flex-direction:column;\n  @media screen and (max-width:768px){\n    width:75%;\n  }\n  .text{\n    display:flex;\n    justify-content:center;\n    font-size:16px;\n    font-weight:400;\n    color:#3730a3;\n    @media screen and (max-width:768px){\n      font-size:13px;\n    }\n  }\n  .des{\n    display:flex;\n    flex-wrap:wrap;\n    width:100%;\n    padding: 20px;\n    padding-top: 5px;\n    justify-content:center;\n    flex direction:row;\n    gap:10px;\n    @media screen and (max-width:768px){\n      padding: 5px;\n    }\n  }\n  .btn-idea{\n    background:#6366f1;\n    border:1px solid #574fe6;\n    padding: 5px 10px;\n    border-radius:25px;\n    color:white;\n  }\n`;\n\nconst Footer = styled.div`\n  border-top:1px solid #e0e7ff;\n  padding:10px 20px;\n  display:flex;\n  justify-content:space-between;\n  gap:20px;\n  align-items:center;\n  @media screen and (max-width:768px){\n    flex-direction:column;\n    gap:10px;\n  }\n  .amount{\n    padding:5px 20px;\n    outline:none;\n    border:1px solid #c7d2fe;\n    border-radius:15px;\n    color:#3e37a6;\n    :focus{\n      border: 1px solid #4f46e5;\n    }\n    @media screen and (max-width:768px){\n      width:100%;\n    }\n  }\n  .footerRight{\n    @media screen and (max-width:768px){\n      display:flex;\n      justify-content:flex-end;\n    }\n  }\n  .btn-donate{\n    background:#4f46e5;\n    color:white;\n    border-radius:15px;\n    font-weight:600;\n    border:none;\n    box-shadow:2px 2px #3730a3;\n    padding:10px 20px;\n    display:flex;\n    align-items:center;\n    @media screen and (max-width:768px){\n      display:flex;\n      font-size: 13px;\n      justify-content:flex-end;\n    }\n    :hover{\n      background:#908bef;\n    }\n  }\n`;\n\nconst [value, setValue] = useState(props.search || \"public good\");\nconst requestOptions = {\n  method: \"POST\",\n  body: JSON.stringify({ messages: value }),\n  header: {\n    \"Content-Type\": \"application/json\",\n  },\n};\nconst res = fetch(\n  \"https://chat-ai.dropwallet.io/api/chat-potlock\",\n  requestOptions\n);\nconsole.log(\"Res\", res);\nconst [data, setData] = useState([]);\nconst [name, setName] = useState(\"\");\nconst [image, setImage] = useState(\"\");\nconst [description, setDescription] = useState(\"\");\nconst [isCheckAll, setIsCheckAll] = useState(false);\nconst [isCheck, setIsCheck] = useState([]);\nconst [amount, setAmount] = useState(0);\n\nconst hanleInput = (e) => {\n  const value = e.target.value;\n  setValue(value);\n};\nconst profileData = [];\nres.body &&\n  res.body.forEach((projectId) => {\n    // console.log(projectId);\n    if (projectId != undefined) {\n      const datas = Social.getr(`${projectId}/profile`);\n      if (datas) {\n        profileData.push({ accountId: projectId, data: datas });\n      }\n    }\n  });\n\nconst handleSelectAll = (e) => {\n  setIsCheckAll(!isCheckAll);\n  setIsCheck(profileData.map(({ accountId }) => accountId));\n  if (isCheckAll) {\n    setIsCheck([]);\n  }\n};\n\nconst Checkbox = ({ className, id, type, handleClick, isChecked }) => {\n  return (\n    <input\n      class={className}\n      id={id}\n      type={type}\n      onChange={handleClick}\n      checked={isChecked}\n    />\n  );\n};\n\nconst handleDonate = () => {\n  console.log(\"Donate is pending!!!\");\n  const transactions = [];\n  isCheck &&\n    Object.values(isCheck).forEach((projectId) => {\n      const amountFloat = parseFloat(amount || 0);\n      const amountIndivisible = new Big(amountFloat).mul(new Big(10).pow(24));\n      const donateContractArgs = {};\n      donateContractArgs.recipient_id = projectId;\n\n      transactions.push({\n        contractName: \"donate.potlock.near\",\n        methodName: \"donate\",\n        args: donateContractArgs,\n        deposit: amountIndivisible.toString(),\n        gas: \"300000000000000\",\n      });\n    });\n  Near.call(transactions);\n};\nconst isDisable = () => {\n  if (Number(amount) > 0) {\n    return false;\n  } else {\n    return true;\n  }\n};\nconsole.log(profileData);\nconsole.log(\"ischecked\", isCheck);\nconsole.log(\"amount\", amount);\nreturn (\n  <Container>\n    <Row>\n      <Content>\n        <SearchBar>\n          <div class=\"title\">Results for</div>\n          <div>\n            <input\n              value={value}\n              onChange={hanleInput}\n              placeholder=\"What would you like to fund?\"\n              class=\"search\"\n              type=\"text\"\n            />\n            <button class=\"arrow\" type=\"submit\">\n              <i class=\"bi bi-arrow-clockwise\"></i>\n            </button>\n          </div>\n        </SearchBar>\n        {value == \"\" && (\n          <Ideas>\n            <div class=\"text\">Some ideas: </div>\n            <div class=\"des\">\n              <div>\n                <button\n                  onClick={() => {\n                    setValue(\"open source\");\n                    setIsShow(true);\n                  }}\n                  class=\"btn-idea\"\n                >\n                  Open Source\n                </button>\n              </div>\n              <div>\n                <button\n                  onClick={() => {\n                    setValue(\"desci\");\n                    setIsShow(true);\n                  }}\n                  class=\"btn-idea\"\n                >\n                  Desci\n                </button>\n              </div>\n              <div>\n                <button\n                  onClick={() => {\n                    setValue(\"nft\");\n                    setIsShow(true);\n                  }}\n                  class=\"btn-idea\"\n                >\n                  NFT\n                </button>\n              </div>\n              <div>\n                <button\n                  onClick={() => {\n                    setValue(\"nft\");\n                    setIsShow(true);\n                  }}\n                  class=\"btn-idea\"\n                >\n                  ART\n                </button>\n              </div>\n              <div>\n                <button\n                  onClick={() => {\n                    setValue(\"nft\");\n                    setIsShow(true);\n                  }}\n                  class=\"btn-idea\"\n                >\n                  Education\n                </button>\n              </div>\n              <div>\n                <button\n                  onClick={() => {\n                    setValue(\"nft\");\n                    setIsShow(true);\n                  }}\n                  class=\"btn-idea\"\n                >\n                  Nation\n                </button>\n              </div>\n              <div>\n                <button\n                  onClick={() => {\n                    setValue(\"nft\");\n                    setIsShow(true);\n                  }}\n                  class=\"btn-idea\"\n                >\n                  MEME\n                </button>\n              </div>\n              <div>\n                <button\n                  onClick={() => {\n                    setValue(\"social impact\");\n                    setIsShow(true);\n                  }}\n                  class=\"btn-idea\"\n                >\n                  Social Impact\n                </button>\n              </div>\n              <div>\n                <button\n                  onClick={() => {\n                    setValue(\"ai\");\n                    setIsShow(true);\n                  }}\n                  class=\"btn-idea\"\n                >\n                  AI\n                </button>\n              </div>\n            </div>\n          </Ideas>\n        )}\n        <View>\n          <ListResult>\n            <div class=\"allProject\">\n              <Checkbox\n                className=\"form-check-input\"\n                type=\"checkbox\"\n                name=\"selectAll\"\n                id=\"selectAll\"\n                handleClick={handleSelectAll}\n                isChecked={isCheckAll}\n              />\n              <div class=\"header\">ALL PROJECT</div>\n            </div>\n            <div class=\"listItem\">\n              <Widget\n                src=\"funding-ai.near/widget/chat.modal\"\n                props={{\n                  profileData,\n                  isCheck,\n                  setIsCheck: (value) => {\n                    setIsCheck(value);\n                  },\n                }}\n              />\n            </div>\n            <Footer>\n              <input\n                type=\"text\"\n                class=\"amount\"\n                onChange={(e) => setAmount(e.target.value)}\n              />\n              <div class=\"footerRight\">\n                <button\n                  disable={isDisable()}\n                  class=\"btn-donate\"\n                  onClick={handleDonate}\n                >\n                  Fund {isCheck.length} project\n                  <svg\n                    xmlns=\"http://www.w3.org/2000/svg\"\n                    width=\"16\"\n                    height=\"16\"\n                    fill=\"currentColor\"\n                    viewBox=\"0 0 256 256\"\n                  >\n                    <path d=\"M224.49,136.49l-72,72a12,12,0,0,1-17-17L187,140H40a12,12,0,0,1,0-24H187L135.51,64.48a12,12,0,0,1,17-17l72,72A12,12,0,0,1,224.49,136.49Z\"></path>\n                  </svg>\n                </button>\n              </div>\n            </Footer>\n          </ListResult>\n        </View>\n      </Content>\n    </Row>\n  </Container>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/funding-ai.near/widget/chat.show", "fact_widget_deployments_id": "625c77b962e06bf455e77fd0d5fb00e6", "inserted_timestamp": "2024-03-12T20:26:31.440Z", "modified_timestamp": "2024-03-12T20:26:31.440Z", "__row_index": 27}