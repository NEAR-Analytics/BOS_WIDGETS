{"tx_hash": "2jrtxMAv2mFYp1kxDUwNwJirCJGS8zg6Squc6n4qo6y9", "action_id_social": "49ScPSG4YV7MNzZawqmStq9HYt8GRqH3Uhz2xBF4ic7p-0-widget", "block_id": 107707855, "block_timestamp": "2023-12-11T21:16:05.322Z", "signer_id": "dercio.near", "widget_name": "Draft-0", "source_code": "const data = {\r\n  name: \"root\",\r\n  children: [\r\n    {\r\n      name: \"group1\",\r\n      children: [\r\n        {\r\n          name: \"item1\",\r\n          value: 120,\r\n          image:\r\n            \"https://i.near.social/magic/large/https://near.social/magic/img/account/dercio.near\",\r\n        },\r\n        {\r\n          name: \"item2\",\r\n          value: 20,\r\n          image:\r\n            \"https://i.near.social/magic/large/https://near.social/magic/img/account/dercio.near\",\r\n        },\r\n        {\r\n          name: \"item3\",\r\n          value: 40,\r\n          image:\r\n            \"https://i.near.social/magic/large/https://near.social/magic/img/account/dercio.near\",\r\n        },\r\n      ],\r\n    },\r\n    {\r\n      name: \"group2\",\r\n      children: [\r\n        {\r\n          name: \"item4\",\r\n          value: 40,\r\n          image:\r\n            \"https://i.near.social/magic/large/https://near.social/magic/img/account/dercio.near\",\r\n        },\r\n        {\r\n          name: \"item5\",\r\n          value: 50,\r\n          image:\r\n            \"https://i.near.social/magic/large/https://near.social/magic/img/account/dercio.near\",\r\n        },\r\n        {\r\n          name: \"item6\",\r\n          value: 60,\r\n          image:\r\n            \"https://i.near.social/magic/large/https://near.social/magic/img/account/dercio.near\",\r\n        },\r\n      ],\r\n    },\r\n  ],\r\n};\r\n\r\nconst code = `\r\n<!DOCTYPE html>\r\n<html>\r\n<head>\r\n  <meta charset=\"UTF-8\">\r\n  <title>Treemap with Images</title>\r\n  <style>\r\n    .node {\r\n      position: absolute;\r\n      overflow: hidden;\r\n      border: 1px solid #000;\r\n      background-color: #fff;\r\n      background-size: cover;\r\n      background-repeat: no-repeat;\r\n      background-position: center;\r\n      font-size: 12px;\r\n      font-family: Arial, sans-serif;\r\n      text-align: center;\r\n      cursor: pointer;\r\n    }\r\n    .name {\r\n      display: flex;\r\n      justify-content: center;\r\n      align-items: center;\r\n      flex-direction: column;\r\n      height: 100%;\r\n    }\r\n    .value {\r\n      font-size: 10px;\r\n      margin-top: 5px;\r\n    }\r\n  </style>\r\n</head>\r\n<body>\r\n  <div id=\"treemap\"></div>\r\n  <script src=\"https://d3js.org/d3.v5.min.js\"></script>\r\n  <script>\r\n    var data = {\r\n      \"name\": \"root\",\r\n      \"children\": [\r\n        {\r\n          \"name\": \"group1\",\r\n          \"children\": [\r\n            {\"name\": \"item1\", \"value\": 120, \"image\": \"https://i.near.social/magic/large/https://near.social/magic/img/account/dercio.near\"},\r\n            {\"name\": \"item2\", \"value\": 20, \"image\": \"https://i.near.social/magic/large/https://near.social/magic/img/account/dercio.near\"},\r\n            {\"name\": \"item3\", \"value\": 40, \"image\": \"https://i.near.social/magic/large/https://near.social/magic/img/account/dercio.near\"}\r\n          ]\r\n        },\r\n        {\r\n          \"name\": \"group2\",\r\n          \"children\": [\r\n            {\"name\": \"item4\", \"value\": 40, \"image\": \"https://i.near.social/magic/large/https://near.social/magic/img/account/dercio.near\"},\r\n            {\"name\": \"item5\", \"value\": 50, \"image\": \"https://i.near.social/magic/large/https://near.social/magic/img/account/dercio.near\"},\r\n            {\"name\": \"item6\", \"value\": 60, \"image\": \"https://i.near.social/magic/large/https://near.social/magic/img/account/dercio.near\"}\r\n          ]\r\n        }\r\n      ]\r\n    };\r\n\r\n    var treemapLayout = d3.treemap()\r\n      .size([500, 300])\r\n      .padding(1)\r\n      .round(true);\r\n\r\n    var rootNode = d3.hierarchy(data);\r\n    rootNode.sum(function(d) { return d.value; });\r\n\r\n    treemapLayout(rootNode);\r\n\r\n    var nodes = d3.select(\"#treemap\")\r\n      .selectAll(\".node\")\r\n      .data(rootNode.descendants())\r\n      .enter()\r\n      .append(\"div\")\r\n      .attr(\"class\", \"node\")\r\n      .style(\"left\", function(d) { return d.x0 + \"px\"; })\r\n      .style(\"top\", function(d) { return d.y0 + \"px\"; })\r\n      .style(\"width\", function(d) { return d.x1 - d.x0 + \"px\"; })\r\n      .style(\"height\", function(d) { return d.y1 - d.y0 + \"px\"; })\r\n      .style(\"background-image\", function(d) { return \"url('\" + d.data.image + \"')\"; })\r\n      .style(\"background-size\", \"cover\")\r\n      .style(\"background-repeat\", \"no-repeat\")\r\n      .style(\"background-position\", \"center\")\r\n      .style(\"font-size\", \"12px\")\r\n      .style(\"font-family\", \"Arial, sans-serif\")\r\n      .style(\"text-align\", \"center\")\r\n      .style(\"cursor\", \"pointer\")\r\n      .append(\"div\")\r\n      .attr(\"class\", \"name\")\r\n      .append(\"span\")\r\n      .text(function(d) { return d.data.name; })\r\n      .append(\"div\")\r\n      .attr(\"class\", \"value\")\r\n      .text(function(d) { return \"Value: \" + d.data.value; })\r\n      .style(\"display\", \"none\");\r\n\r\n    nodes.on(\"mouseover\", function(d) {\r\n      d3.select(this).select(\".value\").style(\"display\", \"block\");\r\n    });\r\n\r\n    nodes.on(\"mouseout\", function(d) {\r\n      d3.select(this).select(\".value\").style(\"display\", \"none\");\r\n    });\r\n  </script>\r\n</body>\r\n</html>\r\n`;\r\nreturn (\r\n  <div>\r\n    <div>\r\n      <iframe\r\n        className=\"w-100 h-100\"\r\n        style={{ minHeight: \"800px\" }}\r\n        srcDoc={code}\r\n      />\r\n    </div>\r\n  </div>\r\n);\r\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/dercio.near/widget/Draft-0", "fact_widget_deployments_id": "164291a8f97e8d0a42319965242e927d", "inserted_timestamp": "2023-12-11T23:21:48.301Z", "modified_timestamp": "2023-12-20T03:22:11.422Z", "__row_index": 77}