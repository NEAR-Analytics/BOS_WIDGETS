{"tx_hash": "EARr3rhxtWUAaHqQYX6HCdDRmREpSFHveRK2VwgQ4Huy", "action_id_social": "2346giwaBZPN3LETM5jFoTMMZvWUR7QbLvDWBaDTX3uQ-0-widget", "block_id": 104330417, "block_timestamp": "2023-10-27T17:53:33.218Z", "signer_id": "public-degens.near", "widget_name": "Draft-1", "source_code": "const tasks = [\r\n  {\r\n    category: \"twitter\",\r\n    header: \"Twitter Task 1\",\r\n    text: \"\",\r\n    url: \"\",\r\n  },\r\n  {\r\n    category: \"reddit\",\r\n    header: \"Redit Task 1\",\r\n    text: \"\",\r\n    url: \"\",\r\n  },\r\n  {\r\n    category: \"articles\",\r\n    header: \"Articles Task 1\",\r\n    created: \"05.10.2023\",\r\n    budget: 750,\r\n    text: \"It is crucial to adhere to these rules and thoroughly read them before participating in contest to understand the requirements. Please note that any content found to be in violation of the rules will be disqualified from the contest. Good luck!\",\r\n    url: \"https://telegra.ph/Article-task-1-10-05\",\r\n  },\r\n  {\r\n    category: \"video\",\r\n    header: \"Video Task 1\",\r\n    text: \"\",\r\n    url: \"\",\r\n  },\r\n  {\r\n    category: \"infographics\",\r\n    header: \"Infographics Task 1\",\r\n    text: \"\",\r\n    url: \"\",\r\n  },\r\n  {\r\n    category: \"memes\",\r\n    header: \"Memes Task 1\",\r\n    text: \"\",\r\n    url: \"\",\r\n  },\r\n  {\r\n    category: \"twitter\",\r\n    header: \"Twitter Task 2\",\r\n    text: \"\",\r\n    url: \"\",\r\n  },\r\n  {\r\n    category: \"reddit\",\r\n    header: \"Redit Task 2\",\r\n    text: \"\",\r\n    url: \"\",\r\n  },\r\n  {\r\n    category: \"articles\",\r\n    header: \"Articles Task 2\",\r\n    text: \"\",\r\n    url: \"\",\r\n  },\r\n  {\r\n    category: \"video\",\r\n    header: \"Video Task 2\",\r\n    text: \"\",\r\n    url: \"\",\r\n  },\r\n  {\r\n    category: \"infographics\",\r\n    header: \"Infographics Task 2\",\r\n    text: \"\",\r\n    url: \"\",\r\n  },\r\n  {\r\n    category: \"memes\",\r\n    header: \"Memes Task 2\",\r\n    text: \"\",\r\n    url: \"\",\r\n  },\r\n];\r\n\r\n//******************************************************************************* */\r\n\r\nconst contractId = \"public-degens.near\";\r\nconst { accountId } = context;\r\nState.init({ was: false });\r\nconst Welcome = styled.div`\r\n  margin-top:50px;  \r\n`;\r\nconst Button = styled.button`\r\n  margin-top:30px;  \r\n  width:150px;\r\n  display: \"flex\";\r\n  gap: 0.5rem;\r\n  border-radius: 4px;\r\n  border: 1px solid rgb(68, 152, 224);\r\n  font-size: ${fontSize ? fontSize : \"1.1rem\"};\r\n  background-color: ${secondary ? \"#ddd\" : \"rgb(68, 152, 224)\"};\r\n  color: ${secondary ? \"#000\" : \"#fff\"};\r\n  padding: 0.3rem 0.8rem;\r\n  font-weight: ${fontWeight ? fontWeight : \"400\"};\r\n  &:hover {opacity: 0.85;}\r\n`;\r\nNear.asyncView(contractId, \"was\", { account_id: accountId })\r\n  .then((was) => {\r\n    State.update({ was });\r\n  })\r\n  .catch((err) => {\r\n    console.log(err);\r\n    State.update({ error: err });\r\n  });\r\nconst register = () => {\r\n  return Near.call(contractId, \"start\", {});\r\n};\r\n\r\nif (!state.was) {\r\n  if (state.error) return <Welcome>state.error</Welcome>;\r\n  return (\r\n    <Welcome>\r\n      <h2>Welcome to Public Degens!</h2>\r\n      <br />\r\n      <div>\r\n        <p>\r\n          You can get involved in the Near Ecosystem development initiative\r\n          right now.\r\n        </p>\r\n        <p>\r\n          Click the button and choose a task that suits you. Make sure to read\r\n          the rules, good luck!\r\n        </p>\r\n      </div>\r\n      <Button onClick={register} className={\"\"}>\r\n        Start\r\n      </Button>\r\n    </Welcome>\r\n  );\r\n}\r\n\r\nconst Card = styled.div`\r\n  display:flex; flex-direction:column; align-items:stretch; font-size: 1.1rem;  border-radius: 1rem; \r\n  background-color: \"lightblue !important\"; &:hover {background-color: #d3ecf4;}\r\n`;\r\nconst CardHeader = styled.div`\r\n  display:flex; align-items:center;\r\n  img {border-radius:0.3rem; width:4rem; height:4rem; margin:0.6rem;}\r\n  h3 {flex: 1 1 auto;}\r\n  svg {width:3rem; height:3rem; cursor:pointer; margin-right:1rem; &:hover {color: blue;}}\r\n  &:last-child {flex: 1 1 auto;}\r\n`;\r\nconst CardContent = styled.div`\r\n  display:flex; flex-direction:column; flex: 1 1 auto;\r\n  padding:0.6rem; align-items:stretch; flex-wrap: wrap; gap: 0.4rem;\r\n  h3 {width:100%; font-size:1.4rem; font-weight:600; text-align:center;}\r\n`;\r\nconst List = styled.div`\r\n  display: flex; flex-direction: column; align-items: stretch; padding: 0.4rem 2rem; gap: 0.4rem;\r\n`;\r\nconst Row = styled.div`\r\n  display: flex; align-items: center;\r\n  &:not(:last-child) {border-bottom: 1px dashed darkgrey;}\r\n  > *:not(img) { flex: 1 1 12rem; padding: 0.2rem 0.4rem; }\r\n  img {width: 2rem; height: 2rem;}\r\n  svg {width: 1.4rem;height: 1.4rem;}\r\n  .balance {text-align: right;}\r\n  .symbol {min-width: 5rem;max-width: 5rem;text-overflow: ellipsis;overflow: hidden;}\r\n`;\r\nconst Page = styled.div`\r\n  display: flex; flex-direction: column; gap: 1rem; align-items: stretch; max-width: 50rem; margin: 0 auto 2rem;\r\n  &::before {    \r\n    background-image: url(\"https://arweave.net/qOfmpZZNqQ0bHBJ4UTgPC_pjvs1oYOjTAVwfxD8fd2o\");\r\n    content: \"\"; background-attachment: fixed; background-size: contain;\r\n    position: absolute; top: 0px; right: 0px; bottom: 0px; left: 0px; opacity: 0.6; z-index: -1;\r\n  }\r\n`;\r\nconst Category = styled.div`\r\n  font-style: italic; font-size: 1.1rem; margin: 0 1rem; display: flex;\r\n  flex-direction: column; align-items: center;\r\n`;\r\nconst Header = styled.h1`\r\n  margin-bottom: 0.5rem; text-align: center; padding: 1rem; font-weight: 600;\r\n`;\r\nconst Content = styled.div`\r\n  display: flex; flex-direction: column; gap: 1.5rem; align-items: stretch;\r\n`;\r\nconst showTasks = () => (\r\n  <Content>\r\n    <List>\r\n      {tasks\r\n        .filter((e) => e.category === state.selected)\r\n        .map((task, index) => {\r\n          return (\r\n            <Row key={task}>\r\n              <div>\r\n                <CardHeader>\r\n                  <a href={task.url} target=\"_blank\" rel=\"noreferrer noopener\">\r\n                    {task.header}\r\n                    <svg viewBox=\"0 0 24 24\">\r\n                      <path\r\n                        fill=\"currentColor\"\r\n                        d=\"M14,3V5H17.59L7.76,14.83L9.17,16.24L19,6.41V10H21V3M19,19H5V5H12V3H5C3.89,3 3,3.9 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V12H19V19Z\"\r\n                      ></path>\r\n                    </svg>\r\n                  </a>\r\n                </CardHeader>\r\n                <p>Created: {task.created}</p>\r\n                <CardContent>{task.text}</CardContent>\r\n                <p>Budget: {task.budget || 0}$</p>\r\n              </div>\r\n            </Row>\r\n          );\r\n        })}\r\n    </List>\r\n  </Content>\r\n);\r\nconst selectCategory = (event) => {\r\n  State.update({ selected: event.target.value });\r\n};\r\nState.init({ selected: state.selected ?? \"articles\" });\r\nreturn (\r\n  <Page>\r\n    <Header>Contests</Header>\r\n    <Category>\r\n      <span>Select category</span>\r\n    </Category>\r\n    <select onChange={selectCategory}>\r\n      <option value=\"twitter\" selected={state.selected === \"twitter\"}>\r\n        Twitter\r\n      </option>\r\n      <option value=\"reddit\" selected={state.selected === \"reddit\"}>\r\n        Reddit\r\n      </option>\r\n      <option value=\"articles\" selected={state.selected === \"articles\"}>\r\n        Aritcles\r\n      </option>\r\n      <option value=\"video\" selected={state.selected === \"video\"}>\r\n        Video\r\n      </option>\r\n      <option value=\"infographics\" selected={state.selected === \"infographics\"}>\r\n        Infographics\r\n      </option>\r\n      <option value=\"memes\" selected={state.selected === \"memes\"}>\r\n        Memes\r\n      </option>\r\n    </select>\r\n    {showTasks()}\r\n  </Page>\r\n);\r\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/public-degens.near/widget/Draft-1", "fact_widget_deployments_id": "8e842cdf4298c6cca0faece0f0b4acfc", "inserted_timestamp": "2024-03-07T05:24:05.087Z", "modified_timestamp": "2024-03-07T05:24:05.087Z", "__row_index": 0}