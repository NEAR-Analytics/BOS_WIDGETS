{"tx_hash": "DRZZgbKSepjsbsRyWyQ92ySWmy3CHwCWTbkhWcnf5xTr", "action_id_social": "9yh1dDPGL5j3N7Fh2LpNG23fCrABt3UvmR85EatptGwn-0-widget", "block_id": 105977727, "block_timestamp": "2023-11-18T13:03:54.553Z", "signer_id": "beachsunandrockandroll.near", "widget_name": "addComposer", "source_code": "const setAddComposer = props.setAddComposer;\n\nconst { ppdContract, ppdAbi } = VM.require(\n  \"beachsunandrockandroll.near/widget/utils\"\n);\n\nconsole.log(\"en addComposer\");\nconsole.log(\"ppdContract\", ppdContract);\n\nconst [composerName, setComposerName] = useState(\"\");\nconst [birthdate, setBirthDate] = useState(\"\");\n\nconst addComposer = () => {\n  const ppd = new ethers.Contract(\n    ppdContract,\n    ppdAbi.body,\n    Ethers.provider().getSigner()\n  );\n\n  ppd.addComposer(composerName, birthdate);\n  setAddComposer(false);\n};\n\nreturn (\n  <>\n    <div>\n      <input\n        className=\"form-control m-2 p-2\"\n        type=\"text\"\n        id=\"composerName\"\n        name=\"composerName\"\n        required\n        placeholder=\"Composer's Name\"\n        onChange={(event) => {\n          setComposerName(event.target.value);\n        }}\n      />\n      <input\n        className=\"form-control m-2 p-2\"\n        type=\"text\"\n        id=\"birthDate\"\n        name=\"composerName\"\n        required\n        placeholder=\"Composer's Birthdate\"\n        onChange={(event) => {\n          setBirthDate(event.target.value);\n        }}\n      />\n      <button onClick={addComposer}>Add Composer</button>\n    </div>\n  </>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/beachsunandrockandroll.near/widget/addComposer", "fact_widget_deployments_id": "008eb324a7b4bc13ef48933502ea06a5", "inserted_timestamp": "2023-11-18T14:52:52.959Z", "modified_timestamp": "2023-11-18T14:52:52.959Z", "__row_index": 4}