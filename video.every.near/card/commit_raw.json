{"tx_hash": "FdWkoikZHnaGQgBhASDC7wJ1D8uLVA691pmYNQ744ikU", "action_id_social": "DffThbutw3HBXurgtLF45ZVbma39XCqqbzPmbSxUiDg1-0-widget", "block_id": 117052998, "block_timestamp": "2024-04-17T18:16:25.287Z", "signer_id": "video.every.near", "widget_name": "card", "source_code": "const path = props.path;\nconst blockHeight = props.blockHeight;\nconst { href } = VM.require(\"buildhub.near/widget/lib.url\") || {\n  href: () => {},\n};\nconst VideoCard = styled.div`\n  border: 1px solid #e2e2e2;\n  border-radius: 1rem;\n  padding: 0.5rem;\n  box-shadow: 0 1px 3px 0 rgb(0 0 0 / 0.1), 0 1px 2px -1px rgb(0 0 0 / 0.1);\n  background-color: #fff;\n  flex-shrink: 0;\n  transition: all 300ms;\n  &:hover {\n    box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);\n    transform: scale(1.01);\n  }\n`;\nconst VideoTitle = styled.h3`\n  color: #0d0d0e;\n  font-size: 14px;\n  font-weight: 500;\n  line-height: 140%; /* 19.6px */\n  letter-spacing: -0.14px;\n  margin: 0;\n`;\nconst VideoInfo = styled.div`\n  display: flex;\n  justify-content: space-between;\n  font-size: 0.8em;\n  color: #888;\n`;\nconst VideoThumbnail = styled.img`\n  object-fit: cover;\n  border-radius: 0.5rem;\n  aspect-ratio: 16 / 9;\n`;\nfunction handleExpandVideo() {\n  if (props.handleExpandVideo) {\n    props.handleExpandVideo(path, blockHeight);\n  }\n}\nconst videoThing = Social.getr(path, blockHeight);\nif (!videoThing) return <p>Loading...</p>;\nconst userId = path.split(\"/\")[0];\nconst userProfile = Social.getr(`${userId}/profile`);\nconst data = JSON.parse(videoThing[\"\"] || \"null\");\ndata = {\n  ...data,\n  poster:\n    data.poster === \"https://ipfs.near.social/ipfs/undefined\"\n      ? \"https://placehold.co/450x300/000000/000000/png\"\n      : data.poster,\n};\nconst VideoDescription = styled.p`\n  color: #6f6f6f;\n  font-size: 12px;\n  line-height: 140%; /* 16.8px */\n  letter-spacing: -0.12px;\n  margin: 0;\n  display: flex;\n  align-items: center;\n  gap: 0.25rem;\n  svg {\n    height: 16px;\n    width: 16px;\n  }\n`;\nfunction secondsToHoursMinutes(seconds) {\n  const hours = Math.floor(seconds / 3600);\n  const minutes = Math.floor((seconds % 3600) / 60);\n  const remainingSeconds = Math.floor(seconds % 60);\n  if (!hours) {\n    return minutes + \":\" + remainingSeconds;\n  }\n  return hours + \":\" + minutes + \":\" + remainingSeconds;\n}\nreturn (\n  <Link\n    style={{ textDecoration: \"none\" }}\n    to={href({\n      widgetSrc: \"video.every.near/widget/app\",\n      params: {\n        page: \"view\",\n        path: path,\n        blockHeight: blockHeight,\n      },\n    })}\n  >\n    <VideoCard>\n      <div className=\"position-relative\">\n        <VideoThumbnail\n          src={data.poster || \"https://placehold.co/450x300/000000/000000/png\"}\n          alt={videoThing.metadata.name}\n        />\n        <div\n          className=\"position-absolute text-white\"\n          style={{\n            bottom: 8,\n            right: 8,\n            background: \"black\",\n            padding: \"4px 8px\",\n            borderRadius: \"2rem\",\n            fontSize: \"10px\",\n          }}\n        >\n          {data?.videoSpec?.duration\n            ? secondsToHoursMinutes(data?.videoSpec?.duration)\n            : \"\"}\n        </div>\n      </div>\n      <div className=\"p-2 d-flex flex-column gap-1\">\n        <VideoTitle className=\"text-truncate\">\n          {videoThing.metadata.name}\n        </VideoTitle>\n        <VideoDescription>\n          {userProfile.name}{\" \"}\n          <Widget\n            loading={\"\"}\n            src=\"mob.near/widget/Checkmark\"\n            props={{ isPremium, accountId: userId }}\n          />\n        </VideoDescription>\n        <VideoDescription>\n          <Widget\n            loading=\"\"\n            src=\"mob.near/widget/TimeAgo\"\n            props={{ blockHeight }}\n          />\n        </VideoDescription>\n      </div>\n    </VideoCard>\n  </Link>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/video.every.near/widget/card", "fact_widget_deployments_id": "d2abd9ef9e55aad02ed1184abdfbc061", "inserted_timestamp": "2024-04-17T19:42:32.678Z", "modified_timestamp": "2024-04-17T19:42:32.678Z", "__row_index": 22}