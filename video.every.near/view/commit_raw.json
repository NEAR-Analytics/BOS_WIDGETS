{"tx_hash": "2NCHSDSDwDjJcGDpFbVH5xLAV1WwvLgMAPz4Hd1Cs9WM", "action_id_social": "BX1mhPTNHHMuFEanTXEugovcKdbNhaiJbkU2eSWRsnuY-0-widget", "block_id": 114040003, "block_timestamp": "2024-03-03T22:49:05.745Z", "signer_id": "video.every.near", "widget_name": "view", "source_code": "const { Feed } = VM.require(\"devs.near/widget/Feed\") || {\n  Feed: () => <></>,\n};\n\nconst path = props.path;\nconst blockHeight = props.blockHeight;\n\nconst item = {\n  path,\n  type: \"every.near/type/video\",\n};\n\nconst ModalBox = styled.div`\n  background-color: white;\n  min-width: 400px;\n  max-width: 600px;\n  padding: 20px;\n  border-radius: 8px;\n  box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);\n  z-index: 1003;\n`;\n\nconst VideoCard = styled.div`\n  border: 1px solid #ccc;\n  border-radius: 8px;\n  padding: 16px;\n  margin: 16px;\n  width: 100%;\n  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);\n  background-color: #fff;\n`;\n\nconst VideoTitle = styled.h3`\n  margin: 0;\n  padding: 0;\n  font-size: 1.2em;\n`;\n\nconst VideoDescription = styled.p`\n  font-size: 0.9em;\n  color: #666;\n`;\n\nconst VideoInfo = styled.div`\n  display: flex;\n  justify-content: space-between;\n  font-size: 0.8em;\n  color: #888;\n`;\n\nconst VideoThumbnail = styled.img`\n  width: 100%;\n  height: auto;\n  border-radius: 4px;\n  margin-bottom: 12px;\n`;\n\nfunction handleExpandVideo() {\n  console.log(\"hey\");\n  if (props.handleExpandVideo) {\n    props.handleExpandVideo(path, blockHeight);\n  }\n}\n\nconst videoThing = Social.getr(path, blockHeight);\n\nif (!videoThing) return <p>Loading...</p>;\n\nconst data = JSON.parse(videoThing[\"\"] || \"null\");\n\nconst Button = styled.button``;\n\nconst { href } = VM.require(\"buildhub.near/widget/lib.url\") || {\n  href: () => {},\n};\n\nreturn (\n  <div className=\"container\">\n    <VideoCard>\n      <Link\n        to={href({\n          widgetSrc: \"video.every.near/widget/app\",\n          params: {\n            page: \"home\",\n          },\n        })}\n      >\n        <Button>back</Button>\n      </Link>\n      <Widget\n        src=\"efiz.near/widget/Livepeer.Player\"\n        props={{\n          playbackId: data.storage.ipfs.cid,\n          title: videoThing.metadata.name,\n          PostImage: data?.poster && (\n            <img\n              src={\n                data?.poster || \"https://placehold.co/450x300/000000/FFFFFF/png\"\n              }\n              alt={videoThing.metadata.name}\n            />\n          ),\n        }}\n      />\n      <VideoTitle>{videoThing.metadata.name}</VideoTitle>\n      <VideoDescription>{videoThing.metadata.description}</VideoDescription>\n      <Widget src=\"mob.near/widget/LikeButton\" props={{ item }} />\n      <Widget\n        src=\"nui.sking.near/widget/Layout.Modal\"\n        props={{\n          open: state.postModalOpen,\n          onOpenChange: (open) => {\n            State.update({\n              ...state,\n              postModalOpen: open,\n            });\n          },\n          toggle: (\n            <Button className=\"classic\" disabled={!path}>\n              <>\n                <i className={\"bi bi-send\"} />\n                share\n              </>\n            </Button>\n          ),\n          content: (\n            <div className=\"w-100\">\n              <ModalBox>\n                <Widget\n                  src={\"devs.near/widget/modal.post\"}\n                  props={{\n                    creatorId: context.accountId,\n                    path: `video.every.near/widget/app?path=${path}`,\n                    type: \"every.near/type/video\",\n                    closeModal: () => {\n                      State.update({\n                        ...state,\n                        postModalOpen: false,\n                      });\n                    },\n                  }}\n                />\n              </ModalBox>\n            </div>\n          ),\n        }}\n      />\n      <VideoInfo>\n        <span>\n          Duration:{\" \"}\n          {data?.videoSpec?.duration ? `${data?.videoSpec.duration}s` : \"N/A\"}\n        </span>\n        <span>Format: {data?.videoSpec?.format || \"N/A\"}</span>\n      </VideoInfo>\n      <a href={data?.downloadUrl} target=\"_blank\" rel=\"noopener noreferrer\">\n        Download Video\n      </a>\n    </VideoCard>\n    <VideoCard>\n      <VideoTitle>Comments</VideoTitle>\n      <hr />\n      <Feed\n        index={{\n          action: \"post\",\n          key: item,\n        }}\n        showCompose={true}\n        Item={(p) => {\n          return (\n            <Widget\n              src=\"mob.near/widget/MainPage.N.Post\"\n              loading={<div style={{ height: \"200px\" }} />}\n              props={{ accountId: p.accountId, blockHeight: p.blockHeight }}\n            />\n          );\n        }}\n      />\n    </VideoCard>\n  </div>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/video.every.near/widget/view", "fact_widget_deployments_id": "4ad3257c22b223b8b5cf0c5155c30fb3", "inserted_timestamp": "2024-03-07T05:24:05.087Z", "modified_timestamp": "2024-03-07T05:24:05.087Z", "__row_index": 3}