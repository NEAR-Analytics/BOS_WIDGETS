{"tx_hash": "3BrV7RNb4nUhJLpGeaoWM2dXWCh8c4qZjyz1fqeYKNCC", "action_id_social": "HMoTsik1PTcMGKhDR71jFFuq8dddmPnxpaHU91xKZAZR-0-widget", "block_id": 117442182, "block_timestamp": "2024-04-23T09:38:01.927Z", "signer_id": "video.every.near", "widget_name": "Library.index", "source_code": "const { HeroBanner } = VM.require(\n  \"video.every.near/widget/Components.hero-banner\"\n) || {\n  HeroBanner: () => <></>,\n};\nconst { Button } = VM.require(\"UI.near/widget/atoms.Button\") || {\n  Button: () => <></>,\n};\nconst { href } = VM.require(\"buildhub.near/widget/lib.url\") || {\n  href: () => {},\n};\n// TODO: React objects shouldn't be dereferenced\n// const { Draggable } = VM.require(\n//   \"video.every.near/widget/Library.Draggable\"\n// ) || {\n//   href: () => <p>Draggable not present</p>,\n// };\n// TODO: why this is not working?\n//const { Debugger } = VM.require(\"video.every.near/widget/Player.Debug\") || {\n//  href: () => <span>Debugger not present</span>,\n//};\nconst { tab } = props;\nconst tabs = {\n  library: [\n    { label: \"overview\", widget: \"video.every.near/widget/Library.Overview\" },\n  ],\n  // livepeer: [\n  // subaccounts video -> every -> near\n  // / widget namespace\n  // / name of the widget\n  // . designated file structure\n  //   { label: \"player\", widget: \"video.every.near/widget/Library.Player\" },\n  //   { label: \"creator\", widget: \"video.every.near/widget/Library.Creator\" },\n  // ],\n  player: [\n    { label: \"player\", widget: \"video.every.near/widget/Library.Player\" },\n    {\n      label: \"get upload url\",\n      widget: \"video.every.near/widget/Library.GetUploadUrl\",\n    },\n    {\n      label: \"direct upload\",\n      widget: \"video.every.near/widget/Library.DirectUploadAsset\",\n    },\n    {\n      label: \"resumable upload\",\n      widget: \"video.every.near/widget/Library.ResumableUploadAsset\",\n    },\n    {\n      label: \"sandbox\",\n      widget: \"video.every.near/widget/Player.Sandbox\",\n    },\n  ],\n  broadcast: [\n    {\n      label: \"broadcast\",\n      widget: \"video.every.near/widget/Library.Broadcast\",\n    },\n    {\n      label: \"generate stream\",\n      widget: \"video.every.near/widget/Library.GenerateStream\",\n    },\n  ],\n};\nconst LibraryWrapper = styled.div`\n  padding: 32px 40px;\n  display: flex;\n  flex-direction: column;\n  gap: 2rem;\n  height: 100%;\n  @media (max-width: 768px) {\n    padding: 1.5rem;\n  }\n`;\nconst GridContainer = styled.div`\n  display: grid;\n  grid-template-columns: repeat(12, minmax(0, 1fr));\n  gap: 1rem;\n  @media (max-width: 920px) {\n    display: flex;\n    flex-direction: column;\n  }\n`;\nconst SideBar = styled.div`\n  grid-column: span 3 / span 3;\n  height: 100%;\n  display: flex;\n  padding: 24px 12px;\n  flex-direction: column;\n  align-items: flex-start;\n  gap: 14px;\n  border-radius: 24px;\n  border: 1px solid #c7c7c7;\n  .title {\n    width: 100%;\n  }\n  p {\n    height: 40px;\n    padding: 10px 12px;\n    text-transform: capitalize;\n    margin-bottom: 14px;\n  }\n  @media (max-width: 1010px) {\n    grid-column: span 2 / span 2;\n  }\n  @media screen and (max-width: 768px) {\n    border: 0px;\n    flex-direction: row;\n    overflow-x: auto;\n    min-height: auto;\n    flex-wrap: nowrap;\n    flex-shrink: 0;\n    .title {\n      width: auto;\n    }\n  }\n`;\nconst Content = styled.div`\n  grid-column: span 9 / span 9;\n  border-radius: 24px;\n  border: 1px solid #c7c7c7;\n  padding: 4rem;\n  word-break: normal;\n  @media (max-width: 1010px) {\n    grid-column: span 10 / span 10;\n  }\n  @media screen and (max-width: 768px) {\n    padding: 1rem;\n  }\n`;\n// const RightBar = styled.div`\n//   grid-column: span 3 / span 3;\n//   height: 100%;\n//   display: flex;\n//   padding: 24px 12px;\n//   flex-direction: column;\n//   align-items: flex-start;\n//   gap: 14px;\n//   border-radius: 24px;\n//   border: 1px solid #c7c7c7;\n// `;\nconst labelToFind = props.tab;\nconst activeTab =\n  Object.values(tabs)\n    .flatMap((array) => array)\n    .find((obj) => obj.label === labelToFind) ||\n  Object.values(tabs).flatMap((array) => array)[0];\nconst StyledLink = styled.div`\n  a {\n    text-decoration: none;\n    width: 100%;\n    button {\n      width: 100%;\n    }\n  }\n`;\nconst [activateDebug, setActivateDebug] = useState(false);\nreturn (\n  <LibraryWrapper>\n    <HeroBanner />\n    <GridContainer>\n      <SideBar>\n        {Object.keys(tabs).map((tab) => {\n          return (\n            <div className=\"title\">\n              {tab === \"player\" && (\n                <>\n                  {/* <label>\n                    Show debug component:\n                    <input\n                      type=\"checkbox\"\n                      checked={isChecked}\n                      onChange={() => setActivateDebug(!activateDebug)}\n                    />\n                  </label> */}\n                </>\n              )}\n              <p>{tab}</p>\n              <div\n                className=\"d-flex flex-md-column\"\n                style={{\n                  gap: \"14px\",\n                }}\n              >\n                {tabs[tab].map((item) => {\n                  return (\n                    <StyledLink>\n                      <Link\n                        to={href({\n                          widgetSrc: \"video.every.near/widget/app\",\n                          params: {\n                            page: \"library\",\n                            tab: item.label,\n                          },\n                        })}\n                      >\n                        <Button\n                          variant={\n                            activeTab.label === item.label ? \"primary\" : \"\"\n                          }\n                        >\n                          {item.label}\n                        </Button>\n                      </Link>\n                    </StyledLink>\n                  );\n                })}\n              </div>\n            </div>\n          );\n        })}\n      </SideBar>\n      <Content>\n        <Widget src={activeTab.widget} loading=\"\" />\n      </Content>\n      {/* <RightBar>\n        <Widget src={\"video.every.near/widget/Player.Debug\"} loading=\"\" />\n      </RightBar> */}\n    </GridContainer>\n  </LibraryWrapper>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/video.every.near/widget/Library.index", "fact_widget_deployments_id": "ae50331dc3b21d5f1e5c3978dc2253ea", "inserted_timestamp": "2024-04-23T11:42:23.941Z", "modified_timestamp": "2024-04-23T11:42:23.941Z", "__row_index": 2}