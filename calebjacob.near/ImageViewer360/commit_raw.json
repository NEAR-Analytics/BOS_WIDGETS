{"tx_hash": "3LXWrRYd6zk79c8B5gtasN9z4ENGWLqF5LyuJZyc6P4F", "action_id_social": "8xvGjLFrpc56CaBwSqB7PyYW2ye4HzhhiRFB7bZ3ikN7-0-widget", "block_id": 96313048, "block_timestamp": "2023-07-12T17:00:10.927Z", "signer_id": "calebjacob.near", "widget_name": "ImageViewer360", "source_code": "State.init({\n  currentImageIndex: 0,\n  pointerIsDown: false,\n  pointerStartPositionX: 0,\n});\n\nconst pointerMoveThreshold = 20;\nconst description = \"A description of my image\";\nconst images = [\n  \"https://ipfs.near.social/ipfs/bafkreibu3gr4saomeeg6cwlu5vj7x2lfl7ixx7peigklad34dtxemlape4\",\n  \"https://ipfs.near.social/ipfs/bafkreiaw7hltj3pxaotgb62zofoe2gte6etreho3t5vnvn5i52eeczyzwy\",\n  \"https://ipfs.near.social/ipfs/bafkreibp4ye7hpnpmrdowjnnoifehl4eis72grgtrfso2r4dj56cb4wioq\",\n  \"https://ipfs.near.social/ipfs/bafkreibonmxktirqm6ryjitinq6iex55xlyigzim65qc6ed2rdxkb64xfa\",\n  \"https://ipfs.near.social/ipfs/bafkreicg5nhez4l6kpbfbbyfxzcq2amt7wvyl75hxg7lweedhjwyfvslli\",\n  \"https://ipfs.near.social/ipfs/bafkreiej6x4cpwwfzgwo52xz64z57nhaa6g2g7gdmfvlu4njtg5coxyqde\",\n  \"https://ipfs.near.social/ipfs/bafkreigfcs6wmilv5moo3j77lc2osq2crjdmlvsjjwox5bzjfg5tv6y3qy\",\n  \"https://ipfs.near.social/ipfs/bafkreigr5566l2iznytoick7zvjkablvapgsturpjukffqrhgezbdy7anu\",\n  \"https://ipfs.near.social/ipfs/bafkreidgb7drovahl4jakunbkhzjj2m4wjd2scin6q6i2ke2cyy3wuhzgy\",\n  \"https://ipfs.near.social/ipfs/bafkreibbtbjceuz3timus4m3p26fus2cwr7oisaxmuhai4rtldstqqhytu\",\n  \"https://ipfs.near.social/ipfs/bafkreia442yukgvfkeleq2k7dqw66no2itn6lbfzl65xelksvfvmsnz2w4\",\n  \"https://ipfs.near.social/ipfs/bafkreifsu3yiyuvunybj4ay3yngg4dx7jb6cgrhlq75oq76fm6kqhwumwi\",\n  \"https://ipfs.near.social/ipfs/bafkreia442yukgvfkeleq2k7dqw66no2itn6lbfzl65xelksvfvmsnz2w4\",\n  \"https://ipfs.near.social/ipfs/bafkreibbtbjceuz3timus4m3p26fus2cwr7oisaxmuhai4rtldstqqhytu\",\n  \"https://ipfs.near.social/ipfs/bafkreidgb7drovahl4jakunbkhzjj2m4wjd2scin6q6i2ke2cyy3wuhzgy\",\n  \"https://ipfs.near.social/ipfs/bafkreigr5566l2iznytoick7zvjkablvapgsturpjukffqrhgezbdy7anu\",\n  \"https://ipfs.near.social/ipfs/bafkreigfcs6wmilv5moo3j77lc2osq2crjdmlvsjjwox5bzjfg5tv6y3qy\",\n  \"https://ipfs.near.social/ipfs/bafkreiej6x4cpwwfzgwo52xz64z57nhaa6g2g7gdmfvlu4njtg5coxyqde\",\n  \"https://ipfs.near.social/ipfs/bafkreicg5nhez4l6kpbfbbyfxzcq2amt7wvyl75hxg7lweedhjwyfvslli\",\n  \"https://ipfs.near.social/ipfs/bafkreibonmxktirqm6ryjitinq6iex55xlyigzim65qc6ed2rdxkb64xfa\",\n  \"https://ipfs.near.social/ipfs/bafkreibp4ye7hpnpmrdowjnnoifehl4eis72grgtrfso2r4dj56cb4wioq\",\n  \"https://ipfs.near.social/ipfs/bafkreiaw7hltj3pxaotgb62zofoe2gte6etreho3t5vnvn5i52eeczyzwy\",\n];\n\nfunction nextImage() {\n  const index =\n    state.currentImageIndex < images.length - 1\n      ? state.currentImageIndex + 1\n      : 0;\n  State.update({ currentImageIndex: index });\n}\n\nfunction previousImage() {\n  const index =\n    state.currentImageIndex === 0\n      ? images.length - 1\n      : state.currentImageIndex - 1;\n  State.update({ currentImageIndex: index });\n}\n\nfunction onPointerDown(e) {\n  State.update({ pointerIsDown: true, pointerStartPositionX: e.clientX });\n}\n\nfunction onPointerUp() {\n  State.update({ pointerIsDown: false });\n}\n\nfunction onPointerMove(e) {\n  if (state.pointerIsDown) {\n    const diff = state.pointerStartPositionX - e.clientX;\n\n    if (Math.abs(diff) > pointerMoveThreshold) {\n      State.update({ pointerStartPositionX: e.clientX });\n      if (diff < 0) {\n        nextImage();\n      } else {\n        previousImage();\n      }\n    }\n  }\n}\n\nconst Wrapper = styled.div`\n    width: 100%;\n    max-width: 600px;\n    position: relative;\n    background: #000;\n`;\n\nconst Images = styled.div`\n    position: absolute;\n    inset: 1rem;\n\n    img {\n        display: block;\n        width: 100%;\n        opacity: 0;\n        transition: opacity 300ms;\n        position: absolute;\n        top: 0;\n        left: 0;\n    }\n\n    .currentImage {\n        opacity: 1;\n    }\n`;\n\nconst DefaultImage = styled.img`\n    display: block;\n    width: 100%;\n    opacity: 0;\n`;\n\nconst Icon360 = styled.img`\n    z-index: 10;\n    position: absolute;\n    top: 0.5rem;\n    right: 1rem;\n    width: 60px;\n`;\n\nreturn (\n  <Wrapper\n    onPointerDown={onPointerDown}\n    onPointerUp={onPointerUp}\n    onPointerLeave={onPointerUp}\n    onPointerMove={onPointerMove}\n  >\n    <Icon360\n      src=\"https://ipfs.near.social/ipfs/bafkreidnqbpcuc5ufvvnq7kgde5fyefbctpxfrf56s2s4jydghovjpxy2q\"\n      alt=\"360 Image View\"\n    />\n\n    <DefaultImage src={images[0]} alt={description} />\n\n    <Images>\n      {images.map((image, i) => {\n        return (\n          <img\n            src={image}\n            alt={description}\n            key={image}\n            className={i === state.currentImageIndex ? \"currentImage\" : \"\"}\n          />\n        );\n      })}\n    </Images>\n  </Wrapper>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/calebjacob.near/widget/ImageViewer360", "fact_widget_deployments_id": "d59bc341d2e30f7b7423184fbdbadf98", "inserted_timestamp": "2000-01-01T00:00:00.000Z", "modified_timestamp": "2000-01-01T00:00:00.000Z", "__row_index": 6}