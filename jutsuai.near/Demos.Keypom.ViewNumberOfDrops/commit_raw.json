{"tx_hash": "8qZv9dpoRUKEsw63nKzzLR8UhU4dtYtoUBSCWKdK8Trg", "action_id_social": "AyzgmsKBy4a2NqG6bUkuWsxiuPtsmjFFJeC3bknz4LCc-0-widget", "block_id": 110930751, "block_timestamp": "2024-01-21T04:18:19.164Z", "signer_id": "jutsuai.near", "widget_name": "Demos.Keypom.ViewNumberOfDrops", "source_code": "const keypom_contract = \"v2.keypom.near\";\n\nconst [numDrops, setNumDrops] = useState(0);\nconst [user, setUser] = useState(null);\n\n// Do not update state.num_drops until BtnClick\nconst onInputChange = ({ target }) => {\n  setUser(target.value);\n  setNumDrops(0);\n};\n\nconst Mark = styled.span`\n\tbackground-color: yellow;\n`;\nconst onBtnClick = () => {\n  const userNum = Near.view(keypom_contract, \"get_drop_supply_for_owner\", {\n    account_id: user,\n  });\n  setUser(user);\n  setNumDrops(userNum);\n};\n\nconst get_user_form = (\n  <>\n    <div class=\"border border-black p-3\">\n      <label>User Account ID</label>\n      <input placeholder=\"user.near\" onChange={onInputChange} />\n      <button class=\"btn btn-primary mt-2\" onClick={onBtnClick}>\n        Update\n      </button>\n    </div>\n  </>\n);\n\n// Render\nreturn (\n  <>\n    <div class=\"container border border-info p-3\">\n      <>\n        {user && (\n          <h3 class=\"text-center\">\n            The number of drops by <Mark>{user}</Mark>:\n            <span class=\"text-decoration-underline\"> {numDrops} </span>\n          </h3>\n        )}\n\n        {get_user_form}\n      </>\n    </div>\n  </>\n);\n", "metadata": {"platform": "jutsu.ai"}, "branch": {"draft": null}, "widget_modules_used": null, "widget_url": "https://near.social/#/jutsuai.near/widget/Demos.Keypom.ViewNumberOfDrops", "fact_widget_deployments_id": "a87e2315dd17a8637a2057995490c1f1", "inserted_timestamp": "2024-03-07T05:24:05.087Z", "modified_timestamp": "2024-03-07T05:24:05.087Z", "__row_index": 0}