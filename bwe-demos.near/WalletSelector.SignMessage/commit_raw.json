{"tx_hash": "5iWQXNi4zRgVpELdYSx974CfkyHofEYeGqMbVDM7JcFj", "action_id_social": "FyxbHPWqYLyQ6u9JQLbPsQ8eYiB3bVpcDjK19mpVxgU-0-widget", "block_id": 113388523, "block_timestamp": "2024-02-23T01:13:08.424Z", "signer_id": "bwe-demos.near", "widget_name": "WalletSelector.SignMessage", "source_code": "import { signMessage } from '@bos-web-engine/wallet-selector-plugin';\nimport { Buffer } from 'buffer';\nimport { useState } from 'react';\n\nconst generateNonce = () => {\n  let nonceArray: Uint8Array = new Uint8Array(32);\n  nonceArray = crypto.getRandomValues(nonceArray);\n  return Buffer.from(nonceArray);\n};\n\nexport default function () {\n  const [message, setMessage] = useState('');\n  const [recipient, setRecipient] = useState('');\n  const [signature, setSignature] = useState('');\n\n  const sign = async () => {\n    const { signature: signedMessage } = await signMessage({\n      message,\n      recipient,\n      nonce: generateNonce(),\n    });\n    setSignature(signedMessage);\n  };\n\n  return (\n    <div>\n      <div>\n        <span>Message to sign</span>\n        <input type=\"text\" onChange={(e) => setMessage(e.target.value)} />\n      </div>\n      <div>\n        <span>Recipient</span>\n        <input type=\"text\" onChange={(e) => setRecipient(e.target.value)} />\n      </div>\n      <div>{signature || 'No message signed'}</div>\n      <div>\n        <button onClick={sign}>Sign Message</button>\n      </div>\n    </div>\n  );\n}\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/bwe-demos.near/widget/WalletSelector.SignMessage", "fact_widget_deployments_id": "84aca2bb8c356836f71308856e880ee7", "inserted_timestamp": "2024-03-07T05:24:05.087Z", "modified_timestamp": "2024-03-07T05:24:05.087Z", "__row_index": 0}