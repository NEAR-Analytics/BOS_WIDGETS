{"tx_hash": "7AfbJvX4RoF15hdi3DmWL6KtTr7ofyTSWDzuyiiEZJUc", "action_id_social": "CGYB2M2gHgfRQkV6qTvgmG7SADgciueotbi9mioq1tmS-0-widget", "block_id": 107222840, "block_timestamp": "2023-12-05T18:06:35.852Z", "signer_id": "bos.proofofvibes.near", "widget_name": "PostFeed", "source_code": "const GRAPHQL_ENDPOINT =\n  props.GRAPHQL_ENDPOINT || \"https://near-queryapi.api.pagoda.co\";\nconst loadMorePosts = props.loadMorePosts;\nconst hasMore = props.hasMore || false;\nconst posts = props.posts || [];\n\nconst Post = styled.div`\n  border-bottom: 1px solid #eceef0;\n  padding: 24px 0 12px;\n  @media (max-width: 1024px) {\n    padding: 12px 0 0;\n  }\n`;\n\nconst TextLink = styled(\"Link\")`\n  font-weight: 600;\n`;\n\nfunction returnProfileForUser(post) {\n  const image =\n    post.profile_image && post.profile_image.indexOf(\"http\") === 0\n      ? { url: rawImage }\n      : { ipfs_cid: rawImage };\n  const name = post.profile_name ?? \"\";\n  let tags = null;\n\n  if (post.profile_tags) {\n    tags = {};\n    post.profile_tags.forEach((tag) => (tags[tag] = \"\"));\n  }\n\n  if (image && tags) {\n    return {\n      image,\n      name,\n      tags,\n    };\n  }\n\n  return null;\n}\n\nconst renderItem = (item) => {\n  if (item.accounts_liked.length !== 0) {\n    item.accounts_liked = JSON.parse(item.accounts_liked);\n  }\n  return (\n    <Post className=\"post\" key={item.block_height + \"_\" + item.account_id}>\n      <Widget\n        src=\"near/widget/Posts.Post\"\n        props={{\n          accountId: item.account_id,\n          blockHeight: item.block_height,\n          blockTimestamp: item.block_timestamp,\n          content: item.content,\n          comments: item.comments,\n          likes: item.accounts_liked,\n          GRAPHQL_ENDPOINT,\n          verifications: item.verifications,\n          showFlagAccountFeature: props.showFlagAccountFeature ?? false,\n          profile: returnProfileForUser(item),\n        }}\n      />\n    </Post>\n  );\n};\n\nif (posts.length === 0 && !props.isLoading) {\n  return (\n    <div className=\"alert alert-info mx-3\" role=\"alert\">\n      Build your feed by finding\n      <TextLink className=\"alert-link\" href=\"near/widget/PeoplePage\">\n        people to follow\n      </TextLink>\n    </div>\n  );\n}\n\nconst renderedItems = posts.map(renderItem);\n\nreturn (\n  <InfiniteScroll\n    pageStart={0}\n    loadMore={loadMorePosts}\n    hasMore={hasMore}\n    initialLoad={false}\n    loader={\n      <div className=\"loader\">\n        <span\n          className=\"spinner-grow spinner-grow-sm me-1\"\n          role=\"status\"\n          aria-hidden=\"true\"\n        />\n        Loading ...\n      </div>\n    }\n  >\n    {renderedItems}\n  </InfiniteScroll>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/bos.proofofvibes.near/widget/PostFeed", "fact_widget_deployments_id": "292917452d394e947b2e0e512e0ab529", "inserted_timestamp": "2024-03-07T05:24:05.087Z", "modified_timestamp": "2024-03-07T05:24:05.087Z", "__row_index": 0}