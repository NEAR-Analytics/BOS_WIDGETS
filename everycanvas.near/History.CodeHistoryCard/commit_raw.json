{"tx_hash": "F98Cbq7WBXQHSNAAh272C5GjRbHyJ8ucJJ7gCYMRpkyd", "action_id_social": "71Mk8HzvZxsNJdFkLQu58QDm3hngtACSL1SBL2hF7uLm-0-widget", "block_id": 119359673, "block_timestamp": "2024-05-20T17:41:53.121Z", "signer_id": "everycanvas.near", "widget_name": "History.CodeHistoryCard", "source_code": "State.init({});\n\nfunction getDatastringFromBlockHeight(blockHeight) {\n  const block = Near.block(blockHeight);\n  const date = new Date(block.header.timestamp_nanosec / 1e6);\n  return date.toDateString() + \" \" + date.toLocaleTimeString();\n}\n\nlet CodeWrapper = styled.div`\n  & > pre > div {\n    margin: 0px !important;\n  }\n\n  & > pre {\n    margin: 0px !important;\n    border-radius: 0px 0px 5px 5px;\n  }\n`;\n\nreturn (\n  <div className=\"card border-primary\">\n    <div className=\"card-header\">\n      <small className=\"text-muted\">\n        <div className=\"row justify-content-between\">\n          <div className=\"col-4 d-flex frex-row justify-content-start align-items-center\">\n            <div className=\"p-2\">changes in block #{props.currentBlockHeight}</div>\n\n            <OverlayTrigger placement=\"auto\" overlay={<Tooltip>count inserted lines</Tooltip>}>\n              <span className=\"badge text-bg-success p-2 me-1 align-self-center\">\n                {state.lineCountInserted}\n              </span>\n            </OverlayTrigger>\n\n            <OverlayTrigger placement=\"auto\" overlay={<Tooltip>count deleted lines</Tooltip>}>\n              <span className=\"badge text-bg-danger p-2 me-1 align-self-center\">\n                {state.lineCountDeleted}\n              </span>\n            </OverlayTrigger>\n          </div>\n\n          <div className=\"col-7 d-flex justify-content-end align-items-center\">\n            {getDatastringFromBlockHeight(props.currentBlockHeight)}\n          </div>\n        </div>\n      </small>\n    </div>\n\n    <CodeWrapper>\n      <Widget\n        src={`bozon.near/widget/WidgetHistory.CodeHistory`}\n        props={{\n          pathToWidget: props.pathToWidget,\n          currentBlockHeight: props.currentBlockHeight,\n          prevBlockHeight: props.prevBlockHeight,\n          findUniqueResult: (\n            lineCountDeleted,\n            lineCountInserted,\n            lineCountCurrentCode,\n            lineCountPrevCode,\n            allLineCount\n          ) => {\n            if (state.lineCountDeleted === undefined || state.lineCountInserted === undefined)\n              State.update({ lineCountDeleted, lineCountInserted });\n          },\n        }}\n      />\n    </CodeWrapper>\n  </div>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/everycanvas.near/widget/History.CodeHistoryCard", "fact_widget_deployments_id": "98d765c544c0d3f65ddb5cde1719151b", "inserted_timestamp": "2024-05-20T19:51:25.009Z", "modified_timestamp": "2024-05-20T19:51:25.009Z", "__row_index": 0}