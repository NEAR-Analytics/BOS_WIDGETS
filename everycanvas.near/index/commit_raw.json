{"tx_hash": "9LmHJj3vchF8mdyNJipVJkn6yDoxgumqfQb8Aiuvs7rK", "action_id_social": "F4mQ2GfMcZbhi1cCHdgADbDDonS8NdnxEb3Df8buZWsL-0-widget", "block_id": 117958392, "block_timestamp": "2024-04-30T15:24:58.260Z", "signer_id": "everycanvas.near", "widget_name": "index", "source_code": "/**\n * This should be primary view\n */\nconst path = props.path || context.accountId || \"every.near\";\n\nconst parts = path.split(\"/\");\nif (parts.length === 1) {\n  path = `${path}/canvas/main`;\n}\n\nconst creatorId = parts[0];\n\nconst Container = styled.div`\n  height: 100vh;\n  width: 100%;\n`;\n\nconst hyperfile = JSON.parse(Social.get(path, \"final\") || \"null\");\nlet data;\n\nif (hyperfile.adapter) {\n  const { get } = VM.require(hyperfile.adapter) || (() => {});\n  if (get) {\n    data = get(hyperfile.reference) || null;\n  } else {\n    return (\n      <p>{`Data not found from reference: ${hyperfile.reference} and adapter: ${hyperfile.adapter}`}</p>\n    );\n  }\n} else {\n  console.log(`Invalid data: ${hyperfile}`);\n  return (\n    <Container key={path}>\n      <Canvas persistance={path} autoFocus={true} isReadOnly={!(creatorId === context.accountId)} />\n    </Container>\n  );\n}\n\nif (creatorId === context.accountId) {\n  // use local persistance\n  return (\n    <Container key={path}>\n      <Canvas persistance={path} autoFocus={true} isReadOnly={false} />\n    </Container>\n  );\n}\n\nif (!data) {\n  return <p>{`Loading or canvas not found : ${hyperfile.adapter}`}</p>;\n}\n\nreturn (\n  <Container key={path}>\n    <Canvas\n      initialSnapshot={data}\n      persistance={path}\n      autoFocus={true}\n      isReadOnly={true} // read only\n    />\n  </Container>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/everycanvas.near/widget/index", "fact_widget_deployments_id": "2da5a365c80ab1fe21ec2ebbe06916a4", "inserted_timestamp": "2024-04-30T16:43:13.606Z", "modified_timestamp": "2024-04-30T17:40:52.856Z", "__row_index": 69}