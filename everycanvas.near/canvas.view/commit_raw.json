{"tx_hash": "GtWDyytLh8XzimdkVycdKkDi3VLUd6CmvVWpihFMT3PW", "action_id_social": "CExM6KiUGHRgSi99k5AV3ntHRsQbSh8ogFoFJt2ffR2t-0-widget", "block_id": 105263792, "block_timestamp": "2023-11-09T02:09:12.544Z", "signer_id": "everycanvas.near", "widget_name": "canvas.view", "source_code": "const { value } = props;\n\nconst indices = Social.index(\n  \"post\",\n  {\n    // thing\n    type: \"thing\",\n    path: \"efiz.near/thing/draw\", // this is the page??\n  },\n  {\n    order: \"desc\",\n    limit: 100, // this needs to adjust based on slider\n    // accountId: props.accounts, // undefined\n  }\n);\n\nif (!indices) {\n  return <p>Loading...</p>;\n}\n\nconst drawings = indices\n  .map((it) => {\n    const path = `${it.accountId}/post/main`;\n    const blockHeight = it.blockHeight;\n\n    const val = JSON.parse(Social.get(path, blockHeight) || \"null\");\n    return val.content.shapes ? val.content.shapes : [];\n  })\n  .flat();\n\nif (drawings.length === 0) {\n  return <p>No drawings yet!</p>;\n}\n\nreturn (\n  <div style={{ width: \"100%\", height: \"100%\" }}>\n    <Widget\n      src=\"everycanvas.near/widget/canvas.core\"\n      props={{ initialShapes: drawings }}\n    />\n  </div>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/everycanvas.near/widget/canvas.view", "fact_widget_deployments_id": "c2f51d8cd8c25e8b8efadc1d82d0c81b", "inserted_timestamp": "2024-03-07T05:24:05.087Z", "modified_timestamp": "2024-03-07T05:24:05.087Z", "__row_index": 1}