{"tx_hash": "FmXfZD9oWnTzq9CVce2sVSzGSgyV1jVZQxjhVRDJBf9W", "action_id_social": "4d1WCGx9QFVNSm7o1gXW9ZJVRSrTMHmzPzHVhMNEPBLE-0-widget", "block_id": 106178979, "block_timestamp": "2023-11-21T04:28:08.817Z", "signer_id": "everycanvas.near", "widget_name": "adapter.ipfs", "source_code": "const ipfsUrl = (cid) => `https://ipfs.near.social/ipfs/${cid}`;\n\nfunction get(ref) {\n  const data = fetch(`https://ipfs.near.social/ipfs/${ref.cid}`);\n  return data.body;\n}\n\nfunction create(data) {\n  return new Promise((resolve, reject) => {\n    if (data.length) {\n      const body = new Blob([data], { type: \"application/json\" });\n      console.log(body);\n\n      asyncFetch(\"https://ipfs.near.social/add\", {\n        method: \"POST\",\n        headers: {\n          Accept: \"application/json\",\n        },\n        body,\n      })\n      .then(res => {\n        resolve({ cid: res.body.cid }); // Resolve the promise with the necessary data\n      })\n      .catch(error => {\n        console.error(\"Error in create function:\", error);\n        reject(error); // Reject the promise in case of an error\n      });\n    } else {\n      reject(\"No data provided\"); // Reject the promise if no data is provided\n    }\n  });\n}\n\nreturn { get, create };\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/everycanvas.near/widget/adapter.ipfs", "fact_widget_deployments_id": "8bd6a3e9e2514cc4f85d2d0bf6eecf36", "inserted_timestamp": "2024-03-07T05:24:05.087Z", "modified_timestamp": "2024-03-07T05:24:05.087Z", "__row_index": 2}