{"tx_hash": "DKbSdWfJZXViJpb6RDLdEqJxnRBY3954FFDawzHPJCNE", "action_id_social": "7EpyhFWzJuVmZFDAUEJH7u1EvYoZhFyaQuebHnbMmLxB-0-widget", "block_id": 97116609, "block_timestamp": "2023-07-23T03:41:13.110Z", "signer_id": "mattb.near", "widget_name": "Geoquete.Components.CreateQuest", "source_code": "const CreateQuest = styled.div`\n        margin:auto;\n        width:100%;\n        max-width: 400px;\n        border: 1px solid rgba(0,0,0, .15);\n        padding: 1.5rem;\n        border-radius: .7rem;\n        box-shadow: .3rem .3rem 1rem rgba(0,0,0, .1);\n        h1 {\n            font-size: 1.5rem;\n            font-weight: 600;\n            margin-bottom: 2rem;\n        }\n        input, textarea {\n            resize: none;\n            &::placeholder {\n                font-size: .8rem;\n            }\n            &::-webkit-inner-spin-button {\n                -webkit-appearance: none;\n            }\n\n            &:placeholder-shown {\n                & + label {\n                    opacity: 0;\n                    visibility: hidden;\n                    transform: translateY(-1rem);\n                }\n                & + .eth-label {\n                    opacity: 0;\n                    visibility: hidden;\n                    transform: translateX(-18rem);\n                }\n            }\n        }\n\n        label {\n            font-size: .8rem;\n            color: rgba(0,0,0,.4);\n            margin-left: .8rem;\n            margin-top: .2rem;\n            display: block;\n            transition: all .3s;\n        }\n\n        ul { \n          list-style-type: none;\n          position: relative;\n        }\n\n        li {\n          width: 100%;\n          position: absolute;\n          border: 1px solid rgba(0,0,0, .1);\n          top: 2px;\n          left: 0;\n          padding: 8px;\n          border-radius: 5px; \n          background-color: white;\n          box-shadow: 1px 4px 8px rgba(0,0,0,.2);\n          font-size: .8rem;\n\n          &:hover {\n            cursor: pointer;\n            background-color: #f0eded;\n          }\n        }\n\n        .eth-label {\n            margin-top: -1.7rem;\n            margin-left: 19rem;\n            margin-bottom: 2.6rem;\n        }\n        .form-group {\n            margin-bottom: .5rem;\n        }\n        .selected {\n          display: none;\n        }\n`;\n\nconst LocationList = styled.div`\n    .location-wrapper {\n        position:relative;\n\n        &:not(:last-of-type) {\n            margin-bottom:1rem;\n        }\n\n        &::before {\n            content:'';\n            width:5px;\n            height:5px;\n            background-color:rgb(73, 159, 245);\n            border-radius:100%;\n            position:absolute;\n            top:0;\n            bottom:0;\n            margin: auto;\n        }\n\n        &::after {\n            content:'';\n            width:2px;\n            height:100%;\n            background-color:rgba(0,0,0,.2);\n            border-radius:100%;\n            position:absolute;\n            bottom:90%;\n            left:1.5px;\n            border-radius:0;\n        }\n\n        input {\n            width:calc(100% - 15px);\n            border:0;\n            padding:0;\n            margin-left:15px;\n            font-size:.8rem;\n            border-bottom: 1px solid rgba(0,0,0,.1);\n            padding-bottom:5px;\n\n            &:focus {\n                outline-style:none;\n            }\n        }\n    }\n`;\n\nconst Button = styled.div`\n    display:flex;\n    align-items:center;\n    justify-content:center;\n    font-weight:bold;\n    color:#fff;\n    width:100%;\n    height:50px;\n    border-radius:10px;\n    background-color:#2fbc2f;\n    text-align:center;\n    cursor: pointer;\n    user-select: none;\n    box-shadow: 0 3px 3px rgba(0,0,0,.3);\n\n    &:active {\n      box-shadow: 0 0 0 rgba(0,0,0,0);\n      transform: translateY(2px);\n    }\n`;\n\nState.init({\n  sdk: null,\n  questName: \"\",\n  questPrize: null,\n  numberOfPlayers: \"\",\n  description: \"\",\n  location: \"\",\n  city: \"\",\n});\n\nconst cities = [\"Paris\"];\n\nconst match = () => {\n  const inputText = state.city.toLowerCase();\n\n  return inputText\n    ? cities.filter((city) => city.toLowerCase().includes(inputText))\n    : [];\n};\n\nconst handleCityClick = (city) => {\n  State.update({ location: \"Eiffel Tower, Paris France\" });\n  State.update({ city });\n};\n\nconst createQuest = () => {\n  state.sdk\n    .createQuest({\n      questName: state.questName,\n      questPrize: state.questPrize,\n      numberOfPlayers: state.numberOfPlayers,\n      location: state.city,\n      description: state.description,\n      coordinates: [],\n    })\n    .then((rawResponse) => {\n      const response = state.sdk.decode(\"createQuest\", rawResponse);\n      console.log(response);\n    });\n};\n\nreturn (\n  <CreateQuest>\n    <div\n      style={{\n        display: \"none\",\n      }}\n    >\n      <Widget\n        src=\"mattb.near/widget/Geoquete.Libs.GeoqueteSDK\"\n        props={{\n          onLoad: (sdk) => State.update({ sdk: sdk }),\n          loaded: !!state.sdk,\n        }}\n      />\n    </div>\n\n    <h1>Create a Qu\u00eate:</h1>\n\n    <div className=\"form-group\">\n      <input\n        id=\"name\"\n        type=\"text\"\n        placeholder=\"Qu\u00eate name\"\n        value={state.questName}\n        onChange={(event) => State.update({ questName: event.target.value })}\n        required\n      />\n      <label for=\"name\">Qu\u00eate name</label>\n    </div>\n\n    <div className=\"form-group\">\n      <textarea\n        id=\"description\"\n        type=\"text\"\n        placeholder=\"Description\"\n        rows=\"6\"\n        required\n        className=\"description form-control\"\n        value={state.description}\n        onChange={(event) => State.update({ description: event.target.value })}\n      />\n      <label for=\"description\">Description</label>\n    </div>\n\n    <div className=\"form-group\">\n      <input\n        id=\"eth\"\n        type=\"number\"\n        placeholder=\"APE\"\n        value={state.questPrize}\n        onChange={(event) => State.update({ questPrize: event.target.value })}\n      />\n      <label className=\"eth-label\" for=\"eth\">\n        APE\n      </label>\n    </div>\n\n    <div className=\"form-group\">\n      <input\n        id=\"people\"\n        type=\"number\"\n        value={state.numberOfPlayers}\n        onChange={(event) =>\n          State.update({ numberOfPlayers: event.target.value })\n        }\n        placeholder=\"Max. amount of Explorers\"\n      />\n      <label for=\"people\">Max. amount of Explorers</label>\n    </div>\n\n    <div className=\"form-group\">\n      <input\n        id=\"city\"\n        type=\"text\"\n        placeholder=\"City\"\n        onChange={(event) => {\n          State.update({ city: event.target.value });\n        }}\n        value={state.city}\n      />\n      <ul>\n        {match().map((city, id) => {\n          return (\n            <li\n              key={id}\n              onClick={() => handleCityClick(city)}\n              className={state.city === city ? \"selected\" : \"\"}\n            >\n              {city}\n            </li>\n          );\n        })}\n      </ul>\n    </div>\n\n    <div className=\"form-group\">\n      <input\n        id=\"location\"\n        type=\"text\"\n        value={state.location}\n        placeholder=\"Location\"\n      />\n      <label for=\"location\">Location</label>\n    </div>\n\n    <Button onClick={() => createQuest()}>Create Quest</Button>\n  </CreateQuest>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/mattb.near/widget/Geoquete.Components.CreateQuest", "fact_widget_deployments_id": "009ee6155ad201e7427efdc7f5496234", "inserted_timestamp": "2024-03-07T05:24:05.087Z", "modified_timestamp": "2024-03-07T05:24:05.087Z", "__row_index": 0}