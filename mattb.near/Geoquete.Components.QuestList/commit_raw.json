{"tx_hash": "D5K61vxKrghFnHdUh6qaXPZVk17R3StoosQ3Lfdbyq9P", "action_id_social": "ByeCZ1r4frH7dsrTYkevaPQfw7BfEFGiRReGWCWJWPiL-0-widget", "block_id": 97107098, "block_timestamp": "2023-07-23T00:43:59.873Z", "signer_id": "mattb.near", "widget_name": "Geoquete.Components.QuestList", "source_code": "State.init({\n  sdk: null,\n  quests: [],\n});\n\nconst Main = styled.div`\n    width:100%;\n    height:100vh;\n    display:flex;\n    align-items:flex-start;\n    justify-content:space-evenly;\n    flex-wrap:wrap;\n\n    & > div {\n        margin-top:15px;\n        \n        &:not(:last-of-type) {\n            margin-right:15px;\n        }\n    }\n\n`;\n\nconst loadQuests = () => {\n  for (let i = 0; i < 5; i++) {\n    state.sdk.getQuest(i).then((rawResponse) => {\n      const response = state.sdk.decode(\"viewQuest\", rawResponse);\n\n      if (\n        response[\"creator\"] === \"0x0000000000000000000000000000000000000000\"\n      ) {\n        return;\n      }\n\n      const quest = {\n        creator: response[\"creator\"],\n        creatorFee: state.sdk.hexToInteger(response[\"creatorFee\"][\"_hex\"]),\n        location: response[\"location\"],\n        numberOfPlayers: state.sdk.hexToInteger(\n          response[\"numberOfPlayers\"][\"_hex\"]\n        ),\n        payoutCompleted: response[\"payoutCompleted\"],\n        players: response[\"players\"],\n        questName: response[\"questName\"],\n        questPrize: state.sdk.hexToInteger(response[\"questPrize\"][\"_hex\"]),\n        questStatus: response[\"questStatus\"],\n        winner: response[\"winner\"],\n      };\n      console.log(quest);\n      State.update({ quests: [...state.quests, quest] });\n    });\n  }\n};\n\nif (state.sdk && state.quests.length == 0) {\n  loadQuests();\n}\n\nreturn (\n  <Main>\n    <div\n      style={{\n        display: \"none\",\n      }}\n    >\n      <Widget\n        src=\"mattb.near/widget/Geoquete.Libs.GeoqueteSDK\"\n        props={{\n          onLoad: (sdk) => State.update({ sdk: sdk }),\n          loaded: !!state.sdk,\n        }}\n      />\n    </div>\n\n    {state.quests.map((quest) => (\n      <Widget\n        src=\"mattb.near/widget/Geoquete.Components.Quest\"\n        props={{\n          quest,\n        }}\n      />\n    ))}\n  </Main>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/mattb.near/widget/Geoquete.Components.QuestList", "fact_widget_deployments_id": "b67b860ee8d08c9c1f82cc3df867d42f", "inserted_timestamp": "2000-01-01T00:00:00.000Z", "modified_timestamp": "2000-01-01T00:00:00.000Z", "__row_index": 5}