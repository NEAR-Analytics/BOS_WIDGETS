{"tx_hash": "6BfCMDgxKhRMYPuw4cgEXds36NnF23BXLBQizhDniU4j", "action_id_social": "2kwVeUNo1pqoQB5FC8jVVU5ZATY2Bt1bbM8hJyygAfdL-0-widget", "block_id": 97102317, "block_timestamp": "2023-07-22T23:14:36.150Z", "signer_id": "mattb.near", "widget_name": "Geoquete.Components.QuestList", "source_code": "State.init({\n  sdk: null,\n  quests: [],\n});\n\nconst Main = styled.div`\n    width:100%;\n    height:100vh;\n    display:flex;\n    align-items:flex-start;\n    justify-content:space-evenly;\n    flex-wrap:wrap;\n\n    & > div {\n        margin-top:15px;\n        \n        &:not(:last-of-type) {\n            margin-right:15px;\n        }\n    }\n\n`;\n\nconst loadQuests = () => {\n  for (let i = 0; i < 5; i++) {\n    state.sdk.getQuest(i).then((rawResponse) => {\n      const response = state.sdk.decode(\"viewQuest\", rawResponse);\n\n      if (\n        response[\"creator\"] === \"0x0000000000000000000000000000000000000000\"\n      ) {\n        return;\n      }\n\n      const quest = {\n        creator: response[\"creator\"],\n        creatorFee: response[\"creatorFee\"][\"_hex\"],\n        location: response[\"location\"],\n        numberOfPlayers: response[\"numberOfPlayers\"][\"_hex\"],\n        payoutCompleted: response[\"payoutCompleted\"],\n        players: response[\"players\"],\n        questName: response[\"questName\"],\n        questPrize: response[\"questPrize\"][\"_hex\"],\n        questStatus: response[\"questStatus\"],\n        winner: response[\"winner\"],\n      };\n\n      State.update({ quests: [...state.quests, quest] });\n    });\n  }\n};\n\nif (state.sdk && state.quests.length == 0) {\n  loadQuests();\n}\n\nreturn (\n  <Main>\n    <div\n      style={{\n        display: \"none\",\n      }}\n    >\n      <Widget\n        src=\"mattb.near/widget/Geoquete.Libs.GeoqueteSDK\"\n        props={{\n          onLoad: (sdk) => State.update({ sdk: sdk }),\n          loaded: !!state.sdk,\n        }}\n      />\n    </div>\n\n    {state.quests.map((quest) => (\n      <Widget\n        src=\"mattb.near/widget/Geoquete.Components.Quest\"\n        props={{\n          quest,\n        }}\n      />\n    ))}\n  </Main>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/mattb.near/widget/Geoquete.Components.QuestList", "fact_widget_deployments_id": "497a44396b9b8fc971143e9e81f4c6b7", "inserted_timestamp": "2000-01-01T00:00:00.000Z", "modified_timestamp": "2000-01-01T00:00:00.000Z", "__row_index": 3}