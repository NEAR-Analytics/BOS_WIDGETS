{"tx_hash": "FoVqgWbEFsTGQWvXxBKm4e9QTUk1D7siTNCef5M5Hfmh", "action_id_social": "YSZXHcjdeKCf7r6uqQr2KE8bsFRWijCJxe2TWhqdTp7-0-widget", "block_id": 97491228, "block_timestamp": "2023-07-28T00:27:48.219Z", "signer_id": "mattb.near", "widget_name": "NDCDocs.Components.ArticleContent", "source_code": "const { article, index, coverImage } = props;\n\nfunction getProfileImage(accountId) {\n  let image = Social.getr(`${accountId}/profile`).image || {\n    ipfs_cid: \"\",\n  };\n\n  return `https://ipfs.near.social/ipfs/${image.ipfs_cid}`;\n}\n\nconst getDate = (timestamp) => {\n  const date = new Date(Number(timestamp));\n  return date.toDateString();\n};\n\nfunction getName(accountId) {\n  return Social.getr(`${accountId}/profile`).name || \"-\";\n}\n\nconst ArticleDetails = styled.div`\n    display:flex;\n    margin:auto;\n    width:100%;\n    box-sizing:border-box;\n    padding: .5rem 0;\n    margin:0 auto 1rem;\n\n    div:first-of-type {\n      display:flex;\n      align-items:center;\n    }\n\n    div + div {\n      padding-left:10px;\n\n      .name {\n        font-weight:bold;\n        margin:0;\n      }\n\n      .handle, .last-modification {\n        font-size:.7rem;\n        margin:0;\n        opacity:.5;\n      }\n\n      .last-modification {\n        opacity:.5;\n      }\n\n    }\n`;\n\nconst Avatar = styled.div`\n    border-radius:100%;\n    width:40px;\n    height:40px;\n    background-color:rgba(0,0,0,.05);\n    background-position:center;\n    background-size:cover;\n    background-repeat:no-repeat;\n`;\n\nconst Cover = styled.div`\n  width:100%;\n  img {\n    width:100%;\n    height:unset;\n    border-radius:20px;\n  }\n`;\n\nreturn (\n  <>\n    {coverImage && (\n      <Cover>\n        <Markdown text={coverImage} />\n      </Cover>\n    )}\n    <ArticleDetails>\n      <div>\n        <Avatar\n          style={{\n            \"background-image\": `url(\"${getProfileImage(article.author)}\")`,\n          }}\n        ></Avatar>\n      </div>\n      <div>\n        <p className=\"name\">{getName(article.author)}</p>\n        <p className=\"handle\">\n          @{article.author} \u00b7 <strong>{getDate(article.timeCreate)}</strong>\n        </p>\n        <p className=\"last-modification\">\n          Last edit by <strong>@{article.lastEditor}</strong> on{\" \"}\n          <strong>{getDate(article.timeLastEdit)}</strong>\n        </p>\n      </div>\n    </ArticleDetails>\n    {index.map((content) => (\n      <div id={content.contentStart} className=\"markdown\">\n        <OverlayTrigger\n          key={content.contentStart}\n          placement=\"left\"\n          overlay={<Tooltip id={`tooltip-left`}>Copy link</Tooltip>}\n        >\n          <div\n            className=\"link\"\n            onClick={() =>\n              clipboard.writeText(`${path}#${content.contentStart}`)\n            }\n          >\n            \ud83d\udd17\n          </div>\n        </OverlayTrigger>\n        <Markdown\n          text={article.body\n            .split(\"\\n\")\n            .slice(\n              content.contentStart,\n              content.contentEnd || article.body.split(\"\\n\").length\n            )\n            .join(\"\\n\")}\n        />\n      </div>\n    ))}\n  </>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/mattb.near/widget/NDCDocs.Components.ArticleContent", "fact_widget_deployments_id": "780fe424b1913acdf1363a20bb00840e", "inserted_timestamp": "2000-01-01T00:00:00.000Z", "modified_timestamp": "2000-01-01T00:00:00.000Z", "__row_index": 1}