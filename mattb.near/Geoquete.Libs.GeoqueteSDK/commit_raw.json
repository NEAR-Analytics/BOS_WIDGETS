{"tx_hash": "HftZ1icHEui9LseuSPZjEtNp878Sv2BPN73MagwHyAPh", "action_id_social": "6GKG56RR1LrbvxFjphyUcqkU8ny5sHxTsGRJ7mwZucyZ-0-widget", "block_id": 97113381, "block_timestamp": "2023-07-23T02:41:17.979Z", "signer_id": "mattb.near", "widget_name": "Geoquete.Libs.GeoqueteSDK", "source_code": "const { onLoad, loaded } = props;\n\nconst TOKEN_DECIMALS = 18;\nconst CONTRACT_ADDRESS = \"0x3C6DdF92d31E1728C23c062b3C1D552E6eA77137\";\nconst CONTRACT_ABI = fetch(\n  \"https://raw.githubusercontent.com/paris-geo-hackers/ParisContracts/main/contracts/Game.json\"\n);\nconst iface = new ethers.utils.Interface(CONTRACT_ABI.body);\n\nconst GeoqueteSDK = {\n  encode: (method, params) => {\n    return iface.encodeFunctionData(method, params);\n  },\n  decode: (method, rawResponse) => {\n    return iface.decodeFunctionResult(method, rawResponse);\n  },\n  call: (method, params) => {\n    return Ethers.provider().call({\n      to: CONTRACT_ADDRESS,\n      data: GeoqueteSDK.encode(method, params),\n    });\n  },\n  listQuests: () => {},\n  getQuest: (questId) => {\n    return GeoqueteSDK.call(\"viewQuest\", [questId]);\n  },\n  createQuest: (quest) => {\n    return GeoqueteSDK.call(\"createQuest\", [\n      quest.questName,\n      quest.location,\n      quest.coordinates,\n      quest.numberOfPlayers,\n      quest.questPrize,\n      10,\n    ]);\n  },\n  joinQuest: (questId) => {\n    return GeoqueteSDK.call(\"joinQuest\", [questId]);\n  },\n  submitSolution: (questId, zkProof, ipfsPhotoUrl) => {\n    return GeoqueteSDK.call(\"submitSolution\", [questId, zkProof, ipfsPhotoUrl]);\n  },\n  hexToInteger: (hex) => {\n    return parseInt(hex, 16) / Math.pow(10, TOKEN_DECIMALS);\n  },\n};\n\nif (!!onLoad && typeof onLoad === \"function\" && !loaded) {\n  onLoad(GeoqueteSDK);\n}\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/mattb.near/widget/Geoquete.Libs.GeoqueteSDK", "fact_widget_deployments_id": "e24029d28ae80edee47c89bec56fddf8", "inserted_timestamp": "2000-01-01T00:00:00.000Z", "modified_timestamp": "2000-01-01T00:00:00.000Z", "__row_index": 14}