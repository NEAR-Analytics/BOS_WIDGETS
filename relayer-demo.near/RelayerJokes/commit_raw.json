{"tx_hash": "B4J1BkykSjRaf6hZYza8gRspcarZjCjgG9ejrNpT94CH", "action_id_social": "AJYVuM2e5RT8SVdcqh3Q36zMMSHLCajgKjcjqMTX8b8h-0-widget", "block_id": 103133854, "block_timestamp": "2023-10-11T14:39:48.751Z", "signer_id": "relayer-demo.near", "widget_name": "RelayerJokes", "source_code": "State.init({\n  jokes: [],\n  newMessage: \"\",\n});\n\nconst contract = \"guest-book.near\";\nconst messages = Near.view(\n  contract,\n  \"getMessages\",\n  {}\n).reverse();\n\nconst addNewMessage = () => {\n  if (state.newMessage.trim() === \"\") {\n    console.log(\"No message to add\");\n    return;\n  }\n\n  Near.call(contract, \"addMessage\", {\n    text: state.newMessage,\n  });\n  // State.update({ newMessage: \"\" });\n};\n\nreturn (\n  <div>\n    <h1>Relayer Jokes</h1>\n    <Widget\n      src=\"near/widget/DIG.Input\"\n      props={{\n        placeholder: \"Post your joke or just say GM!\",\n        onInput: async (e) =>\n          State.update({ newMessage: e.target.value }),\n        value: state.newMessage,\n      }}\n    />\n    <Widget\n      src=\"near/widget/DIG.Button\"\n      props={{\n        label: \"Submit\",\n        onClick: (e) => addNewMessage(e),\n        size: \"large\",\n      }}\n    />\n    <div>\n      <ul>\n        {messages.map((data, key) => {\n          return (\n            <li class=\"text-center\">\n              <div>{data.sender}</div>\n              <div>{data.text}</div>\n            </li>\n          );\n        })}\n      </ul>\n    </div>\n  </div>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/relayer-demo.near/widget/RelayerJokes", "fact_widget_deployments_id": "e20de5a8c0ce04340ce61f44b064e35d", "inserted_timestamp": "2023-10-11T16:36:55.978Z", "modified_timestamp": "2023-10-11T16:36:55.978Z", "__row_index": 2}