{"tx_hash": "Ebyk8WTmMzbsX8Lf3ebYBJyBiUaL2nQnzAGLyGJDQuX9", "action_id_social": "XqnEcdyWEeNCMXCQdwYmcvhSjDSkkFPP4iPqYS682w2-0-widget", "block_id": 101709563, "block_timestamp": "2023-09-22T15:53:45.798Z", "signer_id": "guessme.near", "widget_name": "ZKEVMWarmUp.quest-card", "source_code": "const { isInMoreList, onStickyTop } = props;\n\nconst iconMap = {\n  \"native bridge\": (\n    <img\n      className=\"quest-card-name-icon\"\n      src=\"https://ipfs.near.social/ipfs/bafkreigawbz26l7mhfewlxwnjomos6njdkchnfnw2dnb6xtzf7j2t6jdxm\"\n    />\n  ),\n\n  \"Pancake Swap\": (\n    <img\n      className=\"quest-card-name-icon \"\n      src=\"https://repository-images.githubusercontent.com/440462673/6872d684-f7ed-463c-9a5c-76542eddbcc4\"\n    />\n  ),\n\n  \"0vix Lending\": (\n    <img\n      className=\"quest-card-name-icon \"\n      src=\"https://ipfs.near.social/ipfs/bafkreigyodedyhiqmstq3g5edcqw25yyari4y3rcbsnqtxldb2zb2vpah4\"\n    />\n  ),\n\n  \"0vix\": (\n    <img\n      className=\"quest-card-name-icon \"\n      src=\"https://ipfs.near.social/ipfs/bafkreigyodedyhiqmstq3g5edcqw25yyari4y3rcbsnqtxldb2zb2vpah4\"\n    />\n  ),\n  Gamma: (\n    <img\n      className=\"quest-card-name-icon \"\n      src=\"https://ipfs.near.social/ipfs/bafkreial4i3eb5uuxkhecn7nwos76km3qvb7jzxmups57rkxizr5i7dyaa\"\n    />\n  ),\n  \"Pancake Swap\": (\n    <img\n      className=\"quest-card-name-icon \"\n      src=\"https://repository-images.githubusercontent.com/440462673/6872d684-f7ed-463c-9a5c-76542eddbcc4\"\n    />\n  ),\n  QuickSwap: (\n    <img\n      className=\"quest-card-name-icon \"\n      src=\"https://ipfs.near.social/ipfs/bafkreibzpvczmrw2jvua3lsuwmvb7ldlztsszbo4dd6jagfsqkk6ub5opa\"\n    />\n  ),\n  Balancer: (\n    <img\n      className=\"quest-card-name-icon \"\n      src=\"https://ipfs.near.social/ipfs/bafkreieg6jpfhxra6c3dspiijg6fj5ga5dpqcn4vmtzdceqa3nheredq5m\"\n    />\n  ),\n};\n\nconst stickTopIcon = (\n  <svg\n    width=\"16\"\n    height=\"16\"\n    viewBox=\"0 0 16 16\"\n    fill=\"none\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n  >\n    <path\n      d=\"M8 4L2 8.52941M8 4L14 8.52941M8 4V15\"\n      stroke=\"#7C7F96\"\n      stroke-width=\"1.5\"\n      stroke-linecap=\"round\"\n      stroke-linejoin=\"round\"\n    />\n    <path\n      d=\"M1 1H15\"\n      stroke=\"#7C7F96\"\n      stroke-width=\"1.5\"\n      stroke-linecap=\"round\"\n      stroke-linejoin=\"round\"\n    />\n  </svg>\n);\n\nconst QuestCardWrapper = styled.div`\n  position: relative;\n\n  .delete-icon {\n    cursor: pointer;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    border-radius: 100%;\n    border: 2px solid #7c7f96;\n    width: 16px;\n    height: 16px;\n\n    .row-bar {\n      width: 75%;\n      height: 2px;\n      background: #7c7f96;\n      border-radius: 6px;\n    }\n  }\n\n  .delete-icon:hover {\n    cursor: pointer;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    border-radius: 100%;\n    border: 2px solid #ff61d3;\n    width: 16px;\n    height: 16px;\n\n    .row-bar {\n      width: 75%;\n      height: 2px;\n      background: #ff61d3;\n      border-radius: 6px;\n    }\n  }\n\n  .quest-card-out {\n    border-radius: 24px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    /* padding: 4px; */\n    width: 259px;\n    .quest-card-inner {\n      border-radius: 20px;\n      background: linear-gradient(180deg, #eef3bf 0%, #e9f456 100%);\n      width: 250px;\n      height: 108px;\n      position: relative;\n      :hover {\n        text-decoration: none;\n      }\n\n      color: #02051e;\n\n      padding: 0px 12px;\n\n      padding-top: 20px;\n\n      .quest-card-name {\n        position: absolute;\n        display: flex;\n        align-items: center;\n        bottom: 12px;\n        left: 50%;\n        transform: translateX(-50%);\n        gap: 4px;\n        white-space: nowrap;\n\n        .quest-card-name-icon {\n          width: 26px;\n          height: 26px;\n          border-radius: 8px;\n        }\n      }\n\n      .quest-card-info {\n        font-size: 18px;\n        font-weight: 500;\n        text-align: center;\n        line-height: 24px;\n      }\n      .trend-card-execute-mobile {\n        display: none;\n      }\n    }\n  }\n\n  .quest-card-execute-date {\n    font-size: 14px;\n    font-weight: 400;\n    line-height: 17px;\n    letter-spacing: 0em;\n    text-align: left;\n    color: #979abe;\n    width: 250px;\n\n    padding: 8px 12px;\n\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n\n    .quest-card-show-delete-icon {\n      cursor: pointer;\n    }\n  }\n\n  .quest-card-execute-date-number {\n    display: flex;\n    align-items: center;\n    gap: 8px;\n  }\n\n  .overlay {\n    position: fixed;\n    top: 0;\n    bottom: 0;\n    left: 0;\n    right: 0;\n    background-color: black;\n    opacity: 0.5;\n    z-index: 1000;\n  }\n\n  .operation-filed {\n    display: flex;\n    align-items: center;\n    gap: 8px;\n\n    .sticky-top {\n      cursor: pointer;\n      :hover {\n        color: #ebf479;\n      }\n    }\n  }\n\n  @media (max-width: 900px) {\n    .quest-card-out {\n      width: 100%;\n\n      .quest-card-inner {\n        background: rgba(55, 58, 83, 0.5);\n        width: 100%;\n        height: 80px;\n        padding: 14px 12px;\n\n        .quest-card-info {\n          color: rgba(255, 255, 255, 1);\n          font-size: 16px;\n          text-align: left;\n        }\n\n        .quest-card-name {\n          transform: translateX(-0);\n          left: 20px;\n          color: rgba(151, 154, 190, 1);\n          font-size: 14px;\n          img {\n            width: 18px;\n            height: 18px;\n          }\n          .quest-card-name-icon {\n            width: 18px;\n            height: 18px;\n          }\n        }\n\n        .trend-card-execute-mobile {\n          display: inline-block;\n          color: #979abe;\n          font-size: 12px;\n          position: absolute;\n          right: 14px;\n          bottom: 12px;\n          border-bottom: 1px rgba(151, 154, 190, 1) solid;\n        }\n      }\n    }\n\n    .quest-card-execute-date {\n      .quest-card-execute-date-number {\n        display: none;\n      }\n      .quest-card-show-delete-icon {\n        display: none;\n      }\n      .quest-card-show-delete-mobile {\n        position: absolute;\n        top: 16px;\n        right: 16px;\n      }\n    }\n    .delete-card {\n      font-weight: 500;\n      position: fixed;\n      top: 50%;\n      left: 50%;\n      transform: translate(-50%, -50%);\n      border: 1px solid rgba(65, 68, 90, 1);\n      padding: 28px 12px 18px 12px;\n      background: linear-gradient(0deg, #1e202f, #1e202f),\n        linear-gradient(0deg, #41445a, #41445a);\n      .delete-card-mobile {\n        display: block;\n        color: #979abe;\n        font-size: 16px;\n        margin: 12px 0px;\n        font-weight: 500;\n        text-align: center;\n      }\n    }\n  }\n`;\n\nconst { item, onDelete } = props;\n\nconst SwapTokens = [\n  {\n    address: \"0x4f9a0e7fd2bf6067db6994cf12e4495df938e6e9\",\n    chainId: 1101,\n    symbol: \"WETH\",\n    decimals: 18,\n    logoURI:\n      \"https://assets.coingecko.com/coins/images/2518/small/weth.png?1628852295\",\n  },\n  {\n    address: \"0xa2036f0538221a77a3937f1379699f44945018d0\",\n    chainId: 1101,\n    symbol: \"MATIC\",\n    extra: true,\n    decimals: 18,\n    logoURI:\n      \"https://assets.coingecko.com/coins/images/4713/small/matic-token-icon.png\",\n  },\n  {\n    address: \"0xC5015b9d9161Dca7e18e32f6f25C4aD850731Fd4\",\n    chainId: 1101,\n    symbol: \"DAI\",\n    extra: true,\n    decimals: 18,\n    logoURI:\n      \"https://assets.coingecko.com/coins/images/9956/small/Badge_Dai.png?1687143508\",\n  },\n  {\n    address: \"0xA8CE8aee21bC2A48a5EF670afCc9274C7bbbC035\",\n    chainId: 1101,\n    symbol: \"USDC\",\n    decimals: 6,\n    logoURI:\n      \"https://assets.coingecko.com/coins/images/6319/small/USD_Coin_icon.png\",\n  },\n\n  {\n    address: \"0x1E4a5963aBFD975d8c9021ce480b42188849D41d\",\n    chainId: 1101,\n    symbol: \"USDT\",\n    decimals: 6,\n    logoURI:\n      \"https://assets.coingecko.com/coins/images/325/small/Tether.png?1668148663\",\n  },\n  {\n    address: \"0xea034fb02eb1808c2cc3adbc15f447b93cbe08e1\",\n    chainId: 1101,\n    symbol: \"WBTC\",\n    decimals: 8,\n    extra: true,\n    logoURI:\n      \"https://assets.coingecko.com/coins/images/7598/small/wrapped_bitcoin_wbtc.png?1548822744\",\n  },\n];\n\nState.init({\n  showDelete: false,\n});\n\nconst onCancel = () =>\n  State.update({\n    showDelete: false,\n  });\n\nlet link = \"\";\n\nconst arr = item.action_title.split(/\\s+/);\n\nconst [action_type, amount, symbol, on, dexName1, dexName2] = arr;\n\nconst isBridge = arr[0].toLowerCase() === \"bridge\";\n\nconst isSwap = arr[0].toLowerCase() === \"swap\";\n\nconst isSupply = arr[0].toLowerCase() === \"supply\";\nconst isBorrow = arr[0].toLowerCase() === \"borrow\";\nconst isRepay = arr[0].toLowerCase() === \"repay\";\n\nconst isWithdraw = arr[0].toLowerCase() === \"withdraw\";\n\nconst isDeposit = arr[0].toLowerCase() === \"deposit\";\n\nconst isWithdrawGamma = isWithdraw && arr?.[3]?.toLowerCase() === \"gamma\";\n\nif (isBridge) {\n  link = \"/guessme.near/widget/ZKEVMSwap.zkevm-bridge?source=quest-card\";\n}\nif (isSwap) {\n  link = \"/guessme.near/widget/ZKEVMSwap.zkevm-swap?source=quest-card\";\n}\n\nif (isDeposit) {\n  link = \"/guessme.near/widget/ZKEVM.GAMMA?tab=deposit\";\n}\n\nif (isWithdrawGamma) {\n  link = \"/guessme.near/widget/ZKEVM.GAMMA?tab=withdraw\";\n}\nif (isSupply || (isWithdraw && !isWithdrawGamma)) {\n  link = \"/bluebiu.near/widget/0vix.Lending?tab=supply\";\n}\n\nif (isBorrow || isRepay) {\n  link = \"/bluebiu.near/widget/0vix.Lending?tab=borrow\";\n}\n\nconst onSaveParams = () => {\n  if (isBridge) {\n    const [action_type, symbol, from, chain] = arr;\n\n    Storage.set(\"zk-evm-bridge-params\", {\n      symbol,\n      chain,\n    });\n  }\n\n  if (isSwap) {\n    const [action_type, amount, symbol, on, dexName1, dexName2] = arr;\n\n    const token = SwapTokens.find((item) => item.symbol === symbol);\n\n    Storage.set(\"zk-evm-swap-params\", {\n      amount,\n      symbol,\n      dexName: dexName1 + (dexName2 ? \" \" + dexName2 : \"\"),\n      assetId: token.address,\n    });\n  }\n};\n\nconst getAmountFromTitle = (title) => {\n  const arr = title.split(/\\s+/);\n\n  const index = arr.findIndex((item) => !isNaN(item));\n\n  return index;\n};\n\nlet displayTitle = item.action_title;\n\nconst amountIndex = getAmountFromTitle(item.action_title);\n\nif (amountIndex > -1) {\n  const arr = item.action_title.split(/\\s+/);\n  const amount = item.action_title.split(/\\s+/)[amountIndex];\n\n  const amountNumber = parseFloat(amount);\n\n  displayTitle = (\n    <>\n      {\" \"}\n      {arr.slice(0, amountIndex).join(\" \")}{\" \"}\n      <span\n        style={{\n          color: \"#7C7F96\",\n        }}\n      >\n        {amountNumber}{\" \"}\n      </span>{\" \"}\n      {arr.slice(amountIndex + 1, arr.length).join(\" \")}\n    </>\n  );\n}\n\nreturn (\n  <QuestCardWrapper>\n    <div className={\"quest-card-out\"} onClick={() => onSaveParams()}>\n      <a\n        className=\"quest-card-inner\"\n        href={link}\n        style={{\n          background: isInMoreList ? \"#373A53\" : \"\",\n          color: isInMoreList ? \"white\" : \"\",\n        }}\n      >\n        <div className=\"quest-card-info\">{displayTitle}</div>\n        <div className=\"quest-card-name\">\n          {iconMap[item.template]} {item.template}\n        </div>\n        <div className=\"trend-card-execute-mobile\">\n          {item.count_number} times\n        </div>\n      </a>\n    </div>\n\n    <div className=\"quest-card-execute-date\">\n      <span className=\"quest-card-execute-date-number\">\n        My Execution\n        <span>{item.count_number}</span>\n      </span>\n\n      <div className=\"operation-filed\">\n        {isInMoreList && (\n          <div\n            className=\"sticky-top\"\n            onClick={() => {\n              onStickyTop();\n            }}\n          >\n            {stickTopIcon}\n          </div>\n        )}\n\n        <div\n          className=\"delete-icon\"\n          onClick={() => {\n            onDelete(item.action_id);\n          }}\n        >\n          <div className=\"row-bar\"></div>\n        </div>\n      </div>\n    </div>\n  </QuestCardWrapper>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/guessme.near/widget/ZKEVMWarmUp.quest-card", "fact_widget_deployments_id": "338773cd27f5801f9d3b87ded0e2110e", "inserted_timestamp": "2024-03-07T05:24:05.087Z", "modified_timestamp": "2024-03-07T05:24:05.087Z", "__row_index": 20}