{"tx_hash": "EhB6mcUSfGfNvJqmC7wtroG2oPwtd15Spwby6jqv3Yrp", "action_id_social": "GXn1U1JUoUmDYR7cUyqNudpenAxLLCfwnXhH34u3rC21-0-widget", "block_id": 111231320, "block_timestamp": "2024-01-24T21:27:08.750Z", "signer_id": "sdks.near", "widget_name": "Utils.RoutesManager", "source_code": "\n\nconst StatefulDependency = (Store, status) => {\n  return {\n    prepare: () => {\n      if (typeof status === \"undefined\") {\n          Store.init({ Libraries: {} });\n      } else if (!status.Libraries) {\n          Store.update({ Libraries: {} });\n      }\n    },\n  };\n};\n\n\n\nreturn (Store, status, routes, { page }) => {\n  let parent = new StatefulDependency(Store, status);\n    \n  const Router = {\n    ...parent,\n    name: \"Router\",\n    init: () => {\n      Router.prepare();\n\n      Store.update({\n        Libraries: {\n            ...status[\"Libraries\"],\n            [Router.name]: {\n              routes,\n              currentRoute: Router.getDefaultRoute(),\n              currentView: routes[Router.getDefaultRoute()],\n            }\n        },\n      });\n\n      return {\n        Router,\n        RouterView: () => status[\"Libraries\"][Router.name].currentView,\n        Route: ({ to, children }) => (\n          <a href=\"#\" onClick={() => Router.changeRoute(to)}>\n            {children}\n          </a>\n        ),\n      };\n    },\n    changeRoute: (route) => {\n      Store.update({\n        Libraries: {\n            ...status[\"Libraries\"],\n            [Router.name]: {\n              ...status[\"Libraries\"][Router.name],\n              currentRoute: route in routes ? route : \"home\",\n              currentView: route in routes ? routes[route] : routes[\"home\"],\n            },\n        }\n      });\n\n      return status[\"Libraries\"][Router.name].currentView;\n    },\n    getCurrentRoute: () => {\n      return status[\"Libraries\"][Router.name].currentRoute;\n    },\n    getView: () => {\n      return status[\"Libraries\"][Router.name].currentView;\n    },\n    getDefaultRoute: () => {\n      return page || (routes[\"fallback\"] ? \"fallback\" : null) || \"home\";\n    },\n  };\n\n  return Router.init();\n};", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/sdks.near/widget/Utils.RoutesManager", "fact_widget_deployments_id": "254fd3d1fbd68244fd26d16bb5a19d90", "inserted_timestamp": "2024-03-07T05:24:05.087Z", "modified_timestamp": "2024-03-07T05:24:05.087Z", "__row_index": 8}