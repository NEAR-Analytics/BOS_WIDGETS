{"tx_hash": "3WU3XzeG1bob8mSfyymoX4bLUiy8WYMA2KXG6zhzRDCe", "action_id_social": "2ezwRp2kt6xreqyGGspgbMWDCsBuCZKiD7EhabPV2Gxk-0-widget", "block_id": 111884559, "block_timestamp": "2024-02-01T22:11:14.696Z", "signer_id": "sdks.near", "widget_name": "Hooks.useSharedContext", "source_code": "// Experimental hook\nconst useSharedContext = ({ with: [Store, status], from: widgetsSrc }) => {\n  State.init({\n    app: {},\n    initialized: false,\n  });\n\n  if (!status.initialized) {\n    State.update({\n      app: Object.fromEntries(\n        widgetsSrc.map((widget) => {\n          let breadcrumb = widget.split(\"/\");\n          let name = breadcrumb.pop().split(\".\").pop();\n          return [name, VM.require(widget)];\n        })\n      ),\n      initialized: true,\n    });\n  }\n\n  let hasLoaded =\n    Object.keys(status.app) &&\n    typeof status.app[Object.keys(status.app).pop()] === \"function\";\n\n  return hasLoaded\n    ? Object.fromEntries(\n        widgetsSrc.map((widget) => {\n          let breadcrumb = widget.split(\"/\");\n          let name = breadcrumb.pop().split(\".\").pop();\n          return [name, () => status.app[name](Store, status)];\n        })\n      )\n    : Object.fromEntries(\n        widgetsSrc.map((widget) => {\n          let breadcrumb = widget.split(\"/\");\n          let name = breadcrumb.pop().split(\".\").pop();\n          return [name, () => <>Loading</>];\n        })\n      );\n};\n\nreturn useSharedContext;\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/sdks.near/widget/Hooks.useSharedContext", "fact_widget_deployments_id": "ed838b6844440e4688cbcbcb171ddb28", "inserted_timestamp": "2024-03-07T05:24:05.087Z", "modified_timestamp": "2024-03-07T05:24:05.087Z", "__row_index": 12}