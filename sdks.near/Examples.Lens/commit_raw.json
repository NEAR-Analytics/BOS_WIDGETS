{"tx_hash": "6FHostvbQqm9qksry5xJzfDAK35yGVaZ1HddL88jAyUD", "action_id_social": "47Qnvnu22NquBUsHA7d6hN8t7QAJK61H3LWiy2fLP2Tv-0-widget", "block_id": 111558337, "block_timestamp": "2024-01-28T22:28:13.099Z", "signer_id": "sdks.near", "widget_name": "Examples.Lens", "source_code": "const $ = VM.require(\"sdks.near/widget/Loader\");\nconst { LensSDK } = $(\"@sdks/lens-sdk\");\nconst { AuthRequests } = $(\"@sdks/lens/requests\");\n\nState.init({\n  evmAddress: \"\",\n  profilesManaged: [],\n  lastResult: \"\"\n})\n\nif (!state.evmAddress && Ethers.provider()) {\n  const [address] = Ethers.send(\"eth_requestAccounts\", []);\n\n  if (address) {\n    State.update({evmAddress: address});\n  }\n}\n\nreturn (\n  <>\n    <p>Log in</p>\n    <Web3Connect />\n    <button onClick={() => {\n      LensSDK.authentication.profiles({\n        for: state.evmAddress\n      }).then((profilesManaged) => {\n        State.update({lastResult: profilesManaged, profilesManaged: profilesManaged})\n      })\n    }}>Get profiles managed</button>\n    <button onClick={() => {\n      LensSDK.authentication.login({\n        signedBy: state.evmAddress,\n        for: state.profilesManaged[0].id\n      }).then((result) => {\n        State.update({lastResult: result});\n      })\n    }}>Authenticate</button>\n    \n    <br/><br/>\n    {state.lastResult ? JSON.stringify(state.lastResult) : \"No response yet\"}\n  </>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/sdks.near/widget/Examples.Lens", "fact_widget_deployments_id": "8aabc544743547fda84a7b4b1ae1c397", "inserted_timestamp": "2024-03-07T05:24:05.087Z", "modified_timestamp": "2024-03-07T05:24:05.087Z", "__row_index": 0}