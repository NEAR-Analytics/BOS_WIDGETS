{"tx_hash": "997CYd3j3GJcye6f71x2513eMAxLsn3nkzT2GG4aVrpf", "action_id_social": "D96xR1dihzqqBcKDeLHAToRYKGNBTa9xwPiFtHHZmYKS-0-widget", "block_id": 100587340, "block_timestamp": "2023-09-07T11:50:06.949Z", "signer_id": "c036f1a97e5b5161fc115c15b93cd1e23fbec5718c4ea3563c1e80d01bb79673", "widget_name": "collegium.bos.wk2.EthereumContractWidget", "source_code": "State.init({\n  chainId: 0,\n  price: 0,\n});\n\n/**\n * Ethereum Contract\n */\n\nconst priceFeedAddress = \"0x07dD4Ce17De84bA13Fc154A7FdB46fC362a41E2C\";\n\nconst priceFeedABI = [\n  {\n    inputs: [],\n    name: \"getPrice\",\n    outputs: [{ internalType: \"uint256\", name: \"\", type: \"uint256\" }],\n    stateMutability: \"view\",\n    type: \"function\",\n  },\n];\n\nif (Ethers.provider()) {\n  Ethers.provider()\n    .getNetwork()\n    .then((chainIdData) => {\n      if (chainIdData?.chainId) {\n        State.update({ chainId: chainIdData.chainId });\n      }\n    });\n\n  if (state.chainId === 11155111) {\n    if (state.price === 0) {\n      const priceFeedContract = new ethers.Contract(\n        priceFeedAddress,\n        priceFeedABI,\n        Ethers.provider().getSigner()\n      );\n\n      priceFeedContract.getPrice().then((priceRes) => {\n        State.update({ price: ethers.utils.formatEther(priceRes) });\n      });\n    }\n  }\n}\n\nreturn (\n  <div>\n    <Web3Connect />\n    <hr />\n    {Ethers.provider() && state.chainId !== 11155111 ? (\n      \"Change network to Sepolia.\"\n    ) : (\n      <>\n        <h1>You called priceFeedContract</h1>\n        <p>Contract Address: {priceFeedAddress}</p>\n        <p>Contract ABI: {JSON.stringify(priceFeedABI)}</p>\n        <p>Current SepoliaETH price: {state.price} USD </p>\n      </>\n    )}\n  </div>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/c036f1a97e5b5161fc115c15b93cd1e23fbec5718c4ea3563c1e80d01bb79673/widget/collegium.bos.wk2.EthereumContractWidget", "fact_widget_deployments_id": "fc272ad0bc6dced2eb395b9cb6f026ed", "inserted_timestamp": "2024-03-07T05:24:05.087Z", "modified_timestamp": "2024-03-07T05:24:05.087Z", "__row_index": 1}