{"tx_hash": "FAzTX2bwi4GaaxXruWYANj8iU9puuxVhc5JgwVG9n4wT", "action_id_social": "5MBLrvge3WZpPBmhjfMDQyY3HDRJiSPHExdC8JFytvKF-0-widget", "block_id": 96537106, "block_timestamp": "2023-07-15T14:42:25.130Z", "signer_id": "2b37d6181e8f5757c38b5fc7454e11ae1a3eee4cc1ca69c26fb1678dd30fddd6", "widget_name": "Afromentors", "source_code": "let { address, tokenId } = props;\nState.init({\n  loading: false,\n  showLogin: true,\n  token: {},\n  error: null,\n  signer: null,\n});\n\nconst alchemyApiKey = props.alchemyApiKey || \"docs-demo\";\n\nconst loadNFT = () => {\n  State.update({ loading: true });\n  const options = { method: \"GET\", headers: { accept: \"application/json\" } };\n  const nfts = fetch(\n    `https://eth-goerli.g.alchemy.com/nft/v2/${alchemyApiKey}/getNFTsForCollection?contractAddress=${address}&withMetadata=true&startToken=${tokenId}&limit=1`,\n    options\n  );\n  console.log(\"nft\", nfts);\n  if (nfts.status === 403) {\n    State.update({ error: \"Please add an Alchemy API key\" });\n  } else {\n    State.update({ error: \"\" });\n  }\n  State.update({ token: nfts.body.nfts[0] });\n  console.log(\"state.token\", state.token);\n  State.update({ loading: false });\n\n  const signer = Ethers.send(\"eth_requestAccounts\")[0];\n  console.log(\"signer\", signer);\n  if (!signer) {\n    State.update({ error: \"Please login first\", showLogin: true });\n    return;\n  } else {\n    State.update({ error: \"\", signer: signer });\n  }\n};\n\nconst loginButton = (\n  <Web3Connect\n    className=\"FormSubmitContainer\"\n    connectLabel={web3connectLabel}\n    onConnect={(provider) => {\n      console.log(\"provider\", provider);\n      State.update({ provider });\n    }}\n  />\n);\n\nloadNFT();\n\nreturn (\n  <div className=\"EventDetail container card shadow my-5 p-5\">\n    <div classname=\"random thing\">\n      <h1\n        style={{\n          textAlign: \"center\",\n          fontFamily: \"Inter\",\n          fontSize: \"40px\",\n          color: \"#333\",\n          fontWeight: \"bold\",\n          letterSpacing: \"-1px\",\n        }}\n      >\n        Afromentors\n      </h1>\n      <p\n        style={{\n          textAlign: \"center\",\n          fontFamily: \"Inter\",\n          fontSize: \"18px\",\n          color: \"#777\",\n          fontWeight: \"normal\",\n          letterSpacing: \"0\",\n        }}\n      >\n        Connecting members of the Afropolitan community with relevant teachers,\n        mentors, and seminars, <br /> Afromentors gives Afropolitan NFT holders\n        tight-knit learning and networking opportunities <br /> while letting\n        teachers earn compensation for their expertise.\n      </p>\n    </div>\n    {state.loading && (\n      <>\n        <p className=\"text-primary\">Loading NFT details...</p>\n        <div class=\"progress\">\n          <div\n            class=\"progress-bar progress-bar-striped progress-bar-animated\"\n            role=\"progressbar\"\n            aria-valuenow=\"100\"\n            aria-valuemin=\"0\"\n            aria-valuemax=\"100\"\n            style={{ width: \"100%\" }}\n          ></div>\n        </div>\n      </>\n    )}\n    {state.token && (\n      <>\n        <h3 className=\"text-center mb-3\">{state.token.title}</h3>\n        <div className=\"container\">\n          <div className=\"card shadow-sm\">\n            <img\n              src={state.token.media[0].gateway}\n              width={300}\n              alt={state.token.title}\n            />\n            <div className=\"card-body\">\n              <p className=\"card-text\">\n                <a\n                  href={`https://testnets.opensea.io/assets/goerli/${address}/${tokenId}`}\n                  target=\"_blank\"\n                  rel=\"noreferrer\"\n                >\n                  View NFT on Opensea\n                </a>\n              </p>\n            </div>\n          </div>\n        </div>\n      </>\n    )}\n    {state.error && <p className=\"text-danger\">{state.error}</p>}\n    {state.showLogin && (\n      <>\n        <hr />\n        {loginButton}\n      </>\n    )}\n    <hr />{\" \"}\n    <Widget\n      src=\"2b37d6181e8f5757c38b5fc7454e11ae1a3eee4cc1ca69c26fb1678dd30fddd6/widget/Mentor_Widget_1\"\n      props={{\n        alchemyApiKey: \"uB5QD-LyGRGbOa5--7aWs-dyqxjb3z24\",\n        address: \"0x8842da19ef17d1a10875e0ebddb6981e178b90d2\",\n        tokenId: 250,\n      }}\n    />\n    <hr />\n    <Widget\n      src=\"2b37d6181e8f5757c38b5fc7454e11ae1a3eee4cc1ca69c26fb1678dd30fddd6/widget/Mentor_Widget_2\"\n      props={{\n        alchemyApiKey: \"uB5QD-LyGRGbOa5--7aWs-dyqxjb3z24\",\n        address: \"0x8842DA19Ef17D1a10875E0ebddb6981e178B90d2\",\n        tokenId: 250,\n      }}\n    />\n    <hr />\n    <Widget\n      src=\"2b37d6181e8f5757c38b5fc7454e11ae1a3eee4cc1ca69c26fb1678dd30fddd6/widget/Mentor_Widget_3\"\n      props={{\n        alchemyApiKey: \"uB5QD-LyGRGbOa5--7aWs-dyqxjb3z24\",\n        address: \"0x8842DA19Ef17D1a10875E0ebddb6981e178B90d2\",\n        tokenId: 250,\n      }}\n    />\n    <Widget\n      src=\"2b37d6181e8f5757c38b5fc7454e11ae1a3eee4cc1ca69c26fb1678dd30fddd6/widget/RentNFT\"\n      props={{\n        alchemyApiKey: \"uB5QD-LyGRGbOa5--7aWs-dyqxjb3z24\",\n        address: \"0x8842da19ef17d1a10875e0ebddb6981e178b90d2\",\n        tokenId: 250,\n      }}\n    />\n    <hr />\n  </div>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/2b37d6181e8f5757c38b5fc7454e11ae1a3eee4cc1ca69c26fb1678dd30fddd6/widget/Afromentors", "fact_widget_deployments_id": "0485f80bc5f1d100e021f21379e6f9bf", "inserted_timestamp": "2024-03-07T05:24:05.087Z", "modified_timestamp": "2024-03-07T05:24:05.087Z", "__row_index": 0}