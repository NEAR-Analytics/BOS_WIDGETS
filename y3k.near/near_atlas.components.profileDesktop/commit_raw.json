{"tx_hash": "GELL24FsRXhUzkUSwneUmwBeP488gyGLXuMoc1CS4bkc", "action_id_social": "3hHXQVr3WEDgJNMpgoLZWEBkMpaTHtBZnY1QgVHHKcmf-0-widget", "block_id": 106873633, "block_timestamp": "2023-11-30T15:16:06.155Z", "signer_id": "y3k.near", "widget_name": "near_atlas.components.profileDesktop", "source_code": "const accountId = props.accountId ?? context.accountId;\nif (!accountId) {\n  return \"No account ID\";\n}\nconst fast = !!props.fast;\n\nconst link =\n  props.link &&\n  (props.link === true\n    ? `https://near.social/mob.near/widget/ProfilePage?accountId=${accountId}`\n    : props.link);\n\nconst profile = props.profile ?? Social.getr(`${accountId}/profile`);\n\nif (profile === null) {\n  return \"Loading\";\n}\n\nconst showEditButton =\n  profile !== undefined &&\n  (!props.profile || props.showEditButton) &&\n  accountId &&\n  accountId === context.accountId;\n\nconst name = profile.name || \"No-name profile\";\nconst image = profile.image;\nconst backgroundImage = profile.backgroundImage;\nconst tags = Object.keys(profile.tags ?? {});\n\nconst nameHeader = <h4 className=\"mt-0 mb-0 text-truncate\">{name}</h4>;\n\nconst Wrapper = styled.div`\n  overflow: hidden;\n  margin: 0 -12px; \n`;\n\nconst shareSvg = (\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    width=\"24\"\n    height=\"24\"\n    fill=\"currentColor\"\n    viewBox=\"0 0 16 16\"\n    stroke=\"currentColor\"\n    strokeWidth=\"0.363\"\n  >\n    <path d=\"M4.715 6.542 3.343 7.914a3 3 0 1 0 4.243 4.243l1.828-1.829A3 3 0 0 0 8.586 5.5L8 6.086a1.002 1.002 0 0 0-.154.199 2 2 0 0 1 .861 3.337L6.88 11.45a2 2 0 1 1-2.83-2.83l.793-.792a4.018 4.018 0 0 1-.128-1.287z\" />\n    <path d=\"M6.586 4.672A3 3 0 0 0 7.414 9.5l.775-.776a2 2 0 0 1-.896-3.346L9.12 3.55a2 2 0 1 1 2.83 2.83l-.793.792c.112.42.155.855.128 1.287l1.372-1.372a3 3 0 1 0-4.243-4.243L6.586 4.672z\" />\n  </svg>\n);\nreturn (\n  <Wrapper>\n    <div className=\"bg-gray-800 p-4 text-white\">\n      <div className=\"relative rounded-lg overflow-hidden shadow-lg\">\n        {backgroundImage && (\n          <Widget\n            src=\"mob.near/widget/Image\"\n            props={{\n              image: backgroundImage,\n              alt: \"profile background\",\n              className: \"w-full h-48 object-cover\",\n              style: { objectFit: \"cover\", left: 0, top: 0 },\n              fallbackUrl:\n                \"https://ipfs.near.social/ipfs/bafkreibmiy4ozblcgv3fm3gc6q62s55em33vconbavfd2ekkuliznaq3zm\",\n            }}\n          />\n        )}\n\n        <div className=\"relative p-4\">\n          <div className=\"flex justify-between items-end\">\n            <div className=\"flex space-x-4\">\n              <Widget\n                src=\"mob.near/widget/ProfileImage\"\n                props={{\n                  profile,\n                  fast,\n                  accountId,\n                  style: { width: \"10rem\", height: \"10rem\" },\n                  className: \"mb-2\",\n                  imageClassName:\n                    \"w-20 h-20 rounded-full border-4 border-gray-800\",\n                  thumbnail: false,\n                }}\n              />\n              <div>\n                <h2 className=\"text-2xl font-semibold\">\n                  {link ? (\n                    <a className=\"text-truncate text-dark\" href={link}>\n                      {nameHeader}\n                    </a>\n                  ) : (\n                    nameHeader\n                  )}\n                </h2>\n                <p className=\"text-sm text-gray-400\">\n                  <i className=\"bi bi-person-fill text-secondary\"></i>\n                  {accountId}\n                  <Widget\n                    src=\"mob.near/widget/CopyButton\"\n                    props={{\n                      text: accountId,\n                      className: \"btn btn-sm btn-outline-dark border-0\",\n                    }}\n                  />\n                </p>\n                <div className=\"flex space-x-2 mt-2\">\n                  <Widget\n                    src=\"mob.near/widget/FollowStats\"\n                    props={{ accountId }}\n                  />\n                </div>\n                <div className=\"flex flex-wrap mt-2\">\n                  {tags.length > 0 && (\n                    <div>\n                      {tags.map((tag, i) => (\n                        <span\n                          key={index}\n                          className=\"text-xs py-1 px-2 bg-gray-700 rounded m-1\"\n                        >\n                          {tag}\n                        </span>\n                      ))}\n                    </div>\n                  )}\n                </div>\n              </div>\n            </div>\n            {showEditButton && (\n              <div>\n                <a\n                  href=\"#/mob.near/widget/ProfileEditor\"\n                  className=\"btn btn-outline-secondary rounded-5\"\n                >\n                  <button className=\"py-2 px-4 bg-blue-600 hover:bg-blue-700 rounded transition duration-300\">\n                    Edit profile\n                  </button>\n                </a>\n              </div>\n            )}\n\n            <Widget src=\"mob.near/widget/FollowButton\" props={{ accountId }} />\n          </div>\n\n          <div className=\"flex space-x-4 mt-8 justify-end\">\n            <Widget\n              src=\"mob.near/widget/LinkTree\"\n              props={{ linktree: profile.linktree }}\n            />\n          </div>\n        </div>\n      </div>\n    </div>\n    );\n  </Wrapper>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/y3k.near/widget/near_atlas.components.profileDesktop", "fact_widget_deployments_id": "e5293129497240fd5afb2f6db0a63c69", "inserted_timestamp": "2024-03-07T05:24:05.087Z", "modified_timestamp": "2024-03-07T05:24:05.087Z", "__row_index": 0}