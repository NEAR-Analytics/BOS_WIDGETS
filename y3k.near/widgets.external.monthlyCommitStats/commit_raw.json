{"tx_hash": "CecuzdwznEAvsFwGjJrY3ZS2ZkdnTkqmjq2pASwJ54sd", "action_id_social": "FkXSzAb5c3SS19XW3x7x3eYgTKb9E59MDsSj68BkVB5W-0-widget", "block_id": 96308220, "block_timestamp": "2023-07-12T15:28:13.815Z", "signer_id": "y3k.near", "widget_name": "widgets.external.monthlyCommitStats", "source_code": "const code = `\n<script src=\"https://unpkg.com/react@18/umd/react.development.js\" crossorigin></script>\n<script src=\"https://unpkg.com/react-dom@18/umd/react-dom.development.js\" crossorigin></script>\n<script src=\"https://cdn.jsdelivr.net/npm/chart.js\"></script>\n\n<canvas id=\"myChart\" style=\"position: relative; height:80vh; width:80vw\"></canvas>\n\n<script>\n\nasync function fetchData() {\n  let response = await fetch(\n  \"https://api.flipsidecrypto.com/api/v2/queries/557a8f29-833f-45ae-bcae-89f251698b8f/data/latest\",\n    {\n      subscribe: true,\n      method: \"GET\",\n      headers: {\n        Accept: \"*/*\",\n      },\n    }\n  );\n  \n  let data = await response.json();\n  \nconst sortedData = data.sort((a, b) => {\n  return new Date(a[\"YEAR_MONTH\"]) - new Date(b[\"YEAR_MONTH\"]);\n});\n\nconst COMMITS_COUNT = {};\n\ndata.map((entry) => {\n  COMMITS_COUNT[entry[\"YEAR_MONTH\"]] = entry[\"COMMITS_COUNT\"];\n});\n\nconst dates = data.map((entry) => entry[\"YEAR_MONTH\"]);\n  var ctx = document.getElementById('myChart').getContext('2d');\n  var myChart = new Chart(ctx, {\n      type: 'bar',\n      data: {\n          labels: dates,\n          datasets: [\n   {\n       label: \"COMMITS_COUNT\",\n      data: COMMITS_COUNT,\n        backgroundColor: \"rgb(75, 192, 192)\",\n      },\n          ]\n      },\n      options: {\n  scales: {\n      y: {\n        stacked: true,\n        grid: {\n          color: \"rgba(255, 0, 0, 0.2)\", // This will change the gridline color\n          borderColor: \"rgb(240,255,240)\",\n        },\n        ticks: {\n          color: \"rgb(240,255,240)\", // This will change the axis text label color\n        },\n      },\n      x: {\n        stacked: true,\n        grid: {\n          color: \"rgba(255, 0, 0, 0.2)\", // This will change the gridline color\n        },\n        ticks: {\n          color: \"rgb(240,255,240)\", // This will change the axis text label color\n        },\n      },\n    },\n      }\n  });\n}\n\nfetchData();\n</script>\n`;\n\nreturn (\n  <div>\n    <iframe className=\"w-100\" style={{ height: \"300px\" }} srcDoc={code} />\n  </div>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/y3k.near/widget/widgets.external.monthlyCommitStats", "fact_widget_deployments_id": "7e73309e31a92b9bb4976246db218a49", "inserted_timestamp": "2000-01-01T00:00:00.000Z", "modified_timestamp": "2000-01-01T00:00:00.000Z", "__row_index": 0}