{"tx_hash": "A6cxWrYBEYzwqLxL4z57WNLwCnBDLjkyaApNmjzsqYPB", "action_id_social": "5v2hKzNZJhnLC2As5DLzLFDSaaVi8UekQVCKgh7tSa8E-0-widget", "block_id": 98815209, "block_timestamp": "2023-08-14T22:18:12.290Z", "signer_id": "y3k.near", "widget_name": "near_atlas.components.react_charts.MonthlyActiveAcounts", "source_code": "// let raw_data = fetch(\n//   \"https://api.flipsidecrypto.com/api/v2/queries/c493c7b1-cfcc-4aee-ad79-869b4ed8ca90/data/latest\",\n//   {\n//     subscribe: true,\n//     method: \"GET\",\n//     headers: {\n//       Accept: \"*/*\",\n//     },\n//   }\n// );\n\n// const r_data = raw_data.body || [];\n\n// const sortedData = r_data.sort((a, b) => {\n//   return new Date(a[\"DAY\"]) - new Date(b[\"DAY\"]);\n// });\n\n// const series1 = {\n//   label: \"RETURNING_MAAS\",\n//   data: sortedData.map((item) => {\n//     const date = new Date(item.DAY);\n//     const month = date.toLocaleString(\"default\", { month: \"long\" });\n//     const year = date.getFullYear();\n//     return {\n//       primary: item.DAY,\n//       secondary: Number(item.RETURNING_MAAS),\n//     };\n//   }),\n// };\n\n// const series2 = {\n//   label: \"NEW_MAAS\",\n//   data: sortedData.map((item) => {\n//     const date = new Date(item.DAY);\n//     const month = date.toLocaleString(\"default\", { month: \"long\" });\n//     const year = date.getFullYear();\n//     return {\n//       primary: item.DAY,\n//       secondary: Number(item.NEW_MAAS),\n//     };\n//   }),\n// };\n\n// function getWeekLabel(d) {\n//   // Convert the date string to a date object\n//   const date = new Date(d);\n\n//   // Calculate the week number\n//   const startOfYear = new Date(date.getFullYear(), 0, 1);\n//   const weekNumber = Math.ceil(\n//     ((date - startOfYear) / 86400000 + startOfYear.getDay() + 1) / 7\n//   );\n\n//   // Create the week label\n//   const weekLabel = `Week ${weekNumber}`;\n\n//   return weekLabel;\n// }\n\n// const primaryAxis = {\n//   type: \"time\",\n//   tickFormat: getWeekLabel,\n//   stacked: true,\n//   getValue: (datum) => datum.primary,\n// };\n\n// const secondaryAxes = [\n//   {\n//     // position: \"top\",\n//     // show: false,\n//     getValue: (datum) => datum.secondary,\n//     stacked: true,\n//     type: \"linear\",\n//   },\n// ];\n\n// const output = [series2, series1];\n\n// return (\n//   <div>\n//     <ReactChart\n//       chart_name=\"BarCustom\"\n//       data={output}\n//       options={{\n//         secondaryAxes: secondaryAxes,\n//         primaryAxis: primaryAxis,\n//         minHeight: \"600px\",\n//       }}\n//     />\n//   </div>\n// );\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/y3k.near/widget/near_atlas.components.react_charts.MonthlyActiveAcounts", "fact_widget_deployments_id": "4b91b9f9f71a9c4c38ba1a8f20f9d241", "inserted_timestamp": "2024-03-07T05:24:05.087Z", "modified_timestamp": "2024-03-07T05:24:05.087Z", "__row_index": 0}