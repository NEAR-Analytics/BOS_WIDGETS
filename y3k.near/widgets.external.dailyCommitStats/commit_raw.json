{"tx_hash": "JB9F2bMCA8iLuTUdkQXx8HWfM67RzNDPeQTECZrU37u7", "action_id_social": "GENz2jUfSE4zrJm1yKKUTr3YyU7XMVoRMAX5pte7sdAj-0-widget", "block_id": 96307753, "block_timestamp": "2023-07-12T15:19:10.606Z", "signer_id": "y3k.near", "widget_name": "widgets.external.dailyCommitStats", "source_code": "const code = `\n<script src=\"https://unpkg.com/react@18/umd/react.development.js\" crossorigin></script>\n<script src=\"https://unpkg.com/react-dom@18/umd/react-dom.development.js\" crossorigin></script>\n<script src=\"https://cdn.jsdelivr.net/npm/chart.js\"></script>\n\n<canvas id=\"myChart\" style=\"position: relative; height:80vh; width:80vw\"></canvas>\n\n<script>\n\nasync function fetchData() {\n  let response = await fetch(\n    \"https://api.flipsidecrypto.com/api/v2/queries/84e3bf99-a78b-4a0e-97af-e9af193ce868/data/latest\",\n    {\n      subscribe: true,\n      method: \"GET\",\n      headers: {\n        Accept: \"*/*\",\n      },\n    }\n  );\n  \n  let data = await response.json();\n  \n  const sortedData = data.sort((a, b) => {\n    return new Date(a[\"FULL_DATE\"]) - new Date(b[\"FULL_DATE\"]);\n  });\n\n  const commitCounts = sortedData.map(entry => entry[\"COMMITS_COUNT\"]);\n  const dates = sortedData.map(entry => entry[\"FULL_DATE\"]);\n\n  var ctx = document.getElementById('myChart').getContext('2d');\n  var myChart = new Chart(ctx, {\n      type: 'bar',\n      data: {\n          labels: dates,\n          datasets: [\n   {\n        label: \"COMMITS_COUNT\",\n        data: commitCounts,\n        backgroundColor: \"rgb(75, 192, 192)\",\n      },\n          ]\n      },\n      options: {\n  scales: {\n      y: {\n        stacked: true,\n        grid: {\n          color: \"rgba(255, 0, 0, 0.2)\", // This will change the gridline color\n          borderColor: \"rgb(240,255,240)\",\n        },\n        ticks: {\n          color: \"rgb(240,255,240)\", // This will change the axis text label color\n        },\n      },\n      x: {\n        stacked: true,\n        grid: {\n          color: \"rgba(255, 0, 0, 0.2)\", // This will change the gridline color\n        },\n        ticks: {\n          color: \"rgb(240,255,240)\", // This will change the axis text label color\n        },\n      },\n    },\n      }\n  });\n}\n\nfetchData();\n</script>\n`;\n\nreturn (\n  <div>\n    <iframe className=\"w-100\" style={{ height: \"300px\" }} srcDoc={code} />\n  </div>\n);\n", "metadata": null, "branch": {"draft": null}, "widget_modules_used": null, "widget_url": "https://near.social/#/y3k.near/widget/widgets.external.dailyCommitStats", "fact_widget_deployments_id": "d6760792fc46a5d489672ca95ba73ed5", "inserted_timestamp": "2000-01-01T00:00:00.000Z", "modified_timestamp": "2000-01-01T00:00:00.000Z", "__row_index": 1}