{"tx_hash": "ETbcg2514B6QpMhoWLfmPxnUhxFGXhvtCMiMh5xL2FN7", "action_id_social": "ELw4ya9tJ2Q5i88PfHGLcEueqj7797KESPZGhsTRAWhZ-0-widget", "block_id": 109908634, "block_timestamp": "2024-01-08T15:15:11.552Z", "signer_id": "y3k.near", "widget_name": "near_atlas.components.economy.tiles", "source_code": "let query_url_obj = [\n  {\n    name: \"Total Supply\",\n    url_address:\n      \"https://api.flipsidecrypto.com/api/v2/queries/96519cb2-cf4f-4065-bd56-5f45a4401eb1/data/latest\",\n  },\n  {\n    name: \"Circulating Supply\",\n    url_address:\n      \"https://api.flipsidecrypto.com/api/v2/queries/96519cb2-cf4f-4065-bd56-5f45a4401eb1/data/latest\",\n  },\n  {\n    name: \"Total Staked\",\n    url_address:\n      \"https://api.flipsidecrypto.com/api/v2/queries/a8fa2109-aed5-4d60-ae6e-cccda56852b5/data/latest\",\n  },\n  {\n    name: \"Active Validators\",\n    url_address:\n      \"https://api.flipsidecrypto.com/api/v2/queries/a8fa2109-aed5-4d60-ae6e-cccda56852b5/data/latest\",\n  },\n  {\n    name: \"Nakamoto Coefficient\",\n    url_address:\n      \"https://api.flipsidecrypto.com/api/v2/queries/dc95bb65-7ff4-4849-90b7-45b17cf3c165/data/latest\",\n  },\n];\n\nlet resultObject = {};\n\n// fetch data from url\nquery_url_obj.forEach((item) => {\n  let raw_data = fetch(item.url_address, {\n    subscribe: true,\n    method: \"GET\",\n    headers: {\n      Accept: \"*/*\",\n    },\n  });\n  // Note: without using async/await or .then(), you won't get the body directly\n  // so you may need additional handling here.\n  if (item.name == \"Nakamoto Coefficient\") {\n    resultObject[item.name] = raw_data.body || [];\n  } else {\n    resultObject[item.name] = raw_data.body || [];\n  }\n});\n\nconsole.log(resultObject[\"Nakamoto Coefficient\"][0][\"Nakamoto Coefficient\"]);\n\nreturn (\n  <div className=\"container mx-auto p-4 bg-gray-900 rounded-lg\">\n    <div className=\"flex space-x-4\">\n      <Widget\n        src=\"y3k.near/widget/near_atlas.components.tailwind.cardTile\"\n        props={{\n          Title: \"Total Supply\",\n          Stats: resultObject[\"Total Supply\"][0][\"Total Supply\"],\n        }}\n      />\n      <Widget\n        src=\"y3k.near/widget/near_atlas.components.tailwind.cardTile\"\n        props={{\n          Title: \"Circulating Supply\",\n          Stats: resultObject[\"Circulating Supply\"][0][\"Circulating Supply\"],\n        }}\n      />\n\n      <Widget\n        src=\"y3k.near/widget/near_atlas.components.tailwind.cardTile\"\n        props={{\n          Title: \"Total Staked\",\n          Stats: resultObject[\"Total Staked\"][0][\"Total Staked\"],\n        }}\n      />\n\n      <Widget\n        src=\"y3k.near/widget/near_atlas.components.tailwind.cardTile\"\n        props={{\n          Title: \"Active Validators\",\n          Stats: resultObject[\"Active Validators\"][0][\"Active Validators\"],\n        }}\n      />\n      <Widget\n        src=\"y3k.near/widget/near_atlas.components.tailwind.cardTile\"\n        props={{\n          Title: \"Nakamoto Coefficient\",\n          Stats:\n            resultObject[\"Nakamoto Coefficient\"][0][\"Nakamoto Coefficient\"],\n        }}\n      />\n    </div>\n  </div>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/y3k.near/widget/near_atlas.components.economy.tiles", "fact_widget_deployments_id": "cf37b2589ea8f4bac4edadccdaf8c7e2", "inserted_timestamp": "2024-03-07T05:24:05.087Z", "modified_timestamp": "2024-03-07T05:24:05.087Z", "__row_index": 2}