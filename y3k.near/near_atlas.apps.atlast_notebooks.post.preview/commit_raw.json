{"tx_hash": "Fuwir9svfgLHJdgAR9jWqv6T8ukuja7h3RPoSGAUBprU", "action_id_social": "5NhxFmbdAyN19wdmEqQa5drAodi3Xsmj6R3aqQ1GRtio-0-widget", "block_id": 103526330, "block_timestamp": "2023-10-16T18:22:58.477Z", "signer_id": "y3k.near", "widget_name": "near_atlas.apps.atlast_notebooks.post.preview", "source_code": "const accountId = props.accountId;\nconst blockHeight = parseInt(props.blockHeight);\nconst admins = props.admins;\nconst adminContract = \"admin.dev-support.near\";\n\nconst is_hidden = Near.view(adminContract, \"is_hidden\", {\n  id: { account_id: accountId, block_height: blockHeight },\n});\n\nif (is_hidden) {\n  return \"\";\n}\n\nconst notebook = JSON.parse(\n  Social.get(`${accountId}/notebook/y3k`, blockHeight) ?? \"null\"\n);\n\nconst testNotebook = JSON.parse(\n  Social.get(`${accountId}/notebook`, blockHeight) ?? \"null\"\n);\n\nconst link = `#/y3k.near/widget/near_atlas.apps.atlast_notebooks.post.page?accountId=${accountId}&blockHeight=${blockHeight}&adminContract=${adminContract}`;\n\nconst H2 = styled.h2`\n  font-size: 20px;\n  font-weight: 600;\n  color: #11181C;\n\n  a {\n    color: inherit;\n    transition: color .15s ease;\n    &:hover {\n      color: #30A46C;\n      text-decoration: none;\n\n      & + i {\n        visibility: visible;\n      }\n    }\n\n    & + i {\n      transition: visibility .1s ease-out;\n      visibility: hidden;\n      color: #30A46C;\n    }\n  }\n`;\nconst H6 = styled.h6`\n  font-size: 14px;\n  font-weight: 500;\n  color: #687076;\n`;\nconst Trancate = styled.span`\n  text-overflow: ellipsis;\n  overflow: hidden;\n`;\nconst TopicName = styled.span`\n  color: #006ADC;\n  font-weight: 500;\n  font-size: 14px;\n  white-space: nowrap;\n`;\nconst CardWrapper = styled.div`\n  z-index: 100;\n  padding: 6px;\n`;\nconst Card = styled.div`\n  display: flex;\n  flex-direction: column;\n  justify-content: stretch;\n  gap: 12px;\n  width: 275px;\n  border-radius: 12px;\n  z-index: 1070;\n  background: #fff;\n  border: 1px solid #eceef0;\n  box-shadow: 0 0 20px rgba(0, 0, 0, 0.2);\n  padding: 12px;\n`;\nconst Item = styled.div`\n  padding: 0;\n  .btn {\n    width: 100%;\n    text-align: left;\n    &:hover,\n    &:focus {\n      background-color: #ECEDEE;\n      text-decoration: none;\n      outline: none;\n    }\n\n    &.report-btn, &.hide-btn {\n      i {\n        color: #7E868C;\n      }\n    }\n    span {\n      font-weight: 500;\n    }\n  }\n`;\nreturn (\n  <div className=\"flex\">\n    <div className=\"hidden sm:block col-span-1\">\n      <a href={`#/near/widget/ProfilePage?accountId=${accountId}`}>\n        <Widget\n          src=\"dev-support.near/widget/ProfileImage\"\n          props={{\n            accountId,\n            imageClassName: \"rounded-circle w-100 h-100\",\n          }}\n        />\n      </a>\n    </div>\n    <div className=\"col-span-1 sm:col-span-2\">\n      <Widget\n        src=\"dev-support.near/widget/DevSupport.Question.Button.Upvote\"\n        props={{ accountId, blockHeight }}\n      />\n    </div>\n    <div className=\"col-span-10\">\n      <div className=\"grid grid-cols-1\">\n        <div className=\"grid grid-cols-1 sm:grid-cols-2\">\n          <div className=\"col-span-1\">\n            <H2>\n              <a href={link}>{question.title}</a>\n              <i className=\"bi bi-arrow-right\" />\n            </H2>\n            <p>{question.content.text}</p>\n          </div>\n          <div className=\"col-span-1 sm:col-span-1\">\n            <div className=\"dropdown justify-self-end\">\n              <button\n                className=\"btn border-0 p-0\"\n                type=\"button\"\n                data-bs-toggle=\"dropdown\"\n                aria-expanded=\"false\"\n              >\n                <i className=\"bi bi-three-dots\" />\n              </button>\n              <ul className=\"dropdown-menu\">\n                <li>\n                  <Item>\n                    <Widget\n                      src=\"dima_sheleg.near/widget/DevSupport.Question.Button.Flag\"\n                      props={{\n                        accountId,\n                        blockHeight,\n                        className: \"btn report-btn\",\n                      }}\n                    />\n                  </Item>\n                </li>\n                <li>\n                  <Item>\n                    {/* Delete widget */}\n                    <Widget\n                      src=\"dima_sheleg.near/widget/DevSupport.Question.Button.Delete\"\n                      props={{\n                        accountId,\n                        blockHeight,\n                        admins,\n                        adminContract,\n                        className: \"hide-btn\",\n                        text: \"Hide\",\n                      }}\n                    />\n                  </Item>\n                </li>\n              </ul>\n            </div>\n          </div>\n        </div>\n        <div className=\"grid grid-cols-1\">\n          <H6>\n            <div className=\"flex\">\n              <Trancate>\n                <a href={`#/near/widget/ProfilePage?accountId=${accountId}`}>\n                  {accountId}\n                </a>\n              </Trancate>{\" \"}\n              &nbsp;in&nbsp;\n              <TopicName>\n                <Widget\n                  src=\"y3k.near/widget/near_atlas.apps.atlast_notebooks.post.labels\"\n                  props={{ labels: question.labels }}\n                />\n              </TopicName>\n              &nbsp;&#8226;&nbsp;\n              <Widget src=\"mob.near/widget/TimeAgo\" props={{ blockHeight }} />\n              &nbsp;ago\n            </div>\n          </H6>\n        </div>\n      </div>\n      <div className=\"grid grid-cols-1\">\n        <div className=\"col-span-1\">\n          <Widget\n            src=\"y3k.near/widget/near_atlas.apps.atlast_notebooks.comment.repliesButton\"\n            props={{ accountId, blockHeight, adminContract, link }}\n          />\n        </div>\n      </div>\n    </div>\n  </div>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/y3k.near/widget/near_atlas.apps.atlast_notebooks.post.preview", "fact_widget_deployments_id": "b68e8dc12dd2771040644de2e9a84d95", "inserted_timestamp": "2024-03-07T05:24:05.087Z", "modified_timestamp": "2024-03-07T05:24:05.087Z", "__row_index": 0}