{"tx_hash": "Cw65Q57hPSDBYQMSDpH8Y5iqhnRLag9oM3qVtw2pZQFr", "action_id_social": "8Fx9kenjea8iu9Tvc9B7sWxsPygeikeoTonixQgowvJZ-0-widget", "block_id": 96387999, "block_timestamp": "2023-07-13T16:20:56.361Z", "signer_id": "y3k.near", "widget_name": "widgets.external.dailyDevStats", "source_code": "const code = `\n<script src=\"https://unpkg.com/react@18/umd/react.development.js\" crossorigin></script>\n<script src=\"https://unpkg.com/react-dom@18/umd/react-dom.development.js\" crossorigin></script>\n<script src=\"https://cdn.jsdelivr.net/npm/chart.js\"></script>\n\n<canvas id=\"myChart\" style=\"position: relative; height:80vh; width:80vw\"></canvas>\n\n<script>\n\nasync function fetchData() {\n  let response = await fetch(\n    \"https://api.flipsidecrypto.com/api/v2/queries/9af0e6b4-e764-460b-a0af-a36a920c76df/data/latest\",\n    {\n        subscribe: true,\n        method: \"GET\",\n        headers: {\n        Accept: \"*/*\",\n        },\n    }\n    );\n  \n  let data = await response.json();\n  \n  \nconst sortedData = data.sort((a, b) => {\n  return new Date(a[\"FULL_DATE\"]) - new Date(b[\"FULL_DATE\"]);\n});\n\nconst DEVS = {};\n\ndata.map((entry) => {\n  DEVS[entry[\"FULL_DATE\"]] = entry[\"DEVS\"];\n});\n\nconst dates = data.map((entry) => entry[\"FULL_DATE\"]);\n\n  var ctx = document.getElementById('myChart').getContext('2d');\n  var myChart = new Chart(ctx, {\n      type: 'bar',\n      data: {\n          labels: dates,\n          datasets: [\n   {\n    label: \"DEVS\",\n      data: DEVS,\n        backgroundColor: \"rgb(75, 192, 192)\",\n      },\n          ]\n      },\n      options: {\n  scales: {\n      y: {\n        stacked: true,\n        grid: {\n          color: \"rgba(255, 0, 0, 0.2)\", // This will change the gridline color\n          borderColor: \"rgb(240,255,240)\",\n        },\n        ticks: {\n          color: \"rgb(0,0,0)\", // This will change the axis text label color\n        },\n      },\n      x: {\n        stacked: true,\n        grid: {\n          color: \"rgba(255, 0, 0, 0.2)\", // This will change the gridline color\n        },\n        ticks: {\n          color: \"rgb(0,0,0)\", // This will change the axis text label color\n        },\n      },\n    },\n      }\n  });\n}\n\nfetchData();\n</script>\n`;\n\nreturn (\n  <div>\n    <iframe className=\"w-100\" style={{ height: \"300px\" }} srcDoc={code} />\n  </div>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/y3k.near/widget/widgets.external.dailyDevStats", "fact_widget_deployments_id": "73d0e9bb14735b1c1f3e08d7b73932e2", "inserted_timestamp": "2000-01-01T00:00:00.000Z", "modified_timestamp": "2000-01-01T00:00:00.000Z", "__row_index": 0}