{"tx_hash": "GzUhQxxwRMC1apSWXGghEU5b1Uu4ACDZpJ4SDP9Lr72s", "action_id_social": "DxJiNyPGnecUZ7aAz8e6deKmZkWr243bTvq69PNzWdi4-0-widget", "block_id": 101412306, "block_timestamp": "2023-09-18T16:23:51.327Z", "signer_id": "y3k.near", "widget_name": "near_atlas.vis.total_staked", "source_code": "let static_file_param = \"near_supply_staking.csv\";\n// Monthly Active Accounts Example\n// Monthly Active Accounts Example\nlet rawData = fetch(\n  \"https://api.flipsidecrypto.com/api/v2/queries/d9b8ce55-84eb-4497-a824-ae7c738052da/data/latest\",\n  {\n    subscribe: true,\n    method: \"GET\",\n    headers: {\n      Accept: \"*/*\",\n    },\n  }\n);\n\nconst data = rawData.body || [];\n\nlet Style = styled.div`\n                `;\n\n//console.log(rawData);\n// data available\n\nconst total_staked = {};\n\nconst sortedData = data.sort(\n  (a, b) => new Date(a[\"Date\"]) - new Date(b[\"Date\"])\n);\n\nsortedData.map((entry) => {\n  total_staked[entry[\"Date\"]] = entry[\"Staked Supply\"];\n});\n\nconst dates = data.map((entry) => entry[\"Date\"]);\n\nconst area_chart_data = {\n  dates,\n  datasets: [\n    {\n      type: \"line\",\n      fill: true,\n      label: \"Total Staked\",\n      borderWidth: 2,\n\n      borderColor: \"#fbaf53\",\n      backgroundColor: \"rgb(250,164,58)\",\n      data: total_staked,\n    },\n  ],\n};\n\nconst stacked_options = {\n  maintainAspectRatio: true,\n  plugins: {\n    legend: {\n      display: true,\n      position: \"bottom\",\n    },\n  },\n  scales: {\n    y: {\n      grid: {\n        color: \"rgb(41,51,64)\", // This will change the gridline color\n        borderColor: \"rgb(240,255,240)\",\n      },\n      ticks: {\n        color: \"rgb(240,255,240)\", // This will change the axis text label color\n      },\n    },\n    x: {\n      grid: {\n        color: \"rgb(41,51,64)\", // This will change the gridline color\n      },\n      ticks: {\n        color: \"rgb(240,255,240)\", // This will change the axis text label color\n      },\n    },\n  },\n};\n\nreturn (\n  <Style>\n    <div className=\"text-bg-dark rounded-4 p-3 mb-4\">\n      {data !== null ? (\n        <p>\n          <LineEl data={area_chart_data} options={stacked_options} />\n        </p>\n      ) : (\n        <div>Loading ...</div>\n      )}\n    </div>\n  </Style>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/y3k.near/widget/near_atlas.vis.total_staked", "fact_widget_deployments_id": "37a600a75b375fcdde2d194f2f11585b", "inserted_timestamp": "2023-09-18T18:27:03.336Z", "modified_timestamp": "2023-09-18T18:27:03.336Z", "__row_index": 3}