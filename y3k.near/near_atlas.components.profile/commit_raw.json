{"tx_hash": "8cTJtt5TmWRTTUT7ocpBPTNkzRvabvYTFkQ43vqhhhWY", "action_id_social": "9PGmMwYpxTv8q5ZAngYs4RHhUzGVwUDTZEJTcLv37FE5-0-widget", "block_id": 106871457, "block_timestamp": "2023-11-30T14:23:42.788Z", "signer_id": "y3k.near", "widget_name": "near_atlas.components.profile", "source_code": "const accountId = props.accountId ?? context.accountId;\nif (!accountId) {\n  return \"No account ID\";\n}\nconst fast = !!props.fast;\n\nconst link =\n  props.link &&\n  (props.link === true\n    ? `https://near.social/mob.near/widget/ProfilePage?accountId=${accountId}`\n    : props.link);\n\nconst profile = props.profile ?? Social.getr(`${accountId}/profile`);\n\nif (profile === null) {\n  return \"Loading\";\n}\n\nconst showEditButton =\n  profile !== undefined &&\n  (!props.profile || props.showEditButton) &&\n  accountId &&\n  accountId === context.accountId;\n\nconst name = profile.name || \"No-name profile\";\nconst image = profile.image;\nconst backgroundImage = profile.backgroundImage;\nconst tags = Object.keys(profile.tags ?? {});\n\nconst nameHeader = <h4 className=\"mt-0 mb-0 truncate\">{name}</h4>;\n\nreturn (\n  <div className=\"bg-white shadow-md rounded overflow-hidden\">\n    <div className=\"px-4 pt-0 pb-5 bg-gray-800 relative\">\n      {backgroundImage && (\n        <Widget\n          src=\"mob.near/widget/Image\"\n          props={{\n            image: backgroundImage,\n            alt: \"profile background\",\n            className: \"position-absolute w-100 h-100\",\n            style: { objectFit: \"cover\", left: 0, top: 0 },\n            fallbackUrl:\n              \"https://ipfs.near.social/ipfs/bafkreibmiy4ozblcgv3fm3gc6q62s55em33vconbavfd2ekkuliznaq3zm\",\n          }}\n          className=\"absolute inset-0 w-full h-full object-cover\"\n        />\n      )}\n      {showEditButton && (\n        <a\n          href=\"#/mob.near/widget/ProfileEditor\"\n          className=\"btn mt-4 text-white float-right relative z-10\"\n        >\n          Edit profile\n        </a>\n      )}\n      <div\n        className=\"profile-picture inline-block\"\n        style={{ transform: \"translateY(28px)\" }}\n      >\n        <Widget\n          src=\"mob.near/widget/ProfileImage\"\n          props={{\n            profile,\n            fast,\n            accountId,\n            style: { width: \"10rem\", height: \"10rem\" },\n            className: \"mb-2\",\n            imageClassName: \"rounded-full w-full h-full object-cover block\",\n            thumbnail: false,\n          }}\n          className=\"mb-2 rounded-full w-40 h-40\"\n        />\n      </div>\n    </div>\n    <div className=\"bg-gray-100 px-4 pb-4\">\n      <div className=\"flex justify-between pt-3 mb-2\">\n        <div className=\"pt-12\">\n          <div className=\"flex gap-1 items-center\">\n            <div className=\"relative\">\n              {link ? (\n                <a className=\"truncate text-black\" href={link}>\n                  {nameHeader}\n                </a>\n              ) : (\n                nameHeader\n              )}\n              <div className=\"text-xs truncate\">\n                <i className=\"bi bi-person-fill text-secondary\"></i>\n                {accountId}\n                <Widget\n                  src=\"mob.near/widget/CopyButton\"\n                  props={{\n                    text: accountId,\n                    className: \"btn btn-sm btn-outline-dark border-0\",\n                  }}\n                />\n                <Widget\n                  src=\"mob.near/widget/FollowsYouBadge\"\n                  props={{ accountId }}\n                />\n              </div>\n            </div>\n            <div>\n              <Widget\n                src=\"mob.near/widget/FollowButton\"\n                props={{ accountId }}\n              />\n              <Widget src=\"mob.near/widget/PokeButton\" props={{ accountId }} />\n            </div>\n          </div>\n          <div>\n            <Widget src=\"mob.near/widget/FollowStats\" props={{ accountId }} />\n          </div>\n        </div>\n        <div className=\"min-w-[12rem]\">\n          <Widget\n            src=\"mob.near/widget/LinkTree\"\n            props={{ linktree: profile.linktree }}\n          />\n        </div>\n      </div>\n\n      {tags.length > 0 && (\n        <div>\n          {tags.map((tag, i) => (\n            <span\n              key={i}\n              className=\"me-1 mb-1 font-light border border-gray-400 text-black-100\"\n            >\n              #{tag}\n            </span>\n          ))}\n        </div>\n      )}\n\n      <div>\n        <div className=\"float-right\">\n          <Widget\n            src=\"mob.near/widget/CopyButton\"\n            props={{\n              text: link,\n              label: \"Share\",\n              clipboardIcon: <i className=\"bi bi-share\" />,\n            }}\n          />\n        </div>\n        <div className=\"public-tags collapse show\">\n          <button\n            className=\"btn btn-sm btn-outline-gray-400 border-0\"\n            data-bs-toggle=\"collapse\"\n            data-bs-target={`.public-tags`}\n            aria-expanded=\"false\"\n            aria-controls={\"public-tags\"}\n          >\n            <i className=\"bi bi-arrows-angle-expand me-1\"></i>Show public tags\n          </button>\n        </div>\n        <div className=\"collapse public-tags\">\n          <Widget src=\"mob.near/widget/PublicTags\" props={{ accountId }} />\n        </div>\n      </div>\n    </div>\n  </div>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/y3k.near/widget/near_atlas.components.profile", "fact_widget_deployments_id": "f5f576a9445657ea9b65c83fba9be5bd", "inserted_timestamp": "2023-11-30T15:41:03.051Z", "modified_timestamp": "2023-12-20T02:50:47.065Z", "__row_index": 6}