{"tx_hash": "8BVkHauVoxED5NQWzZU15HKXkEEJ7VzNjvjzL9k5AM4T", "action_id_social": "Fj8Q4Ft1BL7axKtxaGDr2DAsEryUpKBtdkQHfpd1Tcr-0-widget", "block_id": 100674265, "block_timestamp": "2023-09-08T16:43:29.493Z", "signer_id": "y3k.near", "widget_name": "near_atlas.components.vis.total_wallets", "source_code": "// Monthly Active Accounts Example\n// Monthly Active Accounts Example\nlet raw_data = fetch(\n  \"https://api.flipsidecrypto.com/api/v2/queries/91b91aba-f307-48c9-9731-c3d475838f1f/data/latest\",\n  {\n    subscribe: true,\n    method: \"GET\",\n    headers: {\n      Accept: \"*/*\",\n    },\n  }\n);\n\nconst data = raw_data.body || [];\n\nlet Style = styled.div`\n                `;\n\n// logic start\n\nconst sortedData = data.sort((a, b) => {\n  return new Date(a[\"DAY\"]) - new Date(b[\"DAY\"]);\n});\n\nconst WALLETS_CREATED = {};\nconst TOTAL_WALLETS = {};\n\ndata.map((entry) => {\n  WALLETS_CREATED[entry[\"DAY\"]] = entry[\"WALLETS_CREATED\"];\n  TOTAL_WALLETS[entry[\"DAY\"]] = entry[\"TOTAL_WALLETS\"];\n});\n\n// console.log(data);\n// console.log(TOTAL_WALLETS);\n\nconst dates = data.map((entry) => entry[\"DAY\"]);\n\n// console.log(processedData);\n\n// logic part-2\n\n// const stacked_options = {\n//   maintainAspectRatio: true,\n//   plugins: {\n//     legend: {\n//       display: true,\n//       position: \"bottom\",\n//     },\n//   },\n//   scales: {\n//     y: {\n//       stacked: true,\n//       grid: {\n//         color: \"rgb(41,51,64)\", // This will change the gridline color\n//         borderColor: \"rgb(240,255,240)\",\n//       },\n//       ticks: {\n//         color: \"rgb(240,255,240)\", // This will change the axis text label color\n//       },\n//     },\n//     x: {\n//       stacked: true,\n//       grid: {\n//         color: \"rgb(41,51,64)\", // This will change the gridline color\n//       },\n//       ticks: {\n//         color: \"rgb(240,255,240)\", // This will change the axis text label color\n//       },\n//     },\n//   },\n// };\n\nconst stacked_options = {\n  responsive: true,\n  interaction: {\n    mode: \"index\",\n    intersect: false,\n  },\n  stacked: false,\n  plugins: {\n    title: {\n      display: true,\n    },\n  },\n  scales: {\n    y: {\n      type: \"linear\",\n      display: true,\n      position: \"left\",\n      grid: {\n        color: \"rgb(41,51,64)\", // This will change the gridline color\n      },\n      ticks: {\n        color: \"rgb(240,255,240)\", // This will change the axis text label color\n      },\n    },\n    y1: {\n      type: \"linear\",\n      display: true,\n      position: \"right\",\n\n      ticks: {\n        color: \"rgb(240,255,240)\", // This will change the axis text label color\n      },\n      grid: {\n        drawOnChartArea: false,\n        color: \"rgb(41,51,64)\", // This will change the gridline color\n      },\n    },\n  },\n};\n\nconst stacked_bar_data = {\n  dates,\n  datasets: [\n    {\n      label: \"Wallets Created\",\n      data: WALLETS_CREATED,\n      backgroundColor: \"rgb(250,164,58)\",\n      yAxisID: \"y1\",\n    },\n    {\n      label: \"Total Wallets\",\n      data: TOTAL_WALLETS,\n      backgroundColor: \"rgb(13,131,171)\",\n      yAxisID: \"y\",\n    },\n  ],\n};\n\nreturn (\n  <Style>\n    <div className=\"text-bg-dark rounded-4 p-3 mb-4\">\n      {data !== null ? (\n        <div>\n          <BarEl options={stacked_options} data={stacked_bar_data} />\n        </div>\n      ) : (\n        <div>Loading ...</div>\n      )}\n    </div>\n  </Style>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/y3k.near/widget/near_atlas.components.vis.total_wallets", "fact_widget_deployments_id": "17782b64040e8107f88a3f6cec3d2346", "inserted_timestamp": "2023-09-08T18:39:45.698Z", "modified_timestamp": "2023-09-08T18:39:45.698Z", "__row_index": 4}