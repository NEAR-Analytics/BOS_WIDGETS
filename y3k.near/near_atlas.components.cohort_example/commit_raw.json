{"tx_hash": "G1yGoLSG7BQBwgb5krGWjQcuYJpYyQreSGMzhCqmT51Q", "action_id_social": "F2fmsXTqLZzwGquUsVhibR38R5xgLDnFUr1s3uiJGEnU-0-widget", "block_id": 102548056, "block_timestamp": "2023-10-03T20:36:00.888Z", "signer_id": "y3k.near", "widget_name": "near_atlas.components.cohort_example", "source_code": "let rawData;\n\ntry {\n  rawData = fetch(\n    \"https://api.flipsidecrypto.com/api/v2/queries/cda79e6a-1379-41df-9a90-b2eb18022280/data/latest\",\n    {\n      method: \"GET\",\n      headers: {\n        Accept: \"*/*\",\n      },\n    }\n  );\n} catch (e) {\n  console.error(\"Error fetching data:\", e);\n}\n\nconst data = (rawData && rawData.body) || [];\n\nconst transformData = (dataArray) => {\n  const result = dataArray.map((item) => ({\n    CREATED_MONTH: item.CREATED_MONTH,\n    MONTHS_SINCE: item.MONTHS_SINCE,\n    COHORT_SIZE: item.COHORT_SIZE,\n    ACTIVE_USERS: item.ACTIVE_USERS,\n    RETENTION_RATE: item.RETENTION_RATE,\n    include: true,\n  }));\n  return result;\n};\n\n// const transforedmData = transformData(data);\n// const transformedData = transformData(data);\n\n// console.log(transforedmData);\nconst data_sample = [\n  {\n    CREATED_MONTH: \"2022-09-01\",\n    MONTHS_SINCE: 0,\n    COHORT_SIZE: 962848,\n    ACTIVE_USERS: 962848,\n    RETENTION_RATE: 1,\n    include: true,\n  },\n  {\n    CREATED_MONTH: \"2022-09-01\",\n    MONTHS_SINCE: 1,\n    COHORT_SIZE: 962848,\n    ACTIVE_USERS: 439722,\n    RETENTION_RATE: 0.456689,\n    include: true,\n  },\n];\n\nfunction getColorForRetentionRate(rate) {\n  if (rate <= 0.1) return \"bg-teal-200\";\n  if (rate <= 0.2) return \"bg-teal-300\";\n  if (rate <= 0.3) return \"bg-teal-400\";\n  if (rate <= 0.4) return \"bg-teal-500\";\n  if (rate <= 0.5) return \"bg-teal-600\";\n  if (rate <= 0.6) return \"bg-teal-700\";\n  if (rate <= 0.7) return \"bg-teal-800\";\n  if (rate <= 0.8) return \"bg-teal-900\";\n  if (rate <= 0.9) return \"bg-teal-1000\"; // This isn't an official Tailwind color, adjust as needed\n  return \"bg-teal-1100\"; // This isn't an official Tailwind color, adjust as needed\n}\n\nconst rawData2 = [\n  {\n    CREATED_MONTH: \"2022-09-01\",\n    MONTHS_SINCE: 0,\n    COHORT_SIZE: 962848,\n    ACTIVE_USERS: 962848,\n    RETENTION_RATE: 1,\n  },\n  {\n    CREATED_MONTH: \"2022-09-01\",\n    MONTHS_SINCE: 1,\n    COHORT_SIZE: 962848,\n    ACTIVE_USERS: 439722,\n    RETENTION_RATE: 0.456689,\n  },\n  {\n    CREATED_MONTH: \"2022-09-01\",\n    MONTHS_SINCE: 2,\n    COHORT_SIZE: 962848,\n    ACTIVE_USERS: 332678,\n    RETENTION_RATE: 0.345515,\n  },\n  {\n    CREATED_MONTH: \"2022-09-01\",\n    MONTHS_SINCE: 3,\n    COHORT_SIZE: 962848,\n    ACTIVE_USERS: 269995,\n    RETENTION_RATE: 0.280413,\n  },\n  {\n    CREATED_MONTH: \"2022-09-01\",\n    MONTHS_SINCE: 4,\n    COHORT_SIZE: 962848,\n    ACTIVE_USERS: 331134,\n    RETENTION_RATE: 0.343911,\n  },\n  {\n    CREATED_MONTH: \"2022-09-01\",\n    MONTHS_SINCE: 5,\n    COHORT_SIZE: 962848,\n    ACTIVE_USERS: 255028,\n    RETENTION_RATE: 0.264868,\n  },\n];\n\nconst newData = data.map((item) => ({\n  ...item,\n  include: true,\n}));\n\nreturn (\n  <div>\n    <CohortEl data={newData} />\n  </div>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/y3k.near/widget/near_atlas.components.cohort_example", "fact_widget_deployments_id": "9655bcae8bfadd4b6d2fe032f34e9bfc", "inserted_timestamp": "2023-10-03T22:33:10.963Z", "modified_timestamp": "2023-10-03T22:33:10.963Z", "__row_index": 2}