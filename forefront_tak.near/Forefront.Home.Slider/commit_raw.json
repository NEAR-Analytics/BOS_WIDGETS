{"tx_hash": "HLvby92ED41SmLhse3MYbTsQjanybFr3CCeJVcaUbs3i", "action_id_social": "Fcf7aYdFTFU7ULe7gtgKddw4dGCXVHawaq54sVYq6PyX-0-widget", "block_id": 111685751, "block_timestamp": "2024-01-30T11:24:59.776Z", "signer_id": "forefront_tak.near", "widget_name": "Forefront.Home.Slider", "source_code": "State.init({\r\n  slide: [],\r\n  whichSlide: 0,\r\n});\r\n\r\nconst data = fetch(\r\n  `https://api.flipsidecrypto.com/api/v2/queries/42e5121a-c5e6-48ec-91fb-1492e31d095c/data/latest`\r\n);\r\n\r\nlet tableRows = [];\r\nfor (let i = 0; i < 4; i++) {\r\n  const frank = data.body[i];\r\n  //some avatarUrl are Null , so replace Nulls with the avatar below\r\n  let avatarUrl;\r\n  console.log(data.body);\r\n  if (frank.avatarUrl) {\r\n    avatarUrl = frank.avatarUrl;\r\n  } else {\r\n    avatarUrl = \"https://s2.coinmarketcap.com/static/img/coins/64x64/6535.png\";\r\n  }\r\n\r\n  // shorten the title that are more than 28 char\r\n  let title;\r\n\r\n  if (frank.title.length > 28) {\r\n    title = frank.title.substring(0, 28) + \"...\";\r\n  } else {\r\n    title = frank.title;\r\n  }\r\n\r\n  // shorten the descriptions that are more than 70 char\r\n  let description;\r\n\r\n  if (frank.description.length > 70) {\r\n    description = frank.description.substring(0, 70) + \"...\";\r\n  } else if (frank.description.length < 1) {\r\n    description =\r\n      \"No description found, please open the dashboard to see more information.\";\r\n  } else {\r\n    description = frank.description;\r\n  }\r\n\r\n  // some screenshotUrl are Null, so replace the image below with Null\r\n  let screenshotUrl;\r\n\r\n  if (frank.screenshotUrl) {\r\n    screenshotUrl = frank.screenshotUrl;\r\n  } else {\r\n    screenshotUrl = \"https://i.postimg.cc/GtQ9pFK3/sdsdad.png\";\r\n  }\r\n\r\n  //some usernames are long, use this part to substring the first part and last part of usernames (4 first char+...+last 4 char)\r\n  let username;\r\n\r\n  if (frank.username.length > 15) {\r\n    username =\r\n      frank.username.substring(0, 4) + \"...\" + frank.username.substring(38, 42);\r\n  } else if (frank.username.length < 1) {\r\n    username =\r\n      \"No description found, please open the dashboard to see more information.\";\r\n  } else {\r\n    username = frank.username;\r\n  }\r\n\r\n  //make the Single digit to double digit (just for number < 10 )\r\n  let number;\r\n\r\n  if (i + pageto + 1 <= 9) {\r\n    number = \"0\" + (pageto + i + 1);\r\n  } else {\r\n    number = pageto + i + 1;\r\n  }\r\n\r\n  // turn data into (month + year) format\r\n  let date = new Date(frank.createdAt);\r\n  let monthNames = [\r\n    \"Jan\",\r\n    \"Feb\",\r\n    \"Mar\",\r\n    \"Apr\",\r\n    \"May\",\r\n    \"Jun\",\r\n    \"Jul\",\r\n    \"Aug\",\r\n    \"Sep\",\r\n    \"Oct\",\r\n    \"Nov\",\r\n    \"Dec\",\r\n  ];\r\n  let month = monthNames[date.getMonth()];\r\n  let year = date.getFullYear();\r\n  let createdAt;\r\n  createdAt = month + \" \" + year;\r\n\r\n  tableRows.push({\r\n    ...frank,\r\n\r\n    number: number,\r\n    username: username,\r\n    screenshotUrl: screenshotUrl,\r\n    description: description,\r\n    title: title,\r\n    avatarUrl: avatarUrl,\r\n  });\r\n}\r\n\r\nconst updateSlide = (table) =>\r\n  State.update({\r\n    slide: table,\r\n  });\r\n\r\nconst updateWhichSlide = (val) =>\r\n  State.update({\r\n    whichSlide: val,\r\n  });\r\n\r\nupdateSlide(tableRows);\r\n\r\nconst changeSlide = (type) => {\r\n  let whichSlide = state.whichSlide;\r\n\r\n  if (type == \"right\") {\r\n    if (whichSlide <= 2) {\r\n      whichSlide = whichSlide + 1;\r\n    } else {\r\n      whichSlide = 0;\r\n    }\r\n  } else {\r\n    if (whichSlide == 0) {\r\n      whichSlide = 3;\r\n    } else {\r\n      whichSlide = state.whichSlide - 1;\r\n    }\r\n  }\r\n  updateWhichSlide(whichSlide);\r\n};\r\n\r\nconst parentStyle = {\r\n  background: props.backgroundColor,\r\n  borderRadius: \"25px\",\r\n  color: \"white\",\r\n  maxWidth: \"400px\",\r\n  minHeight: \"300px\",\r\n  position: \"relative\",\r\n  top: \"0\",\r\n  color: props.textColor,\r\n  textDecoration: \"none\",\r\n  border: \"black\",\r\n  \"box-shadow\": \"0px 0px 10px -1px  #806ce1\",\r\n};\r\n\r\nconst linkStyle = {\r\n  color: props.linkColor,\r\n  textDecoration: \"none\",\r\n};\r\nconst imageSectionStyle = {\r\n  width: \"100%\",\r\n  height: \"200px\",\r\n  borderRadius: \"25px 25px 0 0\",\r\n};\r\n\r\nconst contentSection = {\r\n  padding: \"0 25px 0 25px\",\r\n};\r\n\r\nconst avatarSection = {\r\n  display: \"flex\",\r\n};\r\n\r\nconst avatarSpan = {\r\n  margin: \"10px\",\r\n  textDecoration: \"none\",\r\n  textColor: `${props.textColor}!important`,\r\n};\r\n\r\nconst avatarImage = {\r\n  maxWidth: \"100px\",\r\n  maxHeight: \"100px\",\r\n  borderRadius: \"20px\",\r\n  marginTop: \"-30px\",\r\n  padding: 10,\r\n  \"background-color\": \"#8EC5FC\",\r\n  \"background-image\": \"linear-gradient(62deg, #8EC5FC 0%, #E0C3FC 100%)\",\r\n};\r\n\r\nconst arrowRight = {\r\n  position: \"absolute\",\r\n  top: \"50%\",\r\n  right: \"-13px\",\r\n  background: \"white\",\r\n  textAlign: \"center\",\r\n  minWidth: \"30px\",\r\n  minHeight: \"30px\",\r\n  borderRadius: \"25px\",\r\n  border: \"#806ce1 1px solid\",\r\n  cursor: \"pointer\",\r\n  \"box-shadow\": \"0px 0px 10px -1px #806ce1\",\r\n};\r\n\r\nconst arrowLeft = {\r\n  position: \"absolute\",\r\n  top: \"50%\",\r\n  left: \"-13px\",\r\n  background: \"white\",\r\n  textAlign: \"center\",\r\n  minWidth: \"30px\",\r\n  minHeight: \"30px\",\r\n  borderRadius: \"25px\",\r\n  border: \"#806ce1 1px solid\",\r\n  cursor: \"pointer\",\r\n  \"box-shadow\": \"0px 0px 10px -1px #806ce1\",\r\n};\r\nconst titleStyle = {\r\n  textDecoration: \"none\",\r\n  color: `${props.titleColor}`,\r\n};\r\nconst description = {\r\n  display: \"flex\",\r\n  textAlign: \"left\",\r\n};\r\n\r\nconst descriptionParaghraph = {\r\n  width: \"90%\",\r\n  height: \"80px\",\r\n};\r\nreturn (\r\n  <div>\r\n    <div>\r\n      {state.slide.map((frank, index) => {\r\n        return (\r\n          <>\r\n            {index == state.whichSlide ? (\r\n              <div style={parentStyle}>\r\n                <div style={arrowRight} onClick={() => changeSlide(\"right\")}>\r\n                  <svg\r\n                    xmlns=\"http://www.w3.org/2000/svg\"\r\n                    height=\"1em\"\r\n                    viewBox=\"0 0 448 512\"\r\n                  >\r\n                    <path d=\"M438.6 278.6c12.5-12.5 12.5-32.8 0-45.3l-160-160c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L338.8 224 32 224c-17.7 0-32 14.3-32 32s14.3 32 32 32l306.7 0L233.4 393.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l160-160z\" />\r\n                  </svg>\r\n                </div>\r\n                <div style={arrowLeft} onClick={changeSlide}>\r\n                  <svg\r\n                    xmlns=\"http://www.w3.org/2000/svg\"\r\n                    height=\"1em\"\r\n                    viewBox=\"0 0 448 512\"\r\n                  >\r\n                    <path d=\"M9.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.2 288 416 288c17.7 0 32-14.3 32-32s-14.3-32-32-32l-306.7 0L214.6 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160z\" />\r\n                  </svg>\r\n                </div>\r\n\r\n                <div style={imageSectionStyle}>\r\n                  <a style={linkStyle} href={frank.url} target=\"_blank\">\r\n                    <img style={imageSectionStyle} src={frank.screenshotUrl} />\r\n                  </a>\r\n                </div>\r\n                <div style={contentSection}>\r\n                  <div style={avatarSection}>\r\n                    <span style={avatarSpan}>\r\n                      <a href={`https://flipsidecrypto.xyz/${frank.username}`}>\r\n                        <img style={avatarImage} src={frank.avatarUrl} />\r\n                      </a>\r\n                    </span>\r\n                    <span style={avatarSpan}>\r\n                      <a href={frank.url} style={titleStyle}>\r\n                        <h5> {frank.title}</h5>\r\n                      </a>\r\n                      <a\r\n                        style={linkStyle}\r\n                        href={`https://flipsidecrypto.xyz/${frank.username}`}\r\n                        target=\"_blank\"\r\n                      >\r\n                        {frank.createdAt}\r\n                      </a>\r\n                    </span>\r\n                  </div>\r\n                  <div style={description}>\r\n                    <p style={descriptionParaghraph}> {frank.description}</p>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            ) : null}\r\n          </>\r\n        );\r\n      })}\r\n    </div>\r\n  </div>\r\n);\r\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/forefront_tak.near/widget/Forefront.Home.Slider", "fact_widget_deployments_id": "364bb9cfc3ce67ec5ce56ba70d0d417a", "inserted_timestamp": "2024-03-07T05:24:05.087Z", "modified_timestamp": "2024-03-07T05:24:05.087Z", "__row_index": 0}