{"tx_hash": "AR4yfEpSVmKjpYkAjdHdUqbQLQRxP8o3XHUXuLfbKhE", "action_id_social": "3AnKiqbY4pmYNrTigAHVuYPuWM4wAcoPrn31NYHDAWjd-0-widget", "block_id": 116069580, "block_timestamp": "2024-04-03T20:38:59.603Z", "signer_id": "flowscience.near", "widget_name": "testnet-social-interface", "source_code": "const [text_input, setTextInput] = useState(\"\");\r\nconst [state, setState] = useState(State.value);\r\n\r\nState.init({\r\n  testnetId: \"\",\r\n  targetPath: \"\",\r\n  update: (newValue) => {\r\n    State.value = newValue;\r\n  },\r\n});\r\n\r\nconst testnetConfig = {\r\n  networkId: \"testnet\",\r\n  nodeUrl: \"https://rpc.testnet.near.org\",\r\n  walletUrl: \"https://testnet.mynearwallet.com/\",\r\n  contractName: \"v1.social08.testnet\", // Update contractName based on your contract\r\n};\r\n\r\nconst testLogin = () => {\r\n  Near.connect(testnetConfig);\r\n};\r\n\r\nconst testCall = () => {\r\n  Near.call(\"v1.social08.testnet\", \"set\", {\r\n    data: { text_input },\r\n  });\r\n};\r\n\r\nconst testView = () => {\r\n  Near.view(\"v1.social08.testnet\", \"get\")\r\n    .then((result) => {\r\n      State.update(result);\r\n      setState(result);\r\n    })\r\n    .catch((error) => {\r\n      console.error(\"Error getting data:\", error);\r\n    });\r\n};\r\n\r\nconst handleInputChange = (event) => {\r\n  setTextInput(event.target.value);\r\n};\r\n\r\nreturn (\r\n  <div>\r\n    <h2>socialDB Testnet Interface</h2>\r\n    <i>Note: this component isn't calling the testnet contract properly yet.</i>\r\n    <p />\r\n    <button onClick={testLogin}>Link Testnet Account</button>\r\n    <p />\r\n    <p>\r\n      <b>Mainnet Account:</b> {context.accountId}\r\n      <br />\r\n      <b>Testnet Account:</b> {state.testnetId}\r\n    </p>\r\n    <hr />\r\n\r\n    <h4>Deploy/View by Path</h4>\r\n    <p>\r\n      <b>Set Data:</b> Enter mainnet path to deploy on testnet.\r\n      <br />\r\n      <b>Get Data:</b> Enter testnet path to view data.\r\n    </p>\r\n    <input type=\"text\" value={text_input} onChange={handleInputChange} />\r\n    <button onClick={testCall}>Set Data</button>\r\n    <button onClick={testView}>Get Data</button>\r\n    <hr />\r\n\r\n    <h4>Bulk Deploy</h4>\r\n    <button onClick={testCall}>Deploy Your Entire socialDB Account</button>\r\n    <br />\r\n    <br />\r\n    <p>\r\n      <b>Deploy Subsets</b>\r\n    </p>\r\n    <button onClick={testCall}>Profile</button>\r\n    <button onClick={testCall}>Widgets</button>\r\n    <button onClick={testCall}>Types</button>\r\n\r\n    <div>{state.targetPath}</div>\r\n  </div>\r\n);\r\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/flowscience.near/widget/testnet-social-interface", "fact_widget_deployments_id": "9c3bbdcbd9630b5bd0658c70ff3ff3bc", "inserted_timestamp": "2024-04-03T22:39:16.441Z", "modified_timestamp": "2024-04-03T22:39:16.441Z", "__row_index": 0}