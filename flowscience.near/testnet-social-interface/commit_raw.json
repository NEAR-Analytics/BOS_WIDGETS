{"tx_hash": "13xD5bwx4yAm3XSnH3ttN56K6BL857SX3wm5SjokA7iT", "action_id_social": "5ftB2R9rMy9SSDaZvMKJJ2J8nwoN1Ed1W6RCeeW4t9b8-0-widget", "block_id": 116012432, "block_timestamp": "2024-04-02T23:32:45.615Z", "signer_id": "flowscience.near", "widget_name": "testnet-social-interface", "source_code": "const [text_input, setTextInput] = useState(\"\");\r\nconst [state, setState] = useState(State.value);\r\n\r\nState.init({\r\n  value: \"\",\r\n  update: (newValue) => {\r\n    State.value = newValue;\r\n  },\r\n});\r\n\r\n//console.log(Near.view(\"v1.social08.testnet\", \"get\"));\r\n\r\nconst testCall = () => {\r\n  Near.call(\"v1.social08.testnet\", \"set\", {\r\n    data: { text_input },\r\n  });\r\n};\r\n\r\nconst testView = () => {\r\n  Near.view(\"v1.social08.testnet\", \"get\")\r\n    .then((result) => {\r\n      State.update(result);\r\n      setState(result);\r\n    })\r\n    .catch((error) => {\r\n      console.error(\"Error getting data:\", error);\r\n    });\r\n};\r\n\r\nconst handleInputChange = (event) => {\r\n  setTextInput(event.target.value);\r\n};\r\n\r\nreturn (\r\n  <div>\r\n    <h2>socialDB Testnet Interface</h2>\r\n    <i>Note: this component isn't calling the testnet contract properly yet.</i>\r\n    <hr />\r\n\r\n    <h5>Deploy/View by Path</h5>\r\n    <p>\r\n      <b>Set Data:</b> Enter mainnet path to deploy on testnet.\r\n      <br />\r\n      <b>Get Data:</b> Enter testnet path to view data.\r\n    </p>\r\n    <input type=\"text\" value={text_input} onChange={handleInputChange} />\r\n    <button onClick={testCall}>Set Data</button>\r\n    <button onClick={testView}>Get Data</button>\r\n    <hr />\r\n\r\n    <h5>Bulk Deploy</h5>\r\n    <p>\r\n      <b>Current account:</b> {context.accountId}\r\n    </p>\r\n    <button onClick={testCall}>Deploy Your Entire socialDB Account</button>\r\n    <br />\r\n    <br />\r\n    <p>Subsets</p>\r\n    <button onClick={testCall}>Profile</button>\r\n    <button onClick={testCall}>Widgets</button>\r\n    <button onClick={testCall}>Types</button>\r\n\r\n    <div>{state.value}</div>\r\n  </div>\r\n);\r\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/flowscience.near/widget/testnet-social-interface", "fact_widget_deployments_id": "f43d0dbdab39e306e00711e893098851", "inserted_timestamp": "2024-04-03T00:51:46.449Z", "modified_timestamp": "2024-04-03T02:00:16.383Z", "__row_index": 2}