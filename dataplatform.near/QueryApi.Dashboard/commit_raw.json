{"tx_hash": "Buwtq9WRNfXkaivxkMf8Pu1NYEPdbvsngzZPep4F9WCB", "action_id_social": "2sgEzgoHo5zs43Z3oZLbFhjpsbVh8VPkXfG9LR2hcCxR-0-widget", "block_id": 124720328, "block_timestamp": "2024-07-31T23:50:56.014Z", "signer_id": "dataplatform.near", "widget_name": "QueryApi.Dashboard", "source_code": "const Wrapper = styled.div`\n  margin-top: calc(var(--body-top-padding) * -1);\n`;\n\nconst Main = styled.div`\n  display: block;\n`;\n\nconst Section = styled.div`\n  padding-top: 0px;\n  border-left: none;\n  border-right: none;\n`;\n\nconst Tabs = styled.div`\n  display: flex;\n  border-bottom: 2px solid #ccc;\n  background-color: #f0f0f0;\n`;\n\nconst TabsButton = styled.button`\n  flex: 1;\n  padding: 1rem;\n  border: none;\n  background: ${props => (props.selected ? '#3acd83' : 'transparent')};\n  color: ${props => (props.selected ? '#fff' : '#333')};\n  font-family: 'Mona Sans', sans-serif;\n  font-size: 1rem;\n  font-weight: ${props => (props.selected ? 'bold' : 'normal')};\n  cursor: pointer;\n  transition: background-color 0.3s, color 0.3s;\n\n  &:hover {\n    background: #e0e0e0;\n  }\n\n  &:disabled {\n    color: #999;\n    cursor: not-allowed;\n  }\n`;\n\nconst IS_DEV = `${REPL_EXTERNAL_APP_URL}` === \"https://queryapi-frontend-vcqilefdcq-ew.a.run.app\" || `https://queryapi-frontend-24ktefolwq-ew.a.run.app` === \"http://localhost:3000\";\nconst accountId = context.accountId;\nconst [activeTab, setActiveTab] = useState(props.view === \"create-new-indexer\" ? \"create-new-indexer\" : props.selectedIndexerPath ? \"indexer\" : \"explore\");\nconst [activeIndexerTabView, setActiveIndexerTabView] = useState(props.activeIndexerView ?? \"editor\");\nconst [selectedIndexer, setSelectedIndexer] = useState(props.selectedIndexerPath);\n\nconst [wizardMethods, setWizardMethods] = useState({});\nconst [wizardContractFilter, setWizardContractFilter] = useState('');\n\n\nconst selectTab = (tabName) => {\n  Storage.privateSet(\"queryapi:activeTab\", tabName);\n  setActiveTab(tabName);\n};\n\nconst selectIndexerPage = (viewName) => {\n  Storage.privateSet(\"queryapi:activeIndexerTabView\", viewName);\n  setActiveIndexerTabView(viewName);\n};\n\nreturn (\n  <Wrapper>\n    <Tabs>\n      {IS_DEV && (\n        <TabsButton\n          type=\"button\"\n          onClick={() => selectTab(\"launchpad\")}\n          selected={activeTab === \"launchpad\"}\n        >\n          Launchpad\n        </TabsButton>\n      )}\n\n      <TabsButton\n        type=\"button\"\n        onClick={() => selectTab(\"explore\")}\n        selected={activeTab === \"explore\"}\n      >\n        Explore Indexers\n      </TabsButton>\n\n      <TabsButton\n        type=\"button\"\n        onClick={() => selectTab(\"indexer\")}\n        selected={activeTab === \"indexer\"}\n        disabled={!selectedIndexer}\n      >\n        {(!selectedIndexer && activeTab === \"create-new-indexer\")\n          ? \"Indexer Creation\"\n          : (!selectedIndexer && activeTab === \"launch-new-indexer\")\n            ? \"Indexer Creation (Launchpad)\"\n            : (!selectedIndexer)\n              ? \"Select an Indexer\"\n              : `Indexer (${selectedIndexer})`}\n      </TabsButton>\n    </Tabs>\n\n\n    <Main>\n      {activeTab === 'launchpad' && IS_DEV && (\n        <Section >\n          <Widget\n            src={`dataplatform.near/widget/QueryApi.Launchpad`}\n            props={{\n              activeTab: activeTab,\n              setActiveTab: setActiveTab,\n              setSelectedIndexer: setSelectedIndexer,\n              setWizardContractFilter: setWizardContractFilter,\n              setWizardMethods: setWizardMethods,\n            }}\n          />\n        </Section>\n      )}\n\n      {activeTab === 'explore' && (\n        <Section>\n          <Widget src={`dataplatform.near/widget/QueryApi.IndexerExplorer`} />\n        </Section>\n      )}\n\n      {activeTab === 'launch-new-indexer' && (\n        <Section>\n          {/* Modify the href post click explorer indexer */}\n          <Widget\n            src={`dataplatform.near/widget/QueryApi.Editor`}\n            props={{\n              indexerName: selectedIndexer ? selectedIndexer.split('/')[1] : '',\n              accountId: selectedIndexer ? selectedIndexer.split('/')[0] : '',\n              path: \"create-new-indexer\",\n              wizardContractFilter: wizardContractFilter,\n              wizardMethods: wizardMethods,\n            }}\n          />\n        </Section>\n      )}\n\n      {activeTab === \"create-new-indexer\" && (\n        <Section>\n          <Widget\n            src={`dataplatform.near/widget/QueryApi.Editor`}\n            props={{\n              indexerName: selectedIndexer ? selectedIndexer.split('/')[1] : '',\n              accountId: selectedIndexer ? selectedIndexer.split('/')[0] : '',\n              path: \"create-new-indexer\",\n            }}\n          />\n        </Section>\n      )}\n\n      {activeTab === 'indexer' && (\n        <Section>\n          <Widget\n            src={`dataplatform.near/widget/QueryApi.Editor`}\n            props={{\n              indexerName: selectedIndexer ? selectedIndexer.split('/')[1] : '',\n              accountId: selectedIndexer ? selectedIndexer.split('/')[0] : '',\n              path: \"query-api-editor\",\n              tab: props.tab,\n              activeView: activeIndexerTabView\n            }}\n          />\n        </Section>\n      )}\n\n\n      {!['launchpad', 'explore', 'indexer', 'create-new-indexer', 'launch-new-indexer'].includes(activeTab) && (\n        <Widget\n          src={`dataplatform.near/widget/QueryApi.NotFound`}\n          props={{}}\n        />\n      )}\n\n    </Main>\n  </Wrapper >\n);\n\n\n\n\n", "metadata": {"description": "Main dashboard for Near QueryAPI which allows you to seamlessly create, manage, and discover indexers", "image": {}, "name": "Near QueryAPI Dashboard", "tags": {}}, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/dataplatform.near/widget/QueryApi.Dashboard", "fact_widget_deployments_id": "b034c532005f777b90a85706f39dda6b", "inserted_timestamp": "2024-08-01T02:16:19.234Z", "modified_timestamp": "2024-08-01T02:16:19.234Z", "__row_index": 19}