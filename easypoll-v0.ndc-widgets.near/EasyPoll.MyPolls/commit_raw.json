{"tx_hash": "8H6BJessyHzAVcHhyekoT2KMoFLZ6mqV1Bf4tbhXcNm9", "action_id_social": "38VMreRi9nuddNz7AzxDxNCyqsHzxAFF99TXX7bZzDRP-0-widget", "block_id": 96311755, "block_timestamp": "2023-07-12T16:35:55.256Z", "signer_id": "easypoll-v0.ndc-widgets.near", "widget_name": "EasyPoll.MyPolls", "source_code": "const indexVersion = props.indexVersion ?? \"4.0.0\";\nconst accountId = props.accountId ?? context.accountId;\nconst whitelist = props.whitelist ?? [];\nconst blackList = props.blackList ?? [];\nconst tabs = props.tabs ?? [];\nconst widgetOwner = props.widgetOwner ?? \"easypoll-v0.ndc-widgets.near\";\n\nState.init({\n  selectedTab: whitelist.includes(accountId) ? \"all\" : \"public\",\n});\n\nfunction selectTab(selectedTab) {\n  State.update({ selectedTab });\n}\n\nlet keys;\n\nif (state.selectedTab === \"draft\") {\n  keys = `${accountId}/easypoll-${indexVersion}/draft/*`;\n} else if (state.selectedTab === \"official\") {\n  keys = `${accountId}/easypoll-${indexVersion}/official/*`;\n} else if (state.selectedTab === \"public\") {\n  keys = `${accountId}/easypoll-${indexVersion}/poll/*`;\n} else {\n  keys = [\n    `${accountId}/easypoll-${indexVersion}/official/*`,\n    `${accountId}/easypoll-${indexVersion}/poll/*`,\n  ];\n}\n\nconsole.log(keys);\n\nconst PillSelect = styled.div`\n  display: inline-flex;\n  align-items: center;\n\n  @media (max-width: 600px) {\n    width: 100%;\n\n    button {\n      flex: 1;\n    }\n  }\n`;\n\nconst PillSelectButton = styled.button`\n  display: block;\n  position: relative;\n  border: 1px solid #e6e8eb;\n  border-right: none;\n  padding: 3px 24px;\n  border-radius: 0;\n  font-size: 12px;\n  line-height: 18px;\n  color: ${(p) => (p.selected ? \"#fff\" : \"#687076\")};\n  background: ${(p) => (p.selected ? \"#4f46e5 !important\" : \"#FBFCFD\")};\n  font-weight: 600;\n  transition: all 200ms;\n\n  &:hover {\n    background: #ecedee;\n    text-decoration: none;\n  }\n\n  &:focus {\n    outline: none;\n    border-color: #4f46e5 !important;\n    box-shadow: 0 0 0 1px #4f46e5;\n    z-index: 5;\n  }\n\n  &:first-child {\n    border-radius: 6px 0 0 6px;\n  }\n  &:last-child {\n    border-radius: 0 6px 6px 0;\n    border-right: 1px solid #e6e8eb;\n  }\n`;\n\nreturn (\n  <div>\n    <div className=\"mb-4\">\n      <span>Filter: </span>\n      <PillSelect>\n        {whitelist.includes(accountId) && (\n          <PillSelectButton\n            type=\"button\"\n            onClick={() => selectTab(\"all\")}\n            selected={state.selectedTab === \"all\"}\n          >\n            All\n          </PillSelectButton>\n        )}\n\n        {whitelist.includes(accountId) && (\n          <PillSelectButton\n            type=\"button\"\n            onClick={() => selectTab(\"official\")}\n            selected={state.selectedTab === \"official\"}\n          >\n            Official NDC Polls\n          </PillSelectButton>\n        )}\n\n        <PillSelectButton\n          type=\"button\"\n          onClick={() => selectTab(\"public\")}\n          selected={state.selectedTab === \"public\"}\n        >\n          Public Polls\n        </PillSelectButton>\n\n        <PillSelectButton\n          type=\"button\"\n          onClick={() => selectTab(\"draft\")}\n          selected={state.selectedTab === \"draft\"}\n        >\n          Drafts\n        </PillSelectButton>\n      </PillSelect>\n    </div>\n    <Widget\n      src={`${widgetOwner}/widget/EasyPoll.Polls`}\n      props={{\n        indexVersion,\n        onlyVerifiedHumans: false,\n        blackList,\n        tabs,\n        customKeys: keys,\n      }}\n    />\n  </div>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/easypoll-v0.ndc-widgets.near/widget/EasyPoll.MyPolls", "fact_widget_deployments_id": "38155fe7b9c3d1f5507cff022039f0da", "inserted_timestamp": "2024-03-07T05:24:05.087Z", "modified_timestamp": "2024-03-07T05:24:05.087Z", "__row_index": 1}