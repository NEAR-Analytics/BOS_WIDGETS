{"tx_hash": "6dxawAWZ91GGfuPk7qFjQPde9sm33EA9QSukYsbP1sGg", "action_id_social": "EXX3UCMEfjKnDHNvFQ2bvGKSDYTx3rkZTDUUThy4amrw-0-widget", "block_id": 116100049, "block_timestamp": "2024-04-04T07:39:53.848Z", "signer_id": "its4d2.near", "widget_name": "tkn_minter", "source_code": "const translations = {\n  en: {\n    title: \"Cr\u00e9ateur de jetons tkn.near\",\n    description:\n      \"Here you can create a new token on NEAR using the tkn.near contract.\",\n    ownerIdDescription:\n      \"This is the account ID of the token owner, which is the currently logged-in account.\",\n    totalSupplyDescription:\n      \"This is the total number of tokens you want to create, without considering the decimal places. The actual total supply will be calculated based on this value and the number of decimal places you specify.\",\n    tokenNameDescription: \"This is the human-readable name of your token.\",\n    tokenSymbolDescription:\n      \"This is the abbreviated symbol for your token, usually 3-5 uppercase letters.\",\n    tokenIconDescription:\n      \"This is the Base64-encoded image data for your token icon. You can use a service like base64-image.de to convert your image to Base64.\",\n    tokenDecimalsDescription:\n      \"This is the number of decimal places for your token.\",\n    createTokenButton: \"Create Token\",\n    loginPrompt: \"Please log in to create a new token.\",\n  },\n  fr: {\n    title: \"Cr\u00e9ateur de jetons tkn.near\",\n    description:\n      \"Sur cette page, vous pouvez cr\u00e9er un nouveau jeton sur NEAR en utilisant le contrat tkn.near.\",\n    ownerIdDescription:\n      \"Il s'agit de l'identifiant du compte propri\u00e9taire du jeton, c'est-\u00e0-dire le compte actuellement connect\u00e9.\",\n    totalSupplyDescription:\n      \"Indiquez ici le nombre total de jetons \u00e0 cr\u00e9er, sans compter les d\u00e9cimales. La quantit\u00e9 finale sera calcul\u00e9e \u00e0 partir de ce nombre et du nombre de d\u00e9cimales que vous sp\u00e9cifierez.\",\n    tokenNameDescription:\n      \"Donnez un nom \u00e0 votre jeton, facilement compr\u00e9hensible.\",\n    tokenSymbolDescription:\n      \"Choisissez un symbole court pour votre jeton, g\u00e9n\u00e9ralement 3 \u00e0 5 lettres majuscules.\",\n    tokenIconDescription:\n      \"Vous pouvez ajouter une ic\u00f4ne \u00e0 votre jeton en fournissant une image encod\u00e9e en Base64. Utilisez un service comme base64-image.de pour convertir votre image.\",\n    tokenDecimalsDescription:\n      \"Pr\u00e9cisez le nombre de d\u00e9cimales pour votre jeton.\",\n    createTokenButton: \"Cr\u00e9er mon jeton\",\n    loginPrompt: \"Veuillez vous connecter pour pouvoir cr\u00e9er un nouveau jeton.\",\n  },\n  zh: {\n    title: \"Cr\u00e9ateur de jetons tkn.near\",\n    description: \"\u5728\u9019\u88e1\uff0c\u60a8\u53ef\u4ee5\u4f7f\u7528 tkn.near \u5408\u7d04\u5728 NEAR \u4e0a\u5efa\u7acb\u4e00\u500b\u65b0\u7684\u4ee3\u5e63\u3002\",\n    ownerIdDescription: \"\u4ee3\u5e63\u64c1\u6709\u8005\u7684\u5e33\u6236\u3002\",\n    totalSupplyDescription:\n      \"\u8acb\u8f38\u5165\u60a8\u8981\u5efa\u7acb\u7684\u4ee3\u5e63\u7e3d\u91cf,\u4e0d\u5305\u542b\u5c0f\u6578\u4f4d\u6578\u3002\u5be6\u969b\u7684\u7e3d\u767c\u884c\u91cf\u6703\u6839\u64da\u9019\u500b\u6578\u5b57\u548c\u60a8\u6307\u5b9a\u7684\u5c0f\u6578\u4f4d\u6578\u8a08\u7b97\u51fa\u4f86\u3002\",\n    tokenNameDescription: \"\u5e6b\u60a8\u7684\u4ee3\u5e63\u53d6\u4e00\u500b\u597d\u8a18\u7684\u540d\u5b57\u3002\",\n    tokenSymbolDescription:\n      \"\u70ba\u60a8\u7684\u4ee3\u5e63\u9078\u4e00\u500b\u7c21\u77ed\u6709\u529b\u7684\u7b26\u865f\uff0c\u901a\u5e38\u662f 3 \u5230 5 \u500b\u5927\u5beb\u82f1\u6587\u5b57\u6bcd\u3002\",\n    tokenIconDescription:\n      \"\u60a8\u53ef\u4ee5\u70ba\u4ee3\u5e63\u4e0a\u50b3\u4e00\u500b Base64 \u7de8\u78bc\u7684\u5716\u793a\u3002\u53ef\u4ee5\u7528 base64-image.de \u9019\u985e\u7684\u670d\u52d9\u628a\u5716\u7247\u8f49\u63db\u6210 Base64 \u683c\u5f0f\u3002\",\n    tokenDecimalsDescription: \"\u8acb\u8a2d\u5b9a\u60a8\u7684\u4ee3\u5e63\u8981\u6709\u5e7e\u4f4d\u5c0f\u6578\u3002\",\n    createTokenButton: \"\u5efa\u7acb\u4ee3\u5e63\",\n    loginPrompt: \"\u8acb\u5148\u767b\u5165\u624d\u80fd\u5efa\u7acb\u65b0\u7684\u4ee3\u5e63\u3002\",\n  },\n};\n\nconst ownerId = context.accountId;\nconst contract = \"tkn.near\";\n\nState.init({\n  language: \"en\",\n  totalSupply: \"\",\n  tokenName: \"\",\n  tokenSymbol: \"\",\n  tokenIcon: \"\",\n  tokenDecimals: \"\",\n});\n\nconst onLanguageChange = (language) => {\n  State.update({ language });\n};\n\nconst onInputChange =\n  (key) =>\n  ({ target: { value } }) => {\n    State.update({ [key]: value });\n  };\n\nconst onCreateBtnClick = () => {\n  if (\n    state.totalSupply &&\n    state.tokenName &&\n    state.tokenSymbol &&\n    state.tokenDecimals\n  ) {\n    const decimals = parseInt(state.tokenDecimals);\n    const actualTotalSupply = state.totalSupply + \"0\".repeat(decimals);\n\n    Near.call([\n      {\n        contractName: contract,\n        methodName: \"create_token\",\n        args: {\n          args: {\n            owner_id: ownerId,\n            total_supply: actualTotalSupply,\n            metadata: {\n              spec: \"ft-1.0.0\",\n              name: state.tokenName,\n              symbol: state.tokenSymbol,\n              icon: state.tokenIcon || null,\n              decimals: decimals,\n            },\n          },\n        },\n        deposit: 3000000000000000000000000,\n      },\n    ]);\n  } else {\n    alert(translations[state.language].loginPrompt);\n  }\n};\n\nconst Wrapper = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  padding: 2rem;\n  background-color: #f8f9fa;\n  border-radius: 10px;\n  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);\n  max-width: 600px;\n  margin: 0 auto;\n  position: relative;\n`;\n\nconst LanguageSelector = styled.div`\n  position: absolute;\n  top: 2rem;\n  right: 1rem;\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  cursor: pointer;\n`;\n\nconst Flag = styled.span`\n  font-size: 1.5rem;\n`;\n\nconst Title = styled.h1`\n  font-size: 2rem;\n  font-weight: bold;\n  text-align: center;\n  margin-top: 4rem;\n  margin-bottom: 1.5rem;\n`;\n\nconst Text = styled.p`\n font-size: 1rem;\n text-align: center;\n margin-bottom: 1.5rem;\n`;\n\nconst FormGroup = styled.div`\n  margin-bottom: 1.5rem;\n  width: 100%;\n`;\n\nconst Label = styled.label`\n font-size: 1rem;\n font-weight: bold;\n`;\n\nconst Input = styled.input`\n  width: 100%;\n  padding: 0.5rem;\n  font-size: 1rem;\n  border: 1px solid #ced4da;\n  border-radius: 5px;\n  box-sizing: border-box;\n`;\n\nconst SmallText = styled.small`\n font-size: 0.875rem;\n color: #6c757d;\n`;\n\nconst Button = styled.button`\n padding: 0.5rem 1rem;\n font-size: 1rem;\n color: white;\n background-color: #007bff;\n border: none;\n border-radius: 5px;\n cursor: pointer;\n transition: background-color 0.2s;\n\n &:hover {\n   background-color: #0056b3;\n }\n`;\n\nreturn (\n  <Wrapper>\n    <LanguageSelector>\n      <Flag onClick={() => onLanguageChange(\"en\")}>\ud83c\uddfa\ud83c\uddf8</Flag>\n      <Flag onClick={() => onLanguageChange(\"fr\")}>\ud83c\uddeb\ud83c\uddf7</Flag>\n      <Flag onClick={() => onLanguageChange(\"zh\")}>\ud83c\udded\ud83c\uddf0</Flag>\n    </LanguageSelector>\n    <Title>{translations[state.language].title}</Title>\n    <Text>{translations[state.language].description}</Text>\n    {context.accountId ? (\n      <>\n        <FormGroup>\n          <Label htmlFor=\"ownerId\">Owner ID</Label>\n          <Input id=\"ownerId\" value={ownerId} disabled />\n          <SmallText>\n            {translations[state.language].ownerIdDescription}\n          </SmallText>\n        </FormGroup>\n        <FormGroup>\n          <Label htmlFor=\"totalSupply\">\n            Total Supply\n            <span style={{ color: \"red\" }}>*</span>\n          </Label>\n          <Input\n            id=\"totalSupply\"\n            placeholder=\"1000000\"\n            onChange={onInputChange(\"totalSupply\")}\n          />\n          <SmallText>\n            {translations[state.language].totalSupplyDescription}\n          </SmallText>\n        </FormGroup>\n        <FormGroup>\n          <Label htmlFor=\"tokenName\">\n            Token Name\n            <span style={{ color: \"red\" }}>*</span>\n          </Label>\n          <Input\n            id=\"tokenName\"\n            placeholder=\"Test Coin\"\n            onChange={onInputChange(\"tokenName\")}\n          />\n          <SmallText>\n            {translations[state.language].tokenNameDescription}\n          </SmallText>\n        </FormGroup>\n        <FormGroup>\n          <Label htmlFor=\"tokenSymbol\">\n            Symbol\n            <span style={{ color: \"red\" }}>*</span>\n          </Label>\n          <Input\n            id=\"tokenSymbol\"\n            placeholder=\"TEST\"\n            onChange={onInputChange(\"tokenSymbol\")}\n          />\n          <SmallText>\n            {translations[state.language].tokenSymbolDescription}\n          </SmallText>\n        </FormGroup>\n        <FormGroup>\n          <Label htmlFor=\"tokenIcon\">Icon</Label>\n          <Input\n            id=\"tokenIcon\"\n            placeholder=\"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEASABIAAD/2wBDAAI...\"\n            onChange={onInputChange(\"tokenIcon\")}\n          />\n          <SmallText>\n            {translations[state.language].tokenIconDescription\n              .split(\" \")\n              .map((word, index) => {\n                if (word === \"base64-image.de\") {\n                  return (\n                    <a\n                      key={index}\n                      href=\"https://www.base64-image.de/\"\n                      target=\"_blank\"\n                      rel=\"noopener noreferrer\"\n                    >\n                      {word}\n                    </a>\n                  );\n                } else {\n                  return <span key={index}>{word} </span>;\n                }\n              })}\n          </SmallText>\n        </FormGroup>\n        <FormGroup>\n          <Label htmlFor=\"tokenDecimals\">\n            Decimals\n            <span style={{ color: \"red\" }}>*</span>\n          </Label>\n          <Input\n            id=\"tokenDecimals\"\n            placeholder=\"6\"\n            onChange={onInputChange(\"tokenDecimals\")}\n          />\n          <SmallText>\n            {translations[state.language].tokenDecimalsDescription}\n          </SmallText>\n        </FormGroup>\n        <Button onClick={onCreateBtnClick}>\n          <i className=\"fas fa-plus-circle\"></i>{\" \"}\n          {translations[state.language].createTokenButton}\n        </Button>\n      </>\n    ) : (\n      <Text\n        style={{\n          color: \"#856404\",\n          backgroundColor: \"#fff3cd\",\n          padding: \"1rem\",\n          borderRadius: \"5px\",\n        }}\n      >\n        {translations[state.language].loginPrompt}\n      </Text>\n    )}\n  </Wrapper>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/its4d2.near/widget/tkn_minter", "fact_widget_deployments_id": "b71eaef25a9e10d1868384a9a7aeb7f6", "inserted_timestamp": "2024-04-04T09:39:22.424Z", "modified_timestamp": "2024-04-04T09:39:22.424Z", "__row_index": 1}