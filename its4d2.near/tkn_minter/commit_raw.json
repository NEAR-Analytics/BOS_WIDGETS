{"tx_hash": "3Be5VBLBnREGqX2r5p5sJ3owfXeRyzxMqoeLB7fEuubd", "action_id_social": "8muVtWme7HPDG8Qp5UGVF9dRsS34ooiW8YZo99PXTByn-0-widget", "block_id": 116005032, "block_timestamp": "2024-04-02T20:48:19.061Z", "signer_id": "its4d2.near", "widget_name": "tkn_minter", "source_code": "const ownerId = context.accountId;\nconst contract = \"tkn.near\";\n\nState.init({\n  totalSupply: \"\",\n  tokenName: \"\",\n  tokenSymbol: \"\",\n  tokenIcon: \"\",\n  tokenDecimals: \"\",\n});\n\nconst onInputChange =\n  (key) =>\n  ({ target: { value } }) => {\n    State.update({ [key]: value });\n  };\n\nconst onCreateBtnClick = () => {\n  if (\n    state.totalSupply &&\n    state.tokenName &&\n    state.tokenSymbol &&\n    state.tokenDecimals\n  ) {\n    const decimals = parseInt(state.tokenDecimals);\n    const actualTotalSupply = state.totalSupply + \"0\".repeat(decimals);\n\n    Near.call([\n      {\n        contractName: contract,\n        methodName: \"create_token\",\n        args: {\n          args: {\n            owner_id: ownerId,\n            total_supply: actualTotalSupply,\n            metadata: {\n              spec: \"ft-1.0.0\",\n              name: state.tokenName,\n              symbol: state.tokenSymbol,\n              icon: state.tokenIcon || null,\n              decimals: decimals,\n            },\n          },\n        },\n        deposit: 3000000000000000000000000,\n      },\n    ]);\n  } else {\n    alert(\"Veuillez remplir tous les champs obligatoires.\");\n  }\n};\n\nconst Wrapper = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  padding: 2rem;\n  background-color: #f8f9fa;\n  border-radius: 10px;\n  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);\n  max-width: 600px;\n  margin: 0 auto;\n`;\n\nconst Title = styled.h1`\n font-size: 2rem;\n font-weight: bold;\n text-align: center;\n margin-bottom: 1.5rem;\n`;\n\nconst Text = styled.p`\n font-size: 1rem;\n text-align: center;\n margin-bottom: 1.5rem;\n`;\n\nconst FormGroup = styled.div`\n  margin-bottom: 1.5rem;\n  width: 100%;\n`;\n\nconst Label = styled.label`\n font-size: 1rem;\n font-weight: bold;\n`;\n\nconst Input = styled.input`\n  width: 100%;\n  padding: 0.5rem;\n  font-size: 1rem;\n  border: 1px solid #ced4da;\n  border-radius: 5px;\n  box-sizing: border-box;\n`;\n\nconst SmallText = styled.small`\n font-size: 0.875rem;\n color: #6c757d;\n`;\n\nconst Button = styled.button`\n padding: 0.5rem 1rem;\n font-size: 1rem;\n color: white;\n background-color: #007bff;\n border: none;\n border-radius: 5px;\n cursor: pointer;\n transition: background-color 0.2s;\n\n &:hover {\n   background-color: #0056b3;\n }\n`;\n\nreturn (\n  <Wrapper>\n    <Title>tkn.near minter</Title>\n    <Text>\n      Ici, vous pouvez cr\u00e9er un nouveau jeton sur NEAR en utilisant le contrat\n      tkn.near.\n    </Text>\n    {context.accountId ? (\n      <>\n        <FormGroup>\n          <Label htmlFor=\"ownerId\">ID du propri\u00e9taire</Label>\n          <Input id=\"ownerId\" value={ownerId} disabled />\n          <SmallText>\n            Il s'agit de l'ID du compte propri\u00e9taire du jeton, c'est-\u00e0-dire le\n            compte actuellement connect\u00e9.\n          </SmallText>\n        </FormGroup>\n        <FormGroup>\n          <Label htmlFor=\"totalSupply\">\n            Offre totale <span style={{ color: \"red\" }}>*</span>\n          </Label>\n          <Input\n            id=\"totalSupply\"\n            placeholder=\"1000000\"\n            onChange={onInputChange(\"totalSupply\")}\n          />\n          <SmallText>\n            Il s'agit du nombre total de jetons que vous souhaitez cr\u00e9er, sans\n            tenir compte des d\u00e9cimales. L'offre totale r\u00e9elle sera calcul\u00e9e en\n            fonction de cette valeur et du nombre de d\u00e9cimales que vous\n            sp\u00e9cifiez.\n          </SmallText>\n        </FormGroup>\n        <FormGroup>\n          <Label htmlFor=\"tokenName\">\n            Nom du jeton <span style={{ color: \"red\" }}>*</span>\n          </Label>\n          <Input\n            id=\"tokenName\"\n            placeholder=\"Test Coin\"\n            onChange={onInputChange(\"tokenName\")}\n          />\n          <SmallText>\n            C'est le nom de votre jeton lisible par un \u00eatre humain.\n          </SmallText>\n        </FormGroup>\n        <FormGroup>\n          <Label htmlFor=\"tokenSymbol\">\n            Symbole du jeton <span style={{ color: \"red\" }}>*</span>\n          </Label>\n          <Input\n            id=\"tokenSymbol\"\n            placeholder=\"TEST\"\n            onChange={onInputChange(\"tokenSymbol\")}\n          />\n          <SmallText>\n            Il s'agit du symbole abr\u00e9g\u00e9 de votre jeton, g\u00e9n\u00e9ralement 3 \u00e0 5\n            lettres majuscules.\n          </SmallText>\n        </FormGroup>\n        <FormGroup>\n          <Label htmlFor=\"tokenIcon\">Ic\u00f4ne du jeton (facultatif)</Label>\n          <Input\n            id=\"tokenIcon\"\n            placeholder=\"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEASABIAAD/2wBDAAI...\"\n            onChange={onInputChange(\"tokenIcon\")}\n          />\n          <SmallText>\n            Il s'agit des donn\u00e9es d'image cod\u00e9es en Base64 pour l'ic\u00f4ne de votre\n            jeton. Vous pouvez utiliser un service tel que{\" \"}\n            <a\n              href=\"https://www.base64-image.de/\"\n              target=\"_blank\"\n              rel=\"noopener noreferrer\"\n            >\n              base64-image.de\n            </a>{\" \"}\n            pour convertir votre image en Base64.\n          </SmallText>\n        </FormGroup>\n        <FormGroup>\n          <Label htmlFor=\"tokenDecimals\">\n            D\u00e9cimales du jeton <span style={{ color: \"red\" }}>*</span>\n          </Label>\n          <Input\n            id=\"tokenDecimals\"\n            placeholder=\"6\"\n            onChange={onInputChange(\"tokenDecimals\")}\n          />\n          <SmallText>\n            Il s'agit du nombre de d\u00e9cimales pour votre jeton.\n          </SmallText>\n        </FormGroup>\n        <Button onClick={onCreateBtnClick}>\n          <i className=\"fas fa-plus-circle\"></i> Cr\u00e9er le jeton\n        </Button>\n      </>\n    ) : (\n      <Text\n        style={{\n          color: \"#856404\",\n          backgroundColor: \"#fff3cd\",\n          padding: \"1rem\",\n          borderRadius: \"5px\",\n        }}\n      >\n        Veuillez vous connecter pour cr\u00e9er un nouveau jeton.\n      </Text>\n    )}\n  </Wrapper>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/its4d2.near/widget/tkn_minter", "fact_widget_deployments_id": "fda71a88627d1452d9b875439eba09a4", "inserted_timestamp": "2024-04-02T22:32:28.277Z", "modified_timestamp": "2024-04-02T22:32:28.277Z", "__row_index": 3}