{"tx_hash": "4kvwNJKHbMzrPytvNE8Nq3YWQNuMqG9oMjEp5cJSs9w2", "action_id_social": "BZdpJeGCSVb2AYEUPDVHFZfxp4deyztTrB1XdhWsbRvT-0-widget", "block_id": 115996692, "block_timestamp": "2024-04-02T17:45:45.408Z", "signer_id": "its4d2.near", "widget_name": "tkn_minter", "source_code": "const ownerId = context.accountId;\nconst contract = \"tkn.near\";\n\nState.init({\n  totalSupply: \"\",\n  tokenName: \"\",\n  tokenSymbol: \"\",\n  tokenIcon: \"\",\n  tokenDecimals: \"\",\n});\n\nconst onInputChange =\n  (key) =>\n  ({ target: { value } }) => {\n    State.update({ [key]: value });\n  };\n\nconst onCreateBtnClick = () => {\n  if (\n    state.totalSupply &&\n    state.tokenName &&\n    state.tokenSymbol &&\n    state.tokenDecimals\n  ) {\n    const decimals = parseInt(state.tokenDecimals);\n    const actualTotalSupply = state.totalSupply + \"0\".repeat(decimals);\n\n    Near.call([\n      {\n        contractName: contract,\n        methodName: \"create_token\",\n        args: {\n          args: {\n            owner_id: ownerId,\n            total_supply: actualTotalSupply,\n            metadata: {\n              spec: \"ft-1.0.0\",\n              name: state.tokenName,\n              symbol: state.tokenSymbol,\n              icon: state.tokenIcon || null,\n              decimals: decimals,\n            },\n          },\n        },\n        deposit: 3000000000000000000000000,\n      },\n    ]);\n  } else {\n    alert(\"Please fill in all required fields.\");\n  }\n};\n\nreturn (\n  <>\n    <div class=\"container py-5\">\n      <div class=\"row justify-content-center\">\n        <div class=\"col-md-6\">\n          <h1 class=\"text-center mb-4\">tkn token minter</h1>\n          <div class=\"card shadow\">\n            <div class=\"card-body\">\n              <p class=\"card-text\">\n                Here you can create a new token on NEAR using the tkn.near\n                contract.\n              </p>\n              {context.accountId ? (\n                <div class=\"border border-secondary rounded p-3\">\n                  <div class=\"form-group mb-4\">\n                    <label for=\"ownerId\">Owner ID</label>\n                    <input\n                      id=\"ownerId\"\n                      class=\"form-control form-control-lg\"\n                      value={ownerId}\n                      disabled\n                    />\n                    <small class=\"form-text text-muted\">\n                      This is the account ID of the token owner, which is the\n                      currently logged-in account.\n                    </small>\n                  </div>\n                  <div class=\"form-group mb-4\">\n                    <label for=\"totalSupply\">\n                      Total Supply <span class=\"text-danger\">*</span>\n                    </label>\n                    <input\n                      id=\"totalSupply\"\n                      class=\"form-control form-control-lg\"\n                      placeholder=\"1000000\"\n                      onChange={onInputChange(\"totalSupply\")}\n                    />\n                    <small class=\"form-text text-muted\">\n                      This is the total number of tokens you want to create,\n                      without considering the decimal places. The actual total\n                      supply will be calculated based on this value and the\n                      number of decimal places you specify.\n                    </small>\n                  </div>\n                  <div class=\"form-group mb-4\">\n                    <label for=\"tokenName\">\n                      Token Name <span class=\"text-danger\">*</span>\n                    </label>\n                    <input\n                      id=\"tokenName\"\n                      class=\"form-control form-control-lg\"\n                      placeholder=\"Test Coin\"\n                      onChange={onInputChange(\"tokenName\")}\n                    />\n                    <small class=\"form-text text-muted\">\n                      This is the human-readable name of your token.\n                    </small>\n                  </div>\n                  <div class=\"form-group mb-4\">\n                    <label for=\"tokenSymbol\">\n                      Token Symbol <span class=\"text-danger\">*</span>\n                    </label>\n                    <input\n                      id=\"tokenSymbol\"\n                      class=\"form-control form-control-lg\"\n                      placeholder=\"TEST\"\n                      onChange={onInputChange(\"tokenSymbol\")}\n                    />\n                    <small class=\"form-text text-muted\">\n                      This is the abbreviated symbol for your token, usually 3-5\n                      uppercase letters.\n                    </small>\n                  </div>\n                  <div class=\"form-group mb-4\">\n                    <label for=\"tokenIcon\">Token Icon (optional)</label>\n                    <input\n                      id=\"tokenIcon\"\n                      class=\"form-control form-control-lg\"\n                      placeholder=\"data:image/jpeg;base64,/9j/...\"\n                      onChange={onInputChange(\"tokenIcon\")}\n                    />\n                    <small class=\"form-text text-muted\">\n                      This is the Base64-encoded image data for your token icon.\n                      You can use a service like{\" \"}\n                      <a\n                        href=\"https://www.base64-image.de/\"\n                        target=\"_blank\"\n                        rel=\"noopener noreferrer\"\n                      >\n                        base64-image.de\n                      </a>{\" \"}\n                      to convert your image to Base64.\n                    </small>\n                  </div>\n                  <div class=\"form-group mb-4\">\n                    <label for=\"tokenDecimals\">\n                      Token Decimals <span class=\"text-danger\">*</span>\n                    </label>\n                    <input\n                      id=\"tokenDecimals\"\n                      class=\"form-control form-control-lg\"\n                      placeholder=\"18\"\n                      onChange={onInputChange(\"tokenDecimals\")}\n                    />\n                    <small class=\"form-text text-muted\">\n                      This is the number of decimal places for your token.\n                    </small>\n                  </div>\n                  <button\n                    class=\"btn btn-primary btn-lg btn-block mt-4\"\n                    onClick={onCreateBtnClick}\n                  >\n                    <i class=\"fas fa-plus-circle\"></i> Create Token\n                  </button>\n                </div>\n              ) : (\n                <div class=\"alert alert-warning text-center mb-0\" role=\"alert\">\n                  Please log in to create a new token.\n                </div>\n              )}\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </>\n);\n", "metadata": {"platform": "jutsu.ai"}, "branch": {"draft": null}, "widget_modules_used": null, "widget_url": "https://near.social/#/its4d2.near/widget/tkn_minter", "fact_widget_deployments_id": "04d855f23533303677bcf1fe218f25a8", "inserted_timestamp": "2024-04-02T19:31:01.311Z", "modified_timestamp": "2024-04-02T19:31:01.311Z", "__row_index": 2}