{"tx_hash": "AiXDWkQPe9yQyWuJxoTsG1AqpCL1Y3JTK391z1FCrmR4", "action_id_social": "HHNu4HAEWhukX98UUkqZRUbpGpZhWrthPHcR6pQjzGV7-0-widget", "block_id": 108492493, "block_timestamp": "2023-12-21T16:49:44.565Z", "signer_id": "petarjs.near", "widget_name": "QuantoxMyStatusBoard", "source_code": "const accountId = props.accountId || context.accountId;\nconst contractId = \"wearedevs.near\";\n\nState.init({\n  messages: [],\n  status: null,\n});\n\nconst getMessages = () => {\n  const messages = Near.view(contractId, \"get_all_statuses\", null);\n  State.update({\n    messages,\n  });\n};\n\nconst postMessage = () => {\n  if (!accountId) return;\n\n  if (state.status === null || state.status == \"\") return;\n\n  Near.call(contractId, \"set_status\", {\n    message: state.status,\n  });\n\n  getMessages();\n};\n\ngetMessages();\n\nconst content = (\n  <div>\n    <div className=\"hero min-h-screen bg-base-200\">\n      <div className=\"hero-content text-center\">\n        <div className=\"max-w-md\">\n          <img\n            src=\"https://ipfs.near.social/ipfs/bafkreibws2ze7ozldmqqpg7762pj2rkssw4qplrfbo7qzay3o3npcxvneu\"\n            alt=\"Header logo\"\n            className=\"mb-4\"\n          />\n          <h1 className=\"text-5xl font-bold text-base-content\">BOS workshop</h1>\n          <p className=\"mb-4 text-base-content\">\n            Welcome to the status board, feel free to update your status for\n            others to see.\n          </p>\n          <p className=\"mb-4 text-base-content\">\n            You are logged in as <b>{accountId}</b>\n          </p>\n          <div className=\"my-2\">\n            <textarea\n              placeholder=\"Your status\"\n              className=\"textarea textarea-bordered textarea-lg w-full max-w-xs\"\n              value={state.status}\n              onChange={({ target: { value } }) =>\n                State.update({ status: value })\n              }\n            ></textarea>\n          </div>\n          <button className=\"btn btn-primary mb-4\" onClick={postMessage}>\n            Post status\n          </button>\n\n          <div className=\"my-4\">\n            {state.messages.map((status) => (\n              <div className=\"card bg-base-100 shadow-xl mb-4\">\n                <div className=\"card-body\">\n                  <h2 className=\"card-title text-base-content\">\n                    {status.message}\n                  </h2>\n                  <p className=\"text-left text-base-content\">\n                    {status.account_id}\n                  </p>\n                </div>\n              </div>\n            ))}\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n);\n\nreturn (\n  <Widget\n    src=\"igris.near/widget/DaisyUIWrapper\"\n    props={{ children: content, daisyUiTheme: \"dark\" }}\n  />\n);\n", "metadata": {"fork_of": "petarjs.near/widget/MyStatusBoard@108491946", "name": "Quantox My Status Board", "tags": {"quantox": ""}}, "branch": {"draft": null}, "widget_modules_used": null, "widget_url": "https://near.social/#/petarjs.near/widget/QuantoxMyStatusBoard", "fact_widget_deployments_id": "161100847cf066d7d27d3f4022a752ce", "inserted_timestamp": "2024-03-07T05:24:05.087Z", "modified_timestamp": "2024-03-07T05:24:05.087Z", "__row_index": 0}