{"tx_hash": "9MtoMD3SvKyE3MEkYgPH6vZEA8hLY7E2ww5RV6WGWD66", "action_id_social": "2S5weBZHf4qqMA4vcLYUsHXtiTpjmGZXDHcUTHTeKYnH-0-widget", "block_id": 97991844, "block_timestamp": "2023-08-03T16:12:23.299Z", "signer_id": "mattlock.near", "widget_name": "gamma-zkevm-table", "source_code": "const proxy = \"0x66cd859053c458688044d816117d5bdf42a56813\";\n\nconst addresses = {\n  Chef: \"0x1e2d8f84605d32a2cbf302e30bfd2387badf35dd\",\n  DAI: \"0xc5015b9d9161dca7e18e32f6f25c4ad850731fd4\",\n  MATIC: \"0xa2036f0538221a77a3937f1379699f44945018d0\",\n  \"N MATIC-USDC\": \"0x19f4ebc0a1744b93a355c2320899276ae7f79ee5\",\n  \"N USDC-WBTC\": \"0x9783c45564232c0aff8dc550a9c247c42e8c8b98\",\n  \"N WETH-MATIC\": \"0x2f39293c9ed046822c014143fb18d5ae0479be93\",\n  \"N WETH-USDC\": \"0x04c6b11e1ffe1f1032bd62adb343c9d07767489c\",\n  \"N WETH-WBTC\": \"0x1cc4ee0cb063e9db36e51f5d67218ff1f8dbfa0f\",\n  USDC: \"0xa8ce8aee21bc2a48a5ef670afcc9274c7bbbc035\",\n  \"USDC-DAI\": \"0xafad6e114cfbc8a19e91b8d7d04da740a7698595\",\n  USDT: \"0x1e4a5963abfd975d8c9021ce480b42188849d41d\",\n  \"USDT-DAI\": \"0xcd36b8a47a072e3e05e894b6ec89d294bec3d3ed\",\n  \"USDT-USDC\": \"0x145d55ae4848f9782efcac785a655e3e5dce1bcd\",\n  \"W MATIC-USDC\": \"0x8462e4173d63f8769f94bf7ae5bc1ac7ab5d96e3\",\n  \"W USDC-WBTC\": \"0x83de646a7125ac04950fea7e322481d4be66c71d\",\n  \"W WETH-MATIC\": \"0x5ada298913d53aa823824de69b4a6e790aed9327\",\n  \"W WETH-USDC\": \"0xfb3a24c0f289e695ceb87b32fc18a2b8bd896167\",\n  \"W WETH-WBTC\": \"0x64e78e990b2a45fad8b64b43e62a67d69a156042\",\n  WBTC: \"0xea034fb02eb1808c2cc3adbc15f447b93cbe08e1\",\n  WETH: \"0x4f9a0e7fd2bf6067db6994cf12e4495df938e6e9\",\n  stMATIC: \"0x83b874c1e09d316059d929da402dcb1a98e92082\",\n  \"stMATIC-MATIC\": \"0x9616052273a598bc04bd1ad7f7a753157c24f77e\",\n};\n\nconst pairs = [\n  {\n    id: \"W WETH-USDC\",\n    strategy: \"Dynamic\",\n    strategy2: \"Wide\",\n    token0: \"WETH\",\n    token1: \"USDC\",\n    decimals0: 18,\n    decimals1: 6,\n  },\n  {\n    id: \"N WETH-USDC\",\n    strategy: \"Dynamic\",\n    strategy2: \"Narrow\",\n    token0: \"WETH\",\n    token1: \"USDC\",\n    decimals0: 18,\n    decimals1: 6,\n  },\n  {\n    id: \"W WETH-MATIC\",\n    strategy: \"Dynamic\",\n    strategy2: \"Wide\",\n    token0: \"WETH\",\n    token1: \"MATIC\",\n    decimals0: 18,\n    decimals1: 18,\n  },\n  {\n    id: \"N WETH-MATIC\",\n    strategy: \"Dynamic\",\n    strategy2: \"Narrow\",\n    token0: \"WETH\",\n    token1: \"MATIC\",\n    decimals0: 18,\n    decimals1: 18,\n  },\n  {\n    id: \"W WETH-WBTC\",\n    strategy: \"Dynamic\",\n    strategy2: \"Wide\",\n    token0: \"WETH\",\n    token1: \"WBTC\",\n    decimals0: 18,\n    decimals1: 18,\n  },\n  {\n    id: \"N WETH-WBTC\",\n    strategy: \"Dynamic\",\n    strategy2: \"Narrow\",\n    token0: \"WETH\",\n    token1: \"WBTC\",\n    decimals0: 18,\n    decimals1: 18,\n  },\n  {\n    id: \"W USDC-WBTC\",\n    strategy: \"Dynamic\",\n    strategy2: \"Wide\",\n    token0: \"USDC\",\n    token1: \"WBTC\",\n    decimals0: 6,\n    decimals1: 18,\n  },\n  {\n    id: \"N USDC-WBTC\",\n    strategy: \"Dynamic\",\n    strategy2: \"Narrow\",\n    token0: \"USDC\",\n    token1: \"WBTC\",\n    decimals0: 6,\n    decimals1: 18,\n  },\n  {\n    id: \"USDT-USDC\",\n    strategy: \"Stable\",\n    token0: \"USDT\",\n    token1: \"USDC\",\n    decimals0: 6,\n    decimals1: 6,\n  },\n  {\n    id: \"USDC-DAI\",\n    strategy: \"Stable\",\n    token0: \"USDC\",\n    token1: \"DAI\",\n    decimals0: 6,\n    decimals1: 18,\n  },\n  {\n    id: \"USDT-DAI\",\n    strategy: \"Stable\",\n    token0: \"USDT\",\n    token1: \"DAI\",\n    decimals0: 6,\n    decimals1: 18,\n  },\n  {\n    id: \"stMATIC-MATIC\",\n    strategy: \"Pegged Price\",\n    token0: \"stMATIC\",\n    token1: \"MATIC\",\n    decimals0: 18,\n    decimals1: 18,\n  },\n  {\n    id: \"N MATIC-USDC\",\n    strategy: \"Dynamic\",\n    strategy2: \"Narrow\",\n    token0: \"MATIC\",\n    token1: \"USDC\",\n    decimals0: 18,\n    decimals1: 6,\n  },\n  {\n    id: \"W MATIC-USDC\",\n    strategy: \"Dynamic\",\n    strategy2: \"Wide\",\n    token0: \"MATIC\",\n    token1: \"USDC\",\n    decimals0: 18,\n    decimals1: 6,\n  },\n];\n\n\nconst Tag = styled.div`\n  border-radius: 9999px;\n  background: #393939;\n  display: inline-block;\n  padding: 4px 8px;\n  font-size: 12px;\n`;\n\n\nconst Container = styled.div`\n  overflow: hidden;\n  overflow-x: scroll;\n`\n\nconst Table = styled.table`\n  border-radius: 8px;\n  background: #1d1e1f;\n  font-family: 'Inter';\n  color: #fff;\n  min-width: 640px;\n  th {\n    padding: 10px;\n  }\n  td {\n    padding: 6px 10px;\n    font-size: 14px;\n  }\n  tr {\n    cursor: pointer;\n    border-bottom: 1px solid #161616;\n    &:last-of-type {\n      border-bottom: none;\n    }\n    &:hover {\n      background: #2b2a2b;\n    }\n  }\n`;\n\n\n\nconst formatFiat = (value) => {\n  const number = Number(value).toLocaleString(\"en\", {\n    currency: \"USD\",\n    style: \"currency\",\n    compactDisplay: \"short\",\n    notation: \"compact\",\n    maximumFractionDigits: 2,\n  });\n\n  return number;\n};\n\nconst formatPercent = (value) => {\n  return `${Number(value * 100).toLocaleString(\"en\", {\n    maximumFractionDigits: 2,\n  })}%`;\n};\n\nconst { poolsData, userPositions } = props;\n\nconst onPairClick = (pair) => {\n  const { handlePairClick } = props;\n\n  if(handlePairClick) handlePairClick(pair)\n}\n\n\nreturn (\n    <Container>\n  <Table>\n    <thead>\n      <tr>\n        <th>Gamma Position</th>\n        <th>Strategy</th>\n        <th>TVL</th>\n        <th>Balance</th>\n        <th>APR</th>\n      </tr>\n    </thead>\n    <tbody>\n      {poolsData &&\n        pairs.map((pair) => {\n          const poolData = poolsData[addresses[pair.id]];\n          const userBalance =\n            userPositions && addresses[pair.id] in userPositions\n              ? userPositions[addresses[pair.id]].balanceUSD\n              : undefined;\n\n          return (\n            <tr onClick={() => onPairClick(pair)}>\n              <td>\n                {pair.token0}-{pair.token1}\n              </td>\n              <td>\n                <Tag>{pair.strategy2 ? pair.strategy2 : pair.strategy}</Tag>\n              </td>\n              <td>{formatFiat(poolData.tvlUSD)}</td>\n              <td>{userBalance ? `${formatFiat(userBalance)}` : \"-\"}</td>\n              <td>{formatPercent(poolData.returns.weekly.feeApr)}</td>\n            </tr>\n          );\n        })}\n    </tbody>\n  </Table>\n  </Container>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/mattlock.near/widget/gamma-zkevm-table", "fact_widget_deployments_id": "e658b78cf080897868e6f6b767a8bc05", "inserted_timestamp": "2024-03-07T05:24:05.087Z", "modified_timestamp": "2024-03-07T05:24:05.087Z", "__row_index": 0}