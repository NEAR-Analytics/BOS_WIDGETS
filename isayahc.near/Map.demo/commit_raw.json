{"tx_hash": "3GZ7uLx75qSmB12QaDQSGXLy6B8VcUp6FHGPhZ6rDuLz", "action_id_social": "86Aro4QFsPbovs1uxzZ7FoC8oAaH2Mxo4TXTDChNMx5G-0-widget", "block_id": 108042780, "block_timestamp": "2023-12-15T23:21:40.498Z", "signer_id": "isayahc.near", "widget_name": "Map.demo", "source_code": "const res = fetch(\"https://data.cityofnewyork.us/resource/fi97-k4k6.json\");\n\nconsole.log(res.body);\n\nconst data = res.body;\nconst myData = res.body;\n\n// const formattedData = data.map((item, index) => ({\n//   id: index + 1, // Create an ID starting at 1\n//   latitude: item.location_point.latitude,\n//   longitude: item.location_point.longitude,\n// }));\n\nconst formattedData = data.map((item, index) => ({\n  id: index + 1, // Create an ID starting at 1\n  lat: item.location_point.latitude,\n  lng: item.location_point.longitude,\n}));\n\ndata = myData = formattedData; // Reassign 'data' to the new formatted array\n\nconsole.log(data); // 'data' now has the value of 'formattedData'\n\nconsole.log(formattedData);\n\n// fetchData();\n// const data = [\n//   {\n//     id: \"1\",\n//     lng: -73.93799209472691,\n//     lat: 40.70073671683767,\n//   },\n// ];\n\n// const myData = [\n//   {\n//     id: \"1\",\n//     lng: -73.93799209472691,\n//     lat: 40.70073671683767,\n//   },\n// ];\n\nfunction Inspect(p) {\n  return (\n    <div style={{ backgroundColor: \"blue\" }}>\n      <h1>Inspect</h1>\n      <pre>{JSON.stringify(p, null, 2)}</pre>\n    </div>\n  );\n}\n\nfunction handleSave(v) {\n  console.log(v);\n}\n\nfunction Form({ data }) {\n  return (\n    <div style={{ backgroundColor: \"blue\" }}>\n      <h1>Form</h1>\n      <pre>{JSON.stringify(data, null, 2)}</pre>\n      <button onClick={() => handleSave(\"hello\")}>Save</button>\n    </div>\n  );\n}\n\nreturn (\n  <Widget\n    src=\"efiz.near/widget/Map.index\"\n    props={{\n      markers: data,\n      myMarkers: myData,\n      onMapClick: (e) => console.log(\"map click\", e),\n      onMarkerClick: (e) => console.log(\"marker click\", e),\n      inspect: (p) => <Inspect {...p} />,\n      form: (p) => <Form {...p} />,\n    }}\n  />\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/isayahc.near/widget/Map.demo", "fact_widget_deployments_id": "ced224751dd74e8dbfd39c675d455867", "inserted_timestamp": "2024-03-07T05:24:05.087Z", "modified_timestamp": "2024-03-07T05:24:05.087Z", "__row_index": 1}