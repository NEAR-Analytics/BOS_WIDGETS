{"tx_hash": "3ug88xgytzRmfjdEqrUcMxy6DG5op962hKN4e3qnxD2z", "action_id_social": "GFaY8UepyWgMRdozEPRWSxDyeEhLjjk757CwibgS95VM-0-widget", "block_id": 116718045, "block_timestamp": "2024-04-12T23:36:59.232Z", "signer_id": "hyperfiles.near", "widget_name": "adapter.ipfs", "source_code": "const ipfsUrl = (cid) => `https://ipfs.near.social/ipfs/${cid}`;\n\nfunction get(ref) {\n  const data = fetch(`https://ipfs.near.social/ipfs/${ref.cid}`);\n  return data.body;\n}\n\nfunction create(data) {\n  return new Promise((resolve, reject) => {\n    if (data.length) {\n      const body = new Blob([data], { type: \"application/json\" });\n      console.log(body);\n\n      asyncFetch(\"https://ipfs.near.social/add\", {\n        method: \"POST\",\n        headers: {\n          Accept: \"application/json\",\n        },\n        body,\n      })\n        .then((res) => {\n          resolve({ cid: res.body.cid }); // Resolve the promise with the necessary data\n        })\n        .catch((error) => {\n          console.error(\"Error in create function:\", error);\n          reject(error); // Reject the promise in case of an error\n        });\n    } else {\n      reject(\"No data provided\"); // Reject the promise if no data is provided\n    }\n  });\n}\n\nreturn { get, create };\n", "metadata": {"fork_of": "everycanvas.near/widget/adapter.ipfs@106178979"}, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/hyperfiles.near/widget/adapter.ipfs", "fact_widget_deployments_id": "f294cfa3462b4b9f0e56f74407d252cf", "inserted_timestamp": "2024-04-13T01:48:44.908Z", "modified_timestamp": "2024-04-13T01:48:44.908Z", "__row_index": 4}