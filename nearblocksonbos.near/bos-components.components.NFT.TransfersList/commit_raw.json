{"tx_hash": "4yZTtzKeWv6YR7LVr41wFwbVdcPM2GQvrBEz7NEcpXB6", "action_id_social": "6dCqnj4tK3D6MFx5Qe9ykLoDQWGVveN6xZzh9YnwnHxZ-0-widget", "block_id": 116998922, "block_timestamp": "2024-04-16T23:34:54.173Z", "signer_id": "nearblocksonbos.near", "widget_name": "bos-components.components.NFT.TransfersList", "source_code": "/**\n * Component: NFTTransfersList\n * Author: Nearblocks Pte Ltd\n * License: Business Source License 1.1\n * Description: Non-Fungible Token Transfers List on Near Protocol.\n * @interface Props\n * @param {string}  [network] - The network data to show, either mainnet or testnet.\n * @param {Function} [t] - A function for internationalization (i18n) provided by the next-translate package.\n * @param {number} [currentPage] - The current page number being displayed. (Optional)\n *                                 Example: If provided, currentPage=3 will display the third page of blocks.\n * @param {function} [setPage] - A function used to set the current page. (Optional)\n *                               Example: setPage={handlePageChange} where handlePageChange is a function to update the page.\n * @param {string} ownerId - The identifier of the owner of the component.\n */\n\n\n\n\n\n\n\n\n/* INCLUDE COMPONENT: \"includes/Common/Skeleton.jsx\" */\n/**\n * @interface Props\n * @param {string} [className] - The CSS class name(s) for styling purposes.\n */\n\n\n\n\n\nconst Skeleton = (props) => {\n  return (\n    <div\n      className={`bg-gray-200 dark:bg-black-200 rounded shadow-sm animate-pulse ${props.className}`}\n    ></div>\n  );\n};/* END_INCLUDE COMPONENT: \"includes/Common/Skeleton.jsx\" */\n/* INCLUDE COMPONENT: \"includes/Common/Status.jsx\" */\nconst FaCheckCircle = () => {\n  return (\n    <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"1em\" viewBox=\"0 0 512 512\">\n      <path\n        d=\"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z\"\n        fill=\"#50C878\"\n      />\n    </svg>\n  );\n};\nconst FaTimesCircle = () => {\n  return (\n    <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"1em\" viewBox=\"0 0 512 512\">\n      <path\n        d=\"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm121.6 313.1c4.7 4.7 4.7 12.3 0 17L338 377.6c-4.7 4.7-12.3 4.7-17 0L256 312l-65.1 65.6c-4.7 4.7-12.3 4.7-17 0L134.4 338c-4.7-4.7-4.7-12.3 0-17l65.6-65-65.6-65.1c-4.7-4.7-4.7-12.3 0-17l39.6-39.6c4.7-4.7 12.3-4.7 17 0l65 65.7 65.1-65.6c4.7-4.7 12.3-4.7 17 0l39.6 39.6c4.7 4.7 4.7 12.3 0 17L312 256l65.6 65.1z\"\n        fill=\"#ff0000\"\n      />\n    </svg>\n  );\n};\nconst FaHourglassStart = () => {\n  return (\n    <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"1em\" viewBox=\"0 0 384 512\">\n      <path\n        d=\"M32 0C14.3 0 0 14.3 0 32S14.3 64 32 64V75c0 42.4 16.9 83.1 46.9 113.1L146.7 256 78.9 323.9C48.9 353.9 32 394.6 32 437v11c-17.7 0-32 14.3-32 32s14.3 32 32 32H64 320h32c17.7 0 32-14.3 32-32s-14.3-32-32-32V437c0-42.4-16.9-83.1-46.9-113.1L237.3 256l67.9-67.9c30-30 46.9-70.7 46.9-113.1V64c17.7 0 32-14.3 32-32s-14.3-32-32-32H320 64 32zM288 437v11H96V437c0-25.5 10.1-49.9 28.1-67.9L192 301.3l67.9 67.9c18 18 28.1 42.4 28.1 67.9z\"\n        fill=\"#FFEB3B\"\n      />\n    </svg>\n  );\n};\n\nconst getOptions = (status) => {\n  switch (status) {\n    case null:\n      return {\n        bg: 'bg-yellow-50 dark:bg-black',\n        text: 'text-yellow-500',\n        icon: FaHourglassStart,\n        label: 'Pending',\n      };\n    case false:\n      return {\n        bg: 'bg-red-50 dark:bg-black',\n        text: 'text-red-500',\n        icon: FaTimesCircle,\n        label: 'Failure',\n      };\n\n    default:\n      return {\n        bg: 'bg-emerald-50 dark:bg-black',\n        text: 'text-emerald-500',\n        icon: FaCheckCircle,\n        label: 'Success',\n      };\n  }\n};\n\nconst TxnStatus = (props) => {\n  const option = getOptions(props.status);\n  const Icon = option.icon;\n\n  return (\n    <div className=\"w-full md:w-3/4 break-words\">\n      <span\n        className={`inline-flex items-center text-xs rounded py-1 ${\n          option.bg\n        } ${option.text} ${props.showLabel ? ' px-2' : ' px-1'}`}\n      >\n        <Icon />\n        {props.showLabel && <span className=\"ml-2\">{option.label}</span>}\n      </span>\n    </div>\n  );\n};/* END_INCLUDE COMPONENT: \"includes/Common/Status.jsx\" */\n/* INCLUDE COMPONENT: \"includes/icons/Clock.jsx\" */\n/**\n * @interface Props\n * @param {string} [className] - The CSS class name(s) for styling purposes.\n */\n\n\n\n\n\nconst Clock = (props) => (\n  <svg\n    viewBox=\"64 64 896 896\"\n    focusable=\"false\"\n    data-icon=\"clock-circle\"\n    width=\"1em\"\n    height=\"1em\"\n    fill=\"currentColor\"\n    aria-hidden=\"true\"\n    {...props}\n  >\n    <path d=\"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z\"></path>\n    <path d=\"M686.7 638.6L544.1 535.5V288c0-4.4-3.6-8-8-8H488c-4.4 0-8 3.6-8 8v275.4c0 2.6 1.2 5 3.3 6.5l165.4 120.6c3.6 2.6 8.6 1.8 11.2-1.7l28.6-39c2.6-3.7 1.8-8.7-1.8-11.2z\"></path>\n  </svg>\n);/* END_INCLUDE COMPONENT: \"includes/icons/Clock.jsx\" */\n/* INCLUDE COMPONENT: \"includes/icons/TokenImage.jsx\" */\n/**\n * @interface Props\n * @param {string} [src] - The URL string pointing to the image source.\n * @param {string} [alt] - The alternate text description for the image.\n * @param {string} [className] - The CSS class name(s) for styling purposes.\n * @param {string} [appUrl] - The URL of the application.\n */\n\n\n\n\n\n\n\n\n\n\nconst TokenImage = ({\n  appUrl,\n  src,\n  alt,\n  className,\n  onLoad,\n  onSetSrc,\n}) => {\n  const placeholder = appUrl\n    ? `${appUrl}images/tokenplaceholder.svg`\n    : '/images/tokenplaceholder.svg';\n\n  const handleLoad = () => {\n    if (onLoad) {\n      onLoad();\n    }\n  };\n\n  const handleError = () => {\n    if (onSetSrc) {\n      onSetSrc(placeholder);\n    }\n    if (onLoad) {\n      onLoad();\n    }\n  };\n\n  return (\n    <img\n      src={src || placeholder}\n      alt={alt}\n      className={className}\n      onLoad={handleLoad}\n      onError={handleError}\n    />\n  );\n};/* END_INCLUDE COMPONENT: \"includes/icons/TokenImage.jsx\" */\n\n/* INCLUDE COMPONENT: \"includes/icons/FaLongArrowAltRight.jsx\" */\nconst FaLongArrowAltRight = () => {\n  return (\n    <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"1em\" viewBox=\"0 0 448 512\">\n      <path\n        d=\"M313.941 216H12c-6.627 0-12 5.373-12 12v56c0 6.627 5.373 12 12 12h301.941v46.059c0 21.382 25.851 32.09 40.971 16.971l86.059-86.059c9.373-9.373 9.373-24.569 0-33.941l-86.059-86.059c-15.119-15.119-40.971-4.411-40.971 16.971V216\"\n        fill=\"#ffffff\"\n      />\n    </svg>\n  );\n};/* END_INCLUDE COMPONENT: \"includes/icons/FaLongArrowAltRight.jsx\" */\n\nfunction MainComponent({ network, t, currentPage, setPage, ownerId }) {\n  const { formatTimestampToString, getTimeAgoString, localFormat } = VM.require(\n    `${ownerId}/widget/includes.Utils.formats`,\n  );\n\n  const { getConfig, handleRateLimit, nanoToMilli } = VM.require(\n    `${ownerId}/widget/includes.Utils.libs`,\n  );\n  const [isLoading, setIsLoading] = useState(false);\n  const [totalCount, setTotalCount] = useState(0);\n  const [showAge, setShowAge] = useState(true);\n  const errorMessage = t ? t('txns:noTxns') : 'No transactions found!';\n  const [tokens, setTokens] = useState(\n    {},\n  );\n  const [address, setAddress] = useState('');\n  const [status, setStatus] = useState({\n    height: 0,\n    sync: true,\n  });\n  const [timestamp, setTimeStamp] = useState('');\n  const config = getConfig && getConfig(network);\n\n  const onHandleMouseOver = (e, id) => {\n    e.preventDefault();\n\n    setAddress(id);\n  };\n  const handleMouseLeave = () => {\n    setAddress('');\n  };\n  useEffect(() => {\n    function fetchTotalTokens() {\n      asyncFetch(`${config?.backendUrl}nfts/txns/count`, {\n        method: 'GET',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n      })\n        .then(\n          (data\n\n\n\n\n) => {\n            const resp = data?.body?.txns?.[0];\n            if (data.status === 200) {\n              setTotalCount(resp?.count ?? 0);\n            } else {\n              handleRateLimit(data, fetchTotalTokens);\n            }\n          },\n        )\n        .catch(() => {})\n        .finally(() => {});\n    }\n\n    function fetchTokens(page) {\n      setIsLoading(true);\n      asyncFetch(`${config?.backendUrl}nfts/txns?page=${page}&per_page=25`, {\n        method: 'GET',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n      })\n        .then(\n          (data\n\n\n\n\n) => {\n            const resp = data?.body?.txns;\n            if (data.status === 200) {\n              setTokens((prevData) => ({ ...prevData, [page]: resp || [] }));\n              setIsLoading(false);\n            } else {\n              handleRateLimit(\n                data,\n                () => fetchTokens(page),\n                () => setIsLoading(false),\n              );\n            }\n          },\n        )\n        .catch(() => {})\n        .finally(() => {});\n    }\n    function fetchStatus() {\n      asyncFetch(`${config.backendUrl}sync/status`)\n        .then(\n          (data\n\n\n\n\n) => {\n            const resp = data?.body?.status?.indexers.events;\n            if (data.status === 200) {\n              setStatus(resp);\n            } else {\n              handleRateLimit(data, fetchStatus);\n            }\n          },\n        )\n        .catch(() => {});\n    }\n    if (config?.backendUrl) {\n      fetchTotalTokens();\n      fetchTokens(currentPage);\n      fetchStatus();\n    }\n\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [config?.backendUrl, currentPage]);\n  useEffect(() => {\n    function fetchTimeStamp(height) {\n      asyncFetch(`${config?.rpcUrl}`, {\n        method: 'POST',\n        body: JSON.stringify({\n          jsonrpc: '2.0',\n          id: 'dontcare',\n          method: 'block',\n          params: {\n            block_id: height,\n          },\n        }),\n        headers: {\n          'Content-Type': 'application/json',\n        },\n      })\n        .then(\n          (res\n\n\n\n) => {\n            const resp = res?.body?.result.header;\n            setTimeStamp(resp.timestamp_nanosec);\n          },\n        )\n        .catch(() => {});\n    }\n    if (config?.rpcUrl && status.height) {\n      fetchTimeStamp(status.height);\n    }\n  }, [status.height, config?.rpcUrl]);\n  const toggleShowAge = () => setShowAge((s) => !s);\n\n  const columns = [\n    {\n      header: <span></span>,\n      key: '',\n      cell: (row) => (\n        <>\n          <TxnStatus status={row?.outcomes?.status} showLabel={false} />\n        </>\n      ),\n      tdClassName:\n        'pl-5 py-2 whitespace-nowrap text-sm text-nearblue-600 dark:text-neargray-10',\n    },\n    {\n      header: <span>{t ? t('hash') : 'HASH'}</span>,\n      key: 'transaction_hash',\n      cell: (row) => (\n        <span>\n          <Tooltip.Provider>\n            <Tooltip.Root>\n              <Tooltip.Trigger asChild>\n                <span className=\"truncate max-w-[120px] inline-block align-bottom text-green-500 dark:text-green-250 whitespace-nowrap\">\n                  <Link\n                    href={`/txns/${row?.transaction_hash}`}\n                    className=\"hover:no-underline\"\n                  >\n                    <a className=\"text-green-500 dark:text-green-250 font-medium hover:no-underline\">\n                      {row?.transaction_hash}\n                    </a>\n                  </Link>\n                </span>\n              </Tooltip.Trigger>\n              <Tooltip.Content\n                className=\"h-auto max-w-xs bg-black bg-opacity-90 z-10 text-xs text-white p-2 break-words\"\n                align=\"start\"\n                side=\"bottom\"\n              >\n                {row?.transaction_hash}\n              </Tooltip.Content>\n            </Tooltip.Root>\n          </Tooltip.Provider>\n        </span>\n      ),\n      tdClassName: 'px-5 py-2 text-sm text-nearblue-600 dark:text-neargray-10',\n      thClassName:\n        'px-5 py-4 text-left text-xs font-semibold text-nearblue-600 dark:text-neargray-10 uppercase tracking-wider',\n    },\n    {\n      header: <span> {t ? t('type') : 'TYPE'}</span>,\n      key: 'cause',\n      cell: (row) => (\n        <span>\n          <Tooltip.Provider>\n            <Tooltip.Root>\n              <Tooltip.Trigger asChild>\n                <span className=\"bg-blue-900/10 text-xs text-nearblue-600 dark:text-neargray-10 rounded-xl px-2 py-1 max-w-[120px] inline-flex truncate\">\n                  <span className=\"block truncate\">{row?.cause}</span>\n                </span>\n              </Tooltip.Trigger>\n              <Tooltip.Content\n                className=\"h-auto max-w-xs bg-black bg-opacity-90 z-10 text-xs text-white px-3 py-2 break-words\"\n                align=\"center\"\n                side=\"bottom\"\n              >\n                {row?.cause}\n              </Tooltip.Content>\n            </Tooltip.Root>\n          </Tooltip.Provider>\n        </span>\n      ),\n      tdClassName:\n        'px-5 py-2 whitespace-nowrap text-sm text-nearblue-600 dark:text-neargray-10',\n      thClassName:\n        'px-5 py-4 text-left text-xs font-semibold text-nearblue-600 dark:text-neargray-10 uppercase tracking-wider',\n    },\n    {\n      header: <span>From</span>,\n      key: 'affected_account_id',\n      cell: (row) => {\n        return Number(row.delta_amount) < 0 ? (\n          <span>\n            {row?.affected_account_id ? (\n              <Tooltip.Provider>\n                <Tooltip.Root>\n                  <Tooltip.Trigger asChild>\n                    <span\n                      className={`truncate max-w-[120px] inline-block align-bottom text-green-500 dark:text-green-250 whitespace-nowrap ${\n                        row?.affected_account_id === address\n                          ? ' rounded-md bg-[#FFC10740] border-[#FFC10740] dark:bg-black-200 dark:border-neargray-50 border border-dashed p-0.5 px-1 -m-[1px] cursor-pointer text-[#033F40]'\n                          : 'text-green-500 dark:text-green-250 p-0.5 px-1'\n                      }`}\n                    >\n                      <Link\n                        href={`/address/${row?.affected_account_id}`}\n                        className=\"hover:no-underline\"\n                      >\n                        <a\n                          className=\"text-green-500 dark:text-green-250 hover:no-underline\"\n                          onMouseOver={(e) =>\n                            onHandleMouseOver(e, row?.affected_account_id)\n                          }\n                          onMouseLeave={handleMouseLeave}\n                        >\n                          {row?.affected_account_id}\n                        </a>\n                      </Link>\n                    </span>\n                  </Tooltip.Trigger>\n                  <Tooltip.Content\n                    className=\"h-auto max-w-xs bg-black bg-opacity-90 z-10 text-xs text-white px-3 py-2 break-words\"\n                    align=\"start\"\n                    side=\"bottom\"\n                  >\n                    {row?.affected_account_id}\n                  </Tooltip.Content>\n                </Tooltip.Root>\n              </Tooltip.Provider>\n            ) : (\n              'system'\n            )}\n          </span>\n        ) : (\n          <span>\n            {row?.involved_account_id ? (\n              <Tooltip.Provider>\n                <Tooltip.Root>\n                  <Tooltip.Trigger asChild>\n                    <span\n                      className={`truncate max-w-[120px] inline-block align-bottom text-green-500 dark:text-green-250 whitespace-nowrap ${\n                        row?.involved_account_id === address\n                          ? ' rounded-md bg-[#FFC10740] border-[#FFC10740] dark:bg-black-200 dark:border-neargray-50 border border-dashed p-0.5 px-1 -m-[1px] cursor-pointer text-[#033F40]'\n                          : 'text-green-500 dark:text-green-250 p-0.5 px-1'\n                      }`}\n                    >\n                      <Link\n                        href={`/address/${row?.involved_account_id}`}\n                        className=\"hover:no-underline\"\n                      >\n                        <a\n                          className=\"text-green-500 dark:text-green-250 hover:no-underline\"\n                          onMouseOver={(e) =>\n                            onHandleMouseOver(e, row?.involved_account_id)\n                          }\n                          onMouseLeave={handleMouseLeave}\n                        >\n                          {row?.involved_account_id}\n                        </a>\n                      </Link>\n                    </span>\n                  </Tooltip.Trigger>\n                  <Tooltip.Content\n                    className=\"h-auto max-w-xs bg-black bg-opacity-90 z-10 text-xs text-white px-3 py-2 break-words\"\n                    align=\"start\"\n                    side=\"bottom\"\n                  >\n                    {row?.involved_account_id}\n                  </Tooltip.Content>\n                </Tooltip.Root>\n              </Tooltip.Provider>\n            ) : (\n              'system'\n            )}\n          </span>\n        );\n      },\n      tdClassName:\n        'px-5 py-2 whitespace-nowrap text-sm text-nearblue-600 dark:text-neargray-10 font-medium',\n      thClassName:\n        'px-5 py-4 text-left text-xs font-semibold text-nearblue-600 dark:text-neargray-10 uppercase tracking-wider',\n    },\n    {\n      header: <span></span>,\n      key: '',\n      cell: (row) => {\n        return row.affected_account_id === row.involved_account_id ? (\n          <span className=\"uppercase rounded w-10 py-2 h-6 inline-flex items-center justify-center bg-green-200 text-white text-sm font-semibold\">\n            {t('txnSelf')}\n          </span>\n        ) : (\n          <div className=\"w-5 h-5 p-1 bg-green-100 rounded-full text-center flex justify-center items-center mx-auto text-white\">\n            <FaLongArrowAltRight />\n          </div>\n        );\n      },\n      tdClassName: 'text-center',\n    },\n    {\n      header: <span>To</span>,\n      key: 'involved_account_id',\n      cell: (row) => {\n        return Number(row.delta_amount) < 0 ? (\n          <span>\n            {row?.involved_account_id ? (\n              <Tooltip.Provider>\n                <Tooltip.Root>\n                  <Tooltip.Trigger asChild>\n                    <span\n                      className={`truncate max-w-[120px] inline-block align-bottom text-green-500 dark:text-green-250 whitespace-nowrap ${\n                        row?.involved_account_id === address\n                          ? ' rounded-md bg-[#FFC10740] border-[#FFC10740] dark:bg-black-200 dark:border-neargray-50 border border-dashed p-0.5 px-1 -m-[1px] cursor-pointer text-[#033F40]'\n                          : 'text-green-500 dark:text-green-250 p-0.5 px-1'\n                      }`}\n                    >\n                      <Link\n                        href={`/address/${row?.involved_account_id}`}\n                        className=\"hover:no-underline\"\n                      >\n                        <a\n                          className=\"text-green-500 dark:text-green-250 hover:no-underline\"\n                          onMouseOver={(e) =>\n                            onHandleMouseOver(e, row?.involved_account_id)\n                          }\n                          onMouseLeave={handleMouseLeave}\n                        >\n                          {row?.involved_account_id}\n                        </a>\n                      </Link>\n                    </span>\n                  </Tooltip.Trigger>\n                  <Tooltip.Content\n                    className=\"h-auto max-w-xs bg-black bg-opacity-90 z-10 text-xs text-white px-3 py-2 break-words\"\n                    align=\"start\"\n                    side=\"bottom\"\n                  >\n                    {row?.involved_account_id}\n                  </Tooltip.Content>\n                </Tooltip.Root>\n              </Tooltip.Provider>\n            ) : (\n              'system'\n            )}\n          </span>\n        ) : (\n          <span>\n            {row?.affected_account_id ? (\n              <Tooltip.Provider>\n                <Tooltip.Root>\n                  <Tooltip.Trigger asChild>\n                    <span\n                      className={`truncate max-w-[120px] inline-block align-bottom text-green-500 dark:text-green-250 whitespace-nowrap ${\n                        row?.affected_account_id === address\n                          ? ' rounded-md bg-[#FFC10740] border-[#FFC10740] dark:bg-black-200 dark:border-neargray-50 border border-dashed p-0.5 px-1 -m-[1px] cursor-pointer text-[#033F40]'\n                          : 'text-green-500 dark:text-green-250 p-0.5 px-1'\n                      }`}\n                    >\n                      <Link\n                        href={`/address/${row?.affected_account_id}`}\n                        className=\"hover:no-underline\"\n                      >\n                        <a\n                          className=\"text-green-500 dark:text-green-250 hover:no-underline\"\n                          onMouseOver={(e) =>\n                            onHandleMouseOver(e, row?.affected_account_id)\n                          }\n                          onMouseLeave={handleMouseLeave}\n                        >\n                          {row?.affected_account_id}\n                        </a>\n                      </Link>\n                    </span>\n                  </Tooltip.Trigger>\n                  <Tooltip.Content\n                    className=\"h-auto max-w-xs bg-black bg-opacity-90 z-10 text-xs text-white px-3 py-2 break-words\"\n                    align=\"start\"\n                    side=\"bottom\"\n                  >\n                    {row?.affected_account_id}\n                  </Tooltip.Content>\n                </Tooltip.Root>\n              </Tooltip.Provider>\n            ) : (\n              'system'\n            )}\n          </span>\n        );\n      },\n      tdClassName:\n        'px-5 py-2 text-sm text-nearblue-600 dark:text-neargray-10 font-medium',\n      thClassName:\n        'px-5 py-4 text-left text-xs font-semibold text-nearblue-600 dark:text-neargray-10 uppercase tracking-wider',\n    },\n    {\n      header: <span>Token ID</span>,\n      key: 'block_height',\n      cell: (row) => (\n        <div className=\"whitespace-nowrap text-sm text-nearblue-600 dark:text-neargray-10 max-w-[110px] inline-block truncate\">\n          <Tooltip.Provider>\n            <Tooltip.Root>\n              <Tooltip.Trigger asChild>\n                <span>\n                  <Link\n                    href={`/nft-token/${row?.nft?.contract}/${row?.token_id}`}\n                    className=\"hover:no-underline\"\n                  >\n                    <a className=\"text-green-500 dark:text-green-250 font-medium hover:no-underline\">\n                      {row?.token_id}\n                    </a>\n                  </Link>\n                </span>\n              </Tooltip.Trigger>\n              <Tooltip.Content\n                className=\"h-auto max-w-xs bg-black bg-opacity-90 z-10 text-xs text-white px-3 py-2 break-words\"\n                align=\"start\"\n                side=\"bottom\"\n              >\n                {row?.token_id}\n              </Tooltip.Content>\n            </Tooltip.Root>\n          </Tooltip.Provider>\n        </div>\n      ),\n      tdClassName: 'px-5 py-2',\n      thClassName:\n        'px-5 py-4 text-left text-xs font-semibold text-nearblue-600 dark:text-neargray-10 uppercase tracking-wider',\n    },\n    {\n      header: <span>Token</span>,\n      key: 'block_height',\n      cell: (row) => {\n        return (\n          row?.nft && (\n            <div className=\"flex flex-row items-center\">\n              <span className=\"inline-flex mr-1\">\n                <TokenImage\n                  src={row?.nft?.icon}\n                  alt={row?.nft?.name}\n                  className=\"w-4 h-4\"\n                  appUrl={config.appUrl}\n                />\n              </span>\n              <Tooltip.Provider>\n                <Tooltip.Root>\n                  <Tooltip.Trigger asChild>\n                    <div className=\"text-sm text-nearblue-600 dark:text-neargray-10 max-w-[110px] inline-block truncate\">\n                      <Link\n                        href={`/nft-token/${row?.nft?.contract}`}\n                        className=\"hover:no-underline\"\n                      >\n                        <a className=\"text-green-500 dark:text-green-250 font-medium hover:no-underline\">\n                          {row?.nft?.name}\n                        </a>\n                      </Link>\n                    </div>\n                  </Tooltip.Trigger>\n                  <Tooltip.Content\n                    className=\"h-auto max-w-xs bg-black bg-opacity-90 z-10 text-xs text-white px-3 py-2 break-words\"\n                    align=\"start\"\n                    side=\"bottom\"\n                  >\n                    {row?.nft?.name}\n                  </Tooltip.Content>\n                </Tooltip.Root>\n              </Tooltip.Provider>\n              {row?.nft?.symbol && (\n                <Tooltip.Provider>\n                  <Tooltip.Root>\n                    <Tooltip.Trigger asChild>\n                      <div className=\"text-sm text-nearblue-700 max-w-[80px] inline-block truncate\">\n                        &nbsp; {row?.nft?.symbol}\n                      </div>\n                    </Tooltip.Trigger>\n                    <Tooltip.Content\n                      className=\"h-auto max-w-xs bg-black bg-opacity-90 z-10 text-xs text-white px-3 py-2 break-words\"\n                      align=\"start\"\n                      side=\"bottom\"\n                    >\n                      {row?.nft?.symbol}\n                    </Tooltip.Content>\n                  </Tooltip.Root>\n                </Tooltip.Provider>\n              )}\n            </div>\n          )\n        );\n      },\n      tdClassName:\n        'px-5 py-2 whitespace-nowrap text-sm text-nearblue-600 dark:text-neargray-10 font-medium',\n      thClassName:\n        'px-5 py-4 text-left text-xs font-semibold text-nearblue-600 dark:text-neargray-10 uppercase tracking-wider',\n    },\n    {\n      header: (\n        <div className=\"w-full inline-flex px-5 py-4\">\n          <Tooltip.Provider>\n            <Tooltip.Root>\n              <Tooltip.Trigger asChild>\n                <button\n                  type=\"button\"\n                  onClick={toggleShowAge}\n                  className=\"text-left text-xs w-full flex items-center font-semibold uppercase tracking-wider  text-green-500 dark:text-green-250 focus:outline-none whitespace-nowrap\"\n                >\n                  {showAge ? 'AGE' : 'DATE TIME (UTC)'}\n                  {showAge && (\n                    <Clock className=\"text-green-500 dark:text-green-250 ml-2\" />\n                  )}\n                </button>\n              </Tooltip.Trigger>\n              <Tooltip.Content\n                className=\"h-auto max-w-xs bg-black bg-opacity-90 z-10 text-xs text-white px-3 py-2 break-words\"\n                align=\"center\"\n                side=\"top\"\n              >\n                {showAge\n                  ? 'Click to show Datetime Format'\n                  : 'Click to show Age Format'}\n              </Tooltip.Content>\n            </Tooltip.Root>\n          </Tooltip.Provider>\n        </div>\n      ),\n      key: 'block_timestamp',\n      cell: (row) => (\n        <span>\n          <Tooltip.Provider>\n            <Tooltip.Root>\n              <Tooltip.Trigger asChild>\n                <span>\n                  {!showAge\n                    ? row?.block_timestamp\n                      ? formatTimestampToString(\n                          nanoToMilli(row?.block_timestamp),\n                        )\n                      : ''\n                    : row?.block_timestamp\n                    ? getTimeAgoString(nanoToMilli(row?.block_timestamp))\n                    : ''}\n                </span>\n              </Tooltip.Trigger>\n              <Tooltip.Content\n                className=\"h-auto max-w-xs bg-black bg-opacity-90 z-10 text-xs text-white px-3 py-2 break-words\"\n                align=\"start\"\n                side=\"bottom\"\n              >\n                {showAge\n                  ? row?.block_timestamp\n                    ? formatTimestampToString(nanoToMilli(row?.block_timestamp))\n                    : ''\n                  : row?.block_timestamp\n                  ? getTimeAgoString(nanoToMilli(row?.block_timestamp))\n                  : ''}\n              </Tooltip.Content>\n            </Tooltip.Root>\n          </Tooltip.Provider>\n        </span>\n      ),\n      tdClassName:\n        'px-5 py-2 whitespace-nowrap text-sm text-nearblue-600 dark:text-neargray-10',\n      thClassName: 'inline-flex whitespace-nowrap',\n    },\n  ];\n\n  return (\n    <>\n      <div className=\"bg-white dark:bg-black-600 dark:border-black-200 border soft-shadow rounded-xl pb-1\">\n        {isLoading ? (\n          <div className=\"max-w-lg w-full pl-3 py-5\">\n            <Skeleton className=\"h-4\" />\n          </div>\n        ) : (\n          <>\n            {!status.sync && (\n              <div className=\"w-full text-center bg-nearblue rounded-t-xl px-5 py-4 text-green text-sm\">\n                Non-Fungible token transfers are out of sync. Last synced block\n                was\n                <span className=\"font-bold mx-0.5\">\n                  {localFormat && localFormat(status.height)}\n                </span>\n                {`(${timestamp && getTimeAgoString(nanoToMilli(timestamp))}).`}\n                Non-Fungible token transfers data will be delayed.\n              </div>\n            )}\n            <div className={`flex flex-col lg:flex-row pt-4`}>\n              <div className=\"flex flex-col\">\n                <p className=\"leading-7 px-6 text-sm mb-4 text-nearblue-600 dark:text-neargray-10\">\n                  A total of {localFormat && localFormat(totalCount.toString())}{' '}\n                  transactions found\n                </p>\n              </div>\n            </div>\n          </>\n        )}\n        <Widget\n          src={`${ownerId}/widget/bos-components.components.Shared.Table`}\n          props={{\n            columns: columns,\n            data: tokens[currentPage],\n            isLoading: isLoading,\n            isPagination: true,\n            count: totalCount,\n            page: currentPage,\n            limit: 25,\n            pageLimit: 200,\n            setPage: setPage,\n            Error: errorMessage,\n          }}\n        />\n      </div>\n    </>\n  );\n}\n\nreturn MainComponent(props, context);", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/nearblocksonbos.near/widget/bos-components.components.NFT.TransfersList", "fact_widget_deployments_id": "06fcdf425936aa43b2cf4f3fa5281e80", "inserted_timestamp": "2024-04-17T01:58:31.238Z", "modified_timestamp": "2024-04-17T01:58:31.238Z", "__row_index": 8}