{"tx_hash": "29TJymGSQnJfedpmzwKkYsiG2u2f6SfRb53EZJR4ETKd", "action_id_social": "6Yf79NuKxZNzgZcugj2imHxiWWY8PAZ9iVcaPDDySV9D-0-widget", "block_id": 116536511, "block_timestamp": "2024-04-10T11:22:44.624Z", "signer_id": "nearblocksonbos.near", "widget_name": "bos-components.components.Transactions.TransactionReceipt", "source_code": "/**\n * Component: TransactionsReceipt\n * Author: Nearblocks Pte Ltd\n * License: Business Source License 1.1\n * Description: Details of Transaction Receipt on Near Protocol.\n */\n\n/* INCLUDE COMPONENT: \"includes/icons/ArrowDown.jsx\" */\n/**\n * @interface Props\n * @param {string} [className] - The CSS class name(s) for styling purposes.\n */\n\n\n\n\nconst ArrowDown = (props) => {\n  return (\n    <svg\n      xmlns=\"http://www.w3.org/2000/svg\"\n      viewBox=\"0 0 24 24\"\n      width={24}\n      height={24}\n      {...props}\n    >\n      <path fill=\"none\" d=\"M0 0h24v24H0z\" />\n      <path d=\"M12 13.172l4.95-4.95 1.414 1.414L12 16 5.636 9.636 7.05 8.222z\" />\n    </svg>\n  );\n};/* END_INCLUDE COMPONENT: \"includes/icons/ArrowDown.jsx\" */\n\n\nfunction MainComponent(props) {\n  const {\n    network,\n    t,\n    receipt,\n    fellowOutgoingReceipts,\n    expandAll,\n    convertionReceipt,\n    className,\n    ownerId,\n  } = props;\n\n  const [isTxTypeActive, setTxTypeActive] = useState(false);\n  const switchActiveTxType = useCallback(\n    () => setTxTypeActive((x) => !x),\n    [setTxTypeActive],\n  );\n\n  useEffect(() => switchActiveTxType, [expandAll, switchActiveTxType]);\n\n  const remainingFellowOutgoingReceipts = fellowOutgoingReceipts.slice(0, -1);\n  const lastFellowOutgoingReceipt = fellowOutgoingReceipts.at(-1);\n  const filterRefundNestedReceipts =\n    receipt?.outcome.nestedReceipts &&\n    receipt?.outcome.nestedReceipts.filter(\n      (nestedReceipt) =>\n        'outcome' in nestedReceipt && nestedReceipt.predecessorId !== 'system',\n    );\n  const nonRefundNestedReceipts =\n    filterRefundNestedReceipts && filterRefundNestedReceipts.slice(0, -1);\n  const lastNonRefundNestedReceipt =\n    filterRefundNestedReceipts && filterRefundNestedReceipts.at(-1);\n\n  return (\n    <>\n      <div\n        className={`${\n          convertionReceipt\n            ? 'pl-0 border-transparent'\n            : 'pl-12 border-green-500 '\n        } ${className} `}\n      >\n        {convertionReceipt ? (\n          <div className=\"flex flex-row mb-2.5\">\n            <div className=\"bg-gray-200 h-5 w-5 rounded-full mr-3\"></div>\n            <div className=\"text-green-500 text-sm\">\n              {receipt?.predecessorId}\n            </div>\n          </div>\n        ) : null}\n\n        {lastFellowOutgoingReceipt ? (\n          <Widget\n            src={`${ownerId}/widget/bos-components.components.Transactions.TransactionReceipt`}\n            props={{\n              network: network,\n              t,\n              receipt: lastFellowOutgoingReceipt,\n              expandAll: expandAll,\n              fellowOutgoingReceipts: remainingFellowOutgoingReceipts,\n              convertionReceipt: false,\n              className: 'pb-5 !mt-0 border-l mt-2.5 ml-2.5',\n              ownerId,\n            }}\n          />\n        ) : null}\n        <div className=\"flex flex-col relative border-l border-green-500  py-2 pl-7 ml-2.5\">\n          {receipt?.actions &&\n            receipt?.actions.map((action, index) => (\n              <Widget\n                key={`${action.kind}_${index}`}\n                src={`${ownerId}/widget/bos-components.components.Transactions.ReceiptKind`}\n                props={{\n                  network: network,\n                  t,\n                  action: action,\n                  onClick: switchActiveTxType,\n                  isTxTypeActive: isTxTypeActive,\n                  ownerId,\n                }}\n              />\n            ))}\n        </div>\n        {isTxTypeActive ? (\n          <div className=\"border-l border-black ml-2.5\">\n            <Widget\n              src={`${ownerId}/widget/bos-components.components.Transactions.ReceiptInfo`}\n              props={{\n                network: network,\n                t,\n                receipt: receipt,\n                ownerId,\n              }}\n            />\n          </div>\n        ) : null}\n        <div className=\"relative flex flex-row my-2.5\">\n          <ArrowDown\n            className={`absolute left-0.5 -top-5 ml-px  w-4 h-4 text-green-500`}\n          />\n          <div className=\"bg-gray-200 h-5 w-5 rounded-full mr-3\"></div>\n          <div className=\"text-green-500 text-sm \">{receipt?.receiverId}</div>\n        </div>\n      </div>\n      {lastNonRefundNestedReceipt ? (\n        <Widget\n          src={`${ownerId}/widget/bos-components.components.Transactions.TransactionReceipt`}\n          props={{\n            network: network,\n            t: t,\n            receipt: lastNonRefundNestedReceipt,\n            expandAll: expandAll,\n            fellowOutgoingReceipts: nonRefundNestedReceipts,\n            convertionReceipt: false,\n            className: ` !pl-0 !border-transparent`,\n            ownerId,\n          }}\n        />\n      ) : null}\n    </>\n  );\n}\n\nreturn MainComponent(props, context);", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/nearblocksonbos.near/widget/bos-components.components.Transactions.TransactionReceipt", "fact_widget_deployments_id": "5fce4f38961d103db5bfac78e14422e1", "inserted_timestamp": "2024-04-10T12:34:58.847Z", "modified_timestamp": "2024-04-10T13:40:59.984Z", "__row_index": 3}