{"tx_hash": "Gwjm3e4s3tbxX4hH5buVyGaTyvGPTggT2P7Yvb4HJUiu", "action_id_social": "7ifsahk9KLkZCYFDiKnazHq8LuaT96Ag1ixBbngxUsAf-0-widget", "block_id": 117445683, "block_timestamp": "2024-04-23T10:56:15.993Z", "signer_id": "nearblocksonbos.near", "widget_name": "bos-components.components.Address.Transactions", "source_code": "/**\n * Component: AddressTransactions\n * Author: Nearblocks Pte Ltd\n * License: Business Source License 1.1\n * Description: Transactions of address on Near Protocol.\n * @interface Props\n * @param {string}  [network] - The network data to show, either mainnet or testnet.\n * @param {Function} [t] - A function for internationalization (i18n) provided by the next-translate package.\n * @param {string} [id] - The account identifier passed as a string.\n * @param {Object.<string, string>} [filters] - Key-value pairs for filtering transactions. (Optional)\n *                                              Example: If provided, method=batch will filter the blocks with method=batch.\n * @param {function} [handleFilter] - Function to handle filter changes. (Optional)\n *                                    Example: handleFilter={handlePageFilter} where handlePageFilter is a function to filter the page.\n * @param {function} [onFilterClear] - Function to clear a specific or all filters. (Optional)\n *                                     Example: onFilterClear={handleClearFilter} where handleClearFilter is a function to clear the applied filters.\n * @param {string} ownerId - The identifier of the owner of the component.\n */\n\n\n\n\n\n\n\n\n\n\n\n/* INCLUDE COMPONENT: \"includes/Common/ErrorMessage.jsx\" */\nconst ErrorMessage = ({ icons, message, mutedText }) => {\n  return (\n    <div className=\"text-center py-24\">\n      <div className=\"mb-4 flex justify-center\">\n        <span className=\"inline-block border border-yellow-600 border-opacity-25 bg-opacity-10 bg-yellow-300 text-yellow-500 rounded-full p-4\">\n          {icons}\n        </span>\n      </div>\n\n      <h3 className=\"h-5 font-bold text-lg text-black dark:text-neargray-10\">\n        {message}\n      </h3>\n\n      <p className=\"mb-0 py-4 font-bold break-words px-2\">{mutedText}</p>\n    </div>\n  );\n};/* END_INCLUDE COMPONENT: \"includes/Common/ErrorMessage.jsx\" */\n/* INCLUDE COMPONENT: \"includes/Common/Filter.jsx\" */\nconst Filter = (props) => {\n  return (\n    <svg\n      xmlns=\"http://www.w3.org/2000/svg\"\n      viewBox=\"0 0 24 24\"\n      width={16}\n      height={16}\n      {...props}\n    >\n      <path fill=\"none\" d=\"M0 0h24v24H0z\" />\n      <path d=\"M14 14v6l-4 2v-8L4 5V3h16v2l-6 9zM6.404 5L12 13.394 17.596 5H6.404z\" />\n    </svg>\n  );\n};/* END_INCLUDE COMPONENT: \"includes/Common/Filter.jsx\" */\n/* INCLUDE COMPONENT: \"includes/Common/Skeleton.jsx\" */\n/**\n * @interface Props\n * @param {string} [className] - The CSS class name(s) for styling purposes.\n */\n\n\n\n\n\nconst Skeleton = (props) => {\n  return (\n    <div\n      className={`bg-gray-200 dark:bg-black-200 rounded shadow-sm animate-pulse ${props.className}`}\n    ></div>\n  );\n};/* END_INCLUDE COMPONENT: \"includes/Common/Skeleton.jsx\" */\n/* INCLUDE COMPONENT: \"includes/Common/Status.jsx\" */\nconst FaCheckCircle = () => {\n  return (\n    <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"1em\" viewBox=\"0 0 512 512\">\n      <path\n        d=\"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z\"\n        fill=\"#50C878\"\n      />\n    </svg>\n  );\n};\nconst FaTimesCircle = () => {\n  return (\n    <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"1em\" viewBox=\"0 0 512 512\">\n      <path\n        d=\"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm121.6 313.1c4.7 4.7 4.7 12.3 0 17L338 377.6c-4.7 4.7-12.3 4.7-17 0L256 312l-65.1 65.6c-4.7 4.7-12.3 4.7-17 0L134.4 338c-4.7-4.7-4.7-12.3 0-17l65.6-65-65.6-65.1c-4.7-4.7-4.7-12.3 0-17l39.6-39.6c4.7-4.7 12.3-4.7 17 0l65 65.7 65.1-65.6c4.7-4.7 12.3-4.7 17 0l39.6 39.6c4.7 4.7 4.7 12.3 0 17L312 256l65.6 65.1z\"\n        fill=\"#ff0000\"\n      />\n    </svg>\n  );\n};\nconst FaHourglassStart = () => {\n  return (\n    <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"1em\" viewBox=\"0 0 384 512\">\n      <path\n        d=\"M32 0C14.3 0 0 14.3 0 32S14.3 64 32 64V75c0 42.4 16.9 83.1 46.9 113.1L146.7 256 78.9 323.9C48.9 353.9 32 394.6 32 437v11c-17.7 0-32 14.3-32 32s14.3 32 32 32H64 320h32c17.7 0 32-14.3 32-32s-14.3-32-32-32V437c0-42.4-16.9-83.1-46.9-113.1L237.3 256l67.9-67.9c30-30 46.9-70.7 46.9-113.1V64c17.7 0 32-14.3 32-32s-14.3-32-32-32H320 64 32zM288 437v11H96V437c0-25.5 10.1-49.9 28.1-67.9L192 301.3l67.9 67.9c18 18 28.1 42.4 28.1 67.9z\"\n        fill=\"#FFEB3B\"\n      />\n    </svg>\n  );\n};\n\nconst getOptions = (status) => {\n  switch (status) {\n    case null:\n      return {\n        bg: 'bg-yellow-50 dark:bg-black',\n        text: 'text-yellow-500',\n        icon: FaHourglassStart,\n        label: 'Pending',\n      };\n    case false:\n      return {\n        bg: 'bg-red-50 dark:bg-black',\n        text: 'text-red-500',\n        icon: FaTimesCircle,\n        label: 'Failure',\n      };\n\n    default:\n      return {\n        bg: 'bg-emerald-50 dark:bg-black',\n        text: 'text-emerald-500',\n        icon: FaCheckCircle,\n        label: 'Success',\n      };\n  }\n};\n\nconst TxnStatus = (props) => {\n  const option = getOptions(props.status);\n  const Icon = option.icon;\n\n  return (\n    <div className=\"w-full md:w-3/4 break-words\">\n      <span\n        className={`inline-flex items-center text-xs rounded py-1 ${\n          option.bg\n        } ${option.text} ${props.showLabel ? ' px-2' : ' px-1'}`}\n      >\n        <Icon />\n        {props.showLabel && <span className=\"ml-2\">{option.label}</span>}\n      </span>\n    </div>\n  );\n};/* END_INCLUDE COMPONENT: \"includes/Common/Status.jsx\" */\n/* INCLUDE COMPONENT: \"includes/icons/Clock.jsx\" */\n/**\n * @interface Props\n * @param {string} [className] - The CSS class name(s) for styling purposes.\n */\n\n\n\n\n\nconst Clock = (props) => (\n  <svg\n    viewBox=\"64 64 896 896\"\n    focusable=\"false\"\n    data-icon=\"clock-circle\"\n    width=\"1em\"\n    height=\"1em\"\n    fill=\"currentColor\"\n    aria-hidden=\"true\"\n    {...props}\n  >\n    <path d=\"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z\"></path>\n    <path d=\"M686.7 638.6L544.1 535.5V288c0-4.4-3.6-8-8-8H488c-4.4 0-8 3.6-8 8v275.4c0 2.6 1.2 5 3.3 6.5l165.4 120.6c3.6 2.6 8.6 1.8 11.2-1.7l28.6-39c2.6-3.7 1.8-8.7-1.8-11.2z\"></path>\n  </svg>\n);/* END_INCLUDE COMPONENT: \"includes/icons/Clock.jsx\" */\n/* INCLUDE COMPONENT: \"includes/icons/CloseCircle.jsx\" */\nconst CloseCircle = (props) => {\n  const handleClick = () => {\n    if (props.onClick) {\n      props.onClick('All');\n    }\n  };\n  return (\n    <svg\n      xmlns=\"http://www.w3.org/2000/svg\"\n      viewBox=\"0 0 24 24\"\n      width={24}\n      height={24}\n      className={props.className}\n      onClick={handleClick}\n    >\n      <path fill=\"none\" d=\"M0 0h24v24H0z\" />\n      <path d=\"M12 22C6.477 22 2 17.523 2 12S6.477 2 12 2s10 4.477 10 10-4.477 10-10 10zm0-2a8 8 0 100-16 8 8 0 000 16zm0-9.414l2.828-2.829 1.415 1.415L13.414 12l2.829 2.828-1.415 1.415L12 13.414l-2.828 2.829-1.415-1.415L10.586 12 7.757 9.172l1.415-1.415L12 10.586z\" />\n    </svg>\n  );\n};/* END_INCLUDE COMPONENT: \"includes/icons/CloseCircle.jsx\" */\n/* INCLUDE COMPONENT: \"includes/icons/Download.jsx\" */\nconst Download = () => {\n  return (\n    <svg\n      width=\"11\"\n      height=\"12\"\n      viewBox=\"0 0 11 12\"\n      fill=\"none\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n    >\n      <path\n        fillRule=\"evenodd\"\n        clipRule=\"evenodd\"\n        d=\"M10.5418 12V2H6.87516V3H9.62516V11H1.37516V3H4.12516V2H0.458496V12H10.5418ZM5.04183 5.5H3.2085L5.50016 8.5L7.79183 5.5H5.9585V0H5.04183V5.5Z\"\n        fill=\"#4b5563\"\n      />\n    </svg>\n  );\n};/* END_INCLUDE COMPONENT: \"includes/icons/Download.jsx\" */\n/* INCLUDE COMPONENT: \"includes/icons/FaInbox.jsx\" */\nconst FaInbox = () => {\n  return (\n    <svg\n      stroke=\"currentColor\"\n      fill=\"currentColor\"\n      stroke-width=\"0\"\n      viewBox=\"0 0 576 512\"\n      height=\"24\"\n      width=\"24\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n    >\n      <path d=\"M567.938 243.908L462.25 85.374A48.003 48.003 0 0 0 422.311 64H153.689a48 48 0 0 0-39.938 21.374L8.062 243.908A47.994 47.994 0 0 0 0 270.533V400c0 26.51 21.49 48 48 48h480c26.51 0 48-21.49 48-48V270.533a47.994 47.994 0 0 0-8.062-26.625zM162.252 128h251.497l85.333 128H376l-32 64H232l-32-64H76.918l85.334-128z\"></path>\n    </svg>\n  );\n};/* END_INCLUDE COMPONENT: \"includes/icons/FaInbox.jsx\" */\n/* INCLUDE COMPONENT: \"includes/icons/SortIcon.jsx\" */\nconst ArrowUp = (props) => {\n  return (\n    <svg\n      xmlns=\"http://www.w3.org/2000/svg\"\n      viewBox=\"0 0 24 24\"\n      width={24}\n      height={24}\n      {...props}\n    >\n      <path fill=\"none\" d=\"M0 0h24v24H0z\" />\n      <path d=\"M12 10.828l-4.95 4.95-1.414-1.414L12 8l6.364 6.364-1.414 1.414z\" />\n    </svg>\n  );\n};\n\nconst SortIcon = (props) => {\n  return (\n    <ArrowUp\n      className={`h-3 w-3 fill-current transition-transform mr-1 duration-700 ${\n        props.order !== 'asc' ? 'transform rotate-180' : 'transform rotate-0'\n      }`}\n    />\n  );\n};/* END_INCLUDE COMPONENT: \"includes/icons/SortIcon.jsx\" */\n\n\nfunction MainComponent({\n  network,\n  ownerId,\n  t,\n  id,\n  filters,\n  handleFilter,\n  onFilterClear,\n}) {\n  const {\n    capitalizeFirstLetter,\n    formatTimestampToString,\n    getTimeAgoString,\n    localFormat,\n  } = VM.require(`${ownerId}/widget/includes.Utils.formats`);\n\n  const {\n    getConfig,\n    handleRateLimit,\n    isAction,\n    nanoToMilli,\n    yoctoToNear,\n    truncateString,\n  } = VM.require(`${ownerId}/widget/includes.Utils.libs`);\n\n  const { txnMethod } = VM.require(`${ownerId}/widget/includes.Utils.near`);\n\n  const [isLoading, setIsLoading] = useState(false);\n  const [totalCount, setTotalCount] = useState(0);\n  const [txns, setTxns] = useState({});\n  const [showAge, setShowAge] = useState(true);\n  const [sorting, setSorting] = useState('desc');\n  const [currentPage, setCurrentPage] = useState(1);\n  const [filterValue, setFilterValue] = useState({});\n  const errorMessage = t ? t('txns:noTxns') : ' No transactions found!';\n  const [address, setAddress] = useState('');\n\n  const config = getConfig && getConfig(network);\n\n  const toggleShowAge = () => setShowAge((s) => !s);\n\n  useEffect(() => {\n    function fetchTotalTxns(qs) {\n      const queryParams = qs ? '?' + qs : '';\n      asyncFetch(\n        `${config?.backendUrl}account/${id}/txns/count${queryParams}`,\n        {\n          method: 'GET',\n          headers: {\n            'Content-Type': 'application/json',\n          },\n        },\n      )\n        .then(\n          (data\n\n\n\n\n) => {\n            const resp = data?.body?.txns?.[0];\n            if (data.status === 200) {\n              setTotalCount(resp?.count ?? 0);\n            } else {\n              handleRateLimit(data, () => fetchTotalTxns(qs));\n            }\n          },\n        )\n        .catch(() => {});\n    }\n\n    function fetchTxnsData(qs, sqs, page) {\n      setIsLoading(true);\n      const queryParams = qs ? qs + '&' : '';\n      asyncFetch(\n        `${config?.backendUrl}account/${id}/txns?${queryParams}order=${sqs}&page=${page}&per_page=25`,\n        {\n          method: 'GET',\n          headers: {\n            'Content-Type': 'application/json',\n          },\n        },\n      )\n        .then((data) => {\n          const resp = data?.body?.txns;\n          if (data.status === 200) {\n            if (Array.isArray(resp) && resp.length > 0) {\n              setTxns((prevData) => ({ ...prevData, [page]: resp || [] }));\n            } else if (resp.length === 0) {\n              setTxns({});\n            }\n            setIsLoading(false);\n          } else {\n            handleRateLimit(\n              data,\n              () => fetchTxnsData(qs, sorting, page),\n              () => setIsLoading(false),\n            );\n          }\n        })\n        .catch(() => {});\n    }\n    let urlString = '';\n    if (filters && Object.keys(filters).length > 0) {\n      urlString = Object.keys(filters)\n        .map(\n          (key) =>\n            `${encodeURIComponent(key)}=${encodeURIComponent(filters[key])}`,\n        )\n        .join('&');\n    }\n\n    if (urlString && sorting) {\n      fetchTotalTxns(urlString);\n      fetchTxnsData(urlString, sorting, currentPage);\n    } else if (sorting && (!filters || Object.keys(filters).length === 0)) {\n      fetchTotalTxns();\n      fetchTxnsData('', sorting, currentPage);\n    }\n\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [config?.backendUrl, id, currentPage, filters, sorting]);\n\n  const onInputChange = (\n    event,\n    name,\n  ) => {\n    setFilterValue((prevFilters) => ({\n      ...prevFilters,\n      [name]: event.target.value,\n    }));\n  };\n\n  const onFilter = (\n    e,\n    name,\n  ) => {\n    e.preventDefault();\n\n    if (filterValue[name] !== undefined && filterValue[name] !== null) {\n      if (name === 'type') {\n        if (isAction(filterValue[name])) {\n          handleFilter('action', filterValue[name]);\n        } else {\n          handleFilter('method', filterValue[name]);\n        }\n      } else {\n        handleFilter(name, filterValue[name]);\n      }\n    }\n  };\n\n  const onClear = (name) => {\n    if (onFilterClear && filters) {\n      onFilterClear(name);\n      setFilterValue((prevFilters) => ({\n        ...prevFilters,\n        [name]: '',\n      }));\n    }\n  };\n\n  const onOrder = () => {\n    setSorting((state) => (state === 'asc' ? 'desc' : 'asc'));\n  };\n\n  const setPage = (pageNumber) => {\n    setCurrentPage(pageNumber);\n  };\n\n  const onHandleMouseOver = (e, id) => {\n    e.preventDefault();\n\n    setAddress(id);\n  };\n  const handleMouseLeave = () => {\n    setAddress('');\n  };\n  const columns = [\n    {\n      header: <span></span>,\n      key: '',\n      cell: (row) => (\n        <>\n          <TxnStatus status={row.outcomes.status} showLabel={false} />\n        </>\n      ),\n      tdClassName:\n        'pl-5 py-4 whitespace-nowrap text-sm text-nearblue-600 dark:text-neargray-10',\n    },\n    {\n      header: <span>{t ? t('txns:hash') : 'TXN HASH'}</span>,\n      key: 'transaction_hash',\n      cell: (row) => (\n        <span>\n          <Tooltip.Provider>\n            <Tooltip.Root>\n              <Tooltip.Trigger asChild>\n                <span className=\"truncate max-w-[120px] inline-block align-bottom text-green-500  dark:text-green-250 whitespace-nowrap\">\n                  <Link\n                    href={`/txns/${row.transaction_hash}`}\n                    className=\"hover:no-underline\"\n                  >\n                    <a className=\"text-green-500 dark:text-green-250 font-medium hover:no-underline\">\n                      {row.transaction_hash}\n                    </a>\n                  </Link>\n                </span>\n              </Tooltip.Trigger>\n              <Tooltip.Content\n                className=\"h-auto max-w-xs bg-black bg-opacity-90 z-10 text-xs text-white p-2 break-words\"\n                align=\"start\"\n                side=\"bottom\"\n              >\n                {row.transaction_hash}\n              </Tooltip.Content>\n            </Tooltip.Root>\n          </Tooltip.Provider>\n        </span>\n      ),\n      tdClassName: 'px-4 py-4 text-sm text-nearblue-600 dark:text-neargray-10',\n      thClassName:\n        'px-4 py-4 text-left whitespace-nowrap text-xs font-semibold text-nearblue-600 dark:text-neargray-10 uppercase tracking-wider',\n    },\n    {\n      header: (\n        <Popover.Root>\n          <Popover.Trigger\n            asChild\n            className=\"flex items-center px-4 py-4 text-left text-xs font-semibold text-nearblue-600 dark:text-neargray-10 uppercase tracking-wider focus:outline-none\"\n          >\n            <button className=\"IconButton\" aria-label=\"Update dimensions\">\n              {t ? t('txns:type') : 'METHOD'}\n              <Filter className=\"h-4 w-4 fill-current ml-2\" />\n            </button>\n          </Popover.Trigger>\n          <Popover.Content\n            className=\"z-50 bg-white dark:bg-black-600 shadow-lg border dark:border-black-200 rounded-b-lg p-2\"\n            sideOffset={5}\n          >\n            <div className=\"flex flex-col\">\n              <input\n                name=\"type\"\n                value={filterValue['type']}\n                onChange={(e) => onInputChange(e, 'type')}\n                placeholder=\"Search by method\"\n                className=\"border dark:border-black-200 rounded h-8 mb-2 px-2 text-nearblue-600 dark:text-neargray-10 text-xs\"\n              />\n              <div className=\"flex\">\n                <button\n                  type=\"submit\"\n                  onClick={(e) => onFilter(e, 'type')}\n                  className=\"flex items-center justify-center flex-1 rounded bg-green-500 h-7 text-white dark:text-black text-xs mr-2\"\n                >\n                  <Filter className=\"h-3 w-3 fill-current mr-2\" />{' '}\n                  {t ? t('txns:filter.filter') : 'Filter'}\n                </button>\n                <button\n                  name=\"type\"\n                  type=\"button\"\n                  onClick={() => onClear('type')}\n                  className=\"flex-1 rounded bg-gray-300 dark:bg-black-200 dark:text-white text-xs h-7\"\n                >\n                  {t ? t('txns:filter.clear') : 'Clear'}\n                </button>\n              </div>\n            </div>\n          </Popover.Content>\n        </Popover.Root>\n      ),\n      key: 'actions',\n      cell: (row) => (\n        <span>\n          <Tooltip.Provider>\n            <Tooltip.Root>\n              <Tooltip.Trigger asChild>\n                <span className=\"bg-blue-900/10 text-xs text-nearblue-600 dark:text-neargray-10 rounded-xl px-2 py-1 max-w-[120px] inline-flex truncate\">\n                  <span className=\"block truncate\">\n                    {txnMethod(row.actions, t)}\n                  </span>\n                </span>\n              </Tooltip.Trigger>\n              <Tooltip.Content\n                className=\"h-auto max-w-xs bg-black bg-opacity-90 z-10 text-xs text-white px-3 py-2 break-words\"\n                align=\"center\"\n                side=\"bottom\"\n              >\n                {txnMethod(row.actions, t)}\n              </Tooltip.Content>\n            </Tooltip.Root>\n          </Tooltip.Provider>\n        </span>\n      ),\n      tdClassName:\n        'px-4 py-4 whitespace-nowrap text-sm text-nearblue-600 dark:text-neargray-10',\n    },\n    {\n      header: <span>{t ? t('txns:depositValue') : 'DEPOSIT VALUE'}</span>,\n      key: 'deposit',\n      cell: (row) => (\n        <span>\n          {row.actions_agg?.deposit\n            ? yoctoToNear(row.actions_agg?.deposit, true)\n            : row.actions_agg?.deposit ?? ''}{' '}\n          \u24c3\n        </span>\n      ),\n      tdClassName:\n        'px-4 py-4 whitespace-nowrap text-sm text-nearblue-600 dark:text-neargray-10',\n      thClassName:\n        'px-4 py-4 text-left text-xs font-semibold text-nearblue-600 dark:text-neargray-10 uppercase tracking-wider whitespace-nowrap',\n    },\n    {\n      header: <span>{t ? t('txns:txnFee') : 'TXN FEE'}</span>,\n      key: 'transaction_fee',\n      cell: (row) => (\n        <span>\n          {row.outcomes_agg?.transaction_fee\n            ? yoctoToNear(row.outcomes_agg?.transaction_fee, true)\n            : ''}{' '}\n          \u24c3\n        </span>\n      ),\n      tdClassName:\n        'px-6 py-4 whitespace-nowrap text-sm text-nearblue-600 dark:text-neargray-10',\n      thClassName:\n        'px-4 py-4 text-left whitespace-nowrap text-xs font-semibold text-nearblue-600 dark:text-neargray-10 uppercase tracking-wider',\n    },\n    {\n      header: (\n        <Popover.Root>\n          <Popover.Trigger\n            asChild\n            className=\"flex items-center px-4 py-4 text-left text-xs font-semibold text-nearblue-600 dark:text-neargray-10 uppercase tracking-wider focus:outline-none\"\n          >\n            <button className=\"IconButton\" aria-label=\"Update dimensions\">\n              {t ? t('txns:from') : 'FROM'}\n              <Filter className=\"h-4 w-4 fill-current ml-2\" />\n            </button>\n          </Popover.Trigger>\n          <Popover.Content\n            className=\"z-50 bg-white dark:bg-black-600 shadow-lg dark:border-black-200 border rounded-b-lg p-2\"\n            sideOffset={5}\n          >\n            <input\n              name=\"from\"\n              value={filterValue['from']}\n              onChange={(e) => onInputChange(e, 'from')}\n              placeholder={\n                t ? t('txns:filter.placeholder') : 'Search by address e.g. \u24c3..'\n              }\n              className=\"border  dark:border-black-200 rounded h-8 mb-2 px-2 text-nearblue-600 dark:text-neargray-10 text-xs\"\n            />\n            <div className=\"flex\">\n              <button\n                type=\"submit\"\n                onClick={(e) => onFilter(e, 'from')}\n                className=\"flex items-center justify-center flex-1 rounded bg-green-500 h-7 text-white dark:text-black text-xs mr-2\"\n              >\n                <Filter className=\"h-3 w-3 fill-current mr-2\" />{' '}\n                {t ? t('txns:filter.filter') : 'Filter'}\n              </button>\n              <button\n                name=\"from\"\n                type=\"button\"\n                onClick={() => onClear('from')}\n                className=\"flex-1 rounded bg-gray-300 dark:bg-black-200 dark:text-white text-xs h-7\"\n              >\n                {t ? t('txns:filter.clear') : 'Clear'}\n              </button>\n            </div>\n          </Popover.Content>\n        </Popover.Root>\n      ),\n      key: 'predecessor_account_id',\n      cell: (row) => (\n        <span>\n          <Tooltip.Provider>\n            <Tooltip.Root>\n              <Tooltip.Trigger asChild>\n                <span\n                  className={`align-bottom text-green-500 dark:text-green-250 whitespace-nowrap p-0.5 px-1 border rounded-md ${\n                    row?.predecessor_account_id === address\n                      ? 'bg-[#FFC10740] border-[#FFC10740] dark:bg-black-200 dark:border-neargray-50 border-dashed cursor-pointer text-[#033F40]'\n                      : 'text-green-500 dark:text-green-250 border-transparent'\n                  }`}\n                >\n                  <Link\n                    href={`/address/${row.predecessor_account_id}`}\n                    className=\"hover:no-underline\"\n                  >\n                    <a\n                      className=\"text-green-500 dark:text-green-250 hover:no-underline\"\n                      onMouseOver={(e) =>\n                        onHandleMouseOver(e, row?.predecessor_account_id)\n                      }\n                      onMouseLeave={handleMouseLeave}\n                    >\n                      {truncateString(row.predecessor_account_id, 15, '...')}\n                    </a>\n                  </Link>\n                </span>\n              </Tooltip.Trigger>\n              <Tooltip.Content\n                className=\"h-auto max-w-xs bg-black bg-opacity-90 z-10 text-xs text-white px-3 py-2 break-words\"\n                align=\"start\"\n                side=\"bottom\"\n              >\n                {row.predecessor_account_id}\n              </Tooltip.Content>\n            </Tooltip.Root>\n          </Tooltip.Provider>\n        </span>\n      ),\n      tdClassName:\n        'px-4 py-4 text-sm text-nearblue-600 dark:text-neargray-10 font-medium',\n    },\n    {\n      header: <span></span>,\n      key: '',\n      cell: (row) => {\n        return row.predecessor_account_id === row.receiver_account_id ? (\n          <span className=\"uppercase rounded w-10 py-2 h-6 flex items-center justify-center bg-green-200 dark:bg-nearblue-650/[0.15] dark:text-neargray-650 dark:border dark:border-nearblue-650/[0.25] text-white text-xs font-semibold\">\n            {t ? t('txns:txnSelf') : 'SELF'}\n          </span>\n        ) : id === row.predecessor_account_id ? (\n          <span className=\"uppercase rounded w-10 h-6 flex items-center justify-center bg-yellow-100 dark:bg-yellow-400/[0.10] dark:text-nearyellow-400 dark:border dark:border-yellow-400/60 text-yellow-700 text-xs font-semibold\">\n            {t ? t('txns:txnOut') : 'OUT'}\n          </span>\n        ) : (\n          <span className=\"uppercase rounded w-10 h-6 flex items-center justify-center bg-neargreen dark:bg-green-500/[0.15] dark:text-neargreen-300 dark:border dark:border-green-400/75 text-white text-xs font-semibold\">\n            {t ? t('txns:txnIn') : 'IN'}\n          </span>\n        );\n      },\n    },\n    {\n      header: (\n        <Popover.Root>\n          <Popover.Trigger\n            asChild\n            className=\"flex items-center px-4 py-4 text-left text-xs font-semibold text-nearblue-600 dark:text-neargray-10 uppercase tracking-wider focus:outline-none\"\n          >\n            <button className=\"IconButton\" aria-label=\"Update dimensions\">\n              {t ? t('txns:to') : 'To'}\n              <Filter className=\"h-4 w-4 fill-current ml-2\" />\n            </button>\n          </Popover.Trigger>\n          <Popover.Content\n            className=\"z-50 bg-white dark:bg-black-600 shadow-lg border dark:border-black-200 rounded-b-lg p-2\"\n            sideOffset={5}\n          >\n            <input\n              name=\"to\"\n              value={filterValue['to']}\n              onChange={(e) => onInputChange(e, 'to')}\n              placeholder={\n                t ? t('txns:filter.placeholder') : 'Search by address e.g. \u24c3..'\n              }\n              className=\"border dark:border-black-200 rounded h-8 mb-2 px-2 text-nearblue-600 dark:text-neargray-10 text-xs\"\n            />\n            <div className=\"flex\">\n              <button\n                type=\"submit\"\n                onClick={(e) => onFilter(e, 'to')}\n                className=\"flex items-center justify-center flex-1 rounded bg-green-500 h-7 text-white dark:text-black text-xs mr-2\"\n              >\n                <Filter className=\"h-3 w-3 fill-current mr-2\" />{' '}\n                {t ? t('txns:filter.filter') : 'Filter'}\n              </button>\n              <button\n                name=\"to\"\n                type=\"button\"\n                onClick={() => onClear('to')}\n                className=\"flex-1 rounded bg-gray-300 dark:bg-black-200 dark:text-white text-xs h-7\"\n              >\n                {t ? t('txns:filter.clear') : 'Clear'}\n              </button>\n            </div>\n          </Popover.Content>\n        </Popover.Root>\n      ),\n      key: 'receiver_account_id',\n      cell: (row) => (\n        <span>\n          <Tooltip.Provider>\n            <Tooltip.Root>\n              <Tooltip.Trigger asChild>\n                <span\n                  className={`align-bottom text-green-500 dark:text-green-250 whitespace-nowrap p-0.5 px-1 border rounded-md ${\n                    row?.receiver_account_id === address\n                      ? 'bg-[#FFC10740] border-[#FFC10740] dark:bg-black-200 dark:border-neargray-50 border-dashed cursor-pointer text-[#033F40]'\n                      : 'text-green-500 dark:text-green-250 border-transparent'\n                  }`}\n                >\n                  <Link\n                    href={`/address/${row.receiver_account_id}`}\n                    className=\"hover:no-underline\"\n                  >\n                    <a\n                      className=\"text-green-500 dark:text-green-250 hover:no-underline\"\n                      onMouseOver={(e) =>\n                        onHandleMouseOver(e, row?.receiver_account_id)\n                      }\n                      onMouseLeave={handleMouseLeave}\n                    >\n                      {truncateString(row.receiver_account_id, 15, '...')}\n                    </a>\n                  </Link>\n                </span>\n              </Tooltip.Trigger>\n              <Tooltip.Content\n                className=\"h-auto max-w-xs bg-black bg-opacity-90 z-10 text-xs text-white px-3 py-2 break-words\"\n                align=\"start\"\n                side=\"bottom\"\n              >\n                {row.receiver_account_id}\n              </Tooltip.Content>\n            </Tooltip.Root>\n          </Tooltip.Provider>\n        </span>\n      ),\n      tdClassName:\n        'px-4 py-4 text-sm text-nearblue-600 dark:text-neargray-10 font-medium',\n    },\n    {\n      header: <span>{t ? t('txns:blockHeight') : ' BLOCK HEIGHT'}</span>,\n      key: 'block_height',\n      cell: (row) => (\n        <span>\n          <Link\n            href={`/blocks/${row.included_in_block_hash}`}\n            className=\"hover:no-underline\"\n          >\n            <a className=\"text-green-500  dark:text-green-250 hover:no-underline\">\n              {row.block?.block_height\n                ? localFormat(row.block?.block_height)\n                : ''}\n            </a>\n          </Link>\n        </span>\n      ),\n      tdClassName:\n        'px-4 py-4 whitespace-nowrap text-sm text-nearblue-600 dark:text-neargray-10 font-medium',\n      thClassName:\n        'px-4 py-4 text-left text-xs font-semibold text-nearblue-600 dark:text-neargray-10 uppercase tracking-wider whitespace-nowrap',\n    },\n    {\n      header: (\n        <div className=\"w-full inline-flex px-4 py-4\">\n          <Tooltip.Provider>\n            <Tooltip.Root>\n              <Tooltip.Trigger asChild>\n                <button\n                  type=\"button\"\n                  onClick={toggleShowAge}\n                  className=\"text-left text-xs w-full flex items-center font-semibold uppercase tracking-wider text-green-500 dark:text-green-250 focus:outline-none whitespace-nowrap\"\n                >\n                  {showAge\n                    ? t\n                      ? t('txns:age')\n                      : 'AGE'\n                    : t\n                    ? t('txns:ageDT')\n                    : 'DATE TIME (UTC)'}\n                  {showAge && (\n                    <Clock className=\"text-green-500 dark:text-green-250 ml-2\" />\n                  )}\n                </button>\n              </Tooltip.Trigger>\n              <Tooltip.Content\n                className=\"h-auto max-w-xs bg-black bg-opacity-90 z-10 text-xs text-white px-3 py-2 break-words\"\n                align=\"center\"\n                side=\"top\"\n              >\n                {showAge\n                  ? 'Click to show Datetime Format'\n                  : 'Click to show Age Format'}\n              </Tooltip.Content>\n            </Tooltip.Root>\n          </Tooltip.Provider>\n          <button type=\"button\" onClick={onOrder} className=\"px-2\">\n            <div className=\"text-nearblue-600 dark:text-neargray-10 font-semibold\">\n              <SortIcon order={sorting} />\n            </div>\n          </button>\n        </div>\n      ),\n      key: 'block_timestamp',\n      cell: (row) => (\n        <span>\n          <Tooltip.Provider>\n            <Tooltip.Root>\n              <Tooltip.Trigger asChild>\n                <span>\n                  {!showAge\n                    ? row.block_timestamp\n                      ? formatTimestampToString(\n                          nanoToMilli(row.block_timestamp),\n                        )\n                      : ''\n                    : row.block_timestamp\n                    ? getTimeAgoString(nanoToMilli(row.block_timestamp))\n                    : ''}\n                </span>\n              </Tooltip.Trigger>\n              <Tooltip.Content\n                className=\"h-auto max-w-xs bg-black bg-opacity-90 z-10 text-xs text-white px-3 py-2 break-words\"\n                align=\"start\"\n                side=\"bottom\"\n              >\n                {showAge\n                  ? row.block_timestamp\n                    ? formatTimestampToString(nanoToMilli(row.block_timestamp))\n                    : ''\n                  : row.block_timestamp\n                  ? getTimeAgoString(nanoToMilli(row.block_timestamp))\n                  : ''}\n              </Tooltip.Content>\n            </Tooltip.Root>\n          </Tooltip.Provider>\n        </span>\n      ),\n      tdClassName:\n        'px-4 py-4 whitespace-nowrap text-sm text-nearblue-600 dark:text-neargray-10',\n      thClassName: 'whitespace-nowrap',\n    },\n  ];\n\n  return (\n    <div className=\"bg-white dark:bg-black-600 soft-shadow rounded-xl pb-1\">\n      {isLoading ? (\n        <div className=\"pl-6 max-w-lg w-full py-5 \">\n          <Skeleton className=\"h-4\" />\n        </div>\n      ) : (\n        <div className={`flex flex-col lg:flex-row pt-4`}>\n          <div className=\"flex flex-col\">\n            <p className=\"leading-7 pl-6 text-sm mb-4 text-nearblue-600 dark:text-neargray-10\">\n              {Object.keys(txns).length > 0 &&\n                `A total of${' '}\n              ${\n                totalCount\n                  ? localFormat && localFormat(totalCount.toString())\n                  : 0\n              }${' '}\n              transactions found`}\n            </p>\n          </div>\n          <div className=\"flex flex-col px-4 text-sm mb-4 text-nearblue-600 dark:text-neargray-10 lg:flex-row lg:ml-auto  lg:items-center lg:justify-between\">\n            {filters && Object.keys(filters).length > 0 && (\n              <div className=\"flex  px-2 items-center text-sm text-gray-500 dark:text-neargray-10 mb-2 lg:mb-0\">\n                <span className=\"mr-1 lg:mr-2\">Filtered By:</span>\n                <span className=\"flex flex-wrap items-center justify-center bg-gray-100 dark:bg-black-200 rounded-full px-3 py-1 space-x-2\">\n                  {Object.keys(filters).map((key) => (\n                    <span\n                      className=\"flex items-center max-sm:mb-1 truncate max-w-[120px]\"\n                      key={key}\n                    >\n                      {capitalizeFirstLetter(key)}:{' '}\n                      <span className=\"font-semibold truncate\">\n                        {filters[key]}\n                      </span>\n                    </span>\n                  ))}\n                  <CloseCircle\n                    className=\"w-4 h-4 fill-current cursor-pointer\"\n                    onClick={onClear}\n                  />\n                </span>\n              </div>\n            )}\n            <span className=\"text-xs text-nearblue-600 dark:text-neargray-10 self-stretch lg:self-auto px-2\">\n              {Object.keys(txns).length > 0 && (\n                <button className=\"hover:no-underline \">\n                  <Link\n                    href={`/exportdata?address=${id}`}\n                    className=\"flex items-center text-nearblue-600 dark:text-neargray-10 font-medium py-2 border border-neargray-700 dark:border-black-200 px-4 rounded-md bg-white dark:bg-black-600 hover:bg-neargray-800\"\n                  >\n                    <p>CSV Export</p>\n                    <span className=\"ml-2\">\n                      <Download />\n                    </span>\n                  </Link>\n                </button>\n              )}\n            </span>\n          </div>\n        </div>\n      )}\n      {\n        <Widget\n          src={`${ownerId}/widget/bos-components.components.Shared.Table`}\n          props={{\n            columns: columns,\n            data: txns[currentPage],\n            isLoading: isLoading,\n            isPagination: true,\n            count: totalCount,\n            page: currentPage,\n            limit: 25,\n            pageLimit: 200,\n            setPage: setPage,\n            Error: (\n              <ErrorMessage\n                icons={<FaInbox />}\n                message={errorMessage}\n                mutedText=\"Please try again later\"\n              />\n            ),\n          }}\n        />\n      }\n    </div>\n  );\n}\n\nreturn MainComponent(props, context);", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/nearblocksonbos.near/widget/bos-components.components.Address.Transactions", "fact_widget_deployments_id": "87875367b433fd371367ee4638f6bcb7", "inserted_timestamp": "2024-04-23T12:45:14.231Z", "modified_timestamp": "2024-04-23T12:45:14.231Z", "__row_index": 3}