{"tx_hash": "75BP5KmofCYS4exbem82jZF5PdMenPh6ckstkPnePSAs", "action_id_social": "E8QtqzHCXmGmSDyKVLTkRbtTVmD5CQgNhrUXTJc72ntg-0-widget", "block_id": 119546004, "block_timestamp": "2024-05-23T06:47:31.801Z", "signer_id": "nearblocksonbos.near", "widget_name": "includes.Common.TreeReceipts.Action.FunctionCall", "source_code": "import { hexy } from '@/includes/hexy';\nimport FaCode from '@/includes/icons/FaCode';\n\n\nconst FunctionCall = (props) => {\n  const { t, args, receiver, action, ownerId } = props;\n  const { shortenAddress } = VM.require(\n    `${ownerId}/widget/includes.Utils.libs`,\n  );\n\n  function displayArgs(args) {\n    if (!args || typeof args === 'undefined') return 'The arguments are empty';\n\n    let pretty = '';\n    const decoded = Buffer.from(args, 'base64');\n    try {\n      const parsed = JSON.parse(decoded.toString());\n      if (parsed) {\n        pretty = parsed;\n      } else {\n        pretty = hexy(decoded, { format: 'twos' });\n      }\n    } catch {\n      pretty = hexy(decoded, { format: 'twos' });\n    }\n\n    if (pretty && typeof pretty === 'object' && pretty.msg) {\n      try {\n        const msgObj = JSON.parse(pretty.msg);\n        pretty.msg = msgObj;\n      } catch (error) {\n        console.error('Error parsing JSON in \"msg\" property:', error);\n      }\n    }\n\n    return pretty;\n  }\n\n  const modifiedAction = {\n    ...action,\n    args: {\n      ...action.args,\n      args: displayArgs(args?.args_base64 || args?.args),\n    },\n  };\n  return (\n    <>\n      <div className=\"py-1\">\n        <FaCode className=\"inline-flex text-yellow-500 mr-1\" />\n        {t ? t('txns:txn.actions.functionCall.0') : 'Called method'}\n        <span className=\"font-bold\">{args?.method_name}</span>{' '}\n        {t ? t('txns:txn.actions.functionCall.1') : 'in contract'}\n        <a href={`/address/${receiver}`} className=\"hover:no-underline\">\n          <a className=\"text-green-500 dark:text-green-250 font-bold hover:no-underline\">\n            {shortenAddress(receiver)}\n          </a>\n        </a>\n      </div>\n      <div className=\"mt-3 bg-gray-100 dark:bg-black-200 p-3 overflow-auto rounded-lg\">\n        <Widget\n          src={`${ownerId}/widget/includes.Common.TreeReceipts.TreeNode`}\n          props={{\n            node: modifiedAction,\n            path: 'root',\n            ownerId,\n          }}\n        />\n      </div>\n    </>\n  );\n};\n\nexport default FunctionCall;\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/nearblocksonbos.near/widget/includes.Common.TreeReceipts.Action.FunctionCall", "fact_widget_deployments_id": "47b419659a73f6ba6ae2fc04353ced8c", "inserted_timestamp": "2024-05-23T08:51:25.517Z", "modified_timestamp": "2024-05-23T08:51:25.517Z", "__row_index": 0}