{"tx_hash": "6QZKTQHJbre9RsdmjAPKxGwwcR2bYwQDLnUGpuRG34cF", "action_id_social": "9CYpW14k6hNHfEBSLQSDxhZmU9mbaJCyTqEAsgxqMx72-0-widget", "block_id": 120910813, "block_timestamp": "2024-06-11T06:41:50.245Z", "signer_id": "nearblocksonbos.near", "widget_name": "lite.libs.formatter", "source_code": "const formatter = () => {\n  const formatNumber = (value, decimals) => {\n    const bigNumber = Big(value).toFixed(decimals);\n    const parts = bigNumber.split(\".\");\n    const integerPart = parts[0].replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\n    if (parts.length === 1 || decimals === 0) return integerPart;\n    const decimalPart = parts[1].slice(0, decimals).replace(/0+$/, \"\");\n    if (!decimalPart) return integerPart;\n    return `${integerPart}.${decimalPart}`;\n  };\n  const formatScale = (value, decimals) => {\n    const bigNumber = Big(value);\n    const scales = [\n      { suffix: \"T\", threshold: Big(1e12) },\n      { suffix: \"B\", threshold: Big(1e9) },\n      { suffix: \"M\", threshold: Big(1e6) },\n      { suffix: \"K\", threshold: Big(1e3) },\n    ];\n    for (const scale of scales) {\n      if (bigNumber.gte(scale.threshold)) {\n        const formatted = formatNumber(\n          bigNumber.div(scale.threshold).toString(),\n          decimals\n        );\n        return `${formatted} ${scale.suffix}`;\n      }\n    }\n    return formatNumber(bigNumber.toString(), decimals);\n  };\n  const formatSize = (value, decimals) => {\n    const bigNumber = Big(value);\n    const sizes = [\"B\", \"KB\", \"MB\", \"GB\", \"TB\", \"PB\"];\n    if (bigNumber.eq(0)) return \"0 B\";\n    const i = Math.floor(Math.log(bigNumber.toNumber()) / Math.log(1024));\n    const converted = bigNumber.div(Big(1024).pow(i)).toString();\n    const formatted = formatNumber(converted, decimals);\n    return `${formatted} ${sizes[i]}`;\n  };\n  return { formatNumber, formatScale, formatSize };\n};\nreturn formatter(props);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/nearblocksonbos.near/widget/lite.libs.formatter", "fact_widget_deployments_id": "23c43f6b6392b6cf7b24a25a00010721", "inserted_timestamp": "2024-06-11T08:04:49.294Z", "modified_timestamp": "2024-06-11T08:04:49.294Z", "__row_index": 0}