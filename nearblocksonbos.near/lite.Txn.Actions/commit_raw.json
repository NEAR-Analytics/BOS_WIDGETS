{"tx_hash": "DfsZi9QugptB1pMRbmmPH2nSGDtqeN7CgcdfZd99w7hS", "action_id_social": "61kzwN7PMJo4sXPCpJ8MLo9uQTnEMLRh5EwrYy5zxvLr-0-widget", "block_id": 121969385, "block_timestamp": "2024-06-25T13:52:52.737Z", "signer_id": "nearblocksonbos.near", "widget_name": "lite.Txn.Actions", "source_code": "let TxnActionSkeleton = window?.TxnActionSkeleton || (() => <></>);\nlet JsonView = window?.JsonView || (({ children }) => <pre>{children}</pre>);\nconst prettify = (args) => {\n  try {\n    return JSON.stringify(JSON.parse(atob(args)), undefined, 2);\n  } catch (error) {\n    return args;\n  }\n};\nconst Actions = ({ actions, open, receipt, setOpen }) => {\n  let { yoctoToNear, yoctoToTgas } = VM.require(\n    `nearblocksonbos.near/widget/lite.libs.convertor`\n  );\n  let { formatNumber } = VM.require(\n    `nearblocksonbos.near/widget/lite.libs.formatter`\n  );\n  let { gasLimit, refund, shortenString } = VM.require(\n    `nearblocksonbos.near/widget/lite.libs.utils`\n  );\n  if (\n    !yoctoToNear ||\n    !yoctoToTgas ||\n    !formatNumber ||\n    !gasLimit ||\n    !refund ||\n    !shortenString\n  )\n    return <TxnActionSkeleton />;\n  const [active, setActive] = useState(\"output\");\n  const result = useMemo(() => {\n    let logs = \"No logs\";\n    let status = \"Empty result\";\n    if (receipt.outcome.logs.length) {\n      logs = receipt.outcome.logs.join(\"\\n\");\n    }\n    if (receipt.outcome.status.type === \"successReceiptId\") {\n      status = receipt.outcome.status.receiptId;\n    }\n    if (\n      receipt.outcome.status.type === \"successValue\" &&\n      receipt.outcome.status.value.length\n    ) {\n      status = prettify(receipt.outcome.status.value);\n    }\n    if (receipt.outcome.status.type === \"failure\") {\n      status = JSON.stringify(receipt.outcome.status.error, undefined, 2);\n    }\n    return { logs, status };\n  }, [receipt]);\n  return (\n    <>\n      <div className=\"space-y-2\">\n        {actions.map((action, index) => (\n          <Widget\n            key={`action-${index}`}\n            loading={<TxnActionSkeleton />}\n            props={{ action, open, setOpen }}\n            src={`nearblocksonbos.near/widget/lite.Txn.Action`}\n          />\n        ))}\n      </div>\n      {open && (\n        <div className=\"px-4 pt-6\">\n          <div>\n            <button\n              className={` text-sm py-1 mr-4 ${\n                active === \"output\"\n                  ? \"font-medium border-b-[3px] border-text-body\"\n                  : \"text-text-label\"\n              }`}\n              onClick={() => setActive(\"output\")}\n            >\n              Output\n            </button>\n            <button\n              className={` text-sm py-1 mr-4 ${\n                active === \"inspect\"\n                  ? \"font-medium border-b-[3px] border-text-body\"\n                  : \"text-text-label\"\n              }`}\n              onClick={() => setActive(\"inspect\")}\n            >\n              Inspect\n            </button>\n          </div>\n          {active === \"output\" && (\n            <div className=\"pt-6\">\n              <h3 className=\"text-sm mb-1\">Logs</h3>\n              <JsonView className=\"mb-6\">{result.logs}</JsonView>\n              <h3 className=\"text-sm mb-1\">Result</h3>\n              <JsonView className=\"mb-6\">{result.status}</JsonView>\n            </div>\n          )}\n          {active === \"inspect\" && (\n            <div className=\"text-sm pt-6 pb-3\">\n              <div className=\"flex items-center\">\n                <h3 className=\"w-32 mb-2\">Receipt</h3>\n                <p className=\"flex items-center group mb-2\">\n                  <Widget\n                    key=\"tooltip\"\n                    props={{\n                      children: shortenString(receipt.id),\n                      tooltip: receipt.id,\n                    }}\n                    src={`nearblocksonbos.near/widget/lite.Atoms.Tooltip`}\n                  />\n                  <Widget\n                    key=\"copy\"\n                    props={{\n                      buttonClassName: \"w-4 ml-1\",\n                      className: \"hidden text-primary w-3.5 group-hover:block\",\n                      text: receipt.id,\n                    }}\n                    src={`nearblocksonbos.near/widget/lite.Atoms.Copy`}\n                  />\n                </p>\n              </div>\n              <div className=\"flex items-center\">\n                <h3 className=\"w-32 mb-2\">Block</h3>\n                <p className=\"flex items-center group mb-2\">\n                  <Widget\n                    key=\"tooltip\"\n                    props={{\n                      children: (\n                        <Link\n                          className=\"font-medium\"\n                          href={`/blocks/${receipt.outcome.block.hash}`}\n                        >\n                          {shortenString(receipt.outcome.block.hash)}\n                        </Link>\n                      ),\n                      tooltip: receipt.outcome.block.hash,\n                    }}\n                    src={`nearblocksonbos.near/widget/lite.Atoms.Tooltip`}\n                  />\n                  <Widget\n                    key=\"copy\"\n                    props={{\n                      buttonClassName: \"w-4 ml-1\",\n                      className: \"hidden text-primary w-3.5 group-hover:block\",\n                      text: receipt.outcome.block.hash,\n                    }}\n                    src={`nearblocksonbos.near/widget/lite.Atoms.Copy`}\n                  />\n                </p>\n              </div>\n              <div className=\"flex items-center\">\n                <h3 className=\"w-32 mb-2\">From</h3>\n                <p className=\"flex items-center group mb-2\">\n                  <Widget\n                    key=\"tooltip\"\n                    props={{\n                      children: (\n                        <Link\n                          className=\"font-medium\"\n                          href={`/address/${receipt.predecessorId}`}\n                        >\n                          {shortenString(receipt.predecessorId, 10, 10, 22)}\n                        </Link>\n                      ),\n                      tooltip: receipt.predecessorId,\n                    }}\n                    src={`nearblocksonbos.near/widget/lite.Atoms.Tooltip`}\n                  />\n                  <Widget\n                    key=\"copy\"\n                    props={{\n                      buttonClassName: \"w-4 ml-1\",\n                      className: \"hidden text-primary w-3.5 group-hover:block\",\n                      text: receipt.predecessorId,\n                    }}\n                    src={`nearblocksonbos.near/widget/lite.Atoms.Copy`}\n                  />\n                </p>\n              </div>\n              <div className=\"flex items-center\">\n                <h3 className=\"w-32 mb-2\">To</h3>\n                <p className=\"flex items-center group mb-2\">\n                  <Widget\n                    key=\"tooltip\"\n                    props={{\n                      children: (\n                        <Link\n                          className=\"font-medium\"\n                          href={`/address/${receipt.receiverId}`}\n                        >\n                          {shortenString(receipt.receiverId, 10, 10, 22)}\n                        </Link>\n                      ),\n                      tooltip: receipt.receiverId,\n                    }}\n                    src={`nearblocksonbos.near/widget/lite.Atoms.Tooltip`}\n                  />\n                  <Widget\n                    key=\"copy\"\n                    props={{\n                      buttonClassName: \"w-4 ml-1\",\n                      className: \"hidden text-primary w-3.5 group-hover:block\",\n                      text: receipt.receiverId,\n                    }}\n                    src={`nearblocksonbos.near/widget/lite.Atoms.Copy`}\n                  />\n                </p>\n              </div>\n              <div className=\"flex items-center\">\n                <h3 className=\"w-32 mb-2\">Gas Limit</h3>\n                <p className=\"mb-2\">\n                  {formatNumber(yoctoToTgas(gasLimit(receipt.actions)), 2)}\n                </p>\n              </div>\n              <div className=\"flex items-center\">\n                <h3 className=\"w-32 mb-2\">Gas Burned</h3>\n                <p className=\"mb-2\">\n                  {formatNumber(\n                    yoctoToTgas(String(receipt.outcome.gasBurnt)),\n                    2\n                  )}{\" \"}\n                  TGas\n                </p>\n              </div>\n              <div className=\"flex items-center\">\n                <h3 className=\"w-32 mb-2\">Tokens Burned</h3>\n                <p className=\"mb-2\">\n                  {formatNumber(yoctoToNear(receipt.outcome.tokensBurnt), 6)} \u24c3\n                </p>\n              </div>\n              <div className=\"flex items-center\">\n                <h3 className=\"w-32 mb-2\">Refunded</h3>\n                <p className=\"mb-2\">\n                  {formatNumber(\n                    yoctoToNear(refund(receipt.outcome.nestedReceipts)),\n                    6\n                  )}{\" \"}\n                  \u24c3\n                </p>\n              </div>\n            </div>\n          )}\n        </div>\n      )}\n    </>\n  );\n};\nreturn Actions(props);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/nearblocksonbos.near/widget/lite.Txn.Actions", "fact_widget_deployments_id": "bdf28e0c7f185facfa9f015c4ed8318c", "inserted_timestamp": "2024-06-25T14:54:47.038Z", "modified_timestamp": "2024-06-25T14:54:47.038Z", "__row_index": 0}