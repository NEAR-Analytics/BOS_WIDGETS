{"tx_hash": "29TJymGSQnJfedpmzwKkYsiG2u2f6SfRb53EZJR4ETKd", "action_id_social": "6Yf79NuKxZNzgZcugj2imHxiWWY8PAZ9iVcaPDDySV9D-0-widget", "block_id": 116536511, "block_timestamp": "2024-04-10T11:22:44.624Z", "signer_id": "nearblocksonbos.near", "widget_name": "bos-components.components.Transactions.ReceiptKind", "source_code": "\n\n\n\n\n\n\n\n\nconst backgroundColorClasses = {\n  transfer: 'bg-green-50',\n  stake: 'bg-cyan-50',\n  deployContract: 'bg-orange-50',\n  addKey: 'bg-indigo-50',\n  deleteKey: 'bg-red-50',\n  functionCall: 'bg-blue-50',\n  createAccount: 'bg-fuchsia-100',\n  deleteAccount: 'bg-red-50',\n  delegateAction: 'bg-blue-50',\n};\n\nfunction MainComponent(props) {\n  const { network, t, action, onClick, isTxTypeActive, ownerId } = props;\n\n  const { yoctoToNear } = VM.require(`${ownerId}/widget/includes.Utils.libs`);\n\n  const args = action.args.args;\n  const decodedArgs = args ? Buffer.from(args, 'base64') : null;\n\n  let prettyArgs;\n  try {\n    if (decodedArgs) {\n      const parsedJSONArgs = JSON.parse(decodedArgs.toString());\n      prettyArgs =\n        typeof parsedJSONArgs === 'boolean'\n          ? JSON.stringify(parsedJSONArgs)\n          : parsedJSONArgs;\n    } else {\n      prettyArgs = '';\n    }\n  } catch {\n    prettyArgs = Array.from(decodedArgs || [])\n      .map((byte) => byte.toString(16).padStart(2, '0'))\n      .join('');\n  }\n\n  return (\n    <div className=\"py-2.5\">\n      <div\n        className={`p-2 mr-3 min-h-25 rounded-md inline-flex items-center justify-center leading-5 cursor-pointer \n        transition-all ease-in-out \n        ${backgroundColorClasses[action.kind] || ''}`}\n        onClick={onClick}\n        role=\"button\"\n        tabIndex={0}\n      >\n        {action?.kind !== 'functionCall' &&\n          action?.kind !== 'delegateAction' &&\n          t(`txns:${action?.kind}`)}\n        {action?.kind === 'delegateAction' ? (\n          <div className=\"inline-flex text-sm\">{`Delegate action`}</div>\n        ) : null}\n        {action?.kind === 'functionCall' ? (\n          <div className=\"inline-flex text-sm\">{`'${action?.args?.methodName}'`}</div>\n        ) : null}\n        {onClick ? (\n          <div className=\"ml-2\">{isTxTypeActive ? '-' : '+'}</div>\n        ) : null}\n      </div>\n      {action?.kind === 'transfer' ? (\n        <div className=\"inline-flex justify-center\">\n          <span className=\"text-xs whitespace-nowrap\">\n            {action?.args?.deposit\n              ? yoctoToNear(action?.args?.deposit, false)\n              : action?.args?.deposit ?? ''}\n            \u24c3\n          </span>\n        </div>\n      ) : null}\n      {isTxTypeActive ? (\n        action?.kind === 'functionCall' ? (\n          <div className=\"py-2 ml-6\">\n            {prettyArgs && typeof prettyArgs === 'object' ? (\n              <textarea\n                readOnly\n                rows={4}\n                defaultValue={JSON.stringify(prettyArgs)}\n                className=\"block appearance-none outline-none w-full max-md:w-fit border rounded-lg bg-gray-100 p-3 my-3 resize-y\"\n              ></textarea>\n            ) : (\n              <div>\n                <div className=\"bg-gray-100 rounded-md p-3 font-medium my-3\">\n                  <div className=\"bg-inherit text-inherit font-inherit border-none p-0\">\n                    <div className=\"max-h-52 overflow-auto\">\n                      <div className=\"p-4 h-full w-full\">{prettyArgs}</div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            )}\n          </div>\n        ) : action?.kind === 'delegateAction' ? (\n          <div className=\"py-2 ml-6\">\n            <span className=\"font-semibold\">\n              {action?.args?.senderId\n                ? `Actions delegated for ${action?.args?.senderId}:`\n                : ''}\n            </span>\n            {[...action.args.actions]\n              .sort(\n                (actionA, actionB) =>\n                  actionA.delegateIndex - actionB.delegateIndex,\n              )\n              .map((subaction) => (\n                <Widget\n                  key={subaction.delegateIndex}\n                  src={`${ownerId}/widget/bos-components.components.Transactions.ReceiptKind`}\n                  props={{\n                    network: network,\n                    t: t,\n                    action: subaction,\n                    isTxTypeActive: true,\n                    ownerId,\n                  }}\n                />\n              ))}\n          </div>\n        ) : null\n      ) : null}\n    </div>\n  );\n}\n\nreturn MainComponent(props, context);", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/nearblocksonbos.near/widget/bos-components.components.Transactions.ReceiptKind", "fact_widget_deployments_id": "b9b4c3bda2e270afdaf25aee3143654b", "inserted_timestamp": "2024-04-10T12:34:58.847Z", "modified_timestamp": "2024-04-10T13:40:59.984Z", "__row_index": 11}