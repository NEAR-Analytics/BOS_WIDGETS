{"tx_hash": "7sySsBC59q5AQwkVkSext4xqJdpWCo43FxAP66FaKUc", "action_id_social": "GmQKWKFK6pcduKeCCGaj8bZmMAfyyiGHR7bxpQcEtJ1Y-0-widget", "block_id": 118206538, "block_timestamp": "2024-05-04T05:20:44.159Z", "signer_id": "nearblocksonbos.near", "widget_name": "includes.Common.CursorPaginator", "source_code": "\n\n\n\n\n\n\n\n\nconst CursorPaginator = (props) => {\n  const [disabled, setDisabled] = useState(true);\n  const initialPage = 1;\n  const [currentPage, setCurrentPage] = useState(initialPage);\n\n  const { formatWithCommas } = VM.require(\n    `${props.ownerId}/widget/includes.Utils.formats`,\n  );\n\n  function constructURL(params) {\n    let url = props.apiUrl;\n    if (params) {\n      const urlObj = new URL(url);\n      urlObj.searchParams.append('cursor', '');\n      urlObj.searchParams.set('cursor', params);\n      return urlObj.toString() + '&';\n    }\n    return url;\n  }\n\n  const handleNextPage = () => {\n    props.setUrl(constructURL(props.cursor));\n    setCurrentPage((prev) => prev + 1);\n    setDisabled(false);\n  };\n  const onFirst = () => {\n    props.setUrl(props.apiUrl);\n    setDisabled(true);\n    setCurrentPage(initialPage);\n  };\n\n  return (\n    <>\n      <div className=\"bg-white dark:bg-black-600 px-2 py-3 flex items-center justify-between border-t dark:border-black-200 md:px-4 rounded-b-xl\">\n        <div className=\"flex-1 flex items-center justify-between\">\n          <div></div>\n          <div\n            className=\"relative z-0 inline-flex rounded-md\"\n            aria-label=\"Pagination\"\n          >\n            <button\n              type=\"button\"\n              disabled={disabled || props.isLoading}\n              onClick={onFirst}\n              className={`relative inline-flex items-center px-2 ml-1 md:px-3 py-2  text-xs font-medium rounded-md ${\n                disabled || props.isLoading\n                  ? 'text-gray-500 dark:text-neargray-10'\n                  : 'text-green-400 dark:text-green-250 hover:bg-green-400 dark:hover:bg-green-250 hover:text-white dark:hover:text-black'\n              } bg-gray-100 dark:bg-black-200 dark:text-green-250`}\n            >\n              First\n            </button>\n            <button\n              type=\"button\"\n              disabled\n              className=\"relative inline-flex items-center px-2 ml-1 md:px-3 py-2 text-xs font-medium text-gray-500  rounded-md  bg-gray-100 dark:bg-black-200 dark:text-neargray-10\"\n            >\n              {`Page ${formatWithCommas(currentPage)}`}\n            </button>\n            <button\n              type=\"button\"\n              disabled={props.isLoading || !props.cursor}\n              onClick={handleNextPage}\n              className={`relative inline-flex items-center ml-1 px-2 md:px-3 py-2 rounded-md font-medium text-xs ${\n                props.isLoading || !props.cursor\n                  ? 'text-gray-500 dark:text-neargray-10'\n                  : 'text-green-400 dark:text-green-250 hover:text-white dark:hover:text-black hover:bg-green-400 dark:hover:bg-green-250'\n              }  bg-gray-100 dark:text-green-250 dark:bg-black-200`}\n            >\n              Next\n            </button>\n          </div>\n        </div>\n      </div>\n    </>\n  );\n};\nexport default CursorPaginator;\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/nearblocksonbos.near/widget/includes.Common.CursorPaginator", "fact_widget_deployments_id": "db40d6f3d621371b653fdaa2d02ed276", "inserted_timestamp": "2024-05-04T06:39:35.468Z", "modified_timestamp": "2024-05-04T06:39:35.468Z", "__row_index": 0}