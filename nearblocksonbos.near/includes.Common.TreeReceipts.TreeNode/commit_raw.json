{"tx_hash": "75BP5KmofCYS4exbem82jZF5PdMenPh6ckstkPnePSAs", "action_id_social": "E8QtqzHCXmGmSDyKVLTkRbtTVmD5CQgNhrUXTJc72ntg-0-widget", "block_id": 119546004, "block_timestamp": "2024-05-23T06:47:31.801Z", "signer_id": "nearblocksonbos.near", "widget_name": "includes.Common.TreeReceipts.TreeNode", "source_code": "\n\n\n\nfunction MainComponent({\n  node,\n  path,\n  ownerId,\n}\n\n\n\n) {\n  const ArrowUp = (props) => {\n    return (\n      <svg\n        xmlns=\"http://www.w3.org/2000/svg\"\n        viewBox=\"0 0 24 24\"\n        width={24}\n        height={24}\n        {...props}\n      >\n        <path fill=\"none\" d=\"M0 0h24v24H0z\" />\n        <path d=\"M12 10.828l-4.95 4.95-1.414-1.414L12 8l6.364 6.364-1.414 1.414z\" />\n      </svg>\n    );\n  };\n  const ArrowDown = (props) => {\n    return (\n      <svg\n        xmlns=\"http://www.w3.org/2000/svg\"\n        viewBox=\"0 0 24 24\"\n        width={24}\n        height={24}\n        {...props}\n      >\n        <path fill=\"none\" d=\"M0 0h24v24H0z\" />\n        <path\n          fill=\"currentColor\"\n          d=\"M12 13.172l4.95-4.95 1.414 1.414L12 16 5.636 9.636 7.05 8.222z\"\n        />\n      </svg>\n    );\n  };\n  const [expandedPaths, setExpandedPaths] = useState\n\n({});\n\n  const handleClick = (key) => {\n    setExpandedPaths((prev) => ({ ...prev, [key]: !prev[key] }));\n  };\n  const renderNode = (node, currentPath, level) => {\n    if (typeof node === 'object' && node !== null) {\n      return Object.entries(node).map(([key, value], index) => {\n        const newPath = `${currentPath}.${key}`;\n        const isExpanded = expandedPaths[newPath] || false;\n        level++;\n        return (\n          <div key={index} className=\"w-full pl-2\">\n            <div className=\"flex items-center\">\n              <span\n                className=\"text-green-500 dark:text-green-250 cursor-pointer\"\n                onClick={() => handleClick(newPath)}\n              >\n                {isExpanded ? (\n                  <ArrowDown className=\"fill-current\" />\n                ) : (\n                  <ArrowUp className=\"fill-current\" />\n                )}\n              </span>\n              <span className=\"ml-1 font-semibold text-green-500 dark:text-green-250\">\n                {`\"${key}\": `}\n                <span className=\"text-green-500 dark:text-green-250 font-semibold\">{` { `}</span>\n              </span>\n              {isExpanded ? (\n                <></>\n              ) : (\n                <span className=\"mx-0.5 font-semibold\">\n                  {` . . . `}\n                  <span className=\"text-green-500 dark:text-green-250\">{` }`}</span>\n                </span>\n              )}\n            </div>\n            {isExpanded ? (\n              <>\n                <div className=\"ml-3 border-l border-gray-600\">\n                  {level < 3 ? (\n                    <Widget\n                      src={`${ownerId}/widget/includes.Common.TreeReceipts.TreeNode`}\n                      props={{\n                        node: value,\n                        path: newPath,\n                        ownerId,\n                      }}\n                    />\n                  ) : (\n                    <>\n                      <div className=\"ml-2 pl-8 font-semibold\">\n                        {JSON.stringify(value, null, 2)}\n                      </div>\n                    </>\n                  )}\n                </div>\n                <div className=\"text-green-500 dark:text-green-250 pt-1 ml-3\">{` }`}</div>\n              </>\n            ) : (\n              <></>\n            )}\n          </div>\n        );\n      });\n    } else {\n      return (\n        <>\n          <div className=\"pl-8 text-nearblue-600 dark:text-neargray-10 w-full\">\n            {`${node}`}\n          </div>\n        </>\n      );\n    }\n  };\n\n  return <div className=\"w-full\">{renderNode(node, path, 0)}</div>;\n}\n\nreturn MainComponent(props, context);", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/nearblocksonbos.near/widget/includes.Common.TreeReceipts.TreeNode", "fact_widget_deployments_id": "244032b2917935f7b2e007770b15d1ae", "inserted_timestamp": "2024-05-23T08:51:25.517Z", "modified_timestamp": "2024-05-23T08:51:25.517Z", "__row_index": 2}