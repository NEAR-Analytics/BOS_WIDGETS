{"tx_hash": "7mLEJ7yyNXD4MQ3XvZKaJyEaPoNvBuQborGvvnu7WNBj", "action_id_social": "HsfEvCk5unY4Ny2CD3ZYAHjRmqRWTcFgLubiaWyrVGqQ-0-widget", "block_id": 103146616, "block_timestamp": "2023-10-11T18:40:33.400Z", "signer_id": "andyh.near", "widget_name": "HooksDemo", "source_code": "const [value, setValue] = useState(0);\nconst [message, setMessage] = useState(\"\");\nconst [sentMessages, setSentMessages] = useState([]);\nconst [isInit, setIsInit] = useState(false);\n// const [value, setValue] = [4, console.log];\n// const textRef = useRef(null);\n\nuseEffect(() => {\n  console.log({ isInit });\n  if (!isInit) {\n    setTimeout(() => setValue(500), 5000);\n    setIsInit(true);\n  }\n}, [isInit]);\n\nuseEffect(() => {\n  const interval = setInterval(() => {\n    const updatedMessages = [...sentMessages];\n    updatedMessages.pop();\n    setSentMessages(updatedMessages);\n  }, 2000);\n  return () => clearInterval(interval);\n}, []);\n\n// useEffect(() => {\n//   console.log({ textRef: textRef.current });\n//   textRef.current?.focus();\n// }, [textRef.current]);\n\nreturn (\n  <>\n    <h3>Send a message to the Future</h3>\n\n    <div className=\"mb-3\">\n      <ul>\n        {sentMessages.map((msg) => (\n          <li key={msg}>{msg}</li>\n        ))}\n      </ul>\n    </div>\n    <div className=\"input-group mb-3\">\n      <label className=\"input-group-text\" htmlFor=\"inputGroupSelect0\">\n        Message\n      </label>\n      <input\n        type=\"text\"\n        className=\"form-control\"\n        placeholder=\"\"\n        value={message}\n        onChange={(e) => setMessage(e.target.value)}\n        aria-label=\"Example text with button addon\"\n        aria-describedby=\"button-addon1\"\n      />\n    </div>\n\n    <div className=\"input-group mb-3\">\n      <label className=\"input-group-text\" htmlFor=\"inputGroupSelect01\">\n        Delay\n      </label>\n      <select className=\"form-select\" id=\"inputGroupSelect01\">\n        <option value=\"0\">Instant</option>\n        <option value=\"100\">0.1 seconds</option>\n        <option value=\"500\">0.5 seconds</option>\n        <option value=\"1000\">1 second</option>\n      </select>\n    </div>\n    <div className=\"d-grid gap-2\">\n      <button\n        className=\"btn btn-primary\"\n        type=\"button\"\n        onClick={() => {\n          const updatedMessages = [...sentMessages];\n          updatedMessages.push(message);\n          setSentMessages(updatedMessages);\n          setMessage(\"\");\n        }}\n      >\n        Send Message\n      </button>\n    </div>\n  </>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/andyh.near/widget/HooksDemo", "fact_widget_deployments_id": "706bbcbf8edb1b7594ef8ebb8bf34c9f", "inserted_timestamp": "2023-10-11T20:37:15.046Z", "modified_timestamp": "2023-10-11T20:37:15.046Z", "__row_index": 11}