{"tx_hash": "8WoiKPZWHGutTX839fZ87cdQ77Rkg9pZMA52FYZ2bhBk", "action_id_social": "Eiw9BbmgwhEKghKoDUBkHGqjyKiJMZJfjesVrGnzEZd8-0-widget", "block_id": 111955712, "block_timestamp": "2024-02-02T20:03:54.617Z", "signer_id": "xvii.near", "widget_name": "BOSHACKS.Home.Countdown", "source_code": "const startTime = props.startTime ?? 1709046000000; // NCR Course Start Time\r\nconst endTime = props.endTime ?? 1670880000000; // Final Project Submission Deadline\r\nconst tupe = props.type ?? \"\";\r\n// const time = Near.view(\"nominations.ndc-gwg.near\", \"active_time\", {});\r\n// console.log(\"Time:\" + time);\r\n// console.log(\"Start time: \" + time[0]);\r\n// console.log(\"End time: \" + time[1]);\r\nState.init({\r\n  days: \"-\",\r\n  hours: \"-\",\r\n  minutes: \"-\",\r\n  seconds: \"-\",\r\n  title: \"\",\r\n});\r\n\r\nconst widgets = {\r\n  styledComponents: \"nomination.ndctools.near/widget/NDC.StyledComponents\",\r\n};\r\n\r\nconst formatTime = (time) => (time < 10 ? `0${time}` : time);\r\n\r\nconst timer = setInterval(() => {\r\n  const now = new Date().getTime();\r\n  const start = new Date(parseInt(startTime)).getTime();\r\n  const end = new Date(parseInt(endTime)).getTime();\r\n  let title = \"\";\r\n\r\n  let diff;\r\n  if (now < start)\r\n    diff = new Date(parseInt(start)).getTime() - new Date().getTime();\r\n  else if (now > start && now < end)\r\n    diff = new Date(parseInt(end)).getTime() - new Date().getTime();\r\n  else diff = 0;\r\n\r\n  let days = Math.floor(diff / (1000 * 60 * 60 * 24));\r\n  let hours = Math.floor((diff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));\r\n  let minutes = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));\r\n  let seconds = Math.floor((diff % (1000 * 60)) / 1000);\r\n\r\n  if (now < start) title = <>NCR Course Starts</>;\r\n  else if (now > start && now < end) title = <>Final Project Submission</>;\r\n  else {\r\n    title = <>{type} Course has begun</>;\r\n    days = 0;\r\n    hours = 0;\r\n    minutes = 0;\r\n    seconds = 0;\r\n  }\r\n\r\n  State.update({\r\n    days: days,\r\n    hours: hours,\r\n    minutes: minutes,\r\n    seconds: seconds,\r\n    title: title,\r\n  });\r\n\r\n  clearInterval(timer);\r\n}, 1000);\r\n\r\nconst H1 = styled.h1`\r\n  font-size: ${(props) => (props.mobile ? \"30px\" : \"40px\")};\r\n  font-weight: 500;\r\n  margin-bottom: 0;\r\n  text-transform: capitalize;\r\n`;\r\n\r\nconst H6 = styled.h6`\r\n  font-size: 12px;\r\n  font-weight: 300;\r\n  margin-right: 32px;\r\n  margin-bottom: 0;\r\n  line-height: 1.5;\r\n  align-items: center;\r\n  letter-spacing: 0.16em;\r\n  text-transform: uppercase;\r\n  width: ${(props) => (props.mobile ? \"100%\" : \"130px\")};\r\n`;\r\n\r\nconst Timer = styled.div`\r\n  .time {\r\n    font-size: 48px;\r\n    font-weight: 800;\r\n    color: #ffd50d;\r\n    width: 100px;\r\n    line-height: 1;\r\n  }\r\n  small {\r\n    margin-bottom: 0;\r\n    align-items: center;\r\n  }\r\n`;\r\n\r\nconst TimerContainer = styled.div`\r\n  .time {\r\n    font-size: 48px;\r\n    font-weight: 700;\r\n    color: #ffffff;\r\n    width: 100px;\r\n    line-height: 1;\r\n  }\r\n  small {\r\n    margin-bottom: 0;\r\n    align-items: center;\r\n  }\r\n`;\r\n\r\nconst SmallTimerContainer = styled.div`\r\n  background: #ffd50d;\r\n\r\n  .time {\r\n    font-size: 36px;\r\n    font-weight: 700;\r\n    color: #000;\r\n    width: 70px;\r\n    line-height: 1;\r\n  }\r\n  small {\r\n    margin-bottom: 0;\r\n    align-items: center;\r\n    color: grey;\r\n  }\r\n`;\r\n\r\nconst Info = styled.div`\r\n  background: #6393F8;\r\n`;\r\n\r\nconst TimerContent = ({ mobile }) => {\r\n  const TimeSlot = ({ time, title, mobile }) => (\r\n    <div className={`${mobile ? \"text-center\" : \"\"}`}>\r\n      <div className=\"time\">{formatTime(time)}</div>\r\n      <small>{title}</small>\r\n    </div>\r\n  );\r\n\r\n  return (\r\n    <>\r\n      <H6 mobile={mobile} className={`${mobile ? \"m-0 mb-3 text-center\" : \"\"}`}>\r\n        {state.title}\r\n      </H6>\r\n      <Timer className=\"d-flex\" mobile={mobile}>\r\n        <TimeSlot title=\"days\" time={state.days} />\r\n        <TimeSlot title=\"hours\" time={state.hours} />\r\n        <TimeSlot title=\"minutes\" time={state.minutes} />\r\n        <TimeSlot title=\"seconds\" time={state.seconds} />\r\n      </Timer>\r\n    </>\r\n  );\r\n};\r\n\r\nconst InfoBlock = ({ mobile }) => (\r\n  <Info\r\n    className={`py-2 d-flex justify-content-center align-items-center gap-2 ${\r\n      mobile ? \"\" : \"rounded-bottom\"\r\n    }`}\r\n  >\r\n    <b className={`mb-0 ${mobile ? \"w-50\" : \"\"}`}>Learn about the NRC DAO:</b>\r\n    <div>\r\n      <Widget\r\n        src={widgets.styledComponents}\r\n        props={{\r\n          Link: {\r\n            text: \"What is the NRC?\",\r\n            size: \"sm\",\r\n            style: { backgroundColor: \"black\", color: \"white\" }, // Inline styles\r\n            href: \"https://marmaj.org/inside-the-near-research-collective-blockchain-elevated/\",\r\n          },\r\n        }}\r\n      />\r\n    </div>\r\n  </Info>\r\n);\r\n\r\nreturn (\r\n  <div>\r\n    <div className=\"d-none d-lg-flex flex-column\">\r\n      <div className=\"p-4 bg-black text-white d-lg-flex rounded-top justify-content-between align-items-center\">\r\n        <div className=\"d-flex align-items-center\"></div>\r\n        <TimerContainer className=\"d-flex align-items-center\">\r\n          <TimerContent />\r\n        </TimerContainer>\r\n      </div>\r\n      <InfoBlock />\r\n    </div>\r\n    <div className=\"d-md-flex d-lg-none d-xl-none\">\r\n      <div className=\"row\">\r\n        <div className=\"d-flex bg-black align-items-center justify-content-center bg-black text-white\"></div>\r\n        <SmallTimerContainer className=\"d-flex flex-column p-3 align-items-center justify-content-between\">\r\n          <TimerContent mobile />\r\n        </SmallTimerContainer>\r\n        <InfoBlock mobile />\r\n      </div>\r\n    </div>\r\n  </div>\r\n);\r\n", "metadata": {"fork_of": "xvii.near/widget/BOSHACKS.Home.Countdown@102075938"}, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/xvii.near/widget/BOSHACKS.Home.Countdown", "fact_widget_deployments_id": "748cd5e319ea509bb91c2bdc3da5e327", "inserted_timestamp": "2024-03-07T05:24:05.087Z", "modified_timestamp": "2024-03-07T05:24:05.087Z", "__row_index": 1}