{"tx_hash": "4xWhiME9izs55MiXfAq9fZnC3Tnhv4u7oei9NVao92my", "action_id_social": "45izuFoXAHQVxcNcsnNqtjeeP16s4EXp2aFpRHCna6Em-0-widget", "block_id": 120422645, "block_timestamp": "2024-06-04T13:24:02.892Z", "signer_id": "dev.near", "widget_name": "op-create-task", "source_code": "const {\n  apiUrl,\n  sessionId,\n  problemId,\n  annotations,\n  pendingRequest,\n  setPendingRequest,\n  onRequest,\n} = props;\n\nif (typeof onRequest !== \"function\") {\n  onRequest = (data) => console.log(\"onRequest\", data);\n}\n\nif (typeof setPendingRequest !== \"function\") {\n  setPendingRequest = (data) => console.log(\"setPendingRequest\", data);\n}\n\nconst requestTask = () => {\n  if (!pendingRequest) {\n    setPendingRequest(true);\n    asyncFetch(`${apiUrl}/request_annotation/`, {\n      method: \"POST\",\n      body: JSON.stringify({\n        account_id: context.accountId,\n        session_id: sessionId,\n        problem_id: problemId,\n      }),\n    }).then((res) => {\n      if (res.ok) {\n        onRequest(res.body);\n      }\n      console.log(\"request_annotation resp\", res.ok, res.body);\n      setPendingRequest(false);\n    });\n  }\n};\n\nrequestTask();\n\nreturn (\n  <div\n    class=\"h-100 d-flex justify-content-center align-items-center\"\n    align=\"center\"\n    style={{ minHeight: \"400px\" }}\n  >\n    <div>\n      {(annotations ?? []).length == 0 && <p>No pending projects found.</p>}\n      <span>Creatung new project</span>\n    </div>\n  </div>\n);\n", "metadata": {"fork_of": "dev.near/widget/op-request-task@120074920"}, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/dev.near/widget/op-create-task", "fact_widget_deployments_id": "b62df4d4e51e75be50c3ad10086b7172", "inserted_timestamp": "2024-06-04T14:09:46.877Z", "modified_timestamp": "2024-06-04T15:09:53.082Z", "__row_index": 0}