{"tx_hash": "HXMzcWsPpx76HRfzpzya2ochjThxGPDAmseeVmNScqyT", "action_id_social": "CTeaWgehb69j6HhAYL9dJaJyJFExHX6VCXQyULyL38Dk-0-widget", "block_id": 115741750, "block_timestamp": "2024-03-29T21:07:37.739Z", "signer_id": "agiguild.near", "widget_name": "Nexus", "source_code": "const Instructions = styled.div`\n  width: 70%;\n  color: #555;\n`;\nconst Wrapper = styled.div`\n  display: grid;\n  gap: 40px;\n  grid-template-columns: 244px 1.5fr;\n  align-items: start;\n  height: 100%;\n`;\nconst { schema } = VM.require(`agiguild.near/widget/Schema.Nexus`);\nif (!schema ) {\n    return <></>;\n}\n\nconst storedGroup = Storage.get(\"nexus-group\");\nif(storedGroup === null) {\n    return <></>;\n}\nconst storedTabs = Storage.get(\"nexus-tabs\");\nif(storedTabs === null) {\n    return <></>;\n}\nconst [activeGroup, setActiveGroup] = useState(storedGroup || \"overview\");\nuseEffect(() => {\n    Storage.set(\"nexus-group\", activeGroup);\n}, [activeGroup]);\n\nconst [activeTabs, setActiveTabs] = useState(storedTabs || {datasets: \"alignment\", models: \"providers\", agents: \"agents\"});\n\nuseEffect(() => {\n    Storage.set(\"nexus-tabs\", activeTabs);\n}, [activeTabs]);\n\nconst [paramsHandled, setParamsHandled] = useState(false);\nif (!paramsHandled && props.group && props.group !== activeGroup) {\n    setParamsHandled(true);\n    setActiveGroup(props.group)\n    const activeTab = activeTabs[activeGroup];\n    if (props.tab && props.tab !== activeTab) {\n        const newTabs = {...activeTabs};\n        newTabs[props.group] = props.tab;\n        setActiveTabs(newTabs);\n    }\n}\n\nconst content = {\n    overview: () => {\n        return (\n            <div>\n                <Widget src=\"agiguild.near/widget/Agent.AgentHeader\" props={{text: \"AGI Guild\", color: \"#11181c\"}}/>\n                <Instructions>\n                    <p>Welcome to the AGI Guild</p>\n\n                    <div style={{paddingLeft: \"2em\"}}>\n                        <p>\n                            <Link href={'https://github.com/agiguild/agiguild/blob/master/README.md'} target=\"_blank\">https://github.com/agiguild/agiguild/</Link>\n                        </p>\n                    </div>\n                </Instructions>\n            </div>\n        );\n    },\n    subGroups: (groupName, group) => {\n        return (\n            <div>\n                <h4 style={{ textAlign: \"left\"}}>{group.title}</h4>\n\n                <Widget\n                    src=\"near/widget/DIG.Tabs\"\n                    props={{\n                        variant: \"line\",\n                        size: \"large\",\n                        value: activeTabs[groupName] || group.defaultValue || group.items[0].value,\n                        onValueChange: (value) => {\n                            const newTabs = {...activeTabs};\n                            newTabs[groupName] = value;\n                            setActiveTabs(newTabs);\n                        },\n                        items: group.items,\n                    }}\n                />\n            </div>\n        );\n    }\n}\n\nconst renderContent = () => {\n  switch (activeGroup) {\n    case \"overview\":\n      return content.overview();\n  default:\n      return content.subGroups(activeGroup, schema[activeGroup]);\n  }\n};\n\nconst handleMenuClick = (value) => {\n  setActiveGroup(value);\n};\n\nconst sidebarItems = (schema) => {\n    return Object.keys(schema).map((key) => {\n        return {\n        name: schema[key].title,\n        value: key,\n        icon: schema[key].icon,\n        onSelect: () => {\n            handleMenuClick(key);\n        },\n        };\n    });\n\n}\n\nreturn (\n    <div className=\"gateway-page-container\">\n        <div className=\"d-flex flex-column gap-5\">\n            <Wrapper>\n                <Widget\n                    src={`near/widget/Moderation.Sidebar`}\n                    props={{\n                        title: \"AGI Guild\",\n                        activeTab: activeGroup,\n                        items: sidebarItems(schema),\n                    }}\n                />\n                {renderContent()}\n            </Wrapper>\n        </div>\n    </div>\n);\n\n\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/agiguild.near/widget/Nexus", "fact_widget_deployments_id": "ed358c8c030a27e38d979af0ee0db180", "inserted_timestamp": "2024-03-29T22:34:44.557Z", "modified_timestamp": "2024-03-29T22:34:44.557Z", "__row_index": 1}