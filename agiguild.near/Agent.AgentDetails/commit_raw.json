{"tx_hash": "EU3WiJNseSEW2RHJyc78SFAoR18bHDehBuw7kN16Dvc5", "action_id_social": "FNgDrbdMH11zjNqszcj2qJA2PGeRTkj6aG5DVZSB1WDz-0-widget", "block_id": 114536113, "block_timestamp": "2024-03-11T19:05:16.413Z", "signer_id": "agiguild.near", "widget_name": "Agent.AgentDetails", "source_code": "const { href } = VM.require(\"devhub.near/widget/core.lib.url\");\nconst { schema } = VM.require(`agiguild.near/widget/Schema.Agent`);\nif (!href || !schema ) {\n    return <></>;\n}\n\n\nlet { src, tab, highlightComment } = props;\nconst [accountId, entityType, agentName] = src.split(\"/\") ?? [null, null, null];\n\nlet agent = Social.get(`${accountId}/agent/${agentName}/**`);\nconst exists = !existsData || Object.keys(existsData).length > 0;\n\nif (!exists) {\n  return (\n    <div className=\"alert alert-danger mx-3\" role=\"alert\">\n      <div>Error</div>\n      <div>Could not find: {src}</div>\n    </div>\n  );\n}\n\nagent = { accountId, name: agentName, ...agent };\nconst { prompt } = agent;\nconst agentComponent = agent.component ? agent.component : `agiguild.near/widget/Agent.AgentChat`;\nconst editType = accountId === context.accountId ? \"edit\" : \"fork\";\nconst editLabel = editType === \"edit\" ? \"Edit\" : \"Fork\";\nconst editIcon = editType === \"edit\" ? \"ph-bold ph-pencil-simple\" : \"ph-bold ph-git-fork\";\nconst listLink = href({\n  widgetSrc: `agiguild.near/widget/Nexus`,\n});\n\nconst Wrapper = styled.div`\n  display: flex;\n  flex-direction: column;\n  gap: 32px;\n  padding-bottom: 48px;\n`;\n\nconst ContentWrapper = styled.div`\n  display: grid;\n  grid-template-columns: minmax(0, 1fr) 260px;\n  gap: 32px;\n\n  @media (max-width: 1200px) {\n    grid-template-columns: minmax(0, 1fr);\n    gap: 24px;\n  }\n`;\n\nconst Header = styled.h1`\n  font-size: 24px;\n  line-height: 39px;\n  color: #11181c;\n  margin: 0;\n  font-weight: 600;\n`;\n\nconst Text = styled.p`\n  margin: 0;\n  font-size: 14px;\n  line-height: 20px;\n  color: ${(p) => (p.bold ? \"#11181C\" : \"#687076\")};\n  font-weight: ${(p) => (p.bold ? \"600\" : \"400\")};\n  font-size: ${(p) => (p.small ? \"12px\" : \"14px\")};\n\n  i {\n    margin-right: 4px;\n  }\n`;\nconst PropValue = styled.p`\n  margin: 0;\n  font-size: 14px;\n  line-height: 20px;\n  padding-bottom: 10px;\n`;\nconst agentProperties = (obj) => {\n  const { accountId, name, displayName, logoUrl, ...displayProps } = obj;\n  return (\n    <>\n      {Object.keys(displayProps).map((k) => (\n        <>\n          <Text bold key={k}>\n            {k}:\n          </Text>\n          <PropValue>{obj[k]}</PropValue>\n        </>\n      ))}\n    </>\n  );\n};\n\nconst customComponentLabel = (component) => {\n    if (component === `agiguild.near/widget/Agent.AgentChat`) {\n        return \"Chat\";\n    }\n    return <Widget src=\"near/widget/DIG.Tooltip\" props={{ content: <p>{component}</p>, trigger: \"Chat (Custom component)\"}} />;\n}\n\nreturn (\n  <Wrapper>\n    <Link to={listLink}>\n      <Header>\n        <i className=\"ph ph-arrow-left\" />\n        Agent List\n      </Header>\n    </Link>\n    <Widget\n      src=\"agiguild.near/widget/Agent.AgentSummary\"\n      props={{\n        size: \"small\",\n        showTags: true,\n        agent: agent,\n        showActions: true,\n      }}\n    />\n    <ContentWrapper>\n      <Widget\n        src=\"near/widget/DIG.Tabs\"\n        props={{\n          variant: \"line\",\n          size: \"large\",\n          defaultValue: \"prompt\",\n          items: [\n            {\n              name: \"Properties\",\n              value: \"prompt\",\n              content: agentProperties(agent),\n              icon: \"ph ph-code\",\n            },\n            {\n              name: editLabel,\n              value: \"edit\",\n              content: <Widget src={\"near/widget/Entities.Template.EntityCreate\"} props={{entityType, schema, data: agent, cancelLabel: 'Clear changes' }} />,\n              icon: editIcon,\n            },\n            {\n              name: customComponentLabel(agentComponent),\n              value: \"chat\",\n              content: <Widget src={agentComponent} props={{ src, embedded: true }} />,\n              icon: \"ph ph-code\",\n            },\n          ],\n        }}\n      />\n\n      <Widget src=\"near/widget/ComponentDetails.Sidebar\" props={{ src }} />\n    </ContentWrapper>\n  </Wrapper>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/agiguild.near/widget/Agent.AgentDetails", "fact_widget_deployments_id": "82b4f85ceb908e881ae323e6e7c6d74d", "inserted_timestamp": "2024-03-11T20:25:40.244Z", "modified_timestamp": "2024-03-11T20:25:40.244Z", "__row_index": 1}