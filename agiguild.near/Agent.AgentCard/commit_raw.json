{"tx_hash": "GdkFDHMEi2WvGWTZcMBKMewQKJ8AnQW5HddMSzr9eyVp", "action_id_social": "89uwTVmBfCscrZQDSskkLdyyhZaFH7orsfn1Q1sRzB43-0-widget", "block_id": 116080211, "block_timestamp": "2024-04-04T00:30:25.954Z", "signer_id": "agiguild.near", "widget_name": "Agent.AgentCard", "source_code": "const { href } = VM.require(\"devhub.near/widget/core.lib.url\");\n\nif (!href) {\n  return <></>;\n}\n\nconst {namespace, entityType, schemaFile} = props;\n\nconst Card = styled.div`\n  cursor: pointer;\n  background-color: white;\n  border-radius: 0.5rem;\n  padding: 1.5rem;\n  gap: 1rem;\n  height: 100%;\n  min-height: 12rem;\n\n  transition: all 300ms;\n  box-shadow:\n    0 1px 3px 0 rgb(0 0 0 / 0.1),\n    0 1px 2px -1px rgb(0 0 0 / 0.1);\n\n  &:hover {\n    box-shadow:\n      0 4px 6px -1px rgb(0 0 0 / 0.1),\n      0 2px 4px -2px rgb(0 0 0 / 0.1);\n  }\n\n  img.logo {\n    width: 100%;\n    aspect-ratio: 1 / 1;\n    border-radius: 50%;\n    object-fit: cover;\n  }\n\n  h3,\n  p {\n    margin: 0;\n  }\n\n  h3 {\n    font-size: 1.25rem;\n    font-weight: 600;\n  }\n\n  p {\n    font-size: 1rem;\n    font-weight: 400;\n  }\n`;\nconst CardText = styled.div`\n`;\nconst Prompt = styled.span`\n    color: grey;\n`;\nconst PromptTooltip = styled.span`\n    white-space: pre-line;\n`;\nconst Actions = styled.div`\n  padding-top: 16px;\n  display: flex;\n  align-items: center;\n  gap: 2px;\n`;\nconst AgentCard = ({ item, editFunction }) => {\n  const { accountId, name, displayName, prompt, logoUrl } = item;\n  const agentComponent = item.component ? item.component : `agiguild.near/widget/Agent.AgentChat`;\n  const imageUrl = logoUrl ?\n          logoUrl : \"https://ipfs.near.social/ipfs/bafkreibysr2mkwhb4j36h2t7mqwhynqdy4vzjfygfkfg65kuspd2bawauu\";\n  const actionLink = href({\n    widgetSrc: agentComponent,\n    params: { src: `${accountId}/agent/${name}` },\n  });\n  const detailsLink = href({\n      widgetSrc: `agiguild.near/widget/Agent.AgentDetails`,\n      params: { src: `${accountId}/agent/${name}`, schemaFile, namespace, entityType },\n  });\n\n  const actionUrl = `https://near.org/${agentComponent}?src=${accountId}/agent/${item.name}`;\n  const editType = accountId === context.accountId ? \"edit\" : \"fork\";\n  const editLabel = editType === \"edit\" ? \"Edit\" : \"Fork\";\n  const editIcon = editType === \"edit\" ? \"ph-bold ph-pencil-simple\" : \"ph-bold ph-git-fork\";\n\n  return (\n    <Card>\n      <Link to={actionLink} style={{ all: \"unset\" }}>\n        <div className=\"row\">\n          <div className=\"col-4\">\n            <img className=\"logo\" src={imageUrl} alt=\"agent logo\" />\n          </div>\n\n          <CardText className=\"col\">\n            <h3>{displayName}</h3>\n            <p>by {accountId}</p>\n            <Widget\n              src=\"near/widget/DIG.Tooltip\"\n              props={{\n                content: <PromptTooltip>{prompt}</PromptTooltip>,\n                trigger: <Prompt>{prompt ? prompt.substring(0, 50) : \"\"}...</Prompt>,\n              }}\n            />\n          </CardText>\n        </div>\n      </Link>\n      <Actions>\n        <Widget\n          src=\"near/widget/DIG.Tooltip\"\n          props={{\n            content: editLabel,\n            trigger: (\n              <Widget\n                src=\"near/widget/DIG.Button\"\n                props={{\n                  onClick: () => editFunction(item),\n                  iconLeft: editIcon,\n                  variant: \"secondary\",\n                  fill: \"ghost\",\n                  size: \"small\",\n                }}\n              />\n            ),\n          }}\n        />\n        <Widget\n          src=\"near/widget/CopyUrlButton\"\n          props={{\n            url: actionUrl,\n          }}\n        />\n        <Widget\n          src=\"near/widget/ShareButton\"\n          props={{\n            postType: \"AI Agent\",\n            url: actionUrl,\n          }}\n        />\n        <Widget\n          src=\"near/widget/DIG.Tooltip\"\n          props={{\n            content: \"View Details\",\n            trigger: (\n              <Link to={detailsLink} style={{ all: \"unset\" }}>\n                <Widget\n                  src=\"near/widget/DIG.Button\"\n                  props={{\n                    iconLeft: \"ph-bold ph-eye\",\n                    variant: \"secondary\",\n                    fill: \"ghost\",\n                    size: \"small\",\n                  }}\n                />\n              </Link>\n            ),\n          }}\n        />\n        <Widget\n          src=\"near/widget/DIG.Tooltip\"\n          props={{\n            content: \"Use agent\",\n            trigger: (\n              <Link to={actionLink} style={{ all: \"unset\" }}>\n                <Widget\n                  src=\"near/widget/DIG.Button\"\n                  props={{\n                    iconLeft: \"ph-bold ph-chat-teardrop-text\",\n                    variant: \"secondary\",\n                    fill: \"ghost\",\n                    size: \"small\",\n                  }}\n                />\n              </Link>\n            ),\n          }}\n        />\n      </Actions>\n    </Card>\n  );\n};\n\nreturn AgentCard(props);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/agiguild.near/widget/Agent.AgentCard", "fact_widget_deployments_id": "8527bea3c6126bd7bcd7908045a5b294", "inserted_timestamp": "2024-04-04T02:49:43.816Z", "modified_timestamp": "2024-04-04T02:49:43.816Z", "__row_index": 5}