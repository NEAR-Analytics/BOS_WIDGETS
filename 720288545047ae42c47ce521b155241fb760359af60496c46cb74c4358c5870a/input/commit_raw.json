{"tx_hash": "2Lv3PDw9RkzhhG5dL6StH8ucKPQh2Meb6SqF6qqMkjZA", "action_id_social": "GL51ASRq5j5D8MM2ZpaXAcVL3VhLedWwdkj9tb95zqxH-0-widget", "block_id": 108405896, "block_timestamp": "2023-12-20T12:49:07.181Z", "signer_id": "720288545047ae42c47ce521b155241fb760359af60496c46cb74c4358c5870a", "widget_name": "input", "source_code": "const {\n  prepend,\n  append,\n  type,\n  onChange,\n  placeholder,\n  inputTextAlign,\n  value,\n  showDecimals,\n} = props;\n\nState.init({\n  theme: Storage.privateGet(\"theme\") || \"dark\",\n  inputValue: value || \"\",\n  inputType: type || \"number\",\n  inputDecimals: showDecimals || 4,\n});\n\nuseEffect(() => {\n  State.update({ inputValue: value, inputDecimals: showDecimals || 4 });\n}, [value, showDecimals]);\n\nuseEffect(() => {\n  onChange && onChange(state.inputValue);\n}, [state.inputValue]);\n\nconst dark = {\n  name: \"dark\",\n  inputBgColor: \"#292728\",\n  inputBorderColor: \"#323232\",\n  baseColor: \"#fff\",\n};\nconst light = {\n  name: \"light\",\n  inputBgColor: \"#EEEFEF\",\n  inputBorderColor: \"#DFE1E0\",\n  baseColor: \"#000\",\n};\n\nconst useTheme = (light, dark) => {\n  return state.theme === \"light\" ? light : dark;\n};\n\nconst inputDecimals = (ev) => {\n  const value = ev.target.value;\n  const digits = value.split(\".\")[1];\n  if (digits && digits.length > state.inputDecimals) {\n    const num = Big(value).toFixed(state.inputDecimals);\n    const val = Big(num).valueOf();\n    return val;\n  }\n  return value;\n};\n\nconst StyleWarp = styled.div`\n  .input-inner {\n    &:focus,\n    &:focus-visible {\n      border: none;\n      outline: -webkit-focus-ring-color auto 0;\n    }\n    ::-webkit-inner-spin-button,\n    ::-webkit-outer-spin-button {\n      -webkit-appearance: none;\n      margin: 0;\n    }\n  }\n\n  .prepend-append {\n    flex: none;\n  }\n`;\n\nreturn (\n  <StyleWarp>\n    <div\n      style={{\n        width: \"100%\",\n        height: \"36px\",\n        padding: \"0 8px\",\n        backgroundColor: `${useTheme(light.inputBgColor, dark.inputBgColor)}`,\n        border: `1px solid ${useTheme(\n          light.inputBorderColor,\n          dark.inputBorderColor\n        )}`,\n        display: \"flex\",\n        alignItems: \"center\",\n        columnGap: \"0.2rem\",\n        borderRadius: \"6px\",\n        overflow: \"hidden\",\n      }}\n    >\n      <div class=\"prepend-append\">{prepend}</div>\n      <input\n        class=\"input-inner\"\n        style={{\n          border: \"none\",\n          width: \"100%\",\n          height: \"100%\",\n          overflow: \"hidden\",\n          backgroundColor: `${useTheme(light.inputBgColor, dark.inputBgColor)}`,\n          flex: `1 1 0%`,\n          fontSize: \"14px\",\n          color: `${useTheme(light.baseColor, dark.baseColor)}`,\n          textAlign: `${inputTextAlign ? inputTextAlign : \"right\"}`,\n        }}\n        type={state.inputType}\n        onChange={(ev) => {\n          const val = inputDecimals(ev);\n          ev.target.value = val;\n          State.update({ inputValue: ev.target.value });\n        }}\n        placeholder={placeholder || \"\"}\n        value={state.inputValue}\n      />\n      <div class=\"prepend-append\">{append}</div>\n    </div>\n  </StyleWarp>\n);\n", "metadata": {"fork_of": "720288545047ae42c47ce521b155241fb760359af60496c46cb74c4358c5870a/widget/input@108399482"}, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/720288545047ae42c47ce521b155241fb760359af60496c46cb74c4358c5870a/widget/input", "fact_widget_deployments_id": "a2cc44b7a119c180f50c14f9c274f2ba", "inserted_timestamp": "2024-03-07T05:24:05.087Z", "modified_timestamp": "2024-03-07T05:24:05.087Z", "__row_index": 4}