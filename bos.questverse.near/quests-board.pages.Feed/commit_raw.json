{"tx_hash": "8NDuxwX2ViPHRTpcPon4YaAGBLw1ALY8QWbk2ZbNyq2a", "action_id_social": "3cqNEmWjwVcs4dwL5J9UzGcpxQzH49BqvcmPhXd2EN1A-0-widget", "block_id": 107291233, "block_timestamp": "2023-12-06T15:35:21.127Z", "signer_id": "bos.questverse.near", "widget_name": "quests-board.pages.Feed", "source_code": "const nearQuestVerseContractAccountId =\n  props.nearQuestVerseContractAccountId ||\n  (context.widgetSrc ?? \"quests.near\").split(\"/\", 1)[0];\n\nconst nearQuestVerseWidgetsAccountId =\n  props.nearQuestVerseWidgetsAccountId ||\n  (context.widgetSrc ?? \"quests.near\").split(\"/\", 1)[0];\n\nconsole.log(`v1.questverse.near`);\nfunction widget(widgetName, widgetProps, key) {\n  widgetProps = {\n    ...widgetProps,\n    nearQuestVerseContractAccountId: props.nearQuestVerseContractAccountId,\n    nearQuestVerseWidgetsAccountId: props.nearQuestVerseWidgetsAccountId,\n    referral: props.referral,\n  };\n\n  return (\n    <Widget\n      src={`${nearQuestVerseWidgetsAccountId}/widget/quests-board.${widgetName}`}\n      props={widgetProps}\n      key={key}\n    />\n\n  );\n}\n\nfunction href(widgetName, linkProps) {\n  linkProps = { ...linkProps };\n\n  if (props.nearQuestVerseContractAccountId) {\n    linkProps.nearQuestVerseContractAccountId =\n      props.nearQuestVerseContractAccountId;\n  }\n\n  if (props.nearQuestVerseWidgetsAccountId) {\n    linkProps.nearQuestVerseWidgetsAccountId =\n      props.nearQuestVerseWidgetsAccountId;\n  }\n\n  if (props.referral) {\n    linkProps.referral = props.referral;\n  }\n\n  const linkPropsQuery = Object.entries(linkProps)\n    .filter(([_key, nullable]) => (nullable ?? null) !== null)\n    .map(([key, value]) => `${key}=${value}`)\n    .join(\"&\");\n\n  return `/#/${nearQuestVerseWidgetsAccountId}/widget/quests-board.pages.${widgetName}${\n    linkPropsQuery ? \"?\" : \"\"\n\n  }${linkPropsQuery}`;\n}\n/* END_INCLUDE: \"common.jsx\" */\n/* INCLUDE: \"core/adapter/dev-hub\" */\nconst questVerseAccountId =\n  props.nearQuestVerseContractAccountId ||\n  (context.widgetSrc ?? \"quests.near\").split(\"/\", 1)[0];\n\nconst QuestVerseProtocol = {\n  get_all_deployers: () => Near.view(questVerseAccountId, \"get_all_deployers\") ?? null,\n\n  get_all_quests: () => Near.view(questVerseAccountId, \"get_all_quests\") ?? null,\n\n  get_quests_by_deployer: ({ deployer }) =>\n    Near.view(questVerseAccountId, \"get_quests_by_deployer\", { deployer }) ?? null,\n\n  get_quest_by_id: ({ quest_id }) =>\n    Near.view(questVerseAccountId, \"get_quest_by_id\", { quest_id }) ?? null,\n\n  useQuery: ({ name, params }) => {\n    const initialState = { data: null, error: null, isLoading: true };\n\n    const cacheState = useCache(\n      () =>\n        Near.asyncView(questVerseAccountId, [\"get\", name].join(\"_\"), params ?? {})\n          .then((response) => ({\n            ...initialState,\n            data: response ?? null,\n            isLoading: false,\n          }))\n          .catch((error) => ({\n            ...initialState,\n            error: props?.error ?? error,\n            isLoading: false,\n          })),\n\n      JSON.stringify({ name, params }),\n      { subscribe: true }\n    );\n\n    return cacheState === null ? initialState : cacheState;\n  },\n};\n/* END_INCLUDE: \"core/adapter/dev-hub\" */\n\nconst Gradient = styled.div`\n   {\n    background-color: #F3E8C2;\n    height: 250px;\n    text-align: center;\n    font-family: Arial, sans-serif;\n  }\n\n  img {\n    height: 60px;\n  }\n\n  .text-primary-gradient {\n    color: #53fdca;\n    -webkit-text-fill-color: transparent;\n    background-image: linear-gradient(#1778F2, #1778F2);\n    -webkit-background-clip: text;\n    background-clip: text;\n  }\n\n  .subtitle-above {\n    font-size: 18px;\n    letter-spacing: 1px;\n    font-family: Courier, monospace;\n  }\n\n  .subtitle-below {\n    font-size: 16px;\n  }\n\n  .slogan {\n    font-weight: 600;\n    font-size: 60px;\n  }\n`;\n\nconst banner = (\n  <div className=\"d-flex flex-column\">\n    <Gradient className=\"d-flex flex-column justify-content-center\">\n\n      <h1 className=\"mb-3 text-black slogan\">\n          <img src=\"https://bafkreicunntg4dhmttenyfaz27irxoq3pq5wt25by4ex6ankuzoclj2haa.ipfs.nftstorage.link/\"></img>\n      </h1>\n\n      <div className=\"subtitle-below text-black opacity-75\">\n        Earn Crypto Native Assets By Completing Quests!\n      </div>\n    </Gradient>\n\n    <div className=\"h5 pb-4\"></div>\n  </div>\n);\n\nconst FeedPage = ({ recency }) => {\n\n  return widget(\"components.template.app-layout\", {\n    banner,\n    children: widget(\"feature.quest-search.panel\", {\n      author: state.author,\n      authorQuery: { author: state.author },\n      children: widget(\"components.layout.Controls\"),\n      onAuthorSearch,\n      onTagSearch,\n      recency,\n      tag: state.tag,\n      tagQuery: { tag: state.tag },\n      transactionHashes: props.transactionHashes,\n    }),\n  });\n};\n\nreturn FeedPage(props);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/bos.questverse.near/widget/quests-board.pages.Feed", "fact_widget_deployments_id": "5256826ec10220edee2a9b6c7e419f25", "inserted_timestamp": "2024-03-07T05:24:05.087Z", "modified_timestamp": "2024-03-07T05:24:05.087Z", "__row_index": 2}