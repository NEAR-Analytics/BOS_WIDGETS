{"tx_hash": "3UXvz8XJUGjjTHdLWmrpVE4SBc7nZ1j9aBessNVshoVC", "action_id_social": "Ku19ALNCyvTrhjUFCY9sNtpX8ADyZBFgX49fCGMve3f-0-widget", "block_id": 107477855, "block_timestamp": "2023-12-09T00:55:35.770Z", "signer_id": "bos.questverse.near", "widget_name": "newQuestComponents.stepOne", "source_code": "\nconst JSON = props.data;\nconst options = JSON.options;\n\nState.init({\n  selectedOption: \"\",\n  inputs: {},\n});\n\nconst handleOptionChange = (e) => {\n  State.update({\n    selectedOption: e.target.value,\n    inputs: {},\n  });\n};\n\nconst handleInputChange = (e, field) => {\n  const { id, value } = e.target;\n\n  State.update({\n    inputs: {\n      ...state.inputs,\n      [field]: { ...state.inputs[field], [id]: value },\n    },\n  });\n};\n\nconst handleDisplay = () => {\n  console.log(state.inputs); //read\n};\n\nconst renderInputs = () => {\n  if (!state.selectedOption) {\n    return null;\n  }\n\n  const selected = options.find(\n    (option) => option.name === state.selectedOption\n  );\n  if (!selected) {\n    return null;\n  }\n\n  return Object.keys(selected.actions).map((action, index) => {\n    const fields = selected.actions[action];\n    return (\n      <div key={index}>\n        <h3>{action}</h3>\n        {Object.keys(fields).map((field, i) => (\n          <div key={i}>\n            <label htmlFor={field}>{field}:</label>\n            <input\n              type=\"text\"\n              id={field}\n              onChange={(e) => handleInputChange(e, action)}\n            />\n          </div>\n        ))}\n      </div>\n    );\n  });\n};\n\nreturn (\n  <div>\n    <label htmlFor=\"options\">Choose an option:</label>\n    <select\n      id=\"options\"\n      onChange={handleOptionChange}\n      value={state.selectedOption}\n    >\n      <option value=\"\">Select</option>\n      {options.map((option) => (\n        <option key={option.name} value={option.name}>\n          {option.name}\n        </option>\n      ))}\n    </select>\n    <div>\n      <h2>Inputs:</h2>\n      {renderInputs()}\n    </div>\n    <button onClick={handleDisplay}>console log</button>\n  </div>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/bos.questverse.near/widget/newQuestComponents.stepOne", "fact_widget_deployments_id": "63d6a70ce34ef50a9acb9166b309acd5", "inserted_timestamp": "2024-03-07T05:24:05.087Z", "modified_timestamp": "2024-03-07T05:24:05.087Z", "__row_index": 1}