{"tx_hash": "13XBrMRMjtWxehEnfJ3huAeFzFWAA5AtLQ5aJ6TLdbJS", "action_id_social": "HtU9xqwSTCA3NnAWAedq5KSPb1JWdqbMCEnnfkigbSeF-0-widget", "block_id": 107453461, "block_timestamp": "2023-12-08T17:41:29.415Z", "signer_id": "bos.questverse.near", "widget_name": "pages.CreateQuestFlow", "source_code": "const QUESTVERSE_CONTRACT = \"v1.questverse.near\";\nconst QUERYAPI_CONTRACT = \"queryapi.dataplatform.near\";\nconst API_SIGNER_SERVICE = \"https://\";\n\nconst type = props.type ?? \"quest\";\n\nfunction generateId() {\n  return (\n    Math.random().toString(16).slice(2, 10) +\n    Date.now().toString(36).slice(-2) +\n    Math.random().toString(16).slice(2, 10)\n  );\n}\n\nconst questId = props.questId ?? generateId();\n\nconst composeData = () => {\n  // generate a random id\n  const thingId = questId;\n  const data = {\n    // this can be moved to \"create\" module, passed type, data, and metadata\n    [type]: {\n      [thingId]: {\n        \"\": JSON.stringify({\n          thing,\n        }),\n        metadata: {\n          type,\n        },\n      },\n    },\n    post: {\n      // move to \"post\" module, passed the path and type\n      main: JSON.stringify({\n        content: `[+EMBED](https://near.social/${context.accountId}/${type}/${thingId})`,\n      }),\n    },\n    index: {\n      post: JSON.stringify({ key: \"main\", value: { type: \"md\" } }),\n    },\n    // index: {\n    //   every: JSON.stringify({\n    //     key: type,\n    //     value: {\n    //       path: `${context.accountId}/${type}/${thingId}`,\n    //       type,\n    //     },\n    //   }),\n    // },\n  };\n\n  // const notifications = extractTagNotifications(state.thing.text, {\n  //   type: \"social\",\n  //   path: `${context.accountId}/thing/${thingId}`,\n  // });\n\n  // if (notifications.length) { // notifications module\n  //   data.index.notify = JSON.stringify(\n  //     notifications.length > 1 ? notifications : notifications[0]\n  //   );\n  // }\n\n  return data;\n};\n\nreturn (\n  <>\n    <CommitButton force data={composeData()}>\n      create\n    </CommitButton>\n  </>\n);\n\nreturn (\n  <>\n    <h1>Hello BOS</h1>\n    <p>Deploying to bos.questverse.near</p>\n    <p>QUESTVERSE_CONTRACT: {QUESTVERSE_CONTRACT}</p>\n    <p>QUERYAPI_CONTRACT: {QUERYAPI_CONTRACT}</p>\n    <p>API_SIGNER_SERVICE: {API_SIGNER_SERVICE}</p>\n    <Widget src=\"bos.questverse.near/widget/components.createQuestSteps.Steps\" />\n  </>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/bos.questverse.near/widget/pages.CreateQuestFlow", "fact_widget_deployments_id": "bbb84e7fcfda80bc9be1d575d0c2b58b", "inserted_timestamp": "2024-03-07T05:24:05.087Z", "modified_timestamp": "2024-03-07T05:24:05.087Z", "__row_index": 0}