{"tx_hash": "CnDK9nxRhCGZhhRga2G2oYhgR2R1AqjTaDU34BBzJxrp", "action_id_social": "2xdyoV9DLtqWkBErRbBXf7WEwP5L2CRndvEBRU6gjWUe-0-widget", "block_id": 107505562, "block_timestamp": "2023-12-09T09:13:58.096Z", "signer_id": "bos.questverse.near", "widget_name": "components.quest.create.step2", "source_code": "const { fetch_step_two_data } = VM.require(\n  \"bos.questverse.near/widget/data.data_stepTwo\"\n);\nconst data = fetch_step_two_data();\nconst { formState, errors, renderFooter } = props;\n\nconst initialAnswers = {\n  links: formState.links.length > 0 ? formState.links : [\"\"],\n};\n\nState.init({\n  answers: initialAnswers,\n});\n\nconst update = (key, value) =>\n  State.update({\n    answers: {\n      ...state.answers,\n      [key]: value,\n    },\n  });\n\nconst onAddLink = () => update(\"links\", [...state.answers.links, \"\"]);\n\nconst onLinkChange = (index, value) => {\n  const newLinks = [...state.answers.links];\n  newLinks[index] = value;\n  update(\"links\", newLinks);\n};\n\nconst onRemoveLink = (index) => {\n  const newLinks = [...state.answers.links];\n  newLinks[index] = null;\n  update(\"links\", newLinks);\n};\n\nconst Error = styled.span`\n  display: inline-block;\n  font-style: normal;\n  font-weight: 400;\n  font-size: 0.875em;\n  line-height: 1.25em;\n  color: #ff4d4f;\n  height: 0;\n  overflow: hidden;\n  transition: height 0.3s ease-in-out;\n\n  &.show {\n    height: 1.25em;\n  }\n`;\n\nreturn (\n  <div className=\"mt-4 ndc-card p-4\">\n    <div className=\"d-flex flex-column gap-4\">\n      <div>\n        <div className=\"d-flex gap-2 justify-content-between\">\n          <h2 className=\"h5 fw-bold\">\n            <span\n              className=\"rounded-circle d-inline-flex align-items-center justify-content-center fw-bolder h5 me-2\"\n              style={{\n                width: \"48px\",\n                height: \"48px\",\n                border: \"1px solid #82E299\",\n              }}\n            >\n              2\n            </span>\n            Links and socials{\" \"}\n            <span className=\"text-black-50 fw-light small\">(optional)</span>\n          </h2>\n          <Widget\n            src=\"nearui.near/widget/Input.Button\"\n            props={{\n              children: <i className=\"bi bi-plus-lg\" />,\n              variant: \"icon info outline\",\n              size: \"lg\",\n              onClick: onAddLink,\n            }}\n          />\n        </div>\n        <p className=\"text-black-50 fw-light small\">\n          Looking to grow the DAO members? Add links to allow people to learn\n          more about your DAO. You can only add 10 links.\n        </p>\n      </div>\n\n      {state.answers.links.map((l, i) => (\n        <div\n          className={[\n            \"d-flex align-items-center gap-2\",\n            l === null && \"d-none\",\n          ].join(\" \")}\n        >\n          <Widget\n            src=\"nearui.near/widget/Input.ExperimentalText\"\n            props={{\n              placeholder: \"https://\",\n              size: \"lg\",\n              onChange: (v) => onLinkChange(i, v),\n              inputProps: {\n                name: `link-${i}`,\n                defaultValue: l,\n              },\n            }}\n          />\n          <Widget\n            src=\"nearui.near/widget/Input.Button\"\n            props={{\n              children: <i className=\"bi bi-trash\" />,\n              variant: \"icon danger outline\",\n              size: \"lg\",\n              onClick: () => onRemoveLink(i),\n            }}\n          />\n        </div>\n      ))}\n      {errors.links && (\n        <Error className={errors.links ? \"show\" : \"\"} size={size}>\n          {errors.links}\n        </Error>\n      )}\n    </div>\n\n    {renderFooter({\n      links: state.answers.links.filter((l) => l !== null && l !== \"\"),\n    })}\n  </div>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/bos.questverse.near/widget/components.quest.create.step2", "fact_widget_deployments_id": "eb51addcf2e7a0fda0114c04ea7c86d9", "inserted_timestamp": "2024-03-07T05:24:05.087Z", "modified_timestamp": "2024-03-07T05:24:05.087Z", "__row_index": 0}