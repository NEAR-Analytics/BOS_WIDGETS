{"tx_hash": "7E5NyzkjWBh9DqqYFumrT66854pXak25wHpmpHvaU9tE", "action_id_social": "5gRxyPNWZsYQ67pKiYTBUP94bVtWU51cZgf1aG7HPRjM-0-widget", "block_id": 109996836, "block_timestamp": "2024-01-09T17:07:50.002Z", "signer_id": "pichtran.near", "widget_name": "BOSwallet", "source_code": "const contract = \"transfer-near.near\";\nconst method = \"transfer_near\";\nconst oneTeraGas = 1000000000000;\nconst oneNEARInYoctoNEAR = 1000000000000000000000000;\nState.init({ accountId: \"pichtran.near\", amount: 0.5 });\nconst AccountId_profile = props.accountId ?? context.accountId;\nconst onClick = () => {\n  Near.call(\n    contract,\n    method,\n    state.accountId,\n    oneTeraGas,\n    state.amount * oneNEARInYoctoNEAR\n  );\n};\n\nState.init({\n  selectedTab: props.tab || \"home\",\n});\n\nconst StyledButton = styled.button`\n  display: inline-flex;\n  align-items: center;\n  justify-content: center;\n  padding: 15px 30px;\n  border: 0;\n  position: relative;\n  overflow: hidden;\n  border-radius: 10rem;\n  transition: all 0.02s;\n  font-weight: bold;\n  color: rgb(37, 37, 37);\n  z-index: 0;\n  box-shadow: 0 0px 7px -5px rgba(0, 0, 0, 0.5);\n  cursor: pointer;\n\n  &:hover {\n    background: rgb(193, 228, 248);\n    color: rgb(33, 0, 85);\n  }\n\n  &:active {\n    transform: scale(0.97);\n  }\n\n  .hoverEffect {\n    position: absolute;\n    bottom: 0;\n    top: 0;\n    left: 0;\n    right: 0;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    z-index: 1;\n\n    div {\n      background: linear-gradient(90deg, rgba(222,0,75,1) 0%, rgba(191,70,255,1) 49%, rgba(0,212,255,1) 100%);\n      border-radius: 40rem;\n      width: 10rem;\n      height: 10rem;\n      transition: 0.4s;\n      filter: blur(20px);\n      opacity: 0.5;\n      animation: effect 3s linear infinite;\n      @keyframes effect {\n        0% {\n          transform: rotate(0deg);\n        }\n        100% {\n          transform: rotate(360deg);\n        }\n      }\n    }\n  }\n\n  &:hover .hoverEffect div {\n    width: 8rem;\n    height: 8rem;\n  }\n`;\n\nconst Wrapper = styled.div`\n  padding-bottom: 48px;\n`;\n\nconst Title = styled.p`\n  font-weight: 600;\n  font-size: ${(p) => p.size || \"25px\"};\n  line-height: 1.2em;\n  color: #11181c;\n  margin: ${(p) => (p.margin ? \"0 0 24px\" : \"0\")};\n  overflow-wrap: anywhere;\n  &:hover{\n      color:white;\n  }\n`;\n\nconst Tabs = styled.div`\n  display: flex;\n  flex-direction: row; // Changed from column to row\n  width: auto; // Adjusted from height to width\n  border-bottom: 1px solid #eceef0; // Changed from border-right to border-bottom\n  padding-bottom: 24px; // Changed from padding-right to padding-bottom\n  overflow-x: auto; // Changed from overflow-y to overflow-x\n  max-width: 700px; // Adjusted from max-height to max-width\n  position: sticky;\n  top: 0;\n  @media (max-width: 1200px) {\n    background: #f8f9fa;\n    border: none;\n    margin: 0;\n    padding: 0;\n\n    > * {\n      flex: none;\n      margin-right: 12px; // Changed from margin-bottom to margin-right\n    }\n  }\n`;\n\nconst TabsButton = styled.button`\n  display: inline-flex;\n  align-items: center;\n  justify-content: flex-start;\n  font-weight: 600;\n  font-size: 23px;\n  padding: 12px 0;\n  position: relative;\n  color: #9753c6;\n  background: none;\n  border: none !important;\n  outline: none;\n  text-align: center;\n  text-decoration: none !important;\n\n  &:hover {\n    color:#9c9c9c;\n    background: #9c9c9c;\n    cursor: pointer;\n\n  }\n\n  &::after {\n    content: \"\";\n    display: ${(p) => (p.selected ? \"block\" : \"none\")};\n    position: absolute;\n    top: 0;\n    right: 0;\n    bottom: 0;\n    width: 6px;\n    background: none;\n    background-size: 200% 100%, 200% 100%;\n    background-position: 100% 0, 100% 0;\n\n    animation: moveLines 3s linear infinite;\n\n    @keyframes moveLines {\n      0% {\n        background-position: 200% 0, 200% 0;\n      }\n      100% {\n        background-position: -200% 0, -200% 0;\n      }\n    }\n}\n`;\n//card\nconst FormContainer = styled.div`\n  width: 100%;\n  background: linear-gradient(#212121, #212121) padding-box,\n              linear-gradient(145deg, transparent 35%, #e81cff, #40c9ff) border-box;\n  border: 2px solid transparent;\n  padding: 32px 24px;\n  font-size: 14px;\n  font-family: inherit;\n  color: white;\n  display: flex;\n  flex-direction: column;\n  gap: 20px;\n  box-sizing: border-box;\n  border-radius: 16px;\n  background-size: 200% 100%;\n  animation: gradient 5s ease infinite;\n\n  button:active {\n    transform: scale(0.95);\n  }\n`;\n\nconst Form = styled.div`\n  display: flex;\n  flex-direction: column;\n  gap: 20px;\n`;\n\nconst FormGroup = styled.div`\n  display: flex;\n  flex-direction: column;\n  gap: 2px;\n\n  label {\n    display: block;\n    margin-bottom: 5px;\n    color: #717171;\n    font-weight: 600;\n    font-size: 12px;\n  }\n\n  input, textarea {\n    width: 100%;\n    padding: 12px 16px;\n    border-radius: 8px;\n    color: white;\n    background-color: transparent;\n    border: 1px solid #414141;\n    font-family: inherit;\n\n    &:focus {\n      outline: none;\n      border-color: #e81cff;\n    }\n\n    &::placeholder {\n      opacity: 0.5;\n    }\n  }\n\n  textarea {\n    resize: none;\n    height: 96px;\n  }\n`;\n\nconst SubmitButton = styled.button`\n  display: flex;\n  align-items: flex-start;\n  justify-content: center;\n  align-self: flex-start;\n  font-family: inherit;\n  color: #717171;\n  font-weight: 600;\n  width: 25%;\n  background: #313131;\n  border: 1px solid #414141;\n  padding: 12px 16px;\n  font-size: inherit;\n  gap: 8px;\n  margin-top: 8px;\n  cursor: pointer;\n  border-radius: 6px;\n\n  &:hover {\n    background-color: #fff;\n    border-color: #fff;\n  }\n`;\nconst handleTabClick = (tab) => {\n  State.update({\n    selectedTab: tab,\n  });\n};\n\nconst BoxInput = styled.div`\n  position: relative;\n\n  &::after,\n  &::before {\n    content: \"\";\n    width: 130px;\n    height: 30px;\n    position: absolute;\n    z-index: -1;\n  }\n\n  &::after {\n    bottom: 0;\n    right: 0;\n  }\n\n  &::before {\n    top: 0;\n    left: 0;\n  }\n`;\n\nconst Border = styled.div`\n  background-image: linear-gradient(43deg, #4158D0 0%, #C850C0 46%, #FFCC70 100%);\n  box-shadow: -25px -10px 30px -5px rgba(225, 0, 255, 0.5),\n              25px -10px 30px -5px rgba(255, 0, 212, 0.5),\n              25px 10px 30px -5px rgba(255, 174, 0, 0.5),\n              -25px 10px 30px -5px rgba(255, 230, 0, 0.5);\n  padding: 4px;\n`;\n\nconst Input = styled.input`\n  background-color: #212121;\n  max-width: 250px;\n  height: 40px;\n  padding: 0 19px 0 10px;\n  font-size: 1.1em;\n  position: relative;\n  border: none;\n  color: white;\n  outline: 0;\n  overflow: hidden;\n\n  &::placeholder {\n    transition: all 0.5s ease-in, transform 0.2s ease-in 0.6s;\n  }\n\n  &:focus::placeholder {\n    padding-left: 165px;\n    transform: translateY(-50px);\n  }`;\n\n// Define components\nconst form = (\n  <>\n    <FormContainer>\n      <Form>\n        <FormGroup>\n          <label>AccountID:</label>\n          <input\n            type=\"text\"\n            placeholder={state.accountId}\n            onChange={(e) => State.update({ accountId: e.target.value })}\n          />\n        </FormGroup>\n        <FormGroup>\n          <label>Amount:</label>\n          <input\n            type=\"number\"\n            placeholder={state.amount}\n            min=\"0.1\"\n            step=\"0.5\"\n            max=\"18446744073709551615\"\n            placeholder={state.amount}\n            onChange={(e) => State.update({ amount: e.target.value })}\n          />\n        </FormGroup>\n        <SubmitButton onClick={onClick}>Send!</SubmitButton>\n      </Form>\n    </FormContainer>\n\n    <br />\n  </>\n);\n\nconst operationsDoc = `\n  query MyQuery {\n    mb_views_nft_tokens(\n      order_by: {last_transfer_timestamp: desc}\n      where: {owner: {_eq: \"${\n        props.wallet_id || context.accountId\n      }\"}, _and: {burned_timestamp: {_is_null: true}, last_transfer_timestamp: {}}}\n    ) {\n      nft_contract_id\n      title\n      description\n      media\n      last_transfer_receipt_id\n      metadata_id\n      token_id\n      nft_contract_name\n      nft_contract_icon\n    }\n  }\n`;\n\nfunction fetchGraphQL() {\n  const result = fetch(\"https://graph.mintbase.xyz/mainnet\", {\n    method: \"POST\",\n    headers: {\n      \"mb-api-key\": \"anon\",\n      \"content-type\": \"application/json\",\n    },\n    body: JSON.stringify({\n      query: operationsDoc,\n      variables: {},\n      operationName: \"MyQuery\",\n    }),\n  });\n  console.log(\"result\", result);\n  return result;\n}\n\nconst res = fetchGraphQL();\n\nif (!(res && res.body)) return \"...\";\n\nconst nfts = res.body.data.mb_views_nft_tokens;\n\nconst notLoggedInWarning = <p class=\"text-center py-2\"> Login to send $NEAR</p>;\nconst StyledH6 = styled.h6`\n  text-align: right;\n  top: 0;\n  right:0;\n`;\n// Render\n\nconst StyledContainer = styled.div`\n  border: 2px solid black; /* Black border */\n  padding: 3px; /* Equivalent to p-3 */\n  /* Add any other styles you need */\n`;\n\nreturn (\n  <>\n    <StyledContainer>\n      <h5 class=\"text-center\">\n        \ud83d\udc4b Hello {AccountId_profile}! \ud83c\udf1f It's a pleasure to welcome you to BOS\n        Wallet!\n      </h5>\n    </StyledContainer>\n\n    <div class=\"container\">\n      <></>\n      <div class=\"row\">\n        <div class=\"col-md-12\">\n          <Wrapper>\n            <Tabs>\n              <TabsButton\n                onClick={() => handleTabClick(\"home\")}\n                selected={state.selectedTab === \"home\"}\n              >\n                <Title>Balance \ud83d\udcb0</Title>\n              </TabsButton>\n              <TabsButton\n                onClick={() => handleTabClick(\"sends\")}\n                selected={state.selectedTab === \"sends\"}\n              >\n                <Title>Send \ud83d\udcb8</Title>\n              </TabsButton>\n              <TabsButton\n                onClick={() => handleTabClick(\"nfts\")}\n                selected={state.selectedTab === \"nfts\"}\n              >\n                <Title>NFTs \ud83e\udde9</Title>\n              </TabsButton>\n            </Tabs>\n          </Wrapper>\n        </div>\n        <div class=\"col-md-9\">\n          {state.selectedTab === \"home\" && (\n            <>\n              <Widget src=\"marketplacebos.near/widget/ChartBalance\" />\n              <br />\n              <br />\n            </>\n          )}\n          {state.selectedTab === \"sends\" && (\n            <>\n              <p class=\"text-center py-2\">\n                Enter AccountID and amount of $NEAR to send\n              </p>\n              {context.accountId ? form : notLoggedInWarning}\n              <br />\n              <br />\n            </>\n          )}\n          {state.selectedTab === \"nfts\" && (\n            <>\n              {nfts.map((nft) => (\n                <div\n                  key={nft.contract_id + nft.token_id}\n                  style={{\n                    display: \"flex\",\n                    flexDirection: \"column\",\n                    alignItems: \"center\",\n                    backgroundColor: \"#fffff\",\n                    padding: \"1rem\",\n                    marginBottom: \"1rem\",\n                    cursor: \"pointer\",\n                  }}\n                >\n                  <img\n                    style={{ marginBottom: \"1rem\" }}\n                    height={180}\n                    width={180}\n                    layout=\"intrinsic\"\n                    src={\n                      nft.media ??\n                      \"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7\"\n                    }\n                  />\n                  <div\n                    style={{\n                      fontWeight: 500,\n                      fontSize: \"1.125rem\",\n                      textAlign: \"center\",\n                    }}\n                  >\n                    <div>{nft.title}</div>\n                    <div\n                      style={{\n                        overflowWrap: \"break-word\",\n                        wordWrap: \"break-word\",\n                        wordBreak: \"break-word\",\n                      }}\n                    >\n                      [{nft.token_id}]\n                    </div>\n                  </div>\n                </div>\n              ))}\n              <br />\n              <br />\n            </>\n          )}\n        </div>\n      </div>\n    </div>\n  </>\n);\n", "metadata": {"platform": "jutsu.ai"}, "branch": {"draft": null}, "widget_modules_used": null, "widget_url": "https://near.social/#/pichtran.near/widget/BOSwallet", "fact_widget_deployments_id": "97a0e534c424ae13850f8816931de94d", "inserted_timestamp": "2024-03-07T05:24:05.087Z", "modified_timestamp": "2024-03-07T05:24:05.087Z", "__row_index": 0}