{"tx_hash": "JAHpkeL4gZpTsuvPmAc9HCHNM5UPfiQ58jNh3ATWaDVA", "action_id_social": "9j9tFmk9jzz98mTTtMX8dYs9j2Shz7DqWznXR7CBaPGf-0-widget", "block_id": 99948804, "block_timestamp": "2023-08-29T19:26:05.141Z", "signer_id": "mbodnar.near", "widget_name": "TurnOn", "source_code": "const Check = styled.span`\n  color: blue;\n  cursor: pointer;\n`;\n\nconst handleTurnOn = props?.handleTurnOn;\nconst isNotificationSupported = props?.isNotificationSupported;\nconst isPushManagerSupported = props?.isPushManagerSupported;\nconst isPermisionGranted = props?.isPermisionGranted;\n\nState.init({\n  notificationSupported: isNotificationSupported().toString(),\n  pushManagerSupported: isPushManagerSupported().toString(),\n  permisionGranted: isPermisionGranted().toString(),\n  pending: false,\n});\n\nconst checkState = () =>\n  State.update({\n    notificationSupported: isNotificationSupported().toString(),\n    pushManagerSupported: isPushManagerSupported().toString(),\n    permisionGranted: isPermisionGranted().toString(),\n  });\n\nconst turnOn = () => {\n  State.update({ permisionGranted: \"pending\" });\n  handleTurnOn().then(() => {\n    checkState();\n  });\n};\n\nreturn (\n  <div>\n    <button onClick={turnOn}>Turn On</button>\n    <br />\n    state: (<Check onClick={checkState}>check</Check>)\n    <br />\n    <span>Notifications supported: {state.notificationSupported}</span>\n    <br />\n    <span>PushManager supported: {state.pushManagerSupported}</span>\n    <br />\n    <span>Permision granted: {state.permisionGranted}</span>\n  </div>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/mbodnar.near/widget/TurnOn", "fact_widget_deployments_id": "630d2d20ec4902fee1caf3f5af0c8eea", "inserted_timestamp": "2024-03-07T05:24:05.087Z", "modified_timestamp": "2024-03-07T05:24:05.087Z", "__row_index": 0}