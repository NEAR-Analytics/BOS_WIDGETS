{"tx_hash": "Dt8pyXTu5gVFyA8nCSdX2HJnTKEAmkw9JxFc3ccHDtCw", "action_id_social": "8DeFm6Z3kbHFuq8UeybDhyaueqJbTBu2aDMsqY5veta4-0-widget", "block_id": 99948291, "block_timestamp": "2023-08-29T19:16:29.590Z", "signer_id": "mbodnar.near", "widget_name": "TurnOn", "source_code": "const handleTurnOn = props?.handleTurnOn;\nconst isNotificationSupported = props?.isNotificationSupported;\nconst isPushManagerSupported = props?.isPushManagerSupported;\nconst isPermisionGranted = props?.isPermisionGranted;\n\nState.init({\n  notificationSupported: isNotificationSupported(),\n  pushManagerSupported: isPushManagerSupported(),\n  permisionGranted: isPermisionGranted(),\n});\n\nconsole.log(\"xxx\");\nconsole.log(\"isNotificationSupported\", isNotificationSupported);\nconsole.log(\"isNotificationSupported()\", isNotificationSupported());\n\nconst turnOn = () => {\n  console.log(\"XXXXXXXXXXXXXXXX\");\n  handleTurnOn().then(() => {\n    State.update({\n      notificationSupported: isNotificationSupported().toString(),\n      pushManagerSupported: isPushManagerSupported(),\n      permisionGranted: isPermisionGranted(),\n    });\n  });\n};\n\nreturn (\n  <div>\n    <button onClick={turnOn}>Turn On</button>\n    <br />\n    <span>Notifications supported: {state.notificationSupported}</span>\n    <br />\n    <span>PushManager supported: {state.pushManagerSupported}</span>\n    <br />\n    <span>permision granted: {state.permisionGranted}</span>\n  </div>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/mbodnar.near/widget/TurnOn", "fact_widget_deployments_id": "c9d79d0fabe3e0fde4fd8f2a9be98312", "inserted_timestamp": "2023-08-29T20:50:10.776Z", "modified_timestamp": "2023-08-29T20:50:10.776Z", "__row_index": 15}