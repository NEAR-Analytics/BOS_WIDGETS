{"tx_hash": "9VRvCq21wSmzSov5MA8TvDVfZXj9o4dHmUAvmm2Jp6f3", "action_id_social": "62NytjDJYFoBWki5jWhd9Q2N93EFSHpJoQdsNwAGKd25-0-widget", "block_id": 106838230, "block_timestamp": "2023-11-30T01:08:25.521Z", "signer_id": "littlelace.near", "widget_name": "ComponentSearch", "source_code": "// At this point of deployment. this widget display list of widget that matches search input\nconst [widgets, setWidgets] = useState([]);\nconst [input, setInput] = useState({});\nconst [showBtn, setShowBtn] = useState(false);\n\nconst WidgetApp = styled.div`\n  display: flex;\n  // align-items: center;\n  justify-content: center;\n  // padding-top: 20px;\n  // background-color: black;\n  height: 100vh;\n\n  * {\n    padding: 0;\n    margin: 0;\n    box-sizing: border-box;\n  }\n`;\n\nconst Container = styled.div`\n  width: 100%;\n  display: flex;\n  justify-content: center;\n  height: 54px;\n  gap: 1rem;\n`;\n\nconst WidgetList = styled.ul`\n  display: flex;\n  flex-direction: column;\n  list-style-type: none;\n  padding: 15px;\n  margin-top: 1rem;\n  max-height: 300px;\n  overflow-y: auto;\n  box-shadow: 0px 0px 8px #ddd;\n  border-radius: 10px;\n  background-color: #fff;\n  width: 100%;\n  \n  @media only screen and (max-width: 500px)\n  {\n    width: 270px;\n  }\n`;\n\nconst WidgetItem = styled.li`\n  // background-color: grey;\n  cursor: pointer;\n  padding: 10px;\n  border-radius: 4px;\n  &:hover {\n    background-color: #adb5bd;\n  }\n`;\n\n// search container\nconst SearchContainer = styled.div`\n  width: 350px;\n  // display: flex;\n  // flex-direction: column;\n  height: 100%;\n  gap: 1rem;\n  font-size: 1rem;\n  .input-group {\n    height: 100%;\n    border: 1px solid #ccc;\n    border-radius: 4px;\n    outline: none;\n    width: 100%;\n  }\n`;\n\nconst SubmitButton = styled.button`\n  white-space: nowrap;\n  wordWrap: 'break-word';\n  display: inline-flex;\n  padding: 1.1rem 1.5rem;\n  align-items: center;\n  justify-content: center;\n  border: none;\n  background: #8D61EE;\n  opacity: 1;\n  color: #fff;\n  border-radius: 10px;\n  // width:30%;\n  height: 100%;\n`;\n\n// function handleChange(value) {\n//   setInput(value);\n//   const fetchWidgets = fetch(\"https://jsonplaceholder.typicode.com/users\").body;\n\n//   const filteredWidgets = fetchWidgets.filter(\n//     (widget) =>\n//       value && widget.username.toLowerCase().includes(value.toLowerCase())\n//   );\n//   setWidgets(filteredWidgets);\n//   // console.log(filteredWidgets)\n// }\n\n// function handleClick(widget) {\n//   // setInput(widget.widgetName);\n//   // console.log(widget.widgetSrc);\n\n// }\nfunction handleClick(widget) {\n  setInput(widget);\n  console.log(\"Input: \", input);\n  setShowBtn(true);\n}\n\n// function handleSubmit() {\n//   // console.log(\"clicked check widget\");\n//   // props.handleSubmit();\n//   console.log(input.widgetSrc);\n//   props.handleSubmit(input.widgetSrc);\n//   setShowBtn(false);\n// }\n\nreturn (\n  <WidgetApp>\n    <Container>\n      <SearchContainer>\n        <Widget\n          loading={\n            <div className=\"input-group\">\n              <input type=\"text\" className=\"form-control\" />\n            </div>\n          }\n          src=\"littlelace.near/widget/ComponentSearchInput\"\n          props={{\n            boostedTag: \"app\",\n            placeholder: \"   Search Applications\",\n            limit: 10,\n            onChange: ({ result }) => {\n              if (!result.length) result = \"\";\n              State.update({ apps: result });\n            },\n          }}\n        />\n        {state.apps && (\n          <WidgetList>\n            <div className=\"mb-2\">\n              {state.apps.map((app, i) => (\n                <WidgetItem key={i} onClick={(e) => handleClick(app)}>\n                  <Widget\n                    src=\"littlelace.near/widget/ComponentItem\"\n                    props={{\n                      link: `/${app.widgetSrc}`,\n                      accountId: app.accountId,\n                      widgetName: app.widgetName,\n                      onHide: () => State.update({ apps: null }),\n                    }}\n                  />\n                </WidgetItem>\n              ))}\n            </div>\n            {console.log()}\n          </WidgetList>\n        )}\n      </SearchContainer>\n      {showBtn && (\n        <SubmitButton onClick={() => props.handleSubmit(input.widgetSrc)}>\n          Check Widget\n        </SubmitButton>\n      )}\n    </Container>\n  </WidgetApp>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/littlelace.near/widget/ComponentSearch", "fact_widget_deployments_id": "faae824cbcb277d23182d7862ce49c47", "inserted_timestamp": "2024-03-07T05:24:05.087Z", "modified_timestamp": "2024-03-07T05:24:05.087Z", "__row_index": 9}