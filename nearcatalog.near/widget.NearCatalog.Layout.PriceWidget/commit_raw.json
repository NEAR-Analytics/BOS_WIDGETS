{"tx_hash": "7G7yGXzgHmT1EKUoHthrHtdZCYSq5raqmxjY9qCeDMPz", "action_id_social": "FRKVvYgyM3za57obm8nTjNfZVi5NDWiPo2PwZS7RY4nN-0-widget", "block_id": 120038598, "block_timestamp": "2024-05-30T03:37:30.923Z", "signer_id": "nearcatalog.near", "widget_name": "widget.NearCatalog.Layout.PriceWidget", "source_code": "if (!props?.platform?.coingecko) {\n  return \"\";\n}\nconsole.log(\"PriceWidget props: \", props);\nconst data = fetch(\n  `https://api.coingecko.com/api/v3/coins/${props.platform.coingecko}`,\n  {\n    subscribe: true,\n    method: \"GET\",\n    headers: {\n      Accept: \"*/*\",\n    },\n  }\n);\nconsole.log(\"price data: \", data);\nif (!data) return <></>;\nreturn (\n  <div className=\"rounded-4 p-3 mb-3\">\n    {data !== null && data.ok ? (\n      <p>\n        <div class=\"d-flex clearfix flex-wrap flex-column flex-sm-row\">\n          <div class=\"p-2\">\n            <div>\n              <img src={props.icon.small} style={{ width: \"25px\" }} />\n              <b>{props.symbol}</b>/usd\n            </div>\n            <h1>\n              ${data.body.market_data.current_price.usd}\n              <small\n                class={\n                  data.body.market_data.price_change_percentage_24h_in_currency\n                    .usd < 0\n                    ? \"text-danger\"\n                    : \"text-success\"\n                }\n                style={{ \"font-size\": \"12px\" }}\n              >\n                {data.body.market_data.price_change_percentage_24h_in_currency.usd.toFixed(\n                  2\n                )}\n                %\n              </small>\n            </h1>\n          </div>\n          <div class=\"p-2\">\n            ATH\n            <p class=\"text-success\">\n              ${data.body?.market_data?.ath.usd.toFixed(8)}\n            </p>\n          </div>\n          <div class=\"p-2\">\n            24h high\n            <p>\n              <b>${data.body?.market_data?.high_24h.usd.toFixed(8)} </b>\n            </p>\n          </div>\n          <div class=\"p-2\">\n            Volume 24h\n            <p>\n              <b>\n                {\"$\" +\n                  data.body.market_data.total_volume.usd\n                    .toFixed(0)\n                    .toString()\n                    .replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\")}\n              </b>\n            </p>\n          </div>\n          <div class=\"p-2\">\n            24h low\n            <p>\n              <b>${data.body.market_data.low_24h.usd.toFixed(8)} </b>\n            </p>\n          </div>\n          <div class=\"p-2\">\n            Market Cap\n            <p>\n              <b>\n                {data.body.market_data.market_cap?.usd\n                  ? \"$\" +\n                    data.body.market_data.market_cap.usd\n                      .toFixed(0)\n                      .toString()\n                      .replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\")\n                  : \"-\"}\n              </b>\n            </p>\n          </div>\n          <div class=\"p-2\">\n            Circulating Supply\n            <p>\n              <b>\n                {data.body.market_data?.circulating_supply\n                  ? data.body.market_data.circulating_supply\n                      .toFixed(0)\n                      .toString()\n                      .replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\")\n                  : \"-\"}\n              </b>\n            </p>\n          </div>\n        </div>\n        <div>\n          <a\n            target=\"_blank\"\n            style={{ color: \"inherit\" }}\n            variant=\"caption\"\n            rel=\"nofollow\"\n            href={\n              `https://www.coingecko.com/en/coins/` + props.platform.coingecko\n            }\n          >\n            View on CoinGecko\n          </a>\n        </div>\n      </p>\n    ) : (\n      <div> {data.error ? data.error : \"Loading ...\"} </div>\n    )}\n  </div>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/nearcatalog.near/widget/widget.NearCatalog.Layout.PriceWidget", "fact_widget_deployments_id": "cf2980d1c91f0acd3667692235e6e0f1", "inserted_timestamp": "2024-05-30T05:40:43.553Z", "modified_timestamp": "2024-05-30T05:40:43.553Z", "__row_index": 0}