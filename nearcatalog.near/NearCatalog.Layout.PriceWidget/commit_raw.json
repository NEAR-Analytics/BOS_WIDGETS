{"tx_hash": "5a6w7PR3rngSPtUvpeW4EMS6YJJ4x5L3a7nEe3o69MrC", "action_id_social": "4wTmjeDZBpWy1iy4emwCUbyXxEwti78rkw1oBCWUYAFe-0-widget", "block_id": 109373739, "block_timestamp": "2024-01-02T04:02:50.430Z", "signer_id": "nearcatalog.near", "widget_name": "NearCatalog.Layout.PriceWidget", "source_code": "if (!props?.platform?.coingecko) {\n  return \"\";\n}\nconsole.log(\"PriceWidget props: \", props);\nconst data = fetch(`https://api.coingecko.com/api/v3/coins/${props.platform.coingecko}`, {\n  subscribe: true,\n  method: \"GET\",\n  headers: {\n    Accept: \"*/*\",\n  },\n});\nif(!data) return <></>\n\nreturn (\n  <div className=\"rounded-4 p-3 mb-3\">\n    {data !== null ? (\n      <p>\n        <div class=\"d-flex clearfix flex-wrap flex-column flex-sm-row\">\n          <div class=\"p-2\">\n            <div>\n              <img src={props.icon.small} style={{width:\"25px\"}}/>\n              <b>{props.symbol}</b>/usd\n            </div>\n            <h1>\n              ${data.body.market_data.current_price.usd}\n              <small\n                class={\n                  data.body.market_data.price_change_percentage_24h_in_currency\n                    .usd < 0\n                    ? \"text-danger\"\n                    : \"text-success\"\n                }\n                style={{ \"font-size\": \"12px\" }}\n              >\n                {data.body.market_data.price_change_percentage_24h_in_currency.usd.toFixed(\n                  2\n                )}\n                %\n              </small>\n            </h1>\n          </div>\n          <div class=\"p-2\">\n            ATH\n            <p class=\"text-success\">\n              ${data.body.market_data.ath.usd.toFixed(8)}\n            </p>\n          </div>\n          <div class=\"p-2\">\n            24h high\n            <p>\n\n              <b>${data.body.market_data.high_24h.usd.toFixed(8)} </b>\n            </p>\n          </div>\n          <div class=\"p-2\">\n            Volume 24h\n            <p>\n              <b>\n                {\"$\" +\n                  data.body.market_data.total_volume.usd\n                    .toFixed(0)\n                    .toString()\n                    .replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\")}\n              </b>\n            </p>\n          </div>\n          <div class=\"p-2\">\n            24h low\n            <p>\n\n              <b>${data.body.market_data.low_24h.usd.toFixed(8)} </b>\n            </p>\n          </div>\n          <div class=\"p-2\">\n            Market Cap\n            <p>\n              <b>\n                {\n                  data.body.market_data.market_cap?.usd ? \"$\" + data.body.market_data.market_cap.usd\n                    .toFixed(0)\n                    .toString()\n                    .replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\") : \"-\"}\n              </b>\n            </p>\n          </div>\n\n          <div class=\"p-2\">\n            Circulating Supply\n            <p>\n              <b>\n                {\n                 data.body.market_data?.circulating_supply ?  data.body.market_data.circulating_supply\n                    .toFixed(0)\n                    .toString()\n                    .replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\") : \"-\"}\n              </b>\n            </p>\n          </div>\n        </div>\n        <div>\n            <a\n              target=\"_blank\"\n              style={{ color: \"inherit\" }}\n              variant=\"caption\"\n              rel=\"nofollow\"\n              href={`https://www.coingecko.com/en/coins/` + props.platform.coingecko }\n            >\n             View on CoinGecko\n            </a>\n        </div>\n      </p>\n    ) : (\n      <div>Loading ...</div>\n    )}\n  </div>\n);", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/nearcatalog.near/widget/NearCatalog.Layout.PriceWidget", "fact_widget_deployments_id": "4bbc8dd69a9aff93706329c41b370d40", "inserted_timestamp": "2024-03-07T05:24:05.087Z", "modified_timestamp": "2024-03-07T05:24:05.087Z", "__row_index": 3}