{"tx_hash": "7G7yGXzgHmT1EKUoHthrHtdZCYSq5raqmxjY9qCeDMPz", "action_id_social": "FRKVvYgyM3za57obm8nTjNfZVi5NDWiPo2PwZS7RY4nN-0-widget", "block_id": 120038598, "block_timestamp": "2024-05-30T03:37:30.923Z", "signer_id": "nearcatalog.near", "widget_name": "widget.NearCatalog.Layout.SearchBar", "source_code": "State.init({\n  rs: false,\n  kw: \"\",\n  loading: false,\n  searching: false,\n});\nfunction delayedSearch(kw) {\n  if (state.searching) {\n    clearTimeout(state.searching);\n  }\n  State.update({\n    searching: setTimeout(() => {\n      if (kw.length >= 3) {\n        asyncFetch(props.indexer + \"/search?kw=\" + kw).then((res) => {\n          console.log(res);\n          State.update({\n            rs: res.body,\n            kw: kw,\n            loading: false,\n          });\n          console.log(\"search results: \", state.rs);\n        });\n      }\n    }, 1000),\n  });\n  if (typeof state.searching === \"function\") state.searching();\n}\nreturn (\n  <>\n    <div id=\"bos-search-input\" class=\"input-group\">\n      <input\n        class=\"form-control \"\n        type=\"text\"\n        placeholder=\"\ud83d\udd2d \ud83d\udd0d Explore NEAR\"\n        onChange={(e) => {\n          let kw = e.target.value ? e.target.value.trim().toLowerCase() : \"\";\n          State.update({ kw: kw, loading: true });\n          delayedSearch(kw);\n        }}\n      />\n    </div>\n    <div className=\"search-result-content overflow-auto\">\n      {state.rs &&\n        Object.keys(state.rs).map((e) => {\n          let p = state.rs[e];\n          return (\n            <a\n              className=\"near-item-sm\"\n              title={p.profile.name}\n              href={`/${props.indexPath}?id=${e}`}\n            >\n              <div className=\"tile-icon\">\n                <img\n                  src={p.profile.image?.url || props.defaultImg}\n                  title={`${p.profile.name} - ${p.profile.tagline}`}\n                />\n              </div>\n              <div className=\"tile-content\">\n                <h2\n                  className=\"tile-title\"\n                  title={`${p.profile.name} - ${p.profile.tagline}`}\n                >\n                  {p.profile.name}\n                </h2>\n              </div>\n            </a>\n          );\n        })}\n      {!state.rs && state.kw.length > 0 && !state.loading && (\n        <>\ud83d\ude48Not found, maybe you should submit the project\ud83d\ude4f</>\n      )}\n      {!state.rs && state.kw.length > 0 && state.loading && (\n        <>\ud83d\udd0d\ud83d\udc40 Searching...</>\n      )}\n    </div>\n  </>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/nearcatalog.near/widget/widget.NearCatalog.Layout.SearchBar", "fact_widget_deployments_id": "628b7571d91c013852a9a4e979b172e3", "inserted_timestamp": "2024-05-30T05:40:43.553Z", "modified_timestamp": "2024-05-30T05:40:43.553Z", "__row_index": 0}