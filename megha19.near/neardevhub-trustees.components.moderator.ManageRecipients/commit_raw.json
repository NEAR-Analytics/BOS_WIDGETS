{"tx_hash": "F1hbjPPowarKuXWb7o1fKdk9RqEf6CfABNdGriRZRBTg", "action_id_social": "3TfiAaHtv9pNk1G2oyhD2sxk8rjz94jNJ24wtYQ46NF3-0-widget", "block_id": 113234744, "block_timestamp": "2024-02-20T17:59:13.932Z", "signer_id": "megha19.near", "widget_name": "neardevhub-trustees.components.moderator.ManageRecipients", "source_code": "/*\nLicense: MIT\nAuthor: devhub.near\nHomepage: https://github.com/NEAR-DevHub/neardevhub-treasury-dashboard.git#readme\n*/\n/* INCLUDE: \"includes//common.jsx\" */\nconst REPL_TREASURY_CONTRACT = \"treasurydevhub.near\";\nconst REPL_TREASURY = \"megha19.near\";\n// \"dashboard.treasury-devdao.near\";\nconst REPL_DEVHUB = \"devhub.near\";\n// devhub.near;\nconst REPL_PROPOSAL_CONTRACT =\n  \"713ed9aef61d14ce3dfeb3f5a55dfdf16c407280267e8de96bce0953d0e1af8c\";\nconst REPL_NEAR = \"near\";\n/* END_INCLUDE: \"includes//common.jsx\" */\n\nconst resPerPage = 50;\nconst [currentPage, setPage] = useState(0);\n\nconst [showCreatePage, setCreatePage] = useState(false);\n\nconst RecipientsData = [\n  {\n    id: 1,\n    firstName: \"Megha\",\n    lastName: \"Goel\",\n    organisation: \"\",\n    kycVerified: true,\n    accountId: \"megha19.near\",\n    testTransactionStatus: true,\n    totalTransactions: 10,\n    totalPaid: \"1500\",\n  },\n  {\n    id: 2,\n    firstName: \"Megha\",\n    lastName: \"Goel\",\n    organisation: \"\",\n    kycVerified: true,\n    accountId: \"\",\n    testTransactionStatus: false,\n    totalTransactions: 15,\n    totalPaid: \"1000\",\n  },\n];\n\nconst Container = styled.div`\n  font-size: 13px;\n\n  .text-grey {\n    color: #b9b9b9 !important;\n  }\n\n  .card-custom {\n    border-radius: 5px;\n    background-color: white;\n  }\n\n  .text-size-2 {\n    font-size: 15px;\n  }\n\n  .text-dark-grey {\n    color: #687076;\n  }\n\n  .text-grey-100 {\n    background-color: #f5f5f5;\n  }\n\n  .text-underline {\n    text-decoration: underline;\n  }\n\n  td {\n    padding: 0.5rem;\n    color: inherit;\n  }\n\n  .overflow {\n    overflow: auto;\n  }\n\n  .max-w-100 {\n    max-width: 100%;\n  }\n\n  tr {\n    vertical-align: middle;\n  }\n\n  .text-red {\n    color: #dc6666;\n  }\n\n  .green-button {\n    background-color: #04a46e;\n    color: white;\n    border-color: #04a46e;\n  }\n\n  .grey-button {\n    background-color: #687076;\n    color: white;\n    border: none;\n    border-radius: 0.3rem;\n    padding-block: 0.2rem;\n    padding-inline: 0.5rem;\n  }\n`;\n\nconst RecipientsComponent = () => {\n  return (\n    <tbody>\n      {RecipientsData?.map((item, index) => {\n        // USE API\n        const isReceiverkycbVerified = true;\n\n        return (\n          <tr>\n            <td>{item.id}</td>\n            <td>{item.firstName}</td>\n            <td className=\"text-truncate bold\" style={{ maxWidth: 150 }}>\n              {item.lastName}\n            </td>\n            <td className=\"text-truncate bold\" style={{ maxWidth: 150 }}>\n              {item.organisation ?? \"-\"}\n            </td>\n            <td>\n              {isReceiverkycbVerified ? (\n                <img\n                  src=\"https://ipfs.near.social/ipfs/bafkreidqveupkcc7e3rko2e67lztsqrfnjzw3ceoajyglqeomvv7xznusm\"\n                  height={30}\n                />\n              ) : (\n                \"Need icon\"\n              )}\n            </td>\n            <td className=\"bold\">{item.accountId}</td>\n            <td className=\"bold\">\n              {item.testTransactionStatus ? (\n                <span>Confirmed</span>\n              ) : (\n                <span className=\"text-red\">Not Confirmed</span>\n              )}\n            </td>\n            <td className=\"bold text-underline\">{item.totalTransactions}</td>\n            <td className=\"bold\">\n              +{parseFloat(item.totalPaid).toLocaleString(\"en-US\")}\n            </td>\n\n            <td>\n              <div className=\"d-flex gap-2 align-items-center\">\n                <button className=\"grey-button\" onClick={() => onPay(item.id)}>\n                  Edit\n                </button>\n                <button className=\"grey-button\" onClick={() => onPay(item.id)}>\n                  Remove\n                </button>\n              </div>\n            </td>\n          </tr>\n        );\n      })}\n    </tbody>\n  );\n};\n\nif (showCreatePage) {\n  return (\n    <Widget\n      src={`${REPL_TREASURY}/widget/neardevhub-trustees.components.moderator.CreateRecipient`}\n    />\n  );\n}\n\nreturn (\n  <Container className=\"d-flex flex-column gap-4\">\n    <div className=\"d-flex flex-row gap-2 align-items-center justify-content-between\">\n      <div className=\"h5 bold mb-0\">Manage Recipients</div>\n      <div className=\"d-flex gap-4 align-items-center\">\n        <button className=\"btn btn-outline-primary d-flex gap-2 align-items-center justify-content-center p-2 px-3\">\n          <i class=\"bi bi-sliders\"></i> <div>Filters</div>\n        </button>\n        <button\n          className=\"btn green-button p-2 px-3\"\n          onClick={() => setCreatePage(true)}\n        >\n          Create New\n        </button>\n      </div>\n    </div>\n\n    <div className=\"card-custom overflow p-3\">\n      <table className=\"table\">\n        <thead>\n          <tr className=\"text-grey\">\n            <td>ID</td>\n            <td>FIRST NAME</td>\n            <td>LAST NAME</td>\n            <td>ORGANISATION</td>\n            <td>KYC/B VERIFIED</td>\n            <td>WALLET</td>\n            <td>TEST TRANSACTIONS</td>\n            <td># TRANSACTIONS</td>\n            <td>TOTAL PAID</td>\n            <td>ACTIONS</td>\n          </tr>\n        </thead>\n        <RecipientsComponent />\n      </table>\n    </div>\n    <div className=\"d-flex align-items-center justify-content-center\">\n      <Widget\n        src={`${REPL_TREASURY}/widget/neardevhub-trustees.components.molecule.Pagination`}\n        props={{\n          totalPages: 2,\n          onPageClick: (v) => setPage(v),\n        }}\n      />\n    </div>\n  </Container>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/megha19.near/widget/neardevhub-trustees.components.moderator.ManageRecipients", "fact_widget_deployments_id": "dddb4f95b3fdcfdf0d058688e769f072", "inserted_timestamp": "2024-03-07T05:24:05.087Z", "modified_timestamp": "2024-03-07T05:24:05.087Z", "__row_index": 1}