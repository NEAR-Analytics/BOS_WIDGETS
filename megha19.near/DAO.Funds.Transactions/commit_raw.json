{"tx_hash": "4QWMmx64XRQt9wyWf1wax6Si7oYvd3EX8nHTEjGfpqak", "action_id_social": "FuCcHUF8qsfYtwZCGpbwZExaLVeyN5gfyH5uPN56pjJG-0-widget", "block_id": 111351654, "block_timestamp": "2024-01-26T10:04:45.933Z", "signer_id": "megha19.near", "widget_name": "DAO.Funds.Transactions", "source_code": "const fetcher = props.fether ?? (() => {});\nconst daoId = props.daoId;\nconst widgetOwner = props.widgetOwner ?? \"megha19.near\";\nconst config = props.config ?? {\n    limitPerPage: 10,\n    type: \"near\" // near | ft\n};\n\nState.init({\n    currentPage: state.currentPage ?? 0,\n    type: state.type ?? config.type\n});\n\nconst currentOffset = state.currentPage * config.limitPerPage;\nconst transfers = fetcher[\n    state.type == \"ft\" ? \"ft_transfers\" : \"near_transfers\"\n](\n    daoId,\n    config.limitPerPage,\n    currentOffset,\n    state.type == \"ft\" ? undefined : config.minNearAmount\n);\n\nif (!transfers.body) {\n    return (\n        <div>\n            <Widget src=\"nearui.near/widget/Feedback.Spinner\" />\n        </div>\n    );\n}\n\nconst Table = styled.div`\n    & > div {\n        padding: 1.61rem 0.61rem;\n        border-bottom: 1px solid #eee;\n\n        &:last-child {\n            border-bottom: none;\n        }\n    }\n\n    .tx-info {\n        font-size: 14px;\n        color: #999;\n        text-transform: lowercase;\n\n        span:nth-child(1) {\n            color: #000;\n            font-weight: 600;\n            font-size: 16px;\n            max-width: 200px;\n            overflow: hidden;\n            text-overflow: ellipsis;\n            white-space: nowrap;\n        }\n    }\n`;\n\nreturn (\n    <div className=\"ndc-card p-4\">\n        <div className=\"d-flex justify-content-between gap-2\">\n            <h3 className=\"mb-3\">NEAR Transactions</h3>\n            <div>\n                <Widget\n                    src=\"nearui.near/widget/Input.Select\"\n                    props={{\n                        options: [\n                            {\n                                title: \"NEAR\",\n                                value: \"near\",\n                                default: state.type == \"near\"\n                            },\n                            {\n                                title: \"Fungible Tokens\",\n                                value: \"ft\",\n                                default: state.type == \"ft\"\n                            }\n                        ],\n                        onChange: (v) => State.update({ type: v }),\n                        value: state.type\n                    }}\n                />\n            </div>\n        </div>\n        <Table className=\"d-flex flex-column\">\n            {transfers.body.length == 0 && (\n                <div className=\"text-center\">No transactions found</div>\n            )}\n            {transfers.body.map((transfer) => {\n                return (\n                    <Widget\n                        src={`${widgetOwner}/widget/DAO.Funds.TransactionLine`}\n                        props={{\n                            transfer,\n                            daoId,\n                            type: state.type\n                        }}\n                    />\n                );\n            })}\n        </Table>\n        <div className=\"d-flex gap-3 flex-wrap justify-content-center\">\n            <Widget\n                src=\"nearui.near/widget/Navigation.PrevNext\"\n                props={{\n                    hasPrev: state.currentPage > 0,\n                    hasNext: transfers.body.length == config.limitPerPage,\n                    onPrev: () =>\n                        State.update({ currentPage: state.currentPage - 1 }),\n                    onNext: () =>\n                        State.update({ currentPage: state.currentPage + 1 })\n                }}\n            />\n        </div>\n    </div>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/megha19.near/widget/DAO.Funds.Transactions", "fact_widget_deployments_id": "826b2a4058989b07b667a3bfbef7a410", "inserted_timestamp": "2024-03-07T05:24:05.087Z", "modified_timestamp": "2024-03-07T05:24:05.087Z", "__row_index": 0}