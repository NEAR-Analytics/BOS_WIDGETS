{"tx_hash": "CmtECnVh97CVuwGneDkjE76BRzYGiMdkahCUi1uDg2yV", "action_id_social": "EuK5aS9v8919F5bgAVFq2fVgsdLcTPNWHWdRs7m813Dp-0-widget", "block_id": 107941385, "block_timestamp": "2023-12-14T17:45:16.093Z", "signer_id": "megha19.near", "widget_name": "devhub.entity.community.Announcements", "source_code": "const { handle } = props;\nconst { Feed } = VM.require(\"devs.near/widget/Module.Feed\");\nconst { getCommunity } = VM.require(\n  \"megha19.near/widget/core.adapter.devhub-contract\"\n);\nFeed = Feed || (() => <></>);\ngetCommunity = getCommunity || (() => <></>);\n\nconst communityData = getCommunity({ handle });\n\nconst MainContent = styled.div`\n  padding-left: 2rem;\n  flex: 3;\n  @media screen and (max-width: 960px) {\n    padding-left: 0rem;\n  }\n`;\n\nconst SidebarContainer = styled.div`\n  flex: 1;\n`;\n\nconst Container = styled.div`\n  flex-wrap: no-wrap;\n  max-width: 100%;\n\n  .max-width-100 {\n    max-width: 100%;\n  }\n  @media screen and (max-width: 960px) {\n    flex-wrap: wrap;\n  }\n`;\n\nconst Tags = styled.div`\n  border-top-right-radius: 50px;\n  border-bottom-right-radius: 50px;\n  border-top-left-radius: 50px;\n  border-bottom-left-radius: 50px;\n  padding-inline: 0.8rem;\n  padding-block: 0.3rem;\n  display: flex;\n  gap: 0.5rem;\n  border-width: 1px;\n  border-style: solid;\n  font-size: 13px;\n  color: rgba(0, 236, 151, 1);\n  font-weight: 700;\n`;\n\nreturn (\n  <div className=\"w-100\" style={{ maxWidth: \"100%\" }}>\n    <Container className=\"d-flex gap-3 m-3 pl-2\">\n      <MainContent className=\"max-width-100\">\n        <div className=\"d-flex flex-column gap-4\">\n          <div className=\"card p-3\">\n            <Widget\n              src={\"megha19.near/widget/devhub.entity.community.Compose\"}\n              props={{\n                optimisticUpdateFn: () => console.log(\"commit\"),\n                clearOptimisticUpdateFn: () => console.log(\"clear\"),\n              }}\n            />\n          </div>\n          <div className=\"d-flex flex-wrap justify-content-between\">\n            <h5>Announcements</h5>\n            <div className=\"d-flex align-items-center gap-2\">\n              <select\n                name=\"sort\"\n                id=\"sort\"\n                class=\"form-select\"\n                onChange={(e) => setSort(e.target.value)}\n              >\n                <option selected value=\"\">\n                  Latest\n                </option>\n                <option value=\"a-z\">A-Z</option>\n                <option value=\"z-a\">Z-A</option>\n              </select>\n            </div>\n          </div>\n          <div className=\"card p-3\">\n            <Feed\n              index={[\n                {\n                  action: \"post\",\n                  key: \"main\",\n                  options: {\n                    limit: 10,\n                    order: \"desc\",\n                    accountId: communityData.accountId,\n                  },\n                  cacheOptions: {\n                    ignoreCache: true,\n                  },\n                },\n                {\n                  action: \"repost\",\n                  key: \"main\",\n                  options: {\n                    limit: 10,\n                    order: \"desc\",\n                    accountId: communityData.accountId,\n                  },\n                  cacheOptions: {\n                    ignoreCache: true,\n                  },\n                },\n              ]}\n              Item={(p) => (\n                <Widget\n                  loading={\n                    <div className=\"w-100\" style={{ height: \"200px\" }} />\n                  }\n                  src=\"mob.near/widget/MainPage.N.Post\"\n                  props={{\n                    accountId: p.accountId,\n                    blockHeight: p.blockHeight,\n                  }}\n                />\n              )}\n            />\n          </div>\n        </div>\n      </MainContent>\n      <SidebarContainer>\n        <div className=\"d-flex flex-column gap-3\">\n          <div className=\"card p-3\">\n            <p>\n              On a mission to support DevHub initiatives and grow the NEAR\n              developer ecosystem\n            </p>\n            <p className=\"d-flex gap-2 flex-wrap\">\n              <Tags>devhub-marketing</Tags>\n              <Tags>tag-2</Tags>\n            </p>\n          </div>\n          <div>\n            <Widget\n              src={\"megha19.near/widget/devhub.entity.community.Tile\"}\n              props={{\n                heading: <h5>Community Admins</h5>,\n                children: (communityData?.admins ?? []).map((accountId) => (\n                  <div\n                    key={accountId}\n                    className=\"d-flex\"\n                    style={{ fontWeight: 500 }}\n                  >\n                    <Widget\n                      src=\"megha19.near/widget/devhub.components.molecule.ProfileCard\"\n                      props={{ accountId }}\n                    />\n                  </div>\n                )),\n                minHeight: 0,\n                noBorder: true,\n              }}\n            />\n          </div>\n        </div>\n      </SidebarContainer>\n    </Container>\n  </div>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/megha19.near/widget/devhub.entity.community.Announcements", "fact_widget_deployments_id": "86b1d05b5dd50d5b8660f4d2a3467e04", "inserted_timestamp": "2023-12-14T19:49:37.814Z", "modified_timestamp": "2023-12-20T03:22:11.422Z", "__row_index": 2}