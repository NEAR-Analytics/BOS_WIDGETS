{"tx_hash": "ATgd4FBuRE13LYSYGKoepQPAg4YTHP5rRfikJnyEWXEG", "action_id_social": "AJEXwnXV5qSPJpVWfy2EcVipfYV3RN3Cg52dHhe7QbUA-0-widget", "block_id": 115163549, "block_timestamp": "2024-03-21T13:05:37.404Z", "signer_id": "megha19.near", "widget_name": "devhub.entity.proposal.Feed", "source_code": "const { href } = VM.require(\"megha19.near/widget/core.lib.url\");\n\nif (!href) {\n  return <p>Loading modules...</p>;\n}\n\nconst Container = styled.div`\n  .full-width-div {\n    width: 100vw;\n    position: relative;\n    left: 50%;\n    right: 50%;\n    margin-left: -50vw;\n    margin-right: -50vw;\n  }\n\n  .card.no-border {\n    border-left: none !important;\n    border-right: none !important;\n    margin-bottom: -3.5rem;\n  }\n\n  @media screen and (max-width: 768px) {\n    font-size: 13px;\n  }\n\n  .text-sm {\n    font-size: 13px;\n  }\n\n  .bg-grey {\n    background-color: #f4f4f4;\n  }\n\n  .border-bottom {\n    border-bottom: 1px solid grey;\n  }\n\n  .cursor-pointer {\n    cursor: pointer;\n  }\n\n  .proposal-card {\n    &:hover {\n      background-color: #f4f4f4;\n    }\n  }\n\n  .green-btn {\n    background-color: #04a46e !important;\n    border: none;\n    color: white;\n\n    &:active {\n      color: white;\n    }\n  }\n\n  @media screen and (max-width: 768px) {\n    .green-btn {\n      padding: 0.5rem 0.8rem !important;\n      min-height: 32px;\n    }\n  }\n`;\n\nconst Heading = styled.div`\n  font-size: 24px;\n  font-weight: 700;\n\n  .text-normal {\n    font-weight: normal !important;\n  }\n\n  @media screen and (max-width: 768px) {\n    font-size: 18px;\n  }\n`;\n\nconst FeedItem = ({ proposal }) => {\n  const { snapshot } = proposal;\n  const accountId = proposal.author_id;\n  const profile = Social.get(`${accountId}/profile/**`, \"final\");\n  const blockHeight = parseInt(proposal.social_db_post_block_height);\n  const item = {\n    type: \"social\",\n    path: `truedove38.near/post/main`,\n    blockHeight,\n  };\n\n  return (\n    <a\n      href={href({\n        widgetSrc: \"megha19.near/widget/app\",\n        params: {\n          page: \"proposal\",\n          id: proposal.id,\n        },\n      })}\n      onClick={(e) => e.stopPropagation()}\n      style={{ textDecoration: \"none\" }}\n    >\n      <div className=\"proposal-card d-flex justify-content-between gap-2 text-muted cursor-pointer p-3\">\n        <div className=\"d-flex gap-4\">\n          <Widget\n            src={\"megha19.near/widget/devhub.entity.proposal.Profile\"}\n            props={{\n              accountId,\n            }}\n          />\n          <div className=\"d-flex flex-column gap-2\">\n            <div className=\"d-flex gap-2 align-items-center flex-wrap\">\n              <div className=\"h6 mb-0 text-black\">{snapshot.name}</div>\n              <Widget\n                src={\"megha19.near/widget/devhub.entity.proposal.CategoryTag\"}\n                props={{\n                  category: snapshot.category,\n                }}\n              />\n            </div>\n            <div className=\"d-flex gap-2 align-items-center text-sm\">\n              <div>By {profile.name ?? accountId} \uff65 </div>\n              <Widget\n                src=\"near/widget/TimeAgo\"\n                props={{\n                  blockHeight,\n                  blockTimestamp: snapshot.timestamp,\n                }}\n              />\n            </div>\n            <div className=\"d-flex gap-2 align-items-center\">\n              <Widget\n                src=\"megha19.near/widget/devhub.entity.proposal.LikeButton\"\n                props={{\n                  item,\n                  proposalId: proposal.id,\n                  notifyAccountId: accountId,\n                }}\n              />\n              <Widget\n                src={\"megha19.near/widget/devhub.entity.proposal.CommentIcon\"}\n                props={{\n                  item,\n                  showOverlay: false,\n                  onClick: () => {},\n                }}\n              />\n            </div>\n          </div>\n        </div>\n        <div className=\"align-self-center\">\n          <Widget\n            src={\"megha19.near/widget/devhub.entity.proposal.StatusTag\"}\n            props={{\n              timelineStatus: snapshot.timeline.status,\n            }}\n          />\n        </div>\n      </div>\n    </a>\n  );\n};\n\nconst FeedPage = () => {\n  const proposals = Near.view(\"truedove38.near\", \"get_proposals\", {});\n\n  return (\n    <Container className=\"w-100 py-4 px-2 d-flex flex-column gap-3\">\n      <div className=\"d-flex justify-content-between flex-wrap gap-2 align-items-center\">\n        <Heading>\n          DevDAO Proposals{\" \"}\n          <span className=\"text-muted text-normal\"> ({proposals.length})</span>\n        </Heading>\n        {/* Filters aren't supported yet */}\n        {/* <div className=\"d-flex gap-4 align-items-center\">\n          <Widget\n            src={\n              \"megha19.near/widget/devhub.feature.proposal-search.by-input\"\n            }\n            props={{}}\n          />\n          <Widget\n            src={\"megha19.near/widget/devhub.feature.proposal-search.by-sort\"}\n            props={{}}\n          />\n          <Widget\n            src={\n              \"megha19.near/widget/devhub.feature.proposal-search.by-category\"\n            }\n            props={{}}\n          />\n          <Widget\n            src={\n              \"megha19.near/widget/devhub.feature.proposal-search.by-stage\"\n            }\n            props={{}}\n          />\n          <Widget\n            src={\n              \"megha19.near/widget/devhub.feature.proposal-search.by-author\"\n            }\n            props={{}}\n          />\n        </div> */}\n        <div>\n          <Link\n            to={href({\n              widgetSrc: \"megha19.near/widget/app\",\n              params: { page: \"create-proposal\" },\n            })}\n          >\n            <Widget\n              src={\"megha19.near/widget/devhub.components.molecule.Button\"}\n              props={{\n                label: (\n                  <div className=\"d-flex gap-2 align-items-center\">\n                    <div>\n                      <i class=\"bi bi-plus-circle-fill\"></i>\n                    </div>\n                    New Proposal\n                  </div>\n                ),\n                classNames: { root: \"green-btn\" },\n              }}\n            />\n          </Link>\n        </div>\n      </div>\n      <div style={{ minHeight: \"50vh\" }}>\n        {!Array.isArray(proposals) ? (\n          <div className=\"d-flex justify-content-center align-items-center w-100\">\n            <Widget\n              src={\"megha19.near/widget/devhub.components.molecule.Spinner\"}\n            />\n          </div>\n        ) : (\n          <div className=\"card no-border rounded-0 mt-4 py-3 full-width-div\">\n            <div className=\"container-xl\">\n              <div className=\"text-muted bg-grey text-sm mt-2 p-3 rounded-3\">\n                <p className=\"d-flex gap-3 align-items-center mb-0\">\n                  <div>\n                    <i class=\"bi bi-info-circle\"></i>\n                  </div>\n                  <div>\n                    <a\n                      href=\"https://near.social/devhub.near/widget/app?page=community&handle=developer-dao&tab=overview\"\n                      className=\"fw-bold\"\n                      target=\"_blank\"\n                      rel=\"noopener noreferrer\"\n                    >\n                      Welcome to DevDAO\u2019s New Proposal Feed!\n                    </a>{\" \"}\n                    This dedicated space replaces the old activity feed, making\n                    it easier to submit and track funding requests from DevDAO,\n                    the primary organization behind DevHub. To submit a formal\n                    proposal, click New Proposal. See our{\" \"}\n                    <a\n                      href=\"https://near.org/devhub.near/widget/app?page=community&handle=developer-dao&tab=funding\"\n                      className=\"text-decoration-underline\"\n                      target=\"_blank\"\n                      rel=\"noopener noreferrer\"\n                    >\n                      guidelines\n                    </a>{\" \"}\n                    for details. For discussions and brainstorming, please\n                    utilize the relevant{\" \"}\n                    <a\n                      href=\"https://near.org/devhub.near/widget/app?page=communities\"\n                      className=\"text-decoration-underline\"\n                      target=\"_blank\"\n                      rel=\"noopener noreferrer\"\n                    >\n                      communities\n                    </a>\n                    .\n                  </div>\n                </p>\n              </div>\n              <div className=\"mt-4 border rounded-2\">\n                {proposals.map((item, index) => {\n                  return (\n                    <div\n                      key={index}\n                      className={\n                        (index !== proposals.length - 1 && \"border-bottom \") +\n                        (index === 0 && \" rounded-top-2\")\n                      }\n                    >\n                      <FeedItem proposal={item} />\n                    </div>\n                  );\n                })}\n              </div>\n            </div>\n          </div>\n        )}\n      </div>\n    </Container>\n  );\n};\n\nreturn FeedPage(props);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/megha19.near/widget/devhub.entity.proposal.Feed", "fact_widget_deployments_id": "67e4c31d98d34d9a8602a476b619937a", "inserted_timestamp": "2024-03-21T14:27:36.390Z", "modified_timestamp": "2024-03-21T14:27:36.390Z", "__row_index": 59}