{"tx_hash": "F1hbjPPowarKuXWb7o1fKdk9RqEf6CfABNdGriRZRBTg", "action_id_social": "3TfiAaHtv9pNk1G2oyhD2sxk8rjz94jNJ24wtYQ46NF3-0-widget", "block_id": 113234744, "block_timestamp": "2024-02-20T17:59:13.932Z", "signer_id": "megha19.near", "widget_name": "neardevhub-trustees.components.moderator.Dashboard", "source_code": "/*\nLicense: MIT\nAuthor: devhub.near\nHomepage: https://github.com/NEAR-DevHub/neardevhub-treasury-dashboard.git#readme\n*/\n/* INCLUDE: \"includes//common.jsx\" */\nconst REPL_TREASURY_CONTRACT = \"treasurydevhub.near\";\nconst REPL_TREASURY = \"megha19.near\";\n// \"dashboard.treasury-devdao.near\";\nconst REPL_DEVHUB = \"devhub.near\";\n// devhub.near;\nconst REPL_PROPOSAL_CONTRACT =\n  \"713ed9aef61d14ce3dfeb3f5a55dfdf16c407280267e8de96bce0953d0e1af8c\";\nconst REPL_NEAR = \"near\";\n/* END_INCLUDE: \"includes//common.jsx\" */\n\n// const { normalize } = VM.require(`${REPL_DEVHUB}/widget/core.lib.stringUtils`);\nconst { href } = VM.require(`${REPL_DEVHUB}/widget/core.lib.url`);\n\nhref || (href = () => {});\n\n// normalize || (normalize = () => {});\nconst normalize = (text) =>\n  text\n    .replaceAll(/[- \\.]/g, \"_\")\n    .replaceAll(/[^\\w]+/g, \"\")\n    .replaceAll(/_+/g, \"-\")\n    .replace(/^-+/, \"\")\n    .replace(/-+$/, \"\")\n    .toLowerCase()\n    .trim(\"-\");\nconst { tab, ...passProps } = props;\n\nconst NavUnderline = styled.ul`\n  cursor: pointer;\n\n  a {\n    text-decoration: none;\n    color: #939597;\n  }\n\n  a.active {\n    font-weight: bolder;\n    color: #151515;\n    border-bottom: 3px solid black;\n  }\n\n  a:hover {\n    color: #151515;\n  }\n\n  .nav-item {\n    font-size: 15px;\n  }\n`;\n\nconst tabs = [\n  {\n    title: \"Create Payment Request\",\n    view: \"CreatePaymentRequest\",\n    props: {},\n  },\n  {\n    title: \"Transaction History\",\n    view: \"History\",\n    props: {\n      title: \"Transaction History\",\n    },\n  },\n  {\n    title: \"Manage Recipients\",\n    view: \"ManageRecipients\",\n    props: {},\n  },\n  // hiding these tabs for time being\n  // {\n  //   title: \"Staking\",\n  //   view: \"Staking\",\n  //   props: {},\n  // },\n  // {\n  //   title: \"Accounting\",\n  //   view: \"Accounting\",\n  //   props: {},\n  // },\n];\n\nfunction findTab(tabTitle) {\n  return tabs.find((it) => normalize(it.title) === tabTitle);\n}\n\nconst defaultTab = tabs[0].title;\nlet currentTab = findTab(tab ?? normalize(defaultTab));\n// in case tab is not provided, or tab is of trustees page\nif (!currentTab) {\n  currentTab = findTab(normalize(defaultTab));\n}\n\nreturn (\n  <div>\n    <NavUnderline className=\"nav gap-4 my-4\">\n      {tabs.map(\n        ({ title }) =>\n          title && (\n            <li className=\"nav-item\" key={title}>\n              <Link\n                to={href({\n                  widgetSrc: `${REPL_TREASURY}/widget/neardevhub-trustees.components.pages.app`,\n                  params: {\n                    accountType: \"moderators\",\n                    tab: normalize(title),\n                  },\n                })}\n                className={[\n                  \"d-inline-flex gap-2\",\n                  normalize(currentTab.title) === normalize(title)\n                    ? \"nav-link active\"\n                    : \"nav-link\",\n                ].join(\" \")}\n              >\n                <span>{title}</span>\n              </Link>\n            </li>\n          )\n      )}\n    </NavUnderline>\n    {currentTab && (\n      <div className=\"w-100 h-100 mt-4\" key={currentTab.title}>\n        <Widget\n          src={`${REPL_TREASURY}/widget/neardevhub-trustees.components.${\n            currentTab.view === \"History\" ? \"trustee\" : \"moderator\"\n          }.${currentTab.view}`}\n          props={currentTab.props}\n        />\n      </div>\n    )}\n  </div>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/megha19.near/widget/neardevhub-trustees.components.moderator.Dashboard", "fact_widget_deployments_id": "b5efe29b417bb3c30a56e9a91bcf8eab", "inserted_timestamp": "2024-03-07T05:24:05.087Z", "modified_timestamp": "2024-03-07T05:24:05.087Z", "__row_index": 0}