{"tx_hash": "9xvMLPw1Nh4TcSFZ6N5N26EX6Gngzd9WesyRmG4Uysss", "action_id_social": "8rithBGL4GhKbpVCcAVFpJuyEeCiJLhConBk2w9Woz2j-0-widget", "block_id": 111351454, "block_timestamp": "2024-01-26T10:01:11.396Z", "signer_id": "megha19.near", "widget_name": "Common.Modals.FiltersModal", "source_code": "const applyFilters = props.applyFilters;\nconst cancel = props.cancel;\nconst selectedFilters = props.selectedFilters;\nconst filterlist = props.filterlist;\nconst groupTypes = props.groupTypes;\n\nState.init({\n    selectedFilters: selectedFilters\n});\n\nconst setFilters = (f, close) => {\n    State.update({\n        selectedFilters: f\n    });\n    applyFilters(state.selectedFilters);\n    if (close) {\n        cancel();\n    }\n};\n\nconst Wrapper = styled.div`\n    width: max-content;\n    padding: 2rem;\n    display: flex;\n    flex-direction: column;\n    gap: 1rem;\n\n    .m-2 {\n        margin: 1rem !important;\n    }\n\n    .item {\n        align-items: center;\n        padding-right: 5rem;\n        &:hover {\n            background-color: rgba(0, 0, 0, 0.04);\n        }\n    }\n\n    .outline-btn {\n        color: gray;\n        text-decoration: underline;\n        background-color: transparent;\n        border: none;\n\n        &:hover {\n            background-color: transparent !important;\n            border: none !important;\n            color: darkgray !important;\n            text-decoration: underline !important;\n        }\n\n        &:active {\n            background-color: transparent !important;\n            border: none !important;\n            color: darkgray !important;\n            text-decoration: underline !important;\n        }\n        &:focus-visible {\n            background-color: transparent !important;\n            border: none !important;\n            color: darkgray !important;\n            text-decoration: underline !important;\n        }\n    }\n`;\n\nreturn (\n    <Wrapper className=\"ndc-card\">\n        <div>\n            {filterlist?.map((item) => (\n                <div\n                    className=\"d-flex gap-4 item\"\n                    onClick={(event) => {\n                        const data = [...state.selectedFilters];\n                        // treat descending and ascending as radio button\n                        const isDescendingSelected =\n                            event?.target?.id === groupTypes.DESCENDING;\n                        const isAscendingSelected =\n                            event?.target?.id === groupTypes.ASCENDING;\n                        const isEarliest =\n                            event?.target?.id === groupTypes.EARLIEST;\n                        const isLatest =\n                            event?.target?.id === groupTypes.LATEST;\n                        if (\n                            (isDescendingSelected &&\n                                data?.includes(groupTypes.ASCENDING)) ||\n                            (isAscendingSelected &&\n                                data?.includes(groupTypes.DESCENDING))\n                        ) {\n                            data = data.filter((item) => {\n                                return isDescendingSelected\n                                    ? item !== groupTypes.ASCENDING\n                                    : item !== groupTypes.DESCENDING;\n                            });\n                            data.push(event.target.id);\n                            setFilters(data);\n                        }\n                        // treat latest and earliest as radio button\n                        else if (\n                            (isEarliest && data?.includes(groupTypes.LATEST)) ||\n                            (isLatest && data?.includes(groupTypes.EARLIEST))\n                        ) {\n                            data = data.filter((item) => {\n                                return isEarliest\n                                    ? item !== groupTypes.LATEST\n                                    : item !== groupTypes.EARLIEST;\n                            });\n                            data.push(event.target.id);\n                            setFilters(data);\n                        } else if (data?.includes(event?.target?.id)) {\n                            setFilters(\n                                data.filter((item) => item !== event.target.id)\n                            );\n                        } else {\n                            data.push(event.target.id);\n                            setFilters(data);\n                        }\n                    }}\n                    id={item}\n                >\n                    <input\n                        id={item}\n                        className=\"m-2\"\n                        type=\"checkbox\"\n                        value={item}\n                        checked={state.selectedFilters.includes(item) || false}\n                    />\n                    <label id={item} className=\"form-check-label\">\n                        {item}\n                    </label>\n                </div>\n            ))}\n        </div>\n        <button className=\"outline-btn\" onClick={() => setFilters([], true)}>\n            Clear Filter\n        </button>\n    </Wrapper>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/megha19.near/widget/Common.Modals.FiltersModal", "fact_widget_deployments_id": "18979f4baf3296f9df451b2e79bb214b", "inserted_timestamp": "2024-03-07T05:24:05.087Z", "modified_timestamp": "2024-03-07T05:24:05.087Z", "__row_index": 2}