{"tx_hash": "9Eug8dGUgshoaAxy5zs4EUBPRDLhWijWdwzc1SpmxWMj", "action_id_social": "BNCWToe5qZ6PKUBqDKEegPoSRrNccoGe4249Q9BEAQcY-0-widget", "block_id": 119335326, "block_timestamp": "2024-05-20T09:35:35.455Z", "signer_id": "megha19.near", "widget_name": "components.molecule.LinkedProposals", "source_code": "import {\n  REPL_INFRASTRUCTURE_COMMITTEE,\n  REPL_INFRASTRUCTURE_COMMITTEE_CONTRACT,\n  REPL_DEVHUB,\n} from \"@/includes/common\";\n\nconst { readableDate } = VM.require(\n  `${REPL_DEVHUB}/widget/core.lib.common`\n) || { readableDate: () => {} };\n\nconst linkedProposalIds = props.linkedProposalIds ?? [];\nconst linkedProposalsData = [];\nconst hideStatuses = props.hideStatuses ?? [];\nconst showStatus = props.showStatus ?? false;\n\n// using contract instead of indexer, since indexer doesn't return timestamp\nlinkedProposalIds.map((item) => {\n  const data = Near.view(\n    REPL_INFRASTRUCTURE_COMMITTEE_CONTRACT,\n    \"get_proposal\",\n    {\n      proposal_id: item,\n    }\n  );\n  if (data !== null && !hideStatuses.includes(data.snapshot.timeline.status)) {\n    linkedProposalsData.push(data);\n  }\n});\n\nconst Container = styled.div`\n  a {\n    &:hover {\n      text-decoration: none !important;\n    }\n  }\n`;\n\nreturn (\n  <Container className=\"d-flex flex-column gap-3\">\n    {linkedProposalsData.map((item) => {\n      const link = `https://near.org/${REPL_INFRASTRUCTURE_COMMITTEE}/widget/near-prpsls-bos.components.pages.app?page=proposal&id=${item.id}`;\n      return (\n        <a href={link} target=\"_blank\" rel=\"noopener noreferrer\">\n          <div className=\"d-flex gap-2\">\n            <Widget\n              src={`${REPL_DEVHUB}/widget/devhub.entity.proposal.Profile`}\n              props={{\n                accountId: item.snapshot.editor_id,\n              }}\n            />\n            <div className=\"d-flex flex-column\" style={{ maxWidth: 250 }}>\n              <b className=\"text-truncate\">{item.snapshot.name}</b>\n              <div className=\"text-sm text-muted\">\n                created on {readableDate(item.snapshot.timestamp / 1000000)}\n              </div>\n              {showStatus && (\n                <div style={{ width: \"fit-content\" }} className=\"mt-1\">\n                  <Widget\n                    src={`${REPL_DEVHUB}/widget/devhub.entity.proposal.StatusTag`}\n                    props={{\n                      timelineStatus: item.snapshot.timeline.status,\n                    }}\n                  />\n                </div>\n              )}\n            </div>\n          </div>\n        </a>\n      );\n    })}\n  </Container>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/megha19.near/widget/components.molecule.LinkedProposals", "fact_widget_deployments_id": "3fa294708c3175e16239f39098d4d300", "inserted_timestamp": "2024-05-20T10:52:48.743Z", "modified_timestamp": "2024-05-20T11:50:20.468Z", "__row_index": 3}