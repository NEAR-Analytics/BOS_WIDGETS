{"tx_hash": "gVXsLNXRtpGQ3KciUCcMQCtBoKiMqBTPZnmTBXJYF9U", "action_id_social": "HehHYz6brvKZJZFNvjTLqiygk4psbJSKhatbGRjGzRZG-0-widget", "block_id": 113498358, "block_timestamp": "2024-02-24T16:42:35.936Z", "signer_id": "potlock.near", "widget_name": "SDK.registry", "source_code": "return ({ env }) => {\n  const contractId = env === \"staging\" ? \"registry.staging.potlock.near\" : \"registry.potlock.near\";\n\n  const PotlockRegistrySDK = {\n    getContractId: () => contractId,\n    getConfig: () => {\n      return Near.view(contractId, \"get_config\", {});\n    },\n    isRegistryAdmin: (accountId) => {\n      const config = PotlockRegistrySDK.getConfig();\n      return config.admins && config.admins.includes(accountId);\n    },\n    setProjectStatus: (projectId, status, reviewNotes) => {\n      return Near.call([\n        {\n          contractName: contractId,\n          methodName: \"admin_set_project_status\",\n          args: {\n            project_id: projectId,\n            status,\n            review_notes: reviewNotes,\n          },\n          deposit: NEAR.toIndivisible(0.01).toString(),\n        },\n      ]);\n    },\n    getProjects: () => {\n      return Near.view(contractId, \"get_projects\", {});\n    },\n    getProjectById: (projectId) => {\n      return Near.view(contractId, \"get_project_by_id\", { project_id: projectId });\n    },\n    isProjectApproved: (projectId) => {\n      const project = PotlockRegistrySDK.getProjectById(projectId);\n      return project && project.status === \"Approved\";\n    },\n    isUserRegistryAdmin: (accountId) => {\n      return PotlockRegistrySDK.isRegistryAdmin(accountId);\n    },\n  };\n  return PotlockRegistrySDK;\n};\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/potlock.near/widget/SDK.registry", "fact_widget_deployments_id": "dd001485294905c01b74d8b7d565f29f", "inserted_timestamp": "2024-03-07T05:24:05.087Z", "modified_timestamp": "2024-03-07T05:24:05.087Z", "__row_index": 3}