{"tx_hash": "C39ASP2yzMk1hSvs7wMRbuijZuF5QtVw43gzwJA84d2W", "action_id_social": "BFnzQ9MqoGyq2GBDDAWVKLxjRgKbsoBumnh2tgronU7p-0-widget", "block_id": 113307760, "block_timestamp": "2024-02-21T19:56:00.277Z", "signer_id": "potlock.near", "widget_name": "Components.DonorsTrx", "source_code": "const { ownerId, donations } = props;\nconst [page, setPage] = useState(0);\nconst perPage = 30; // need to be less than 50\n\nconst nearLogo =\n  \"https://ipfs.near.social/ipfs/bafkreib2cfbayerbbnoya6z4qcywnizqrbkzt5lbqe32whm2lubw3sywr4\";\n\nconst { getTimePassed, _address, calcNetDonationAmount, reverseArr } = VM.require(\n  `${ownerId}/widget/Components.DonorsUtils`\n);\n\nconst Container = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  gap: 2rem;\n  .transcation {\n    display: grid;\n    width: 100%;\n    overflow-x: scroll;\n    .header {\n      display: flex;\n      align-items: center;\n      justify-content: space-between;\n      padding: 1rem 0;\n      gap: 1rem;\n      background: var(--primary-color);\n      color: white;\n      div {\n        width: 150px;\n        display: flex;\n        justify-content: center;\n        align-items: center;\n      }\n    }\n  }\n`;\n\nconst TrRow = styled.div`\n  display: flex;\n  width: 100%;\n  justify-content: space-between;\n  gap: 1rem;\n  padding: 1rem 0;\n  border-bottom: 1px solid #0000003e;\n  &:last-of-type {\n    border-bottom-color: transparent;\n  }\n  > div,\n  > span {\n    width: 150px;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n  }\n  .price {\n    display: flex;\n    gap: 4px;\n    align-items: center;\n    font-weight: 600;\n    img {\n      width: 14px;\n    }\n  }\n  .address {\n    color: var(--primary-color);\n    font-weight: 500;\n    height: 40px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    padding: 10px;\n    border-radius: 2px;\n    transition: all 200ms;\n    :hover {\n      background: var(--primary-color);\n      color: white;\n    }\n  }\n`;\n\nreturn (\n  <Container>\n    <div className=\"transcation\">\n      <div className=\"header\">\n        <div>ID</div>\n        <div>Donor ID</div>\n        <div>Amount</div>\n        <div>Project ID</div>\n        <div>Date</div>\n      </div>\n      {reverseArr(donations)\n        .slice(page * perPage, (page + 1) * perPage)\n        .map((donation) => {\n          const { id, donor_id, recipient_id, donated_at_ms } = donation;\n\n          return (\n            <TrRow>\n              <div>{id}</div>\n              <Widget\n                src=\"near/widget/AccountProfileOverlay\"\n                props={{\n                  accountId: donor_id,\n                  children: (\n                    <a\n                      href={props.hrefWithEnv(`?tab=profile&accountId=${donor_id}`)}\n                      className=\"address\"\n                      target=\"_blank\"\n                    >\n                      {_address(donor_id)}{\" \"}\n                    </a>\n                  ),\n                }}\n              />\n              <div className=\"price\">\n                {calcNetDonationAmount(donation).toFixed(2)}\n\n                <img src={nearLogo} alt=\"NEAR\" />\n              </div>\n              <Widget\n                src=\"near/widget/AccountProfileOverlay\"\n                props={{\n                  accountId: recipient_id,\n                  children: (\n                    <a\n                      href={props.hrefWithEnv(`?tab=project&projectId=${recipient_id}`)}\n                      Name=\"address\"\n                      target=\"_blank\"\n                    >\n                      {_address(recipient_id)}\n                    </a>\n                  ),\n                }}\n              />\n              <div>{getTimePassed(donated_at_ms)} ago</div>\n            </TrRow>\n          );\n        })}\n    </div>\n    <Widget\n      src=\"baam25.near/widget/pagination\"\n      props={{\n        onClick: (page) => {\n          setPage(page);\n        },\n        data: donations,\n        page: page,\n        perPage: perPage,\n        bgColor: \"var(--primary-color)\",\n      }}\n    />\n  </Container>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/potlock.near/widget/Components.DonorsTrx", "fact_widget_deployments_id": "e20a7f4cf20c6a15cd59e29164d4e7eb", "inserted_timestamp": "2024-03-07T05:24:05.087Z", "modified_timestamp": "2024-03-07T05:24:05.087Z", "__row_index": 3}