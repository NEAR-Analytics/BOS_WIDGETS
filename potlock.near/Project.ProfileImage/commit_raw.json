{"tx_hash": "4Z59Msk66hRH8T8NxXvhWxTzJvwHjgeEayubbS2KdMuW", "action_id_social": "AsMtvZG5k39oZ8a5oyutqHzSs1dEDs9MPqE9t6XnZjrq-0-widget", "block_id": 115588449, "block_timestamp": "2024-03-27T15:18:16.507Z", "signer_id": "potlock.near", "widget_name": "Project.ProfileImage", "source_code": "// * taken from mob.near/widget/ProfileImage with minor tweaks for expanded composability *\nconst accountId = props.accountId ?? context.accountId;\nconst className = props.className ?? \"profile-image d-inline-block\";\nconst style = props.style ?? { width: \"3em\", height: \"3em\" };\nconst imageStyle = props.imageStyle ?? { objectFit: \"cover\" };\nconst imageWrapperStyle = props.imageWrapperStyle ?? {\n  width: \"100%\",\n  height: \"100%\",\n};\nconst imageClassName = props.imageClassName ?? \"rounded-circle w-100 h-100\";\nconst thumbnail = props.thumbnail ?? \"thumbnail\";\nconst profile = props.profile ?? Social.getr(`${accountId}/profile`);\nconst name = profile.name || \"No-name profile\";\nconst image = props.image || profile.image;\nconst title = props.title ?? `${name} @${accountId}`;\nconst tooltip =\n  props.tooltip && (props.tooltip === true ? title : props.tooltip);\nconst fast = props.fast || (!props.profile && !!accountId);\nif (accountId !== state.accountId) {\n  State.update({\n    fastImageUrl: `https://i.near.social/magic/${\n      thumbnail || \"large\"\n    }/https://near.social/magic/img/account/${accountId}`,\n    accountId,\n  });\n}\nconst fallbackUrl =\n  \"https://ipfs.near.social/ipfs/bafkreibmiy4ozblcgv3fm3gc6q62s55em33vconbavfd2ekkuliznaq3zm\";\n// console.log(\"image in profileimage: \", image);\n// console.log(\"props in profileimage: \", props);\nconst inner = fast ? (\n  <div className={className} style={style} key={state.fastImageUrl}>\n    <img\n      className={imageClassName}\n      style={imageStyle}\n      src={state.fastImageUrl}\n      alt={title}\n      onError={() => {\n        if (state.fastImageUrl !== fallbackUrl) {\n          State.update({\n            fastImageUrl: fallbackUrl,\n          });\n        }\n      }}\n    />\n  </div>\n) : (\n  <div className={className} style={style} key={JSON.stringify(image)}>\n    <Widget\n      loading={\n        <div\n          className={`d-inline-block ${imageClassName}`}\n          style={imageWrapperStyle}\n        />\n      }\n      src=\"mob.near/widget/Image\"\n      props={{\n        image,\n        alt: title,\n        className: imageClassName,\n        style: imageStyle,\n        thumbnail,\n        fallbackUrl,\n      }}\n    />\n  </div>\n);\nreturn props.tooltip ? (\n  <Widget\n    loading={inner}\n    src=\"mob.near/widget/Profile.OverlayTrigger\"\n    props={{ accountId, children: inner }}\n  />\n) : (\n  inner\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/potlock.near/widget/Project.ProfileImage", "fact_widget_deployments_id": "4e43b549c346bf305a3451e91bfe5482", "inserted_timestamp": "2024-03-27T16:32:19.732Z", "modified_timestamp": "2024-03-27T16:32:19.732Z", "__row_index": 3}