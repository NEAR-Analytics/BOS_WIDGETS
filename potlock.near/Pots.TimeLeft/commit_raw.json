{"tx_hash": "4Z59Msk66hRH8T8NxXvhWxTzJvwHjgeEayubbS2KdMuW", "action_id_social": "AsMtvZG5k39oZ8a5oyutqHzSs1dEDs9MPqE9t6XnZjrq-0-widget", "block_id": 115588449, "block_timestamp": "2024-03-27T15:18:16.507Z", "signer_id": "potlock.near", "widget_name": "Pots.TimeLeft", "source_code": "const { daysLeft } = props;\nconst [timeLeft, setTimeLeft] = useState(\"-\");\nfunction formatTimeLeft(targetTimestamp) {\n  // Calculate time remaining\n  const now = new Date().getTime();\n  const timeRemaining = targetTimestamp - now;\n  // Check if time remaining is negative (target time already passed)\n  if (timeRemaining <= 0) {\n    return \"Time's up!\";\n  }\n  // Calculate days, hours, minutes, and seconds\n  const days = Math.floor(timeRemaining / (1000 * 60 * 60 * 24));\n  const hours = Math.floor(\n    (timeRemaining % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60)\n  );\n  const minutes = Math.floor((timeRemaining % (1000 * 60 * 60)) / (1000 * 60));\n  const seconds = Math.floor((timeRemaining % (1000 * 60)) / 1000);\n  // Construct formatted time string\n  const formattedTime = `${days ? days + \"d\" : \"\"} ${\n    hours ? hours + \"h\" : \"\"\n  } ${minutes ? minutes + \"m\" : \"\"} ${seconds ? seconds + \"s\" : \"\"}`;\n  return formattedTime.trim(); // Remove trailing space\n}\nuseEffect(() => {\n  const intervelId = setInterval(() => {\n    const time = formatTimeLeft(daysLeft);\n    setTimeLeft(time);\n    if (now > daysLeft) {\n      clearInterval(intervelId);\n    }\n  }, 1000);\n}, []);\nreturn timeLeft;\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/potlock.near/widget/Pots.TimeLeft", "fact_widget_deployments_id": "5881b3dc92ef7d1e2f7d6501703afb3e", "inserted_timestamp": "2024-03-27T16:32:19.732Z", "modified_timestamp": "2024-03-27T16:32:19.732Z", "__row_index": 1}