{"tx_hash": "4mELLqciQHtCyCLgPByCm5JkeiSU9VmHUj99cAGq2xEN", "action_id_social": "2vmMEBMDQnR79ueRDzaQh64tcKonv9DKENvAC4xABzsE-0-widget", "block_id": 115526673, "block_timestamp": "2024-03-26T17:49:59.014Z", "signer_id": "potlock.near", "widget_name": "Pots.TimeLeft", "source_code": "const { daysLeft } = props;\n\nconst [timeLeft, setTimeLeft] = useState(\"-\");\n\nfunction formatTimeLeft(targetTimestamp) {\n  // Calculate time remaining\n  const now = new Date().getTime();\n  const timeRemaining = targetTimestamp - now;\n\n  // Check if time remaining is negative (target time already passed)\n  if (timeRemaining <= 0) {\n    return \"Time's up!\";\n  }\n\n  // Calculate days, hours, minutes, and seconds\n  const days = Math.floor(timeRemaining / (1000 * 60 * 60 * 24));\n  const hours = Math.floor((timeRemaining % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));\n  const minutes = Math.floor((timeRemaining % (1000 * 60 * 60)) / (1000 * 60));\n  const seconds = Math.floor((timeRemaining % (1000 * 60)) / 1000);\n\n  // Construct formatted time string\n  const formattedTime = `${days ? days + \"d\" : \"\"} ${hours ? hours + \"h\" : \"\"} ${\n    minutes ? minutes + \"m\" : \"\"\n  } ${seconds ? seconds + \"s\" : \"\"}`;\n\n  return formattedTime.trim(); // Remove trailing space\n}\n\nuseEffect(() => {\n  const intervelId = setInterval(() => {\n    const time = formatTimeLeft(daysLeft);\n    setTimeLeft(time);\n    if (now > daysLeft) {\n      clearInterval(intervelId);\n    }\n  }, 1000);\n}, []);\n\nreturn timeLeft;\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/potlock.near/widget/Pots.TimeLeft", "fact_widget_deployments_id": "41672c071523699b7d05333d755a2520", "inserted_timestamp": "2024-03-26T19:30:52.903Z", "modified_timestamp": "2024-03-26T19:30:52.903Z", "__row_index": 0}