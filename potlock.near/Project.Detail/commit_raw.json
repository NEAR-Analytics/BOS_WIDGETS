{"tx_hash": "FMTZEgraLr6ZJjUM96MeD11VcQFMMLhNEK55Gm3mcpfi", "action_id_social": "4RyRJjt3UxzX93swzh7Pqy45PKvarQ3oALJmEbtK6kPg-0-widget", "block_id": 112754351, "block_timestamp": "2024-02-13T15:34:10.550Z", "signer_id": "potlock.near", "widget_name": "Project.Detail", "source_code": "const { ownerId, projectId, userIsRegistryAdmin, REGISTRY_CONTRACT_ID } = props;\n\nconst profile = props.profile ?? Social.getr(`${projectId}/profile`);\n\nconst project = Near.view(REGISTRY_CONTRACT_ID, \"get_project_by_id\", { project_id: projectId });\n\nif (!profile || project == null) {\n  return \"Loading\";\n}\n\nif (project == undefined) {\n  return \"Project not found\";\n}\n\nconst name = profile.name || \"No-name profile\";\nconst image = profile.image;\nconst backgroundImage = profile.backgroundImage;\n\nconst Wrapper = styled.div`\n  margin-top: calc(-1 * var(--body-top-padding, 0));\n\n  // @media screen and (max-width: 768px) {\n  //   .mb-2 {\n  //     width: 64px;\n  //     height: 64px;\n  //   }\n  // }\n`;\n\nconst SidebarContainer = styled.div`\n  width: 25%;\n  // width: 500px;\n  @media screen and (max-width: 768px) {\n    display: none;\n  }\n`;\n\nconst Container = styled.div`\n  padding: 252px 68px 68px 68px;\n  display: flex;\n  flex-direction: row;\n  align-items: flex-start;\n  justify-content: flex-start;\n\n  @media screen and (max-width: 768px) {\n    flex-direction: column;\n    padding: 240px 16px 32px 16px;\n  }\n`;\n\nconst BodyContainer = styled.div`\n  flex: 1;\n`;\n\nconst Banner = styled.div`\n  width: 100%;\n  // max-height: 50px;\n  background: ${project.status === \"Pending\" ? \"#E6B800\" : \"#dd3345\"};\n  // background: rgb(6 10 15);\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  padding: 8px 0;\n  margin-bottom: 8px;\n  border-radius: 4px;\n  // border-bottom: 2px rgb(96, 100, 102) solid;\n`;\n\nconst BannerText = styled.div`\n  text-align: center;\n  color: white;\n  font-size: 16px;\n  font-weight: 600;\n  margin: 0 8px;\n  word-break: break-all;\n\n  @media screen and (max-width: 768px) {\n    font-size: 12px;\n    margin-left: 4px;\n  }\n`;\n\nconst BannerAlertSvg = styled.svg`\n  width: 18px;\n\n  @media screen and (max-width: 768px) {\n    width: 14px;\n  }\n`;\n\nconst Row = styled.div`\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: center;\n`;\n\n// these will be passed down to child components\nprops.navOptions = [\n  {\n    label: \"Home\",\n    id: \"home\",\n    disabled: false,\n    source: `${ownerId}/widget/Project.About`,\n    href: props.hrefWithEnv(`?tab=project&projectId=${projectId}&nav=home`),\n  },\n  {\n    label: \"Social Feed\",\n    id: \"feed\",\n    disabled: false,\n    source: `${ownerId}/widget/Project.Feed`,\n    href: props.hrefWithEnv(`?tab=project&projectId=${projectId}&nav=feed`),\n  },\n  {\n    label: \"Pots\",\n    id: \"pots\",\n    disabled: true,\n  },\n  {\n    label: \"Attestations\",\n    id: \"attestations\",\n    disabled: true,\n  },\n  {\n    label: \"Funding Raised\",\n    id: \"funding\",\n    disabled: true,\n  },\n];\n\nif (!props.nav) props.nav = \"home\"; // default to home tab\n\nconst imageHeightPx = 120;\nconst profileImageTranslateYPx = 220;\n\nreturn (\n  <Wrapper>\n    {project.status !== \"Approved\" && (\n      <Banner>\n        <Row>\n          <BannerAlertSvg\n            xmlns=\"http://www.w3.org/2000/svg\"\n            fill=\"none\"\n            viewBox=\"0 0 24 24\"\n            stroke-width=\"1.5\"\n            stroke=\"white\"\n            aria-hidden=\"true\"\n            // width=\"18px\"\n          >\n            <path\n              stroke-linecap=\"round\"\n              stroke-linejoin=\"round\"\n              d=\"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126zM12 15.75h.007v.008H12v-.008z\"\n            ></path>\n          </BannerAlertSvg>\n          <BannerText>\n            This project status is {project.status} and has not been approved.\n          </BannerText>\n        </Row>\n        {project.review_notes && (\n          <BannerText style={{ fontStyle: \"italic\" }}>\n            Admin review notes: {project.review_notes}\n          </BannerText>\n        )}\n      </Banner>\n    )}\n    <Widget\n      src={`${ownerId}/widget/Project.BannerHeader`}\n      props={{\n        ...props,\n        profile,\n        // profileImageTranslateYPx,\n        // containerStyle: {\n        //   paddingLeft: \"64px\",\n        // },\n        backgroundStyle: {\n          objectFit: \"cover\",\n          left: 0,\n          top: 0,\n          height: \"280px\",\n        },\n        // TODO: image styles will vary based on viewport width, so should default to being set in the widget. can also be overriden using imageStyle prop if desired.\n        // imageStyle: {\n        //   width: `${imageHeightPx}px`,\n        //   height: `${imageHeightPx}px`,\n        // },\n      }}\n    />\n    <Container>\n      {/* <div class=\"row align-items-start\"> */}\n      <SidebarContainer\n      // class=\"col-3\"\n      >\n        <Widget\n          src={`${ownerId}/widget/Components.NavOptions`}\n          props={{\n            ...props,\n          }}\n        />\n        <Widget\n          src={`${ownerId}/widget/Project.Linktree`}\n          props={{\n            ...props,\n            linktree: profile.linktree,\n          }}\n        />\n      </SidebarContainer>\n      <BodyContainer\n      // class=\"col-9\"\n      >\n        <Widget\n          src={`${ownerId}/widget/Project.Body`}\n          props={{\n            ...props,\n            profile,\n            project,\n          }}\n        />\n      </BodyContainer>\n      {/* </div> */}\n    </Container>\n    {/* <BodyContainerMobile>\n          <div class=\"col-12\">\n            <Widget\n              src={`${ownerId}/widget/Project.Body`}\n              props={{\n                ...props,\n                profile,\n              }}\n            />\n          </div>\n        </BodyContainerMobile> */}\n  </Wrapper>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/potlock.near/widget/Project.Detail", "fact_widget_deployments_id": "57c330769c67726a8524fdfccef4c13a", "inserted_timestamp": "2024-03-07T05:24:05.087Z", "modified_timestamp": "2024-03-07T05:24:05.087Z", "__row_index": 32}