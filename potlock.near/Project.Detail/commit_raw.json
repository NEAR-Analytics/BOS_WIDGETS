{"tx_hash": "2z5xLBREZDZNFpDfVS62M9E1nqL8STrov1eUfsffeLGU", "action_id_social": "7V8snr4qdRv87eyvcVKt7F5DtFPyFgUyF4dzU4WzTaWA-0-widget", "block_id": 112619174, "block_timestamp": "2024-02-11T15:53:23.898Z", "signer_id": "potlock.near", "widget_name": "Project.Detail", "source_code": "const { ownerId, projectId, userIsRegistryAdmin, REGISTRY_CONTRACT_ID } = props;\n\nconst profile = props.profile ?? Social.getr(`${projectId}/profile`);\n\nconst project = Near.view(REGISTRY_CONTRACT_ID, \"get_project_by_id\", { project_id: projectId });\n\nif (!profile || !project) {\n  return \"Loading\";\n}\n\nconst projectIsViewable = project.status === \"Approved\" || userIsRegistryAdmin;\n\nconst name = profile.name || \"No-name profile\";\nconst image = profile.image;\nconst backgroundImage = profile.backgroundImage;\nconst tags = Object.keys(profile.tags ?? {});\n\nconst Wrapper = styled.div`\n  margin-top: calc(-1 * var(--body-top-padding, 0));\n\n  // @media screen and (max-width: 768px) {\n  //   .mb-2 {\n  //     width: 64px;\n  //     height: 64px;\n  //   }\n  // }\n`;\n\nconst SidebarContainer = styled.div`\n  width: 25%;\n  // width: 500px;\n  @media screen and (max-width: 768px) {\n    display: none;\n  }\n`;\n\nconst Container = styled.div`\n  padding: 252px 68px 68px 68px;\n  display: flex;\n  flex-direction: row;\n  align-items: flex-start;\n  justify-content: flex-start;\n\n  @media screen and (max-width: 768px) {\n    flex-direction: column;\n    padding: 240px 16px 32px 16px;\n  }\n`;\n\nconst BodyContainer = styled.div`\n  flex: 1;\n`;\n\n// these will be passed down to child components\nprops.navOptions = [\n  {\n    label: \"Home\",\n    id: \"home\",\n    disabled: false,\n    source: `${ownerId}/widget/Project.About`,\n    href: props.hrefWithEnv(`?tab=project&projectId=${projectId}&nav=home`),\n  },\n  {\n    label: \"Social Feed\",\n    id: \"feed\",\n    disabled: false,\n    source: `${ownerId}/widget/Project.Feed`,\n    href: props.hrefWithEnv(`?tab=project&projectId=${projectId}&nav=feed`),\n  },\n  {\n    label: \"Pots\",\n    id: \"pots\",\n    disabled: true,\n  },\n  {\n    label: \"Attestations\",\n    id: \"attestations\",\n    disabled: true,\n  },\n  {\n    label: \"Funding Raised\",\n    id: \"funding\",\n    disabled: true,\n  },\n];\n\nif (!props.nav) props.nav = \"home\"; // default to home tab\n\nconst imageHeightPx = 120;\nconst profileImageTranslateYPx = 220;\n\nreturn (\n  <Wrapper>\n    {!projectIsViewable ? (\n      <div style={{ textAlign: \"center\", paddingTop: \"12px\" }}>Project not found</div>\n    ) : (\n      <>\n        <Widget\n          src={`${ownerId}/widget/Project.BannerHeader`}\n          props={{\n            ...props,\n            profile,\n            // profileImageTranslateYPx,\n            // containerStyle: {\n            //   paddingLeft: \"64px\",\n            // },\n            backgroundStyle: {\n              objectFit: \"cover\",\n              left: 0,\n              top: 0,\n              height: \"280px\",\n            },\n            // TODO: image styles will vary based on viewport width, so should default to being set in the widget. can also be overriden using imageStyle prop if desired.\n            // imageStyle: {\n            //   width: `${imageHeightPx}px`,\n            //   height: `${imageHeightPx}px`,\n            // },\n          }}\n        />\n        <Container>\n          {/* <div class=\"row align-items-start\"> */}\n          <SidebarContainer\n          // class=\"col-3\"\n          >\n            <Widget\n              src={`${ownerId}/widget/Components.NavOptions`}\n              props={{\n                ...props,\n              }}\n            />\n            <Widget\n              src={`${ownerId}/widget/Project.Linktree`}\n              props={{\n                ...props,\n                linktree: profile.linktree,\n              }}\n            />\n          </SidebarContainer>\n          <BodyContainer\n          // class=\"col-9\"\n          >\n            <Widget\n              src={`${ownerId}/widget/Project.Body`}\n              props={{\n                ...props,\n                profile,\n                project,\n              }}\n            />\n          </BodyContainer>\n          {/* </div> */}\n        </Container>\n        {/* <BodyContainerMobile>\n          <div class=\"col-12\">\n            <Widget\n              src={`${ownerId}/widget/Project.Body`}\n              props={{\n                ...props,\n                profile,\n              }}\n            />\n          </div>\n        </BodyContainerMobile> */}\n      </>\n    )}\n  </Wrapper>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/potlock.near/widget/Project.Detail", "fact_widget_deployments_id": "d0ecc5c1404cb2df8ea8ee880d068357", "inserted_timestamp": "2024-03-07T05:24:05.087Z", "modified_timestamp": "2024-03-07T05:24:05.087Z", "__row_index": 2}