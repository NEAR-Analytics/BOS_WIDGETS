{"tx_hash": "HpmCYvQsnVgiKnx15St7uQKfv4KtZ5VmWU3XeqeDKm6y", "action_id_social": "8DD7QnsBbuLFiMoj6A1HhPhXgPpBSrxc7yNA3mhiY4aA-0-widget", "block_id": 105388928, "block_timestamp": "2023-11-10T17:22:09.828Z", "signer_id": "potlock.near", "widget_name": "Nav", "source_code": "const ownerId = \"potlock.near\";\n\nconst navHeightPx = 110;\nconst navHeightPxMobile = 96;\n\nconst Nav = styled.div`\n  // commenting out stickiness for now\n  // position: fixed;\n  // top: 0;\n  // left: 0;\n  width: 100%;\n  display: flex;\n  padding: 0 64px 0 64px;\n  justify-content: space-between;\n  align-items: center;\n  align-self: stretch;\n  height: ${navHeightPx}px;\n  background: #ffffff;\n  z-index: 1000;\n  // background: pink;\n\n  @media screen and (max-width: 768px) {\n    // display: none;\n    padding: 24px 8px 24px 16px;\n    height: ${navHeightPxMobile}px;\n  }\n\n  & > a {\n    width: 10rem;\n  }\n`;\n\nconst NavLeft = styled.div`\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: center;\n  // background: green;\n`;\n\nconst NavRight = styled.div`\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: center;\n`;\n\nconst NavRightMobile = styled.div`\n  display: none;\n  @media screen and (max-width: 768px) {\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    justify-content: flex-end;\n    gap: 16px;\n    padding-right: 16px;\n  }\n`;\n\nconst NavLogo = styled.a`\n  text-align: center;\n  color: #2e2e2e;\n  font-size: 23.95px;\n  font-weight: 700;\n  line-height: 23.95px;\n  word-wrap: break-word;\n  margin-right: 48px;\n  text-decoration: none;\n\n  :hover {\n    text-decoration: none;\n  }\n`;\n\nconst NavTabs = styled.div`\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: center;\n  @media screen and (max-width: 768px) {\n    display: none;\n  }\n`;\n\nconst NavTab = styled.a`\n  cursor: ${(props) => (props.disabled ? \"not-allowed\" : \"pointer\")};\n  color: ${(props) => (props.selected ? \"#2E2E2E\" : \"#7B7B7B\")};\n  font-size: 14px;\n  font-weight: ${(props) => (props.selected ? 500 : 400)};\n  line-height: 16px;\n  word-wrap: break-word;\n  text-decoration: none;\n  position: relative;\n\n  :not(:last-child) {\n    margin-right: 32px;\n  }\n\n  :hover {\n    text-decoration: none;\n  }\n`;\n\nconst CartButton = styled.div`\n  padding: 6px 16px;\n  background: #2e2e2e;\n  border-radius: 6px;\n  cursor: pointer;\n`;\n\nconst CartButtonText = styled.div`\n  color: white;\n  font-size: 14px;\n  font-weight: 600;\n  line-height: 20px;\n  word-wrap: break-word;\n`;\n\nconst CartCount = styled.div`\n  position: absolute;\n  top: -5px;\n  right: -10px;\n  // top: 20px;\n  // right: 20px;\n  text-align: center;\n  color: #dd3345;\n  font-size: 12px;\n  font-weight: 500;\n  line-height: 14px;\n  word-wrap: break-word;\n`;\n\nconst CartModal = styled.div`\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background: rgba(0, 0, 0, 0.4);\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-start;\n  align-items: flex-end;\n  padding-top: ${navHeightPx * 0.8}px;\n  padding-right: 32px;\n  // padding-right: 500px;\n  z-index: 1000;\n\n  @media screen and (max-width: 768px) {\n    padding-right: 8px;\n  }\n`;\n\nconst CartModalContent = styled.div`\n  width: 383px;\n  padding: 24px 0px;\n  background: white;\n  border-radius: 10px;\n  box-shadow: 20px 20px 32px -4px rgba(93, 93, 93, 0.06);\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-start;\n  align-items: flex-start;\n  position: relative;\n  max-height: 80vh;\n  max-width: 90vw;\n  overflow-y: scroll;\n  // z-index: 1000;\n`;\n\nconst ModalHeader = styled.div`\n  width: 100%;\n  // height: 100%;\n  padding: 24px 24px 8px 24px;\n  justify-content: space-between;\n  align-items: flex-start;\n  display: inline-flex;\n  // background: pink;\n  border-bottom: 1px #dbdbdb solid;\n  position: relative;\n`;\n\nconst ModalHeaderText = styled.div`\n  text-align: center;\n  color: #2e2e2e;\n  font-size: 14px;\n  font-family: Mona-Sans;\n  font-weight: 600;\n  line-height: 16px;\n  word-wrap: break-word;\n`;\n\nconst NoProjectsText = styled.div`\n  text-align: center;\n  color: #2e2e2e;\n  font-size: 16px;\n  font-weight: 500;\n  margin-top: 24px;\n  width: 100%;\n`;\n\nconst ButtonContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n  padding: 24px 24px 0 24px;\n`;\n\nconst Ear = styled.div`\n  width: 16px;\n  height: 16px;\n  transform: rotate(45deg);\n  transform-origin: 0 0;\n  background: white;\n  position: absolute;\n  top: -11px;\n  right: 32px;\n  z-index: 1000;\n`;\n\nconst Banner = styled.div`\n  width: 100%;\n  // max-height: 50px;\n  // background: #2e2e2e;\n  background: rgb(6 10 15);\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n  align-items: center;\n  padding: 8px 0;\n  border-bottom: 2px rgb(96, 100, 102) solid;\n`;\n\nconst BannerText = styled.div`\n  text-align: center;\n  color: rgb(145 150 153);\n  font-size: 16px;\n  font-weight: 600;\n  margin-left: 8px;\n\n  @media screen and (max-width: 768px) {\n    font-size: 14px;\n  }\n`;\n\nconst tabOptions = [\n  { text: \"Projects\", link: \"projects\", disabled: false },\n  { text: \"Feed\", link: \"feed\", disabled: false },\n  { text: \"Pots\", link: \"pots\", disabled: true },\n];\n\nconst Modal = ({ isOpen, onClose, children }) => {\n  if (!isOpen) return null;\n\n  return (\n    <CartModal onClick={onClose}>\n      <CartModalContent onClick={(e) => e.stopPropagation()}>{children}</CartModalContent>\n    </CartModal>\n  );\n};\n\nreturn (\n  <>\n    <Banner>\n      <svg\n        xmlns=\"http://www.w3.org/2000/svg\"\n        fill=\"none\"\n        viewBox=\"0 0 24 24\"\n        stroke-width=\"1.5\"\n        stroke=\"rgb(145 150 153)\"\n        aria-hidden=\"true\"\n        width=\"18px\"\n      >\n        <path\n          stroke-linecap=\"round\"\n          stroke-linejoin=\"round\"\n          d=\"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126zM12 15.75h.007v.008H12v-.008z\"\n        ></path>\n      </svg>\n      <BannerText>This app is in beta. It has not been audited.</BannerText>\n    </Banner>\n    <Nav>\n      <NavLeft>\n        <NavLogo href={`?tab=projects`}>\ud83e\uded5 Potlock</NavLogo>\n      </NavLeft>\n      <NavRight>\n        <NavTabs>\n          {tabOptions.map((tab) => {\n            return (\n              <NavTab\n                href={`?tab=${tab.link}`}\n                disabled={tab.disabled}\n                onClick={(e) => {\n                  if (tab.disabled) e.preventDefault();\n                }}\n                selected={props.tab === tab.link}\n              >\n                {tab.text}\n              </NavTab>\n            );\n          })}\n          <NavTab\n            onClick={(e) => {\n              props.setIsCartModalOpen(!props.isCartModalOpen);\n            }}\n            selected={props.tab === \"cart\"}\n          >\n            Cart\n            <CartCount>{Object.keys(props.cart).length}</CartCount>\n          </NavTab>\n        </NavTabs>\n      </NavRight>\n      <NavRightMobile>\n        {/* <CartButton>\n          <CartButtonText>Cart</CartButtonText>\n        </CartButton> */}\n        <NavTab\n          onClick={(e) => {\n            props.setIsCartModalOpen(!props.isCartModalOpen);\n          }}\n          selected={props.tab === \"cart\"}\n        >\n          Cart\n          <CartCount>{Object.keys(props.cart).length}</CartCount>\n        </NavTab>\n      </NavRightMobile>\n    </Nav>\n    <Modal isOpen={props.isCartModalOpen} onClose={() => props.setIsCartModalOpen(false)}>\n      {/* <div>hi</div> */}\n      <ModalHeader>\n        <ModalHeaderText>Donation cart</ModalHeaderText>\n        <ModalHeaderText>\n          {Object.keys(props.cart).length}{\" \"}\n          <span style={{ fontWeight: 400, color: \"#7B7B7B\" }}>\n            {Object.keys(props.cart).length === 1 ? \"project\" : \"projects\"}\n          </span>\n        </ModalHeaderText>\n        {/* <Ear /> */}\n      </ModalHeader>\n      {Object.keys(props.cart).length === 0 ? (\n        <NoProjectsText>Get shopping! \ud83d\udcb8</NoProjectsText>\n      ) : (\n        Object.keys(props.cart).map((projectId) => {\n          // return <CartItem projectId={projectId} Object.keys(props.cart).length={Object.keys(props.cart).length} />;\n          return (\n            <Widget\n              src={`${ownerId}/widget/Cart.CartModalItem`}\n              props={{\n                ...props,\n                projectId,\n                removeProjectsFromCart: (projectIds) => {\n                  props.removeProjectsFromCart(projectIds);\n                  if (Object.keys(props.cart).length === 1) {\n                    props.setIsCartModalOpen(false);\n                  }\n                },\n              }}\n            />\n          );\n        })\n      )}\n      <ButtonContainer>\n        <Widget\n          src={`${ownerId}/widget/Buttons.NavigationButton`}\n          props={{\n            type: \"primary\",\n            text: \"Proceed to donate\",\n            disabled: Object.keys(props.cart).length === 0,\n            href: `?tab=cart`,\n            style: {\n              width: \"100%\",\n              marginBottom: \"16px\",\n            },\n          }}\n        />\n        <Widget\n          src={`${ownerId}/widget/Buttons.ActionButton`}\n          props={{\n            type: Object.keys(props.cart).length === 0 ? \"primary\" : \"secondary\",\n            text: \"Continue shopping\",\n            onClick: () => props.setIsCartModalOpen(false),\n            style: {\n              width: \"100%\",\n            },\n          }}\n        />\n      </ButtonContainer>\n      <Ear />\n    </Modal>\n  </>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/potlock.near/widget/Nav", "fact_widget_deployments_id": "b9365ea3c0b5cead609428f715ab9bf8", "inserted_timestamp": "2023-11-10T19:23:42.788Z", "modified_timestamp": "2023-11-10T19:23:42.788Z", "__row_index": 0}