{"tx_hash": "45FzbbVBFBh3bk9screxeKZVecnvFTyS3hynYp4w6mCV", "action_id_social": "EJF6npjvJ96RrVFXB7GLW4uAuKmRFYQ6Yr9ef5Vhc2u1-0-widget", "block_id": 113704217, "block_timestamp": "2024-02-27T19:42:17.379Z", "signer_id": "potlock.near", "widget_name": "Components.DonorsCards", "source_code": "const { sponsors, sortedDonations, currentTab } = props;\n\nconst donations = currentTab === \"sponsors\" ? sponsors : sortedDonations;\n\nconst { ownerId } = VM.require(\"potlock.near/widget/constants\") || {\n  ownerId: \"\",\n};\nconst { nearToUsdWithFallback } = VM.require(\"potlock.near/widget/utils\") || {\n  nearToUsdWithFallback: () => \"\",\n};\nconst { _address } = VM.require(`${ownerId}/widget/Components.DonorsUtils`);\n\nconst Container = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  box-shadow: 0px 2px 4px #00000081;\n  width: 100%;\n  position: relative;\n  padding-bottom: 1rem;\n  font-size: 14px;\n  .name {\n    font-weight: bold;\n    color: var(--primary-color);\n  }\n  .description {\n    color: #b3b3b3;\n  }\n  .tag {\n    position: absolute;\n    right: 4px;\n    top: 4px;\n    background: white;\n    border-radius: 2px;\n    width: 2rem;\n    height: 2rem;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    img {\n      width: 18px;\n      height: auto;\n    }\n  }\n  .background {\n    height: 100px;\n    width: 100%;\n  }\n  .profile {\n    position: relative;\n    transform: translateY(-50%);\n    width: 4rem;\n    height: 4rem;\n    border-radius: 50%;\n  }\n  .amount {\n    margin-top: 1rem;\n    border: 1px solid #b3b3b3;\n    padding: 4px;\n    border-radius: 4px;\n  }\n`;\n\nconst Card = ({ donor }) => {\n  const { id, rank, className, amount } = donor;\n\n  const profile = Social.getr(`${id}/profile`);\n  return (\n    <div key={donation} className={className || \"\"}>\n      <Container>\n        {profile === null ? (\n          <div class=\"spinner-border text-secondary\" role=\"status\" />\n        ) : (\n          <>\n            <Widget\n              src=\"mob.near/widget/Image\"\n              props={{\n                image: profile.backgroundImage,\n                className: \"background\",\n                alt: profile.name,\n                fallbackUrl:\n                  \"https://ipfs.near.social/ipfs/bafkreidla73cknxbeovrhgb2blax2j2qgcgcn6ibluzza3buq2mbkoqs2e\",\n              }}\n            />\n            <div className=\"tag\">{rank}</div>\n            <Widget\n              src=\"mob.near/widget/Image\"\n              props={{\n                image: profile.image,\n                className: \"profile\",\n                alt: profile.name,\n                fallbackUrl:\n                  \"https://ipfs.near.social/ipfs/bafkreiccpup6f2kihv7bhlkfi4omttbjpawnsns667gti7jbhqvdnj4vsm\",\n              }}\n            />\n            <a\n              href={props.hrefWithParams(`?tab=profile&accountId=${id}`)}\n              className=\"name\"\n              target=\"_blank\"\n            >\n              {_address(profile.name ? profile.name : id)}\n            </a>\n            <div className=\"description\">\n              {profile.description ? _address(profile.description, 20) : \"-\"}\n            </div>\n            <div className=\"amount\">{nearToUsdWithFallback(amount)} Donated</div>\n          </>\n        )}\n      </Container>\n    </div>\n  );\n};\n\nconst leaderboard = [\n  {\n    rank: \"#2\",\n    id: donations[1].donor_id,\n    amount: donations[1].amount,\n  },\n  {\n    rank: (\n      <img\n        src=\"https://ipfs.near.social/ipfs/bafkreicjk6oy6465ps32owoomppfkvimbjlnhbaldvf6ujuyhkjas6ghjq\"\n        alt=\"top\"\n      />\n    ),\n    id: donations[0].donor_id,\n    className: \"top\",\n    amount: donations[0].amount,\n  },\n  {\n    rank: \"#3\",\n    id: donations[2].donor_id,\n    amount: donations[2].amount,\n  },\n];\n\nreturn (\n  <div className=\"cards\">\n    {leaderboard.map((donor) => (donor.id ? <Card donor={donor} /> : \"\"))}\n  </div>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/potlock.near/widget/Components.DonorsCards", "fact_widget_deployments_id": "d3c2e5ec60ef662fa5b3d1fb670f3529", "inserted_timestamp": "2024-03-07T05:24:05.087Z", "modified_timestamp": "2024-03-07T05:24:05.087Z", "__row_index": 2}