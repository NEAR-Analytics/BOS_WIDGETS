{"tx_hash": "8PqEgNh6qBySramTsL5SX9UKzoPhFXcYAjfSCGbTiXi1", "action_id_social": "6Y3xQf2voLsGRKjtXopS2pf9o2kTvz2PB11ng55NVYtN-0-widget", "block_id": 113528796, "block_timestamp": "2024-02-25T03:42:49.010Z", "signer_id": "potlock.near", "widget_name": "Project.Actions", "source_code": "const [isModalDonationOpen, setIsModalDonationOpen] = useState(false);\nconst [isModalDonationSucessOpen, setIsModalDonationSucessOpen] = useState(false);\n\nconst { ownerId, projectId } = props;\n\nconst PotlockRegistrySDK = VM.require(\"potlock.near/widget/SDK.registry\") || (() => ({}));\nconst registry = PotlockRegistrySDK({ env: props.env });\n\nconst projectIsApproved = registry.isProjectApproved(projectId);\n\nconst Container = styled.div`\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: space-between;\n  width: 100%;\n  flex: 1;\n\n  @media screen and (max-width: 768px) {\n    flex-direction: column;\n    gap: 32px;\n  }\n`;\n\nconst SubRow1 = styled.div`\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  gap: 40px;\n  width: 66%;\n\n  @media screen and (max-width: 768px) {\n    width: 100%;\n    gap: 24px;\n  }\n`;\n\nconst SubRow2 = styled.div`\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: flex-end;\n  gap: 40px;\n  width: 33%;\n\n  @media screen and (max-width: 768px) {\n    width: 100%;\n    justify-content: flex-start;\n    gap: 24px;\n  }\n`;\n\nconst DonationButton = styled.button`\n  padding: 12px 16px;\n  font-size: 14px;\n  font-style: normal;\n  font-weight: 500;\n  line-height: 20px;\n  background: #fef6ee;\n  border-radius: 6px;\n  border: none;\n  box-shadow: 0px -2px 0px 0px #464646 inset, 0px 0px 0px 1px #464646;\n  &:hover {\n    background: #dd3345;\n    color: #fff;\n  }\n`;\n\n// const FollowingMobile = styled.div`\n//   display: none;\n\n//   @media screen and (max-width: 768px) {\n//     display: flex;\n//     flex-direction: row;\n//     align-items: center;\n//     justify-content: flex-start;\n//     gap: 24px;\n//   }\n// `;\n\nState.init({\n  successfulDonation: null,\n});\n\nreturn (\n  <Container>\n    <SubRow1>\n      <Widget\n        src={`${ownerId}/widget/Project.FollowStats`}\n        props={{ ...props, accountId: props.id }}\n      />\n      <Widget src={`${ownerId}/widget/Project.FollowButton`} props={{ accountId: props.id }} />\n    </SubRow1>\n    {props.tab === \"project\" && projectIsApproved && (\n      <SubRow2>\n        <Widget\n          src={`${ownerId}/widget/Components.Button`}\n          props={{\n            type: \"primary\",\n            text: \"Donate\",\n            onClick: () => setIsModalDonationOpen(true),\n          }}\n        />\n        <Widget\n          src={`${ownerId}/widget/Project.ModalDonation`}\n          props={{\n            ...props,\n            isModalOpen: isModalDonationOpen,\n            onClose: () => setIsModalDonationOpen(false),\n            recipientId: props.projectId,\n            referrerId: props.referrerId,\n            openDonateToProjectModal: () => setIsModalDonationOpen(true),\n            openDonationModalSuccess: (donation) => {\n              setIsModalDonationOpen(false);\n              State.update({\n                successfulDonation: donation,\n              });\n            },\n            // potId: state.donateToProjectModal.potId, // TODO: add this in if project is in a pot?\n          }}\n        />\n      </SubRow2>\n    )}\n    {state.successfulDonation && (\n      <Widget\n        src={`${ownerId}/widget/Project.ModalSuccess`}\n        props={{\n          ...props,\n          successfulDonation: state.successfulDonation,\n          isModalOpen: state.successfulDonation != null,\n          onClose: () =>\n            State.update({\n              successfulDonation: null,\n            }),\n        }}\n      />\n    )}\n  </Container>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/potlock.near/widget/Project.Actions", "fact_widget_deployments_id": "7a000ac907d890a0bd8ddf0011453f13", "inserted_timestamp": "2024-03-07T05:24:05.087Z", "modified_timestamp": "2024-03-07T05:24:05.087Z", "__row_index": 13}