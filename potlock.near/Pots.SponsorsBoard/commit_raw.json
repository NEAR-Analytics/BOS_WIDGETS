{"tx_hash": "3Pk5CvaJV98TkFqSC8emWSzUZkEruyjr23jm4gsqzkSk", "action_id_social": "BtuHXe5xAuqppV9cysKz6L6PqzNV6A9ahT2fJjXzWDST-0-widget", "block_id": 113430813, "block_timestamp": "2024-02-23T16:41:26.655Z", "signer_id": "potlock.near", "widget_name": "Pots.SponsorsBoard", "source_code": "const {\n  donations,\n  potDetail: { base_currency },\n  SUPPORTED_FTS,\n} = props;\n\nconst SponsorOverlayWrapper = styled.div`\n  position: absolute;\n  overflow: hidden;\n  top: 0;\n  right: 0;\n  transform: translate(50%, -50%);\n  padding: 1rem;\n  display: flex;\n  flex-direction: column;\n  max-width: 250px;\n  box-shadow: 0px 8px 14px 0px rgba(123, 123, 123, 0.08), 0px 4px 6px 0px rgba(123, 123, 123, 0.14),\n    0px 0px 1.5px 0px rgba(123, 123, 123, 0.3), 0px 0px 0.5px 0px rgba(123, 123, 123, 0.3);\n  border-radius: 12px;\n  border: 1px solid #dcdcdc;\n  background: #fff;\n  opacity: 0;\n  z-index: -1;\n  width: 0;\n  gap: 10px;\n  font-size: 12px;\n  .info {\n    display: flex;\n    align-items: center;\n    gap: 1.25rem;\n    .profile-image {\n      width: 50px;\n      height: 50px;\n      border-radius: 50%;\n    }\n    .address {\n      display: flex;\n      flex-direction: column;\n      font-weight: 600;\n      .amount {\n        display: flex;\n        justify-content: space-between;\n        width: 100%;\n        align-items: center;\n        gap: 2rem;\n        .precentage {\n          color: #a6a6a6;\n          font-weight: 500;\n        }\n      }\n    }\n  }\n  .description {\n    color: #525252;\n    font-size: 0.75rem;\n  }\n  @media only screen and (max-width: 1230px) {\n    transform: translate(20%, -50%);\n  }\n  @media only screen and (max-width: 768px) {\n    transform: translate(0%, -50%);\n    width: 200%;\n    right: 0;\n    .info {\n      gap: 0.5rem;\n      flex-wrap: wrap;\n      .profile-image {\n        width: 2rem;\n        height: 2rem;\n      }\n      .address .amount {\n        flex-wrap: wrap;\n        gap: 1rem;\n      }\n    }\n  }\n`;\n\nconst Container = styled.div`\n  display: flex;\n  /* grid-template-columns: repeat(3, 1fr); */\n  gap: 10px;\n  height: 640px;\n  width: 100%;\n  .col {\n    display: flex;\n    flex-direction: column;\n    gap: 10px;\n    &:not(:last-of-type) .item ${SponsorOverlayWrapper} {\n      left: 0;\n    }\n  }\n  .item {\n    position: relative;\n    display: flex;\n    align-items: end;\n    padding: 8px;\n    background: #fef6ee;\n    height: 100%;\n    :hover {\n      .item-overlay {\n        opacity: 1;\n      }\n      ${SponsorOverlayWrapper} {\n        opacity: 1;\n        z-index: 2;\n        width: 100%;\n      }\n    }\n    .item-overlay {\n      position: absolute;\n      left: 0;\n      top: 0;\n      width: 100%;\n      height: 100%;\n      background: #dd3345;\n      display: flex;\n      justify-content: center;\n      align-items: center;\n      color: white;\n      font-weight: 600;\n      font-size: 2rem;\n      opacity: 0;\n      z-index: 1;\n      transition: 300ms ease-in-out;\n    }\n    .footer {\n      display: flex;\n      justify-content: space-between;\n      width: 100%;\n      .amount {\n        color: #525252;\n        font-weight: 600;\n      }\n      .percentage {\n        color: #a6a6a6;\n        text-decoration-line: underline;\n        font-weight: 600;\n      }\n    }\n  }\n  @media only screen and (max-width: 768px) {\n    height: 400px;\n    .item {\n      font-size: 12px;\n      .item-overlay {\n        font-size: 1rem;\n      }\n      :hover ${SponsorOverlayWrapper} {\n        width: 200%;\n      }\n    }\n  }\n  @media only screen and (max-width: 480px) {\n    .item {\n      font-size: 0.5rem;\n      .item-overlay {\n        font-size: 0.75rem;\n      }\n    }\n  }\n`;\nconst SponsorWrapper = styled.div`\n  display: flex;\n  color: #525252;\n  gap: 12px;\n  font-weight: 600;\n  flex-direction: column;\n  align-items: center;\n  position: relative;\n  position: absolute;\n  left: 50%;\n  top: 50%;\n  transform: translate(-50%, -50%);\n  .profile-image {\n    width: 72px;\n    height: 72px;\n    border-radius: 50%;\n    @media only screen and (max-width: 768px) {\n      width: 50px;\n      height: 50px;\n    }\n    @media only screen and (max-width: 480px) {\n      width: 40px;\n      height: 40px;\n    }\n  }\n`;\n\nconst ProfileImg = ({ profile }) => (\n  <Widget src=\"mob.near/widget/ProfileImage\" props={{ profile: profile, style: {} }} />\n);\n\nconst SponsorOverlay = ({\n  profile,\n  name,\n  description,\n  account_id,\n  total_amount,\n  percentage_share,\n}) => (\n  <SponsorOverlayWrapper>\n    <div className=\"info\">\n      <ProfileImg profile={profile} />\n      <div className=\"address\">\n        <div>{name || account_id}</div>\n        <div className=\"amount\">\n          <div>{total_amount} NEAR</div>\n          <div className=\"precentage\">{percentage_share}%</div>\n        </div>\n      </div>\n    </div>\n    <div className=\"description\">{description}</div>\n  </SponsorOverlayWrapper>\n);\n\nconst Sponsor = ({ donation: { total_amount, donor_id, percentage_share }, colIdx, idx }) => {\n  const profile = props.profile ?? Social.getr(`${donor_id}/profile`);\n  const totalDonationAmount =\n    SUPPORTED_FTS[base_currency.toUpperCase()].fromIndivisible(total_amount);\n  percentage_share = percentage_share.toFixed(2).replace(/[.,]00$/, \"\");\n  totalDonationAmount = totalDonationAmount.replace(/[.,]00$/, \"\");\n  return (\n    <div className=\"item\">\n      <SponsorOverlay\n        profile={profile}\n        name={profile.name}\n        description={profile.description}\n        account_id={donor_id}\n        total_amount={totalDonationAmount}\n        percentage_share={percentage_share}\n      />\n      <div className=\"item-overlay\">{percentage_share}%</div>\n      <SponsorWrapper>\n        <ProfileImg profile={profile} />\n        {colIdx < 3 && <div>{profile.name || donor_id}</div>}\n      </SponsorWrapper>\n      <div className=\"footer\">\n        <div className=\"amount\">{totalDonationAmount} NEAR</div>\n        <div className=\"percentage\">{percentage_share}%</div>\n      </div>\n    </div>\n  );\n};\n\nconst sponsorsLeaderboard = [\n  [donations[0]],\n  [donations[1], donations[2]],\n  [donations[3], donations[4], donations[5]],\n];\nreturn (\n  <Container>\n    {sponsorsLeaderboard.map(\n      (donationsCol, colIdx) =>\n        donationsCol[0] && (\n          <div className=\"col\">\n            {donationsCol.map((donation, idx) => {\n              return donation ? (\n                <Sponsor donation={donation} colIdx={colIdx + 1} idx={idx + 1} />\n              ) : (\n                \"\"\n              );\n            })}\n          </div>\n        )\n    )}\n  </Container>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/potlock.near/widget/Pots.SponsorsBoard", "fact_widget_deployments_id": "47a038760a65172e1462e3a1bc2d4e1b", "inserted_timestamp": "2024-03-07T05:24:05.087Z", "modified_timestamp": "2024-03-07T05:24:05.087Z", "__row_index": 0}