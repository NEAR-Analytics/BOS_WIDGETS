{"tx_hash": "4Z59Msk66hRH8T8NxXvhWxTzJvwHjgeEayubbS2KdMuW", "action_id_social": "AsMtvZG5k39oZ8a5oyutqHzSs1dEDs9MPqE9t6XnZjrq-0-widget", "block_id": 115588449, "block_timestamp": "2024-03-27T15:18:16.507Z", "signer_id": "potlock.near", "widget_name": "SDK.pot", "source_code": "let PotFactorySDK =\n  VM.require(\"potlock.near/widget/SDK.potfactory\") ||\n  (() => ({\n    getPots: () => {},\n  }));\nreturn {\n  getConfig: (potId) => {\n    return Near.view(potId, \"get_config\", {});\n  },\n  asyncGetConfig: (potId) => {\n    return Near.asyncView(potId, \"get_config\", {});\n  },\n  isUserPotAdminOrGreater: (potId, accountId) => {\n    const config = Near.view(potId, \"get_config\", {});\n    if (config) {\n      return config.owner === accountId || config.admins.includes(accountId);\n    }\n  },\n  getMatchingPoolDonations: (potId) => {\n    // TODO: paginate\n    return Near.view(potId, \"get_matching_pool_donations\", {});\n  },\n  asyncGetMatchingPoolDonations: (potId) => {\n    return Near.asyncView(potId, \"get_matching_pool_donations\", {});\n  },\n  getPublicRoundDonations: (potId) => {\n    return Near.view(potId, \"get_public_round_donations\", {});\n  },\n  asyncGetPublicRoundDonations: (potId) => {\n    return Near.asyncView(potId, \"get_public_round_donations\", {});\n  },\n  getDonationsForDonor: (potId, accountId) => {\n    return Near.view(potId, \"get_donations_for_donor\", { donor_id: accountId });\n  },\n  asyncGetDonationsForDonor: (potId, accountId) => {\n    return Near.asyncView(potId, \"get_donations_for_donor\", {\n      donor_id: accountId,\n    });\n  },\n  getDonationsForProject: (potId, projectId) => {\n    return Near.view(potId, \"get_donations_for_project\", {\n      project_id: projectId,\n    });\n  },\n  asyncGetDonationsForProject: (potId, projectId) => {\n    return Near.asyncView(potId, \"get_donations_for_project\", {\n      project_id: projectId,\n    });\n  },\n  getDonationsForRecipient: (potId, recipientId) => {\n    return Near.view(potId, \"get_donations_for_recipient\", {\n      recipient_id: recipientId,\n    });\n  },\n  asyncGetDonationsForRecipient: (potId, recipientId) => {\n    return Near.asyncView(potId, \"get_donations_for_recipient\", {\n      recipient_id: recipientId,\n    });\n  },\n  getApplicationByProjectId: (potId, projectId) => {\n    return Near.view(potId, \"get_application_by_project_id\", {\n      project_id: projectId,\n    });\n  },\n  getApprovedApplications: (potId) => {\n    return Near.view(potId, \"get_approved_applications\", {});\n  },\n  asyncGetApprovedApplications: (potId) => {\n    return Near.asyncView(potId, \"get_approved_applications\", {});\n  },\n  getApplications: (potId) => {\n    return Near.view(potId, \"get_applications\", {});\n  },\n  asyncGetApplications: (potId) => {\n    return Near.asyncView(potId, \"get_applications\", {});\n  },\n  getPayoutsChallenges: (potId) => {\n    return Near.view(potId, \"get_payouts_challenges\", {});\n  },\n  challengePayouts: (potId, reason) => {\n    const depositFloat = reason.length * 0.00003 + 0.003;\n    const transaction = {\n      contractName: potId,\n      methodName: \"challenge_payouts\",\n      args: { reason },\n      deposit: Big(depositFloat).mul(Big(10).pow(24)),\n      gas: \"300000000000000\",\n    };\n    Near.call([transaction]);\n  },\n  adminUpdatePayoutsChallenge: (\n    potId,\n    challengerId,\n    notes,\n    shouldResolveChallenge\n  ) => {\n    const depositFloat = notes.length * 0.00003;\n    const transaction = {\n      contractName: potId,\n      methodName: \"admin_update_payouts_challenge\",\n      args: {\n        challenger_id: challengerId,\n        notes,\n        resolve_challenge: shouldResolveChallenge,\n      },\n      deposit: Big(depositFloat).mul(Big(10).pow(24)),\n      gas: \"300000000000000\",\n    };\n    Near.call([transaction]);\n  },\n  chefSetPayouts: (potId, payouts) => {\n    const transaction = {\n      contractName: potId,\n      methodName: \"chef_set_payouts\",\n      args: { payouts },\n      deposit: \"1\",\n      gas: \"300000000000000\",\n    };\n    Near.call([transaction]);\n  },\n  adminProcessPayouts: (potId) => {\n    const transaction = {\n      contractName: potId,\n      methodName: \"admin_process_payouts\",\n      args: {},\n      deposit: \"1\",\n      gas: \"300000000000000\",\n    };\n    Near.call([transaction]);\n  },\n};\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/potlock.near/widget/SDK.pot", "fact_widget_deployments_id": "a96195663ac0789de657c331c8b127b6", "inserted_timestamp": "2024-03-27T16:32:19.732Z", "modified_timestamp": "2024-03-27T16:32:19.732Z", "__row_index": 0}