{"tx_hash": "4nvsixqpZeLvEiH1T5KgcnJMhvZF89fYefyi3xD3jjiv", "action_id_social": "FPhbe1k8nLqXYye43z2zYyGPDhbiSQqtJ4sD6N6bwVvB-0-widget", "block_id": 116242209, "block_timestamp": "2024-04-06T11:33:13.302Z", "signer_id": "potlock.near", "widget_name": "SDK.pot", "source_code": "let PotFactorySDK =\n  VM.require(\"potlock.near/widget/SDK.potfactory\") ||\n  (() => ({\n    getPots: () => {},\n  }));\n\nreturn {\n  getConfig: (potId) => {\n    return Near.view(potId, \"get_config\", {});\n  },\n  asyncGetConfig: (potId) => {\n    return Near.asyncView(potId, \"get_config\", {});\n  },\n  isUserPotAdminOrGreater: (potId, accountId) => {\n    const config = Near.view(potId, \"get_config\", {});\n    if (config) {\n      return config.owner === accountId || config.admins.includes(accountId);\n    }\n  },\n  isRoundActive: (potId) => {\n    return Near.asyncView(potId, \"is_round_active\", {});\n  },\n  getMatchingPoolDonations: (potId) => {\n    // TODO: paginate\n    return Near.view(potId, \"get_matching_pool_donations\", {});\n  },\n  asyncGetMatchingPoolDonations: (potId) => {\n    return Near.asyncView(potId, \"get_matching_pool_donations\", {});\n  },\n  getPublicRoundDonations: (potId, args) => {\n    return Near.view(potId, \"get_public_round_donations\", {\n      ...(args || {}),\n    });\n  },\n  asyncGetPublicRoundDonations: (potId, args) => {\n    return Near.asyncView(potId, \"get_public_round_donations\", {\n      ...(args || {}),\n    });\n  },\n  getDonationsForDonor: (potId, accountId) => {\n    return Near.view(potId, \"get_donations_for_donor\", { donor_id: accountId });\n  },\n  asyncGetDonationsForDonor: (potId, accountId) => {\n    return Near.asyncView(potId, \"get_donations_for_donor\", { donor_id: accountId });\n  },\n  getDonationsForProject: (potId, projectId) => {\n    return Near.view(potId, \"get_donations_for_project\", { project_id: projectId });\n  },\n  asyncGetDonationsForProject: (potId, projectId) => {\n    return Near.asyncView(potId, \"get_donations_for_project\", { project_id: projectId });\n  },\n  getDonationsForRecipient: (potId, recipientId) => {\n    return Near.view(potId, \"get_donations_for_recipient\", { recipient_id: recipientId });\n  },\n  asyncGetDonationsForRecipient: (potId, recipientId) => {\n    return Near.asyncView(potId, \"get_donations_for_recipient\", { recipient_id: recipientId });\n  },\n  getApplicationByProjectId: (potId, projectId) => {\n    return Near.view(potId, \"get_application_by_project_id\", { project_id: projectId });\n  },\n  asyncGetApplicationByProjectId: (potId, projectId) => {\n    return Near.asyncView(potId, \"get_application_by_project_id\", { project_id: projectId });\n  },\n  getApprovedApplications: (potId) => {\n    return Near.view(potId, \"get_approved_applications\", {});\n  },\n  asyncGetApprovedApplications: (potId) => {\n    return Near.asyncView(potId, \"get_approved_applications\", {});\n  },\n  getApplications: (potId) => {\n    return Near.view(potId, \"get_applications\", {});\n  },\n  asyncGetApplications: (potId) => {\n    return Near.asyncView(potId, \"get_applications\", {});\n  },\n  getPayoutsChallenges: (potId) => {\n    return Near.view(potId, \"get_payouts_challenges\", {});\n  },\n  challengePayouts: (potId, reason) => {\n    const depositFloat = reason.length * 0.00003 + 0.003;\n    const transaction = {\n      contractName: potId,\n      methodName: \"challenge_payouts\",\n      args: { reason },\n      deposit: Big(depositFloat).mul(Big(10).pow(24)),\n      gas: \"300000000000000\",\n    };\n    Near.call([transaction]);\n  },\n  adminUpdatePayoutsChallenge: (potId, challengerId, notes, shouldResolveChallenge) => {\n    const depositFloat = notes.length * 0.00003;\n    const transaction = {\n      contractName: potId,\n      methodName: \"admin_update_payouts_challenge\",\n      args: { challenger_id: challengerId, notes, resolve_challenge: shouldResolveChallenge },\n      deposit: Big(depositFloat).mul(Big(10).pow(24)),\n      gas: \"300000000000000\",\n    };\n    Near.call([transaction]);\n  },\n  chefSetPayouts: (potId, payouts) => {\n    const transaction = {\n      contractName: potId,\n      methodName: \"chef_set_payouts\",\n      args: { payouts },\n      deposit: \"1\",\n      gas: \"300000000000000\",\n    };\n    Near.call([transaction]);\n  },\n  adminProcessPayouts: (potId) => {\n    const transaction = {\n      contractName: potId,\n      methodName: \"admin_process_payouts\",\n      args: {},\n      deposit: \"1\",\n      gas: \"300000000000000\",\n    };\n    Near.call([transaction]);\n  },\n};\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/potlock.near/widget/SDK.pot", "fact_widget_deployments_id": "b06741c14150f44894e367db313c607a", "inserted_timestamp": "2024-04-06T18:51:49.787Z", "modified_timestamp": "2024-04-06T18:51:49.787Z", "__row_index": 8}