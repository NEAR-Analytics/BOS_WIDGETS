{"tx_hash": "7Uy2wENbZT8S29bYeYgLyfNsPfu38NqELq4frc7z5d6t", "action_id_social": "FXuyYe9WSkYQm66oYKbLoxUBTf722Nq4XRixf9amRKc9-0-widget", "block_id": 100154781, "block_timestamp": "2023-09-01T12:40:19.019Z", "signer_id": "ilerik.near", "widget_name": "chat", "source_code": "const Wrapper = styled.div`\n    .chat__heading {\n      position: fixed;\n      text-align: center;\n      z-index: 1;\n      width: 100%;\n      margin-top: 0;\n      margin-bottom: 0;\n    }\n\n    .chat__form-container {\n      display: flex;\n      justify-content: center;\n      width: 100%;\n      padding: 10px 20px;\n      position: fixed;\n      z-index: 1;\n      bottom: 0;\n    }\n\n    .chat__form {\n      display: flex;\n      justify-content: center;\n      height: 50px;\n      background-color: white;\n      border: 2px solid white;\n      max-width: 900px;\n      width: 100%;\n      border-radius: 5px;\n    }\n\n    .chat__name-input {\n      flex: 1;\n      padding: 10px;\n    }\n\n    .chat__message-input {\n      flex: 5;\n      padding: 10px;\n    }\n\n    .chat__submit {\n      padding: 10px;\n      color: white;\n      border-radius: 5px;\n    }\n\n    .chat__submit:hover::after {\n      background-color: rgba(0,0,0,0.2);\n    }\n\n    .chat__submit:focus::after {\n      background-color: rgba(0,0,0,0.2);\n    }\n\n    .chat__submit::after {\n      content: '';\n      position: absolute;\n      width: 100%;\n      height: 100%;\n      left: 0;\n      top: 0;\n      border-radius: 5px;\n      transition: background-color 0.3s;\n      background-color: rgba(0,0,0,0);\n    }\n\n    .chat__message-list {\n      display: flex;\n      flex-direction: column;\n      align-items: center;\n      flex: 1;\n      overflow-y: auto;\n      padding: 60px 20px;\n      width: 100%;\n      background-color: rgba(0, 0, 0, 0.2);\n      min-height: 100vh;\n    }\n\n    .chat__message {\n      display: flex;\n      flex-wrap: wrap;\n      margin-bottom: 10px;\n      padding: 10px;\n      border-radius: 5px;\n      width: 100%;\n      position: relative;\n      max-width: 900px;\n    }\n\n    .chat__name {\n      margin-right: 20px;\n    }\n\n    .chat__when {\n      position: absolute;\n      top: 0;\n      right: 2em;\n      padding: 10px;\n      background: rgba(100%, 100%, 100%, 0.9);\n      opacity: 0;\n      border-radius: 5px;\n    }\n\n    .chat__message:hover .chat__when {\n      opacity: 1;\n      right: 0em;\n    }\n\n    @media (max-width: 567px) {\n      .chat__heading {\n        font-size: 30px;\n      }\n    }\n`;\n\n\nconst code = `\n    <style>\n    .chat__heading {\n      position: fixed;\n      text-align: center;\n      z-index: 1;\n      width: 100%;\n      margin-top: 0;\n      margin-bottom: 0;\n    }\n\n    .chat__form-container {\n      display: flex;\n      justify-content: center;\n      width: 100%;\n      padding: 10px 20px;\n      position: fixed;\n      z-index: 1;\n      bottom: 0;\n    }\n\n    .chat__form {\n      display: flex;\n      justify-content: center;\n      height: 50px;\n      background-color: white;\n      border: 2px solid white;\n      max-width: 900px;\n      width: 100%;\n      border-radius: 5px;\n    }\n\n    .chat__name-input {\n      flex: 1;\n      padding: 10px;\n    }\n\n    .chat__message-input {\n      flex: 5;\n      padding: 10px;\n    }\n\n    .chat__submit {\n      padding: 10px;\n      color: white;\n      border-radius: 5px;\n    }\n\n    .chat__submit:hover::after {\n      background-color: rgba(0,0,0,0.2);\n    }\n\n    .chat__submit:focus::after {\n      background-color: rgba(0,0,0,0.2);\n    }\n\n    .chat__submit::after {\n      content: '';\n      position: absolute;\n      width: 100%;\n      height: 100%;\n      left: 0;\n      top: 0;\n      border-radius: 5px;\n      transition: background-color 0.3s;\n      background-color: rgba(0,0,0,0);\n    }\n\n    .chat__message-list {\n      display: flex;\n      flex-direction: column;\n      align-items: center;\n      flex: 1;\n      overflow-y: auto;\n      padding: 60px 20px;\n      width: 100%;\n      background-color: rgba(0, 0, 0, 0.2);\n      min-height: 100vh;\n    }\n\n    .chat__message {\n      display: flex;\n      flex-wrap: wrap;\n      margin-bottom: 10px;\n      padding: 10px;\n      border-radius: 5px;\n      width: 100%;\n      position: relative;\n      max-width: 900px;\n    }\n\n    .chat__name {\n      margin-right: 20px;\n    }\n\n    .chat__when {\n      position: absolute;\n      top: 0;\n      right: 2em;\n      padding: 10px;\n      background: rgba(100%, 100%, 100%, 0.9);\n      opacity: 0;\n      border-radius: 5px;\n    }\n\n    .chat__message:hover .chat__when {\n      opacity: 1;\n      right: 0em;\n    }\n\n    @media (max-width: 567px) {\n      .chat__heading {\n        font-size: 30px;\n      }\n    }\n    </style>\n\n    <div class=\"chat hue2 page\">\n        <h2 id='title' class=\"chat__heading hue2 whitet\">Have a Conversation...</h2>\n        <ul class=\"chat__message-list\">\n        <li class=\"none\"></li>\n        </ul>\n\n        <div class=\"chat__form-container hue2\">\n        <form class=\"chat__form\">\n            <label for=\"name-input\" class=\"visually-hidden\">Name</label>\n            <input id=\"name-input\" class=\"chat__name-input\" placeholder=\"Name\"></input>\n            <label for=\"message-input\" class=\"visually-hidden\">Message</label>\n            <input id=\"message-input\" class=\"chat__message-input\" placeholder=\"Write a message...\"></input>\n            <button class=\"chat__submit say hue2\">say</button>\n        </form>\n        </div>\n\n        <div class=\"model\">\n        <li class=\"chat__message white huet2 box\">\n            <b class=\"chat__name\"></b>\n            <p class=\"chat__message-text\"></p>\n            <span class=\"sort none\">0</span>\n            <div class=\"chat__when\"></div>\n        </li>\n        </div>\n    </div>\n\n    <script src=\"https://cdn.jsdelivr.net/npm/gun/examples/jquery.js\"></script>\n    <script src=\"https://cdn.jsdelivr.net/npm/gun/gun.js\"></script>\n    <script>\n        var gun = Gun(['https://gun-manhattan.herokuapp.com/gun']);\n        var chat = gun.get('converse/' + location.hash.slice(1));\n\n        $(\".chat__submit\").on('click', submit);\n        $(\".chat_form\").on('keydown', enter);\n        function enter(e) {\n        if (e.which !== 13) { return }\n        submit(e);\n        }\n        function submit(e) {\n        e.preventDefault();\n\n        var msg = { when: Gun.state() };\n\n        msg.who = $('.chat__name-input').val();\n        if (!msg.who) {\n            msg.who = 'user' + String.random(3);\n            $('.chat__name-input').val(msg.who);\n        }\n\n        msg.what = $('.chat__message-input').val();\n        if (!msg.what) { return }\n\n        chat.set(msg);\n        $('.chat__message-input').val('').focus();\n        }\n\n        chat.map().once(function (msg, id) {\n        if (!msg) { return }\n        var messageList = $('.chat__message-list');\n        var last = sort(msg.when, messageList.children('li').last());\n\n        var li = $(\"#msg-\" + id)[0]; // grab if exists\n        if (!li) {\n            li = $('.model li').clone(true) // else create it\n            .attr('id', 'msg-' + id)\n            .insertAfter(last);\n        }\n\n        // bind the message data into the UI\n        li = $(li);\n        li.find('.chat__name').text(msg.who);\n        li.find('.chat__message-text').text(msg.what);\n        li.find('.sort').text(msg.when);\n\n        var time = new Date(msg.when);\n        li.find('.chat__when').text(time.toDateString() + ', ' + time.toLocaleTimeString());\n\n        $('html, body').stop(true, true)\n            .animate({ scrollTop: messageList.height() });\n        });\n\n        function sort(num, li) { return parseFloat(num) >= parseFloat($(li).find('.sort').text() || -Infinity) ? li : sort(num, li.prev()) }\n    </script>\n`;\n\nreturn (\n    <Wrapper>\n      <div className=\"d-flex\" style={{ width: \"100%\", height: \"100vh\"}}>\n        <iframe          \n          className=\"d-flex\" style={{ width: \"100%\", height: \"100vh\"}}\n          srcDoc={code}\n        />\n      </div>\n    </Wrapper>\n);", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/ilerik.near/widget/chat", "fact_widget_deployments_id": "3a7b4195646924c2fccc022466c69f4a", "inserted_timestamp": "2024-03-07T05:24:05.087Z", "modified_timestamp": "2024-03-07T05:24:05.087Z", "__row_index": 0}