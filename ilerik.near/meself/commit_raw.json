{"tx_hash": "12VHnohR5wUsGPuwbZF4H8Yt4DhUL7FvociEWkCjcZSy", "action_id_social": "HZFWfSn1hJxVtrBdy31Cum9nK8QhmRxTnXemxPAU7MmN-0-widget", "block_id": 99934716, "block_timestamp": "2023-08-29T14:55:28.426Z", "signer_id": "ilerik.near", "widget_name": "meself", "source_code": "let greeting = \"Have a great day\";\n\nState.init({\n  text: `\"b\" + \"a\" + +\"a\" + \"a\"`,\n});\n\nconst code = `\n<h1>Todo</h1>\n\n    <form id=\"sign\">\n      <input id=\"alias\" placeholder=\"username\">\n      <input id=\"pass\" type=\"password\" placeholder=\"passphrase\">\n      <input id=\"in\" type=\"submit\" value=\"sign in\">\n      <input id=\"up\" type=\"button\" value=\"sign up\">\n    </form>\n\n    <ul></ul>\n\n    <form id=\"said\">\n        <input id=\"say\">\n        <input id=\"speak\" type=\"submit\" value=\"speak\">\n    </form>\n\n    <script src=\"https://cdn.jsdelivr.net/npm/gun/examples/jquery.js\"></script>\n    <script src=\"https://cdn.jsdelivr.net/npm/gun/gun.js\"></script>\n    <script src=\"https://cdn.jsdelivr.net/npm/gun/sea.js\"></script>\n    <!-- script src=\"https://cdn.jsdelivr.net/npm/gun/lib/webrtc.js\"></script -->\n    <script>\n    var gun = Gun(['http://localhost:8765/gun', 'https://gun-manhattan.herokuapp.com/gun']);\n    var user = gun.user();\n\n    $('#up').on('click', function(e){\n      user.create($('#alias').val(), $('#pass').val());\n    });\n\n    $('#sign').on('submit', function(e){\n      e.preventDefault();\n      user.auth($('#alias').val(), $('#pass').val());\n    });\n\n    $('#said').on('submit', function(e){\n      e.preventDefault();\n      if(!user.is){ return }\n      user.get('said').set($('#say').val());\n      $('#say').val(\"\");\n    });\n\n    function UI(say, id){\n      var li = $('#' + id).get(0) || $('<li>').attr('id', id).appendTo('ul');\n      $(li).text(say);\n    };\n\n    gun.on('auth', function(){\n      $('#sign').hide();\n      user.get('said').map().once(UI);\n    });\n    </script>\n`;\n\nfunction initWASM() {\n  WebAssembly.instantiateStreaming(fetch(\"simple.wasm\"), importObject).then(\n    (results) => {\n      // Do something with the results!\n      console.log(results);\n    },\n  );\n}\n\nreturn (\n  <>\n    <div class=\"chat hue2 page\">\n      <h2 id='title' class=\"chat__heading hue2 whitet\">Have a Conversation...</h2>\n      <ul class=\"chat__message-list\">\n        <li class=\"none\"></li>\n      </ul>\n\n      <div class=\"chat__form-container hue2 chat__form\">\n        {/* <form class=\"chat__form\"> */}\n          <label for=\"name-input\" class=\"visually-hidden\">Name</label>          \n          <input id=\"name-input\" class=\"chat__name-input\" placeholder=\"Name\"></input>\n          <label for=\"message-input\" class=\"visually-hidden\">Message</label>\n          <input id=\"message-input\" class=\"chat__message-input\" placeholder=\"Write a message...\"></input>\n          <button class=\"chat__submit say hue2\" onClick={initWASM}>say</button>\n        {/* </form> */}\n      </div>\n\n      <div class=\"model\">\n        <li class=\"chat__message white huet2 box\">\n          <b class=\"chat__name\"></b>\n          <p class=\"chat__message-text\"></p>\n          <span class=\"sort none\">0</span>\n          <div class=\"chat__when\"></div>\n        </li>\n      </div>\n    </div>\n\n    <div>\n    <input\n      value={state.text || \"\"}\n      onChange={(e) => State.update({ text: e.target.value })}\n    />\n    Iframes below\n    <div className=\"d-flex\">\n      <iframe\n        sandbox=\"allow-scripts allow-same-origin allow-forms allow-popups allow-modals\"\n        className=\"w-50 border\"\n        srcDoc={code}\n        message={{ exp: state.text || \"\" }}\n        onMessage={(res1) => State.update({ res1 })}\n      />\n      <iframe\n        sandbox=\"allow-scripts allow-same-origin allow-forms allow-popups allow-modals\"\n        className=\"w-50 border\"\n        srcDoc={code}\n        message={{ exp: (state.text || \"\") + \" + ' banana'\" }}\n        onMessage={(res2) => State.update({ res2 })}\n      />\n    </div>\n    Result:{\" \"}\n    <pre>\n      res1 = {JSON.stringify(state.res1)}\n      res2 = {JSON.stringify(state.res2)}\n    </pre>\n  </div>\n  </>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/ilerik.near/widget/meself", "fact_widget_deployments_id": "f9b5a13cb19032f866b1f95feda651a6", "inserted_timestamp": "2023-08-29T16:28:26.306Z", "modified_timestamp": "2023-08-29T16:28:26.306Z", "__row_index": 1}