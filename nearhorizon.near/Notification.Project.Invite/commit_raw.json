{"tx_hash": "FhQ6Fqa9uVLjGtmy3ckQ4d6k8wiC8kCvVW8MN8MVLcqN", "action_id_social": "Em4NZqvPW3f76SPCkHbkkZZBSBYrpE8FfFQyAQZvSrjK-0-widget", "block_id": 101408611, "block_timestamp": "2023-09-18T15:03:46.184Z", "signer_id": "nearhorizon.near", "widget_name": "Notification.Project.Invite", "source_code": "const { requestId, vendorId } = props.value;\nconst ownerId = \"nearhorizon.near\";\nconst [accountId, cid] = requestId;\n\nState.init({\n  request: null,\n  requestIsFetched: false,\n});\n\nif (!state.requestIsFetched) {\n  Near.asyncView(\n    ownerId,\n    \"get_request\",\n    { account_id: accountId, cid },\n    \"final\",\n    false,\n  ).then((request) => State.update({ request, requestIsFetched: true }));\n}\n\nif (!state.requestIsFetched) {\n  return <>Loading...</>;\n}\n\nconst Button = styled.a`\n  display: inline-flex;\n  align-items: center;\n  justify-content: center;\n  gap: 8px;\n  padding: 8px 16px;\n  height: 32px;\n  border-radius: 100px;\n  font-weight: 600;\n  font-size: 12px;\n  line-height: 15px;\n  text-align: center;\n  cursor: pointer;\n  background: #fbfcfd;\n  border: 1px solid #d7dbdf;\n  color: #006adc !important;\n  white-space: nowrap;\n\n  &.button--primary {\n    width: 100%;\n    color: #006adc !important;\n\n    @media (max-width: 1200px) {\n      width: auto;\n    }\n  }\n\n  &:hover,\n  &:focus {\n    background: #ecedee;\n    text-decoration: none;\n    outline: none;\n  }\n\n  i {\n    color: #7e868c;\n  }\n\n  .bi-16 {\n    font-size: 16px;\n  }\n`;\n\nconst Text = styled.p`\n  margin: 0;\n  line-height: 1.5rem;\n  color: ${(p) => (p.bold ? \"#11181C\" : \"#687076\")} !important;\n  font-weight: 400;\n  font-size: ${(p) => (p.small ? \"12px\" : \"14px\")};\n  overflow: ${(p) => (p.ellipsis ? \"hidden\" : \"\")};\n  text-overflow: ${(p) => (p.ellipsis ? \"ellipsis\" : \"\")};\n  white-space: ${(p) => (p.ellipsis ? \"nowrap\" : \"\")};\n  overflow-wrap: anywhere;\n\n  b {\n    font-weight: 600;\n    color: #11181c;\n  }\n\n  &[href] {\n    font-weight: 600;\n    color: #006adc !important;\n    display: inline-flex;\n    gap: 0.25rem;\n\n    &:hover,\n    &:focus {\n      text-decoration: underline;\n    }\n  }\n`;\n\nreturn (\n  <>\n    <Text bold>\n      <Widget\n        src=\"mob.near/widget/TimeAgo\"\n        props={{ blockHeight: props.blockHeight }}\n      />\n      ago\n    </Text>\n    <div>\n      <Widget src=\"near/widget/AccountProfileInline\" props={{ accountId }} />\n      invited\n      <Widget\n        src=\"near/widget/AccountProfileInline\"\n        props={{ accountId: props.value.vendorId || props.accountId }}\n      />\n      to contribute to request\n      <Text bold>{state.request.title}.</Text>\n      Make a proposal now!\n    </div>\n\n    <div>\n      <Widget\n        src={`${ownerId}/widget/Buttons.Green`}\n        props={{\n          text: \"Accept\",\n          onClick: () => {\n            const transactions = [\n              {\n                contractName: ownerId,\n                methodName: \"accept_contribution\",\n                args: {\n                  project_id: accountId,\n                  cid,\n                  vendor_id: vendorId,\n                },\n              },\n              {\n                contractName: \"social.near\",\n                methodName: \"set\",\n                args: {\n                  data: {\n                    [context.accountId]: {\n                      index: {\n                        graph: JSON.stringify({\n                          key: \"vendor/contract\",\n                          value: { accountId: accountId },\n                        }),\n                        inbox: JSON.stringify({\n                          key: accountId,\n                          value: {\n                            type: \"vendor/contract\",\n                            contributionId: [accountId, cid],\n                            message: state.message,\n                            vendorId: vendorId,\n                            actionType: \"accept\",\n                          },\n                        }),\n                      },\n                    },\n                  },\n                },\n              },\n            ];\n            Near.call(transactions);\n          },\n        }}\n      />\n      <Button>Discuss</Button>\n    </div>\n  </>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/nearhorizon.near/widget/Notification.Project.Invite", "fact_widget_deployments_id": "0a5b49a74fe9c3dfa9a395952296f82a", "inserted_timestamp": "2024-03-07T05:24:05.087Z", "modified_timestamp": "2024-03-07T05:24:05.087Z", "__row_index": 17}