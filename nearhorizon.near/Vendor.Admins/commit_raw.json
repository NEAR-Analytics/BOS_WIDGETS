{"tx_hash": "FhQ6Fqa9uVLjGtmy3ckQ4d6k8wiC8kCvVW8MN8MVLcqN", "action_id_social": "Em4NZqvPW3f76SPCkHbkkZZBSBYrpE8FfFQyAQZvSrjK-0-widget", "block_id": 101408611, "block_timestamp": "2023-09-18T15:03:46.184Z", "signer_id": "nearhorizon.near", "widget_name": "Vendor.Admins", "source_code": "const ownerId = \"nearhorizon.near\";\nconst accountId = props.accountId ?? context.accountId;\n\nState.init({\n  permissions: null,\n  permissionsIsFetched: false,\n});\n\nif (!state.permissionsIsFetched) {\n  Near.asyncView(\n    ownerId,\n    \"get_vendor\",\n    { account_id: accountId },\n    \"final\",\n    false,\n  ).then(({ permissions }) =>\n    State.update({ permissions, permissionsIsFetched: true }),\n  );\n}\n\nif (!state.permissionsIsFetched) {\n  return <>Loading...</>;\n}\n\nif (!state.namesIsFetched) {\n  Near.asyncView(\n    \"social.near\",\n    \"get\",\n    {\n      keys: Object.keys(state.permissions).map((key) => `${key}/profile/name`),\n    },\n    \"final\",\n    false,\n  ).then((names) => {\n    State.update({\n      names: new Map(\n        Object.keys(names).map((account) => [\n          account,\n          names[account].profile.name,\n        ]),\n      ),\n      namesIsFetched: true,\n    });\n  });\n}\n\nif (!state.namesIsFetched) {\n  return <>Loading...</>;\n}\n\nconst List = styled.ul`\n  display: flex;\n  flex-direction: column;\n  gap: 1em;\n  padding: 0;\n  margin: 0;\n  list-style: none;\n  width: 100%;\n`;\n\nconst Item = styled.li`\n  display: flex;\n  flex-direction: row;\n  gap: 1em;\n  align-items: center;\n  justify-content: flex-start;\n  width: 100%;\n  padding: 1.5em 0px;\n  border-bottom: 1px solid #eaecf0;\n`;\n\nconst Heading = styled.h3`\n  font-style: normal;\n  font-weight: 700;\n  font-size: 1.125em;\n  line-height: 1.5em;\n  margin-top: 1em;\n\n  color: #000000;\n`;\n\nconst Container = styled.div`\n  width: 100%;\n`;\n\nreturn (\n  <Container>\n    <Heading>Admins</Heading>\n    <Widget\n      src={`${ownerId}/widget/Inputs.Admins`}\n      props={{\n        permissions: state.permissions,\n        update: (permissions) => State.update({ permissions }),\n        onSave: (permissions) =>\n          Near.call(ownerId, \"edit_vendor\", {\n            account_id: accountId,\n            vendor: { permissions },\n          }),\n      }}\n    />\n  </Container>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/nearhorizon.near/widget/Vendor.Admins", "fact_widget_deployments_id": "0d61062e7690b4a39dc7c6664221197f", "inserted_timestamp": "2024-03-07T05:24:05.087Z", "modified_timestamp": "2024-03-07T05:24:05.087Z", "__row_index": 0}