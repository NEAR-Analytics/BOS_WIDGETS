{"tx_hash": "FhQ6Fqa9uVLjGtmy3ckQ4d6k8wiC8kCvVW8MN8MVLcqN", "action_id_social": "Em4NZqvPW3f76SPCkHbkkZZBSBYrpE8FfFQyAQZvSrjK-0-widget", "block_id": 101408611, "block_timestamp": "2023-09-18T15:03:46.184Z", "signer_id": "nearhorizon.near", "widget_name": "Profile.Credits.Page", "source_code": "const ownerId = \"nearhorizon.near\";\n\nconst contentWidget = {\n  \"credits-activity\": \"Activity\",\n  \"credits-rewards\": \"Rewards\",\n  \"credits-how\": \"How\",\n};\n\nconst getContent = (tab) => {\n  if (tab in contentWidget) {\n    return tab;\n  }\n\n  return \"credits-activity\";\n};\n\nState.init({\n  credits: 0,\n  creditsIsFetched: false,\n});\n\nif (!state.creditsIsFetched) {\n  Near.asyncView(\n    ownerId,\n    \"get_project\",\n    { account_id: context.accountId },\n    \"final\",\n    false\n  ).then((project) => {\n    State.update({\n      credits: project.credit_balance,\n      creditsIsFetched: true,\n    });\n  });\n}\n\nconst Container = styled.div`\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n  gap: 1rem;\n`;\n\nconst Header = styled.div`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  width: 100%;\n\n  @media screen and (max-width: 768px) {\n    flex-direction: column;\n    justify-content: flex-start;\n    align-items: flex-start;\n    gap: 1rem;\n  }\n\n  & > div {\n    display: flex;\n    align-items: center;\n    gap: 1rem;\n\n    & > h2 {\n      color: #000;\n      font-family: Inter;\n      font-size: 1.1875rem;\n      font-style: normal;\n      font-weight: 700;\n      line-height: normal;\n    }\n  }\n`;\n\nconst Available = styled.div`\n  display: flex;\n  padding: 1.625rem;\n  flex-direction: column;\n  justify-content: center;\n  align-items: flex-start;\n  gap: 0.625rem;\n  border-radius: 0.5rem;\n  background: var(--background-beige, #f2f1ea);\n  width: 100%;\n\n  & > div {\n    display: flex;\n    flex-direction: row;\n    justify-content: space-between;\n    align-items: center;\n    gap: 1rem;\n\n    & > small {\n      color: var(--ui-elements-black, #000);\n      font-family: \"Mona Sans\";\n      font-size: 0.875rem;\n      font-style: normal;\n      font-weight: 600;\n      line-height: 142%; /* 1.2425rem */\n    }\n\n    & > b {\n      color: var(--ui-elements-black, #000);\n      font-family: Inter;\n      font-size: 1.1875rem;\n      font-style: normal;\n      font-weight: 700;\n      line-height: normal;\n    }\n\n    & > span {\n      color: var(--ui-elements-gray, #7e868c);\n      font-family: Inter;\n      font-size: 1.1875rem;\n      font-style: normal;\n      font-weight: 400;\n      line-height: normal;\n    }\n  }\n`;\n\nconst contentKey = getContent(props.content);\nconst content = (\n  <Widget\n    src={`${ownerId}/widget/Profile.Credits.${contentWidget[contentKey]}`}\n    props={{ ...props }}\n  />\n);\n\nreturn (\n  <Container>\n    <Header>\n      <div>\n        <h2>Credit balance</h2>\n      </div>\n    </Header>\n    <Available>\n      <div>\n        <small>Available for spending</small>\n        <Widget\n          src={`${ownerId}/widget/Tooltip`}\n          props={{\n            content: \" \",\n          }}\n        />\n      </div>\n      <div>\n        <b>{state.credits} NHZN</b>\n        <span>(~${state.credits})</span>\n      </div>\n    </Available>\n    <Widget\n      src={`${ownerId}/widget/TabSelector`}\n      props={{\n        tab: \"profile\",\n        content: getContent(props.content),\n        search: props.search,\n        update: props.update,\n        accountId: props.accountId,\n        buttons: Object.entries(contentWidget).map(([id, text]) => ({\n          id,\n          text,\n        })),\n      }}\n    />\n    {content}\n  </Container>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/nearhorizon.near/widget/Profile.Credits.Page", "fact_widget_deployments_id": "bb03066a1a6c1d91288a22d83330bd5a", "inserted_timestamp": "2024-03-07T05:24:05.087Z", "modified_timestamp": "2024-03-07T05:24:05.087Z", "__row_index": 0}