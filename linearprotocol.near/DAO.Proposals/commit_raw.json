{"tx_hash": "G5Vp2ygpSmK2YiAMNGCz76n3dwihVMajxcznrhDXrrD7", "action_id_social": "6wCPiqW8Qz6Ln7HVe3n5eCWXz2LLfKQpJdynyPpDyMep-0-widget", "block_id": 94027987, "block_timestamp": "2023-06-12T08:42:36.123Z", "signer_id": "linearprotocol.near", "widget_name": "DAO.Proposals", "source_code": "const daoId = props.daoId;\nconst limit = parseInt(props.limit) || 10;\n\nif (!daoId) {\n  return \"\";\n}\n\nconst daoVersion = Near.view(daoId, \"version\");\nif (!daoVersion) {\n  return \"\";\n}\n\nconst config = Near.view(daoId, \"get_config\");\nconst policy = Near.view(daoId, \"get_policy\");\nconst lastProposalId = Near.view(daoId, \"get_last_proposal_id\");\n\nlet proposals = [];\n\nif (lastProposalId) {\n  proposals =\n    Near.view(daoId, \"get_proposals\", {\n      from_index: Math.max(0, lastProposalId - limit),\n      limit,\n    }) || [];\n  proposals.reverse();\n}\n\nreturn (\n  <div>\n    <h3>{config.name}</h3>\n    <div>{config.purpose}</div>\n    <div className=\"mt-3\">\n      <h5>Proposals</h5>\n      {proposals.map((proposal, i) => (\n        <div key={proposal.id} className=\"mb-3\">\n          <Widget\n            src=\"linearprotocol.near/widget/DAO.Proposal\"\n            props={{ daoId, proposal, policy }}\n          />\n        </div>\n      ))}\n    </div>\n  </div>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/linearprotocol.near/widget/DAO.Proposals", "fact_widget_deployments_id": "f6d7fbcd1bf0a7615ff364a32a4ac4f9", "inserted_timestamp": "2000-01-01T00:00:00.000Z", "modified_timestamp": "2000-01-01T00:00:00.000Z", "__row_index": 5}