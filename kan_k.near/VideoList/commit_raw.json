{"tx_hash": "4bpAZHhMUCBrskwChJuHfSXfhcWYGJZ3sSPQ8VKqnAjW", "action_id_social": "F1N5rZFdtxTc3SB3nTwz1yEV3CxfR1Row9ELm9DRDBRZ-0-widget", "block_id": 108261623, "block_timestamp": "2023-12-18T15:55:41.772Z", "signer_id": "kan_k.near", "widget_name": "VideoList", "source_code": "State.init({\n  videoes: [],\n});\n\nfunction getSigner() {\n  return Ethers.provider().getSigner();\n}\n\nconst abi = [\n  {\n    inputs: [],\n    stateMutability: \"nonpayable\",\n    type: \"constructor\",\n  },\n  {\n    inputs: [\n      {\n        internalType: \"address\",\n        name: \"account\",\n        type: \"address\",\n      },\n    ],\n    name: \"addAdmin\",\n    outputs: [],\n    stateMutability: \"nonpayable\",\n    type: \"function\",\n  },\n  {\n    inputs: [\n      {\n        internalType: \"uint256\",\n        name: \"video_id\",\n        type: \"uint256\",\n      },\n      {\n        internalType: \"string\",\n        name: \"comment_message\",\n        type: \"string\",\n      },\n    ],\n    name: \"addComment\",\n    outputs: [],\n    stateMutability: \"payable\",\n    type: \"function\",\n  },\n  {\n    inputs: [\n      {\n        internalType: \"string\",\n        name: \"_title\",\n        type: \"string\",\n      },\n      {\n        internalType: \"string\",\n        name: \"_description\",\n        type: \"string\",\n      },\n      {\n        internalType: \"string\",\n        name: \"_url\",\n        type: \"string\",\n      },\n      {\n        internalType: \"string\",\n        name: \"_thumb_url\",\n        type: \"string\",\n      },\n      {\n        internalType: \"uint256\",\n        name: \"_duration\",\n        type: \"uint256\",\n      },\n      {\n        internalType: \"string[]\",\n        name: \"_keywords\",\n        type: \"string[]\",\n      },\n    ],\n    name: \"addVideo\",\n    outputs: [],\n    stateMutability: \"nonpayable\",\n    type: \"function\",\n  },\n  {\n    inputs: [\n      {\n        internalType: \"uint256\",\n        name: \"video_id\",\n        type: \"uint256\",\n      },\n    ],\n    name: \"getAttributions\",\n    outputs: [\n      {\n        internalType: \"uint256[]\",\n        name: \"\",\n        type: \"uint256[]\",\n      },\n    ],\n    stateMutability: \"view\",\n    type: \"function\",\n  },\n  {\n    inputs: [\n      {\n        internalType: \"uint256\",\n        name: \"video_id\",\n        type: \"uint256\",\n      },\n    ],\n    name: \"getComments\",\n    outputs: [\n      {\n        components: [\n          {\n            internalType: \"address\",\n            name: \"poster\",\n            type: \"address\",\n          },\n          {\n            internalType: \"string\",\n            name: \"message\",\n            type: \"string\",\n          },\n          {\n            internalType: \"uint256\",\n            name: \"amount\",\n            type: \"uint256\",\n          },\n          {\n            internalType: \"uint256\",\n            name: \"timestamp\",\n            type: \"uint256\",\n          },\n        ],\n        internalType: \"struct Atomic.Comment[]\",\n        name: \"\",\n        type: \"tuple[]\",\n      },\n    ],\n    stateMutability: \"view\",\n    type: \"function\",\n  },\n  {\n    inputs: [\n      {\n        internalType: \"uint256\",\n        name: \"size\",\n        type: \"uint256\",\n      },\n    ],\n    name: \"getLatestVideos\",\n    outputs: [\n      {\n        components: [\n          {\n            internalType: \"uint256\",\n            name: \"id\",\n            type: \"uint256\",\n          },\n          {\n            internalType: \"string\",\n            name: \"title\",\n            type: \"string\",\n          },\n          {\n            internalType: \"string\",\n            name: \"description\",\n            type: \"string\",\n          },\n          {\n            internalType: \"string\",\n            name: \"url\",\n            type: \"string\",\n          },\n          {\n            internalType: \"string\",\n            name: \"thumb_url\",\n            type: \"string\",\n          },\n          {\n            internalType: \"string[]\",\n            name: \"keywords\",\n            type: \"string[]\",\n          },\n          {\n            internalType: \"uint256\",\n            name: \"duration\",\n            type: \"uint256\",\n          },\n          {\n            internalType: \"uint256\",\n            name: \"timestamp\",\n            type: \"uint256\",\n          },\n        ],\n        internalType: \"struct Atomic.Video[]\",\n        name: \"\",\n        type: \"tuple[]\",\n      },\n    ],\n    stateMutability: \"view\",\n    type: \"function\",\n  },\n  {\n    inputs: [\n      {\n        internalType: \"string\",\n        name: \"_near_id\",\n        type: \"string\",\n      },\n    ],\n    name: \"getVideoByNearID\",\n    outputs: [\n      {\n        components: [\n          {\n            internalType: \"uint256\",\n            name: \"id\",\n            type: \"uint256\",\n          },\n          {\n            internalType: \"string\",\n            name: \"title\",\n            type: \"string\",\n          },\n          {\n            internalType: \"string\",\n            name: \"description\",\n            type: \"string\",\n          },\n          {\n            internalType: \"string\",\n            name: \"url\",\n            type: \"string\",\n          },\n          {\n            internalType: \"string\",\n            name: \"thumb_url\",\n            type: \"string\",\n          },\n          {\n            internalType: \"string[]\",\n            name: \"keywords\",\n            type: \"string[]\",\n          },\n          {\n            internalType: \"uint256\",\n            name: \"duration\",\n            type: \"uint256\",\n          },\n          {\n            internalType: \"uint256\",\n            name: \"timestamp\",\n            type: \"uint256\",\n          },\n        ],\n        internalType: \"struct Atomic.Video[]\",\n        name: \"\",\n        type: \"tuple[]\",\n      },\n    ],\n    stateMutability: \"view\",\n    type: \"function\",\n  },\n  {\n    inputs: [\n      {\n        internalType: \"uint256\",\n        name: \"video_id\",\n        type: \"uint256\",\n      },\n      {\n        internalType: \"uint256[]\",\n        name: \"attributions\",\n        type: \"uint256[]\",\n      },\n    ],\n    name: \"setAttributions\",\n    outputs: [],\n    stateMutability: \"nonpayable\",\n    type: \"function\",\n  },\n  {\n    inputs: [\n      {\n        internalType: \"string\",\n        name: \"_near_id\",\n        type: \"string\",\n      },\n    ],\n    name: \"setNearID\",\n    outputs: [],\n    stateMutability: \"nonpayable\",\n    type: \"function\",\n  },\n];\n\nconst CONTRACT_ADDRESS = \"0xFEfa855e3CeAcD2eFCdE30d062ca7b83D6F614c9\";\nconst signer = Ethers.provider().getSigner();\nconst contract = new ethers.Contract(CONTRACT_ADDRESS, abi, signer);\n\ncontract.getLastestVideo(5).then((res) => {\n  if (res.hash) {\n    console.log(\"Success! \" + res.hash);\n    State.update({ videoes: res.data });\n  } else {\n    console.log(\"Failed!\");\n  }\n});\nconst isNotEmpty = state.videoes.length > 0;\n\nreturn <div>{isNotEmpty ? \"Hello\" : \"Bye\"}</div>;\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/kan_k.near/widget/VideoList", "fact_widget_deployments_id": "65a84f9b2882fdb7bc705a19a3aa0dec", "inserted_timestamp": "2023-12-18T17:51:15.647Z", "modified_timestamp": "2023-12-20T03:22:11.422Z", "__row_index": 7}