{"tx_hash": "7c2VtuY5L84CTRHRM2dK95XscvNGG3sgAdhw5ydis3S9", "action_id_social": "GwEzpg4Dyf2T7HqRWa142Hc5WCVtJChtYrEyRoD6aAyu-0-widget", "block_id": 108230509, "block_timestamp": "2023-12-18T06:35:30.559Z", "signer_id": "kan_k.near", "widget_name": "ProfileBanner", "source_code": "const accountId = props.accountId ?? context.accountId;\nif (!accountId) {\n  return \"No account ID\";\n}\n\nconst profile = props.profile ?? Social.getr(`${accountId}/profile`);\nconst accountUrl = `/near/widget/ProfilePage?accountId=${accountId}`;\nconst viewingOwnAccount = accountId === context.accountId;\nconst shareUrl = `https://near.org${accountUrl}`;\nconst followersCount = followers ? Object.keys(followers || {}).length : 0;\n\nconst Wrapper = styled.div`\n    display: flex;\n  gap: 40px;\n  position: relative;\n`;\n\nconst Avatar = styled.div`\n  width: 133px;\n  height: 133px;\n  flex-shrink: 0;\n  border: 3px solid #fff;\n  overflow: hidden;\n  border-radius: 100%;\n  box-shadow:\n    0px 12px 16px rgba(16, 24, 40, 0.08),\n    0px 4px 6px rgba(16, 24, 40, 0.03);\n\n  img {\n    object-fit: cover;\n    width: 100%;\n    height: 100%;\n  }\n\n  @media (max-width: 900px) {\n    width: 80px;\n    height: 80px;\n  }\n`;\n\nconst Detail = styled.div`\nmargin: 2em\n`;\n\nconst Title = styled.h1`\n  font-weight: 600;\n  font-size: ${(p) => p.size || \"25px\"};\n  line-height: 1.2em;\n  color: #11181c;\n  margin: ${(p) => (p.margin ? \"0 0 24px\" : \"0\")};\n  overflow-wrap: anywhere;\n  cursor: pointer;\n  \n  &:hover {\n    text-decoration: underline;\n  }\n\n`;\n\nconst Text = styled.p`\n  margin: 0;\n  line-height: 1.5rem;\n  color: ${(p) => (p.bold ? \"#11181C\" : \"#687076\")} !important;\n  font-weight: ${(p) => (p.bold ? \"600\" : \"400\")};\n  font-size: ${(p) => (p.small ? \"12px\" : \"14px\")};\n  overflow: ${(p) => (p.ellipsis ? \"hidden\" : \"\")};\n  text-overflow: ${(p) => (p.ellipsis ? \"ellipsis\" : \"\")};\n  white-space: ${(p) => (p.ellipsis ? \"nowrap\" : \"\")};\n  overflow-wrap: anywhere;\n\n  b {\n    font-weight: 600;\n    color: #11181c;\n  }\n`;\n\nconst BackgroundImage = styled.div`\n  height: 240px;\n  border-radius: 20px 20px 0 0;\n  overflow: hidden;\n  margin: 0 -12px;\n  background: #eceef0;\n\n  img {\n    object-fit: cover;\n    width: 100%;\n    height: 100%;\n  }\n\n  @media (max-width: 1024px) {\n    margin: calc(var(--body-top-padding) * -1) -12px 0;\n    border-radius: 0;\n  }\n\n  @media (max-width: 1024px) {\n    height: 100px;\n  }\n`;\n\nconst FollowButtonWrapper = styled.div`\n  flex: 1 0 auto;\n  div,\n  button {\n    width: 100%;\n  }\n  @media (max-width: 1024px) {\n    flex: 0 0 auto;\n    div,\n    button {\n      width: auto;\n    }\n  }\n`;\n\nreturn (\n  <>\n    <BackgroundImage>\n      {profile.backgroundImage && (\n        <Widget\n          src=\"mob.near/widget/Image\"\n          props={{\n            image: profile.backgroundImage,\n            alt: \"profile background image\",\n            fallbackUrl:\n              \"https://ipfs.near.social/ipfs/bafkreibiyqabm3kl24gcb2oegb7pmwdi6wwrpui62iwb44l7uomnn3lhbi\",\n          }}\n        />\n      )}\n    </BackgroundImage>\n    <Wrapper>\n      <Avatar>\n        <Widget\n          src=\"mob.near/widget/Image\"\n          props={{\n            image: profile.image,\n            alt: profile.name,\n            fallbackUrl:\n              \"https://ipfs.near.social/ipfs/bafkreibiyqabm3kl24gcb2oegb7pmwdi6wwrpui62iwb44l7uomnn3lhbi\",\n          }}\n        />\n      </Avatar>\n      <div>\n        <div className=\"d-flex align-items-start justify-content-between \">\n          <Detail>\n            <OverlayTrigger\n              placement=\"top\"\n              overlay={<Tooltip>Copy URL to clipboard</Tooltip>}\n            >\n              <Title\n                onMouseLeave={() => {\n                  State.update({ copiedShareUrl: false });\n                }}\n                onClick={() => {\n                  clipboard.writeText(shareUrl).then(() => {\n                    State.update({ copiedShareUrl: true });\n                  });\n                }}\n              >\n                {profile.name || accountId}\n                {state.copiedShareUrl ? (\n                  <i className=\"bi-16 bi bi-check\"></i>\n                ) : (\n                  <i className=\"bi-16 bi-link-45deg\"></i>\n                )}\n              </Title>\n            </OverlayTrigger>\n            <Text>@{accountId}</Text>\n            Follower: {followersCount}\n          </Detail>\n        </div>\n      </div>\n\n      <Detail>\n        {viewingOwnAccount ? (\n          <Link\n            className=\"button button--primary\"\n            href=\"https://near.org/near/widget/ProfileEditor\"\n          >\n            <i className=\"bi bi-pencil\"></i>\n            Edit Profile\n          </Link>\n        ) : context.accountId ? (\n          <>\n            <FollowButtonWrapper>\n              <Widget\n                src=\"near/widget/FollowButton\"\n                props={{\n                  accountId,\n                }}\n              />\n            </FollowButtonWrapper>\n          </>\n        ) : (\n          <></>\n        )}\n      </Detail>\n    </Wrapper>\n  </>\n);\n", "metadata": {"fork_of": "kan_k.near/widget/ProfileBanner@108199330"}, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/kan_k.near/widget/ProfileBanner", "fact_widget_deployments_id": "db0cb988dd34b2296f6c9524791a3675", "inserted_timestamp": "2024-03-07T05:24:05.087Z", "modified_timestamp": "2024-03-07T05:24:05.087Z", "__row_index": 0}