{"tx_hash": "AU1tZr8kYGMWQ43Pu2B2orvMVy4JwfWe4UL784xsTe1V", "action_id_social": "DRjdTyVhsGeuzBqpByZ6bemzycaf1wJQNjMhx2QPgLfc-0-widget", "block_id": 107369628, "block_timestamp": "2023-12-07T15:51:05.654Z", "signer_id": "kan_k.near", "widget_name": "try-api", "source_code": "State.init({\n  waifuUrl: \"\",\n});\n\nStorage.privateSet(\n  \"waifuApi\",\n  \"https://api.waifu.im/search?included_tags=maid\"\n);\n\nconst fetchWaifu = (queryURI) => {\n  return asyncFetch(queryURI, {\n    method: \"GET\",\n    body: JSON.stringify(data),\n  });\n};\n\nconst handleAskRequestWaifu = () => {\n  const queryURI = Storage.privateGet(\"waifuApi\");\n  fetchWaifu(queryURI).then((res) => {\n    State.update({ waifuUrl: res.body.images[0].url });\n    console.log(res.body.images[0]);\n  });\n};\n\nreturn (\n  <>\n    <button class=\"btn btn-primary\" onClick={handleAskRequestWaifu}>\n      {!state.waifuUrl ? \"Waifu\" : \"Reroll Waifu\"}\n    </button>\n    {state.waifuUrl && (\n      <div>\n        <p>\n          <img src={state.waifuUrl} style={{ width: 500, height: 500 }} />\n        </p>\n      </div>\n    )}\n  </>\n);\n", "metadata": {"fork_of": "kan_k.near/widget/try-api@107351659"}, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/kan_k.near/widget/try-api", "fact_widget_deployments_id": "8e31af2a6e153d71096b6072b8677bf5", "inserted_timestamp": "2023-12-07T17:45:41.952Z", "modified_timestamp": "2023-12-20T03:22:11.422Z", "__row_index": 1}