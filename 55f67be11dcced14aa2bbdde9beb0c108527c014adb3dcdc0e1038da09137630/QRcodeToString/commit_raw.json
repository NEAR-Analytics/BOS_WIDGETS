{"tx_hash": "HVLVXSG2zcASCYbXm6niCwRKvBFfNu1yBAg7ArdX7zJW", "action_id_social": "HqPSxs5KPPQWftoBGBcN8p1Q6kmmYdBB6gYQswcEN1mK-0-widget", "block_id": 110955557, "block_timestamp": "2024-01-21T11:06:10.121Z", "signer_id": "55f67be11dcced14aa2bbdde9beb0c108527c014adb3dcdc0e1038da09137630", "widget_name": "QRcodeToString", "source_code": "State.init({ scannedText: null });\nconst [isScannerOpen, setIsScannerOpen] = useState(false);\nconst [buttonText, setButtonText] = useState(\n  props.buttontext || \"Scan QR Code\"\n);\n\nconst startScanning = () => {\n  setIsScannerOpen(true);\n  setButtonText(\"cancle Scanning\");\n};\nconst cancleScanning = () => {\n  setIsScannerOpen(false);\n  setButtonText(\"Scan again\");\n};\n\nconst handleScanning = () => {\n  isScannerOpen ? cancleScanning() : startScanning();\n};\n\nreturn (\n  <>\n    {isScannerOpen && (\n      <div\n        style={{\n          width: 350,\n          height: 350,\n          backgroundColor: \"lightgray\",\n          padding: 10,\n          display: \"flex\",\n          alignItems: \"center\",\n          justifyContent: \"center\",\n          borderRadius: 10,\n        }}\n      >\n        <div>\n          <QRCodeReader\n            constraints={{\n              audio: false,\n              video: { facingMode: \"environment\" },\n            }}\n            onScan={(data) => {\n              // if (!state?.scannedText){\n              State.update({ scannedText: data?.text });\n              state?.scannedText && cancleScanning();\n              // }\n            }}\n            style={{ width: 300, height: 250 }}\n          />\n        </div>\n      </div>\n    )}\n    <button onClick={() => handleScanning()}>{buttonText}</button>\n    {state.scannedText && console.log(state)}\n  </>\n);\n", "metadata": {"platform": "jutsu.ai"}, "branch": {"draft": null}, "widget_modules_used": null, "widget_url": "https://near.social/#/55f67be11dcced14aa2bbdde9beb0c108527c014adb3dcdc0e1038da09137630/widget/QRcodeToString", "fact_widget_deployments_id": "40eae00b3f7d8ea0c58ad91312118a2c", "inserted_timestamp": "2024-03-07T05:24:05.087Z", "modified_timestamp": "2024-03-07T05:24:05.087Z", "__row_index": 0}