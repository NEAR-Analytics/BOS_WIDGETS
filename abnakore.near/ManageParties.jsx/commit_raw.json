{"tx_hash": "7HtCWWgXMxgrxzpGeHWCB77uq68W9G3sYxKqw5VQ2ci9", "action_id_social": "3Ht8q2rorVLiZMWNTtxwovdqMR8e96mC18CQVUhHJhWm-0-widget", "block_id": 107723832, "block_timestamp": "2023-12-12T01:52:43.922Z", "signer_id": "abnakore.near", "widget_name": "ManageParties.jsx", "source_code": "// Pages that can be reached via the aside tab\nconst [pages, setPage] = useState([\n  { name: \"Home\", link: \"/admin\" },\n  { name: \"Manage Candidates\", link: \"/admin/manage_candidates\" },\n  { name: \"Mange Parties\", link: \"/admin/manage_parties\" },\n]);\n\n// List of parties and their curresponding number of votes\nconst [parties, setParties] = useState([\n  { id: 1, name: \"Foo\", acronym: \"FOO\" },\n  { id: 2, name: \"Bar\", acronym: \"BAR\" },\n  { id: 3, name: \"Baz\", acronym: \"BAZ\" },\n  { id: 4, name: \"sass\", acronym: \"SAS\" },\n]);\n\nconst [maxId, setMaxId] = useState(4);\n\n// name and acro\nconst [newParty, setNewParty] = useState({\n  id: \"\",\n  name: \"\",\n  acronym: \"\",\n});\n\nfunction save() {\n  newParty.id = maxId + 1;\n  setMaxId(maxId + 1);\n  setParties((prev) => prev.concat([newParty]));\n}\n\nreturn (\n  <>\n    <Widget\n      src=\"abnakore.near/widget/Aside.jsx\"\n      props={{ objs: pages, active: \"/admin/manage_parties\" }}\n    />\n    <h1>Manage Parties</h1>\n    <Widget\n      src=\"abnakore.near/widget/Table.jsx\"\n      props={{\n        headings: [\"S/N\", \"Party Name\", \"Acronym\"],\n        data: Object.values(parties.map((c) => Object.values(c))),\n      }}\n    />\n    <div className=\"form\">\n      <div className=\"flex\">\n        <Widget\n          src=\"abnakore.near/widget/Input.jsx\"\n          props={{\n            type: \"text\",\n            placeholder: \"Party Name\",\n            required: true,\n            item: \"name\",\n            items: newParty,\n            setItem: setNewParty,\n          }}\n        />\n        <Widget\n          src=\"abnakore.near/widget/Input.jsx\"\n          props={{\n            type: \"text\",\n            placeholder: \"Acronym\",\n            required: true,\n            item: \"acronym\",\n            items: newParty,\n            setItem: setNewParty,\n          }}\n        />\n        <CommitButton onCommit={save} data={{ parties: [newParty] }}>\n          Add\n        </CommitButton>\n      </div>\n    </div>\n  </>\n);\n// {\n//   \"abnakore.near\": {\n//     \"parties\": \"[{\\\"name\\\":\\\"\\\",\\\"acronym\\\":\\\"\\\"}]\"\n//   }\n// }\n", "metadata": {"fork_of": "abnakore.near/widget/ManageParties.jsx@107712230"}, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/abnakore.near/widget/ManageParties.jsx", "fact_widget_deployments_id": "65d516d0f4532b46ae8943cd21b91b26", "inserted_timestamp": "2023-12-12T03:50:57.300Z", "modified_timestamp": "2023-12-20T03:22:11.422Z", "__row_index": 2}