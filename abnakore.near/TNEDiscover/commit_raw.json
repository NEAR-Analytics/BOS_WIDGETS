{"tx_hash": "CzmdiMQrp3gQKF2KtV4bN7W7kxPQW1mH3sF9ma8PoGP8", "action_id_social": "J7V4qUns2J2aTpGEMacWzkSuBiuTiyFaPYLUHywQTDa5-0-widget", "block_id": 111851111, "block_timestamp": "2024-02-01T12:16:10.300Z", "signer_id": "abnakore.near", "widget_name": "TNEDiscover", "source_code": "// import React from 'react';\n// import { useDispatch, useSelector } from 'react-redux';\n\n// import { Error, Loader, SongCard } from '../components';\n// import { selectGenreListId, setActiveSong } from '../redux/features/playerSlice';\n// import { mockSongs } from '../mockSongs';\nconst mockSongs = [\n  {\n    key: \"1\",\n    title: \"Song 1\",\n    artist: \"Artist 1\",\n    genre: \"POP\",\n    audioFilePath: \"audio/1.mp3\",\n    // ... other song properties\n  },\n  {\n    key: \"2\",\n    title: \"Song 2\",\n    artist: \"Artist 2\",\n    genre: \"HIP_HOP_RAP\",\n    audioFilePath: \"audio/2.mp3\",\n    // ... other song properties\n  },\n  {\n    key: \"3\",\n    title: \"Song 3\",\n    artist: \"Artist 3\",\n    genre: \"HIP_HOP_RAP\",\n    audioFilePath: \"audio/3.mp3\",\n    // ... other song properties\n  },\n  {\n    key: \"4\",\n    title: \"Song 4\",\n    artist: \"Artist 4\",\n    genre: \"POP\",\n    audioFilePath: \"audio/4.mp3\", // Corrected from 'udioFilePath' to 'audioFilePath'\n    // ... other song properties\n  },\n  // Add more sample songs as needed\n];\n// import { genres } from '../assets/constants';\n\nconst genres = [\n  { title: \"Pop\", value: \"POP\" },\n  { title: \"Hip-Hop\", value: \"HIP_HOP_RAP\" },\n  { title: \"Dance\", value: \"DANCE\" },\n  { title: \"Electronic\", value: \"ELECTRONIC\" },\n  { title: \"Soul\", value: \"SOUL_RNB\" },\n  { title: \"Alternative\", value: \"ALTERNATIVE\" },\n  { title: \"Rock\", value: \"ROCK\" },\n  { title: \"Latin\", value: \"LATIN\" },\n  { title: \"Film\", value: \"FILM_TV\" },\n  { title: \"Country\", value: \"COUNTRY\" },\n  { title: \"Worldwide\", value: \"WORLDWIDE\" },\n  { title: \"Reggae\", value: \"REGGAE_DANCE_HALL\" },\n  { title: \"House\", value: \"HOUSE\" },\n  { title: \"K-Pop\", value: \"K_POP\" },\n];\n// const Discover = () => {\nconst dispatch = \"useDispatch()\";\nconst { genreListId } = \"useSelector((state) => state.player)\";\nconst { activeSong, isPlaying } = \"useSelector((state) => state.player)\";\n\n// Replace the OpenAI query with the mockSongs data\nconst data = mockSongs;\n\nconst genreTitle = genres.find(({ value }) => value === genreListId)?.title;\n\nconst handleSongClick = (song) => {\n  // Adjust the audio file path based on your project structure\n  const audioFilePath = `/${song.audioFilePath}`;\n  dispatch(setActiveSong({ song: { ...song, audioFilePath }, data, i }));\n};\n\nreturn (\n  <div className=\"flex flex-col\">\n    <div className=\"w-full flex justify-between items-center sm:flex-row flex-col mt-4 mb-10\">\n      <h2 className=\"font-bold text-3xl text-white text-left\">\n        Discover {genreTitle}\n      </h2>\n\n      <select\n        onChange={(e) => dispatch(selectGenreListId(e.target.value))}\n        value={genreListId || \"pop\"}\n        className=\"bg-black text-gray-300 p-3 text-sm rounded-lg outline-none sm:mt-0 mt-5\"\n      >\n        {genres.map((genre) => (\n          <option key={genre.value} value={genre.value}>\n            {genre.title}\n          </option>\n        ))}\n      </select>\n    </div>\n\n    <div className=\"flex flex-wrap sm:justify-start justify-center gap-8\">\n      {data?.map((song, i) => (\n        <Widget\n          key={song.key}\n          src=\"abnakore.near/widget/TNESongCard\"\n          props={{\n            key: song.key,\n            song: song,\n            isPlaying: isPlaying,\n            activeSong: activeSong,\n            data: data,\n            i: i,\n            onSongClick: () => handleSongClick(song),\n          }}\n        />\n      ))}\n    </div>\n  </div>\n);\n// };\n//  <SongCard\n//           key={song.key}\n//           song={song}\n//           isPlaying={isPlaying}\n//           activeSong={activeSong}\n//           data={data}\n//           i={i}\n//           onSongClick={() => handleSongClick(song)}\n//         />\n// export default Discover;\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/abnakore.near/widget/TNEDiscover", "fact_widget_deployments_id": "4002e1508db01ad5cdd435be8da5892b", "inserted_timestamp": "2024-03-07T05:24:05.087Z", "modified_timestamp": "2024-03-07T05:24:05.087Z", "__row_index": 2}