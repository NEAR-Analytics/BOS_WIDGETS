{"tx_hash": "ES9JSQC8ZYAiDq3Rt1vdurkQWwWrG2cTyoHE68i51V9W", "action_id_social": "FkmVCu2wMZd5uiuaFkkMhxiU2NMm8tX87L1un5WcZFRT-0-widget", "block_id": 110656326, "block_timestamp": "2024-01-17T20:14:54.350Z", "signer_id": "abnakore.near", "widget_name": "ManageParties", "source_code": "// Pages that can be reached via the aside tab\nconst [pages, setPage] = useState([\n  {\n    name: \"Voting Page\",\n    link: \"https://near.org/abnakore.near/widget/App.jsx\",\n  },\n  {\n    name: \"Result\",\n    link: \"https://near.org/abnakore.near/widget/Result.jsx\",\n  },\n  {\n    name: \"Admin Home\",\n    link: \"https://near.org/abnakore.near/widget/AdminHome\",\n  },\n  {\n    name: \"Manage Candidates\",\n    link: \"https://near.org/abnakore.near/widget/ManageCandidates\",\n  },\n  {\n    name: \"Mange Parties\",\n    link: \"https://near.org/abnakore.near/widget/ManageParties\",\n  },\n]);\n\n// List of parties and their curresponding number of votes\nconst [parties, setParties] = useState([\n  { id: 1, name: \"Foo\", acronym: \"FOO\" },\n  { id: 2, name: \"Bar\", acronym: \"BAR\" },\n  { id: 3, name: \"Baz\", acronym: \"BAZ\" },\n  { id: 4, name: \"sass\", acronym: \"SAS\" },\n]);\n\nconst [maxId, setMaxId] = useState(4);\n\n// name and acro\nconst [newParty, setNewParty] = useState({\n  id: \"\",\n  name: \"\",\n  acronym: \"\",\n});\n\nfunction save() {\n  newParty.id = maxId + 1;\n  setMaxId(maxId + 1);\n  setParties((prev) => prev.concat([newParty]));\n}\n\nreturn (\n  <Widget\n    src=\"abnakore.near/widget/Wrapper\"\n    props={{\n      body: (\n        <div className=\"main-body\">\n          <div className=\"two-sides\">\n            <Widget\n              src=\"abnakore.near/widget/Aside\"\n              props={{ objs: pages, active: \"/admin/manage_parties\" }}\n            />\n            <div className=\"body-contents\">\n              <h1>Manage Parties</h1>\n              <Widget\n                src=\"abnakore.near/widget/Table\"\n                props={{\n                  headings: [\"S/N\", \"Party Name\", \"Acronym\"],\n                  data: Object.values(parties.map((c) => Object.values(c))),\n                }}\n              />\n              <div className=\"form\">\n                <div className=\"flex\">\n                  <Widget\n                    src=\"abnakore.near/widget/Input.jsx\"\n                    props={{\n                      type: \"text\",\n                      placeholder: \"Party Name\",\n                      required: true,\n                      item: \"name\",\n                      items: newParty,\n                      setItem: setNewParty,\n                    }}\n                  />\n                  <Widget\n                    src=\"abnakore.near/widget/Input.jsx\"\n                    props={{\n                      type: \"text\",\n                      placeholder: \"Acronym\",\n                      required: true,\n                      item: \"acronym\",\n                      items: newParty,\n                      setItem: setNewParty,\n                    }}\n                  />\n                </div>\n                <CommitButton onCommit={save} data={{ parties: [newParty] }}>\n                  Add\n                </CommitButton>\n              </div>\n            </div>\n          </div>\n        </div>\n      ),\n    }}\n  />\n);\n// {\n//   \"abnakore.near\": {\n//     \"parties\": \"[{\\\"name\\\":\\\"\\\",\\\"acronym\\\":\\\"\\\"}]\"\n//   }\n// }\n", "metadata": {"fork_of": "abnakore.near/widget/ManageParties@110656233"}, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/abnakore.near/widget/ManageParties", "fact_widget_deployments_id": "f773213ed9f73702d2c69990674f5192", "inserted_timestamp": "2024-03-07T05:24:05.087Z", "modified_timestamp": "2024-03-07T05:24:05.087Z", "__row_index": 0}