{"tx_hash": "GzAEzcr4bfkqdPRQHJZwQNTEcDcuAW2JBU8U1nvWTPjG", "action_id_social": "CAd3de7bZmXvmgex8B8GRncky9hxSWJWiMzkSkBuADAi-0-widget", "block_id": 100590912, "block_timestamp": "2023-09-07T13:02:32.903Z", "signer_id": "ref-admin.near", "widget_name": "stake-bannerIcon", "source_code": "const {\n  firstIconName,\n  firstIconUrl,\n  secondIconName,\n  secondIconUrl,\n  componentType,\n  apy_value,\n} = props; // liNEAR, xref, NearX\nconst BannerData = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  margin-bottom: 16px;\n  .apr {\n    display: flex;\n    align-items: center;\n    font-size: 16px;\n    color: #fff;\n    margin-right: 30px;\n    .value {\n      font-weight: 700;\n      font-size: 22px;\n      color: #00ffa3;\n      margin-left: 8px;\n    }\n  }\n\n  @media (max-width: 770px) {\n    .apr {\n      font-size: 12px;\n      .value {\n        font-size: 16px;\n      }\n    }\n  }\n`;\nconst ExchangeRoute = styled.div`\n  position: relative;\n  padding-left: 96px;\n  .bigIcon {\n    position: absolute;\n    left: 20px;\n    top: -24px;\n    background: #1a2e33;\n    border-radius: 100%;\n    padding: 7px;\n    margin-right: 13px;\n    img {\n      width: 46px;\n      height: 46px;\n      border-radius: 100px;\n    }\n  }\n\n  .flex-center {\n    display: flex;\n    align-items: center;\n  }\n  .boldText {\n    font-weight: 700;\n    font-size: 22px;\n    color: #fff;\n  }\n  .thinText {\n    font-weight: 400;\n    font-size: 16px;\n    color: #fff;\n  }\n  .mx-10 {\n    margin: 0 10px 0 10px;\n  }\n  .smallIcon {\n    width: 26px;\n    height: 26px;\n    margin-right: 10px;\n    border-radius: 100px;\n  }\n\n  @media (max-width: 770px) {\n    padding-left: 75px;\n\n    .bigIcon {\n      position: absolute;\n      left: 20px;\n      top: -20px;\n      background: #1a2e33;\n      border-radius: 100%;\n      padding: 7px;\n      margin-right: 13px;\n      img {\n        width: 32px;\n        height: 32px;\n        border-radius: 100px;\n      }\n    }\n\n    .boldText {\n      font-weight: 700;\n      font-size: 16px;\n      color: #fff;\n    }\n  }\n`;\nconst arrowIcon = (\n  <svg\n    width=\"16\"\n    height=\"6\"\n    viewBox=\"0 0 16 6\"\n    fill=\"none\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n  >\n    <path\n      stroke-linecap=\"round\"\n      d=\"M1 5H13.5L9.5 1\"\n      stroke=\"#7C7F96\"\n      stroke-width=\"2\"\n    />\n  </svg>\n);\nfunction getAPY() {\n  const result = fetch(\"https://metrics.linearprotocol.org\", {\n    method: \"GET\",\n  });\n  const apy = result.body.apy;\n  if (!apy) return \"-\";\n  return Big(apy).mul(100).toFixed(2) + \"%\";\n}\nfunction getxrefAPY() {\n  const result = Near.view(\"xtoken.ref-finance.near\", \"contract_metadata\");\n  if (!result) return \"-%\";\n  const { locked_token_amount, reward_per_sec } = result;\n  const apr =\n    (1 / locked_token_amount) *\n    (Number(reward_per_sec) * 365 * 24 * 60 * 60 * 100);\n  return Big(apr).toFixed(2) + \"%\";\n}\nfunction getNearXAPY() {\n  if (apy_value) {\n    return `${apy_value}%`;\n  } else {\n    return \"-\";\n  }\n}\nlet apy;\nif (componentType == \"liNEAR\") {\n  apy = getAPY();\n} else if (componentType == \"NearX\") {\n  apy = getNearXAPY();\n} else {\n  apy = getxrefAPY();\n}\nreturn (\n  <BannerData>\n    <ExchangeRoute>\n      <div class=\"bigIcon\">\n        <img src={firstIconUrl} />\n      </div>\n      <div class=\"flex-center\">\n        <span class=\"boldText\">{firstIconName}</span>\n        <span class=\"mx-10\">{arrowIcon}</span>\n        <img class=\"smallIcon\" src={secondIconUrl} />\n        <span class=\"thinText\">{secondIconName}</span>\n      </div>\n    </ExchangeRoute>\n    <div class=\"apr\">\n      APR<span class=\"value\">{apy}</span>\n    </div>\n  </BannerData>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/ref-admin.near/widget/stake-bannerIcon", "fact_widget_deployments_id": "d431ec1c3b7f2b70d2c74625998cdd3c", "inserted_timestamp": "2024-03-07T05:24:05.087Z", "modified_timestamp": "2024-03-07T05:24:05.087Z", "__row_index": 0}