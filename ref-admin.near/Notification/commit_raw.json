{"tx_hash": "EbGtUpPEKRQmSVmsk6cf9rE1dktXyypWeRKXGChEvnMM", "action_id_social": "DqSSHQVKru5Q1UtAqHwPHCz3s3cy8me2CxR3yF3zVBX4-0-widget", "block_id": 90367968, "block_timestamp": "2023-04-25T03:10:04.528Z", "signer_id": "ref-admin.near", "widget_name": "Notification", "source_code": "const { value } = props;\nconst { type } = value;\nconst item = value?.item || {};\nconst path = item.path || \"\";\n\nconst isComment = path.indexOf(\"/post/comment\") > 0 || type === \"comment\";\nconst isPost = !isComment && path.indexOf(\"/post/main\") > 0;\nconst likedPost = type === \"like\" && isPost;\nconst likedComment = type === \"like\" && isComment;\nlet postUrl = `/#/adminalpha.near/widget/PostPage?accountId=${\n  props.accountId\n}&${isComment ? \"commentBlockHeight\" : \"blockHeight\"}=${props.blockHeight}`;\n\nif (type === \"like\") {\n  const parentAccountId = path.split(\"/\")[0];\n  const parentBlockHeight = item.blockHeight;\n  postUrl = `/#/adminalpha.near/widget/PostPage?accountId=${parentAccountId}&${\n    isComment ? \"commentBlockHeight\" : \"blockHeight\"\n  }=${parentBlockHeight}`;\n}\n\nconst supportedTypes = [\n  \"poke\",\n  \"like\",\n  \"follow\",\n  \"unfollow\",\n  \"comment\",\n  \"mention\",\n];\n\nconst Wrapper = styled.div`\n  display: flex;\n  align-items: center;\n  gap: 24px;\n  background: rgba(26, 46, 51, 0.25);\n  border: 0.5px solid rgba(255, 255, 255, 0.3);\n  padding: 12px;\n  border-radius: 12px;\n  transition: background-color 200ms;\n\n  &:hover {\n    background: #eefeef;\n  }\n\n  > *:first-child {\n    width: 200px;\n    border-right: 1px solid #eceef0;\n    padding-right: 24px;\n  }\n\n  > *:last-child {\n    margin-left: auto;\n  }\n\n  @media (max-width: 600px) {\n    flex-direction: column;\n    align-items: start;\n    gap: 8px;\n\n    > *:first-child {\n      width: 100%;\n      border-right: none;\n      padding-right: 0;\n    }\n\n    > *:last-child {\n      margin-left: 0;\n    }\n  }\n`;\n\nconst Text = styled.p`\n  margin: 0;\n  line-height: 1.5rem;\n  color: ${(p) => (p.bold ? \"#7E8A93\" : \"#7E8A93\")} !important;\n  font-weight: 400;\n  font-size: ${(p) => (p.small ? \"12px\" : \"14px\")};\n  overflow: ${(p) => (p.ellipsis ? \"hidden\" : \"\")};\n  text-overflow: ${(p) => (p.ellipsis ? \"ellipsis\" : \"\")};\n  white-space: ${(p) => (p.ellipsis ? \"nowrap\" : \"\")};\n  overflow-wrap: anywhere;\n\n  b {\n    font-weight: 600;\n    color: #11181c;\n  }\n\n  &[href] {\n    font-weight: 600;\n    color: #006adc !important;\n    display: inline-flex;\n    gap: 0.25rem;\n\n    &:hover,\n    &:focus {\n      text-decoration: underline;\n    }\n  }\n`;\n\nconst Button = styled.a`\n  display: inline-flex;\n  align-items: center;\n  justify-content: center;\n  gap: 8px;\n  padding: 8px 16px;\n  height: 32px;\n  border-radius: 100px;\n  font-weight: 600;\n  font-size: 12px;\n  line-height: 15px;\n  text-align: center;\n  cursor: pointer;\n  background: #fbfcfd;\n  border: 1px solid #d7dbdf;\n  color: #006adc !important;\n  white-space: nowrap;\n\n  &.button--primary {\n    width: 100%;\n    color: #006adc !important;\n\n    @media (max-width: 1200px) {\n      width: auto;\n    }\n  }\n\n  &:hover,\n  &:focus {\n    background: #ecedee;\n    text-decoration: none;\n    outline: none;\n  }\n\n  i {\n    color: #7e868c;\n  }\n\n  .bi-16 {\n    font-size: 16px;\n  }\n`;\n\nif (type && type.startsWith(\"devgovgigs/\")) {\n  return (\n    <Widget src=\"mob.near/widget/Notification.Item.DevGov\" props={props} />\n  );\n}\n\nif (!supportedTypes.includes(type)) return <></>;\n\nreturn (\n  <Wrapper>\n    <div>\n      <Widget\n        src=\"ref-admin.near/widget/AccountProfile\"\n        props={{ accountId: props.accountId }}\n      />\n    </div>\n\n    <Text bold>\n      {type === \"follow\" && <>Followed you</>}\n      {type === \"unfollow\" && <>Unfollowed you</>}\n      {type === \"poke\" && <>Poked you</>}\n      <Text as=\"a\" href={postUrl}>\n        {type === \"like\" && likedPost && <>Liked your post</>}\n        {type === \"like\" && likedComment && <>Liked your comment</>}\n        {type === \"comment\" && <>Commented on your post</>}\n        {type === \"mention\" && <>Mentioned you</>}\n      </Text>\n      <Widget\n        src=\"mob.near/widget/TimeAgo\"\n        props={{ blockHeight: props.blockHeight }}\n      />{\" \"}\n      ago\n    </Text>\n\n    <div>\n      {(type === \"follow\" || type === \"unfollow\") && (\n        <Widget\n          src=\"adminalpha.near/widget/FollowButton\"\n          props={{ accountId: props.accountId }}\n        />\n      )}\n\n      {type === \"poke\" && (\n        <Widget\n          src=\"adminalpha.near/widget/PokeButton\"\n          props={{ accountId: props.accountId, back: true, primary: true }}\n        />\n      )}\n\n      {(type === \"like\" || type === \"comment\" || type === \"mention\") && (\n        <Button href={postUrl}>View {isComment ? \"Comment\" : \"Post\"}</Button>\n      )}\n    </div>\n  </Wrapper>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/ref-admin.near/widget/Notification", "fact_widget_deployments_id": "5fa64b841fcebb991a3e77448f7c3687", "inserted_timestamp": "2000-01-01T00:00:00.000Z", "modified_timestamp": "2000-01-01T00:00:00.000Z", "__row_index": 2}