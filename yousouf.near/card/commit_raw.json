{"tx_hash": "3WpC1TAjnwgMnVhTLtRBm8MCsF7WS5HVk9RYEYewmKZK", "action_id_social": "4jskWqJBpAwgDmTPPBpjir7TicAu52brNVqmjkNNpvpD-0-widget", "block_id": 107155570, "block_timestamp": "2023-12-04T19:04:52.811Z", "signer_id": "yousouf.near", "widget_name": "card", "source_code": "const generateCards = () => {\r\n  const icons = [\"\ud83c\udf1f\", \"\ud83d\ude80\", \"\ud83c\udf08\", \"\ud83c\udf88\", \"\u2b50\", \"\ud83c\udf3a\", \"\ud83c\udf55\", \"\ud83c\udf89\"];\r\n  const duplicatedIcons = [...icons, ...icons];\r\n  return duplicatedIcons.sort(() => Math.random() - 0.5);\r\n};\r\n\r\nconst [cards, setCards] = useState(generateCards());\r\nconst [flippedIndices, setFlippedIndices] = useState([]);\r\nconst [matchedPairs, setMatchedPairs] = useState([]);\r\nconst [score, setScore] = useState(0);\r\n\r\nuseEffect(() => {\r\n  if (flippedIndices.length === 2) {\r\n    const [firstIndex, secondIndex] = flippedIndices;\r\n\r\n    if (cards[firstIndex] === cards[secondIndex]) {\r\n      setMatchedPairs((prevMatchedPairs) => [\r\n        ...prevMatchedPairs,\r\n        cards[firstIndex],\r\n      ]);\r\n      setScore((prevScore) => prevScore + 1);\r\n    }\r\n\r\n    // Reset flipped indices after checking for a match\r\n    setTimeout(() => setFlippedIndices([]), 1000);\r\n  }\r\n}, [flippedIndices, cards]);\r\n\r\nconst handleClick = (index) => {\r\n  if (\r\n    flippedIndices.length === 2 ||\r\n    flippedIndices.includes(index) ||\r\n    matchedPairs.includes(cards[index])\r\n  ) {\r\n    return;\r\n  }\r\n\r\n  setFlippedIndices([...flippedIndices, index]);\r\n};\r\n\r\nconst cardStyle = {\r\n  width: \"100px\",\r\n  height: \"100px\",\r\n  display: \"flex\",\r\n  justifyContent: \"center\",\r\n  alignItems: \"center\",\r\n  fontSize: \"24px\",\r\n  cursor: \"pointer\",\r\n  backgroundColor: \"#ccc\",\r\n  borderRadius: \"8px\",\r\n  color: \"#ccc\",\r\n};\r\n\r\nconst flippedCardStyle = {\r\n  ...cardStyle,\r\n  backgroundColor: \"#ffe\",\r\n};\r\n\r\nconst darkBackground = {\r\n  display: \"flex\",\r\n  flexDirection: \"column\", // Adjusted to column layout\r\n  justifyContent: \"center\",\r\n  alignItems: \"center\",\r\n  height: \"100vh\",\r\n  backgroundColor: \"#1a1a1a\",\r\n  color: \"#ffe\",\r\n};\r\n\r\nreturn (\r\n  <div style={darkBackground}>\r\n    <div\r\n      style={{\r\n        display: \"grid\",\r\n        gridTemplateColumns: \"repeat(4, 100px)\",\r\n        gridGap: \"10px\",\r\n      }}\r\n    >\r\n      {cards.map((card, index) => (\r\n        <div\r\n          key={index}\r\n          onClick={() => handleClick(index)}\r\n          style={\r\n            flippedIndices.includes(index) || matchedPairs.includes(card)\r\n              ? flippedCardStyle\r\n              : cardStyle\r\n          }\r\n        >\r\n          {flippedIndices.includes(index) || matchedPairs.includes(card)\r\n            ? card\r\n            : \"\u2753\"}\r\n        </div>\r\n      ))}\r\n    </div>\r\n\r\n    <div style={{ marginTop: \"20px\", fontSize: \"18px\" }}>Score: {score}</div>\r\n  </div>\r\n);\r\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/yousouf.near/widget/card", "fact_widget_deployments_id": "0325c3693c94f5ef02d70c4a96da26bc", "inserted_timestamp": "2024-03-07T05:24:05.087Z", "modified_timestamp": "2024-03-07T05:24:05.087Z", "__row_index": 8}