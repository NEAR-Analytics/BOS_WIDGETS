{"tx_hash": "6v7xCRECWS39xTEw9gV3j3kV3bKzmuT4ELHs1KFyaBgH", "action_id_social": "EC7fCt2AEy59ysXDvjm5UydZU6wtxWhWfqwVZXYtUewq-0-widget", "block_id": 106946431, "block_timestamp": "2023-12-01T19:05:33.504Z", "signer_id": "yousouf.near", "widget_name": "games", "source_code": "const accountId = context.accountId;\r\nconst DevId = props.DevId ?? \"yousouf.near\";\r\nconst [selectedGame, setSelectedGame] = useState(null);\r\n\r\n// Function to handle button click\r\nconst handleButtonClick = (game) => {\r\n  setSelectedGame(game);\r\n};\r\n\r\nlet profile = Social.getr(`${accountId}/profile`);\r\n\r\nif (profile === null) {\r\n  return \"\";\r\n}\r\n\r\n// IAH Verification\r\nlet human = false;\r\nconst userSBTs = Near.view(\"registry.i-am-human.near\", \"sbt_tokens_by_owner\", {\r\n  account: accountId,\r\n});\r\n\r\nfor (let i = 0; i < userSBTs.length; i++) {\r\n  if (\"fractal.i-am-human.near\" == userSBTs[i][0]) {\r\n    human = true;\r\n  }\r\n}\r\n\r\nconst H1 = styled.h1`\r\n  font-family: \"FK Grotesk\", sans-serif;\r\n  font-style: normal;\r\n  font-weight: 500;\r\n  font-size: 85px;\r\n  line-height: 1;\r\n  text-align: center;\r\n  letter-spacing: -0.03em;\r\n  color: #000;\r\n  max-width: 700px;\r\n\r\n  span {\r\n    display: inline-block;\r\n    background: #62C6F2;\r\n    border-radius: 20px;\r\n    position: relative;\r\n    padding: 0.1em 0.2em 0;\r\n\r\n    svg {\r\n      position: absolute;\r\n      bottom: -8px;\r\n      right: -10px;\r\n      width: 24px;\r\n    }\r\n  }\r\n\r\n  @media (max-width: 900px) {\r\n    font-size: 50px;\r\n    max-width: 500px;\r\n\r\n    span {\r\n      border-radius: 12px;\r\n      svg {\r\n        position: absolute;\r\n        bottom: -6px;\r\n        right: -7px;\r\n        width: 16px;\r\n      }\r\n    }\r\n  }\r\n\r\n  @media (max-width: 480px) {\r\n    font-size: 50px;\r\n    max-width: 80%;\r\n      line-height: 1.2;\r\n\r\n\r\n    span {\r\n      border-radius: 10px;\r\n      svg {\r\n        position: absolute;\r\n        bottom: -5px;\r\n        right: -5px;\r\n        width: 15px;\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nconst Text = styled.p`\r\n  align-items: center,\r\n  font-family: \"FK Grotesk\", sans-serif;\r\n  font-size: ${(p) => p.size ?? \"18px\"};\r\n  line-height: ${(p) => p.lineHeight ?? \"1.5\"};\r\n  font-weight: ${(p) => p.weight ?? \"400\"};\r\n  color: ${(p) => p.color ?? \"#000\"};\r\n  margin: 15;\r\n  a {\r\n    color: inherit;\r\n    text-decoration: none;\r\n    transition: color 0.2s;\r\n\r\n    &:hover {\r\n      color: #333;\r\n    }\r\n  }\r\n`;\r\n\r\nconst Flex = styled.div`\r\n  display: flex;\r\n  gap: ${(p) => p.gap};\r\n  align-items: ${(p) => p.alignItems};\r\n  justify-content: ${(p) => p.justifyContent};\r\n  flex-direction: ${(p) => p.direction ?? \"row\"};\r\n  flex-wrap: ${(p) => p.wrap ?? \"nowrap\"};\r\n`;\r\n\r\nconst Container = styled.div`\r\n  display: flex;\r\n  max-width: 80%;\r\n  margin: 0 auto;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: center;\r\n  padding: 8px;\r\n\r\n  @media (max-width: 480px) {\r\n    max-width: 80%;\r\n  }\r\n`;\r\n\r\nreturn (\r\n  <Container center>\r\n    <Flex\r\n      gap=\"23px\"\r\n      direction=\"column\"\r\n      alignItems=\"center\"\r\n      justifyContent=\"center\"\r\n    >\r\n      <H1>Game Gallery on BOS</H1>\r\n\r\n      {!accountId ? (\r\n        <Widget\r\n          src=\"near/widget/DIG.Button\"\r\n          props={{\r\n            href: \"https://near.org/signup\",\r\n            label: \"Create Account\",\r\n            variant: \"outline-dark\",\r\n            size: \"large\",\r\n          }}\r\n        />\r\n      ) : (\r\n        <div>\r\n          {!profile ? (\r\n            <Flex gap=\"12px\" direction=\"column\" alignItems=\"center\">\r\n              <Widget src=\"hack.near/widget/pro.editor\" />\r\n            </Flex>\r\n          ) : (\r\n            <Flex gap=\"12px\" direction=\"column\" alignItems=\"left\">\r\n              <div style={{ maxWidth: \"90%\" }}>\r\n                <Widget\r\n                  src=\"near/widget/AccountProfileCard\"\r\n                  props={{\r\n                    accountId: accountId,\r\n                  }}\r\n                />\r\n                <hr />\r\n              </div>\r\n              <br />\r\n              <Text\r\n                size=\"23px\"\r\n                weight=\"555\"\r\n                style={{\r\n                  textAlign: \"center\",\r\n                  textTransform: \"uppercase\",\r\n                  letterSpacing: \"0.15em\",\r\n                }}\r\n              >\r\n                Games\r\n              </Text>\r\n\r\n              {/* Buttons for each game */}\r\n              <Flex gap=\"12px\">\r\n                <button onClick={() => handleButtonClick(\"tic-tac-toe\")}>\r\n                  \u2716\ufe0f \ud83d\udd18 \u2716\ufe0f \ud83d\udd18 \u2716\ufe0f \ud83d\udd18 \u2716\ufe0f \u2716\ufe0f \u2716\ufe0f \ud83d\udd18 \ud83d\udd18 \u2716\ufe0f \u2716\ufe0f \ud83d\udd18 \u2716\ufe0f \ud83d\udd18 \u2716\ufe0f \u2716\ufe0f \ud83d\udd18 \ud83d\udd18 \u2716\ufe0f\r\n                  \ud83d\udd18 \u2716\ufe0f \ud83d\udd18\r\n                </button>\r\n                <button onClick={() => handleButtonClick(\"rps\")}>\ud83d\udc96</button>\r\n                <button onClick={() => handleButtonClick(\"crossword\")}>\r\n                  \u2b50\r\n                </button>\r\n              </Flex>\r\n\r\n              {/* Render selected game widget */}\r\n              {selectedGame === null ? (\r\n                <p>Click to start</p>\r\n              ) : (\r\n                <Widget src={`yousouf.near/widget/${selectedGame}`} />\r\n              )}\r\n            </Flex>\r\n          )}\r\n        </div>\r\n      )}\r\n    </Flex>\r\n  </Container>\r\n);\r\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/yousouf.near/widget/games", "fact_widget_deployments_id": "86635dca239f094c0a5c8ce4c5ba9c84", "inserted_timestamp": "2023-12-01T21:17:50.758Z", "modified_timestamp": "2023-12-20T03:02:01.702Z", "__row_index": 3}