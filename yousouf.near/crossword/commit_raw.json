{"tx_hash": "9MuqDz6YPXJoqVH4jRpePXytadXZBUBrycbnmE5TpZzS", "action_id_social": "5HocoiSmTLhi5JQSwYbjGps9LcqJbyd3w8oTwzvvnYeN-0-widget", "block_id": 107019510, "block_timestamp": "2023-12-02T21:08:05.782Z", "signer_id": "yousouf.near", "widget_name": "crossword", "source_code": "const sampleWords = [\r\n  {\r\n    word: \"TUKUNYA\",\r\n    description: \"Abunda ake dafa abinci aciki.\",\r\n  },\r\n  {\r\n    word: \"KANO\",\r\n    description: \"Wane birni ne cibiyar kasuwanci a Najeriya.\",\r\n  },\r\n  {\r\n    word: \"BOS\",\r\n    description: \"Takaitaccen harafin Blockchain Operating System.\",\r\n  },\r\n  {\r\n    word: \"ABUJA\",\r\n    description: \"Ya sunan Babban Birnin Najeriya\",\r\n  },\r\n  {\r\n    word: \"RAMA\",\r\n    description: \"Abincin Hausawa na gargajiya da ake ci da karago.\",\r\n  },\r\n  {\r\n    word: \"LAKIDIRI\",\r\n    description: \"Menene sunan bucket da hausa.'\",\r\n  },\r\n];\r\n\r\nconst getRandomWord = () => {\r\n  const randomPlace = Math.floor(Math.random() * sampleWords.length);\r\n  return sampleWords[randomPlace];\r\n};\r\n\r\nconst [wordData, setWordData] = useState(getRandomWord());\r\nconst [msg, setMsg] = useState(\"\");\r\nconst [chosenLetters, setChosenLetters] = useState([]);\r\nconst [hints, setHints] = useState(3);\r\nconst [displayWord, setDisplayWord] = useState(false);\r\nconst [gameOver, setGameOver] = useState(false);\r\nconst [wrongGuesses, setWrongGuesses] = useState(0);\r\nconst [countdown, setCountdown] = useState(60);\r\nconst [score, setScore] = useState(0);\r\n\r\nuseEffect(() => {\r\n  if (wrongGuesses >= 3) {\r\n    setMsg(\"Game Over! You made too many wrong guesses.\");\r\n  }\r\n}, [wrongGuesses]);\r\n\r\nuseEffect(() => {\r\n  if (countdown > 0) {\r\n    const timer = setTimeout(() => {\r\n      setCountdown(countdown - 1);\r\n    }, 1000);\r\n    return () => clearTimeout(timer);\r\n  } else {\r\n    setMsg(\"Game Over! Time's up.\");\r\n  }\r\n}, [countdown]);\r\n\r\nconst letterSelectFunction = (letter) => {\r\n  if (!chosenLetters.includes(letter)) {\r\n    setChosenLetters([...chosenLetters, letter]);\r\n    if (!wordData.word.includes(letter)) {\r\n      setWrongGuesses(wrongGuesses + 1);\r\n    }\r\n  }\r\n};\r\n\r\nconst hintFunction = () => {\r\n  if (hints > 0) {\r\n    const hiddenLetterIndex = wordData.word\r\n      .split(\"\")\r\n      .findIndex((letter) => !chosenLetters.includes(letter));\r\n    setChosenLetters([...chosenLetters, wordData.word[hiddenLetterIndex]]);\r\n    setHints(hints - 1);\r\n  }\r\n};\r\n\r\nconst removeCharacterFunction = () => {\r\n  setChosenLetters(chosenLetters.slice(0, -1));\r\n};\r\n\r\nconst displayLettersFunction = () => {\r\n  const letters = \"ABCDEFGHIJKLMNOPQRSTUVWXYZ\";\r\n\r\n  return Array.from(letters).map((letter, index) => (\r\n    <button\r\n      key={index}\r\n      onClick={() => letterSelectFunction(letter)}\r\n      disabled={chosenLetters.includes(letter)}\r\n      style={{\r\n        padding: \"10px 15px\",\r\n        margin: \"5px\",\r\n        fontSize: \"16px\",\r\n        fontWeight: \"bold\",\r\n        color: \"#ffe\",\r\n        backgroundColor: chosenLetters.includes(letter) ? \"#000\" : \"#ccc\",\r\n        border: \"none\",\r\n        borderRadius: \"4px\",\r\n        cursor: \"pointer\",\r\n        transition: \"background-color 0.2s ease-in-out\",\r\n      }}\r\n    >\r\n      {letter}\r\n    </button>\r\n  ));\r\n};\r\n\r\nconst checkWordGuessedFunction = () => {\r\n  return wordData.word\r\n    .split(\"\")\r\n    .every((letter) => chosenLetters.includes(letter));\r\n};\r\n\r\nconst guessFunction = () => {\r\n  if (checkWordGuessedFunction()) {\r\n    setMsg(\"Congratulations, you get the word correct !   \ud83d\udd25 \");\r\n    setScore(score + 1); // Increase the score\r\n    sleep(2);\r\n    restartGameFunction();\r\n  } else {\r\n    setMsg(\"You fail !. try again!\");\r\n    setDisplayWord(true);\r\n  }\r\n};\r\n\r\nconst restartGameFunction = () => {\r\n  setWordData(getRandomWord());\r\n  setMsg(\"\");\r\n  setChosenLetters([]);\r\n  setHints(3);\r\n  setDisplayWord(false);\r\n  setGameOver(false);\r\n  setWrongGuesses(0);\r\n  setCountdown(60);\r\n};\r\n\r\nconst sleep = (seconds) => {\r\n  return new Promise((resolve) => setTimeout(resolve, seconds * 1000));\r\n};\r\n\r\nconst containerStyles = {\r\n  display: \"flex\",\r\n  flexDirection: \"column\",\r\n  alignItems: \"center\",\r\n  justifyContent: \"center\",\r\n  minHeight: \"100vh\",\r\n  backgroundColor: \"#333\",\r\n  color: \"#fff\",\r\n};\r\n\r\nconst buttonStyles = {\r\n  padding: \"12px 20px\",\r\n  fontSize: \"16px\",\r\n  fontWeight: \"bold\",\r\n  color: \"#ffe\",\r\n  borderRadius: \"4px\",\r\n  cursor: \"pointer\",\r\n  // transition: \"background-color 0.2s ease-in-out\",\r\n};\r\n\r\nconst letterStyles = {\r\n  display: \"flex\",\r\n  justifyContent: \"center\",\r\n  alignItems: \"center\",\r\n  width: \"60px\",\r\n  height: \"60px\",\r\n  margin: \"0 5px\",\r\n  borderRadius: \"50%\",\r\n  fontSize: \"24px\",\r\n  fontWeight: \"bold\",\r\n  backgroundColor: \"#ccc\",\r\n  color: \"#000\",\r\n  opacity: 0,\r\n  transition: \"opacity 0.2s ease-in-out\",\r\n};\r\n\r\nconst hintButtonStyles = {\r\n  padding: \"12px 20px\",\r\n  fontSize: \"16px\",\r\n  fontWeight: \"bold\",\r\n  color: \"#fff\",\r\n  border: \"none\",\r\n  borderRadius: \"8px\",\r\n  cursor: \"pointer\",\r\n  transition: \"background-color 0.2s ease-in-out\",\r\n};\r\n\r\nreturn (\r\n  <div style={containerStyles}>\r\n    <h1\r\n      style={{ fontSize: \"36px\", marginBottom: \"30px\", color: \"#15e402\" }}\r\n    ></h1>\r\n    <div\r\n      style={{\r\n        marginBottom: \"20px\",\r\n        fontSize: \"20px\",\r\n        fontWeight: \"bold\",\r\n        color: \"#ffe\",\r\n      }}\r\n    >\r\n      Score: {score}\r\n    </div>\r\n    <h5 style={{ color: \"#ffe\" }}>Time Remaining: {countdown} seconds</h5>\r\n\r\n    <div\r\n      style={{\r\n        marginBottom: \"20px\",\r\n        fontSize: \"20px\",\r\n        fontWeight: \"bold\",\r\n        color: \"#ccc\",\r\n      }}\r\n    >\r\n      Hints Remaining: {hints}{\" \"}\r\n      <button\r\n        onClick={hintFunction}\r\n        disabled={hints === 0}\r\n        style={{\r\n          ...hintButtonStyles,\r\n          backgroundColor: hints ? \"#000\" : \"#ccc\",\r\n          cursor: hints ? \"pointer\" : \"not-allowed\",\r\n        }}\r\n      >\r\n        Get Hint\r\n      </button>\r\n    </div>\r\n    <div\r\n      className=\"button-section\"\r\n      style={{\r\n        display: \"flex\",\r\n        flexDirection: \"row\",\r\n        alignItems: \"center\",\r\n        marginBottom: \"30px\",\r\n        flexWrap: \"wrap\",\r\n      }}\r\n    >\r\n      <div style={{ marginBottom: \"30px\" }}>\r\n        <button\r\n          onClick={restartGameFunction}\r\n          style={{\r\n            ...buttonStyles,\r\n            border: \"none\",\r\n            borderRadius: \"8px\",\r\n            backgroundColor: \"#000\",\r\n          }}\r\n        >\r\n          Next\r\n        </button>\r\n        <button\r\n          onClick={removeCharacterFunction}\r\n          disabled={!chosenLetters.length}\r\n          style={{\r\n            ...buttonStyles,\r\n            border: \"none\",\r\n            borderRadius: \"8px\",\r\n            backgroundColor: chosenLetters.length ? \"#000\" : \"#ccc\",\r\n            cursor: chosenLetters.length ? \"pointer\" : \"not-allowed\",\r\n          }}\r\n        >\r\n          Remove Letter\r\n        </button>\r\n        {!msg && (\r\n          <button\r\n            onClick={guessFunction}\r\n            disabled={!chosenLetters.length}\r\n            style={{\r\n              ...buttonStyles,\r\n              border: \"none\",\r\n              borderRadius: \"8px\",\r\n              backgroundColor: chosenLetters.length ? \"#000\" : \"#ccc\",\r\n              cursor: chosenLetters.length ? \"pointer\" : \"not-allowed\",\r\n            }}\r\n          >\r\n            Guess\r\n          </button>\r\n        )}\r\n      </div>\r\n    </div>\r\n    <div\r\n      style={{\r\n        display: \"flex\",\r\n        justifyContent: \"center\",\r\n        alignItems: \"center\",\r\n        marginBottom: \"50px\",\r\n      }}\r\n    >\r\n      {Array.from(wordData.word).map((letter, index) => (\r\n        <div\r\n          key={index}\r\n          style={{\r\n            ...letterStyles,\r\n            opacity: chosenLetters.includes(letter) ? 1 : 0,\r\n          }}\r\n        >\r\n          {chosenLetters.includes(letter) ? letter : \"\"}\r\n        </div>\r\n      ))}\r\n    </div>\r\n    <p\r\n      className=\"word-description\"\r\n      style={{\r\n        fontSize: \"18px\",\r\n        fontStyle: \"bold\",\r\n        color: \"#ffe\",\r\n        marginBottom: \"20px\",\r\n      }}\r\n    >\r\n      Hint: {wordData.description}\r\n    </p>\r\n    {msg && (\r\n      <div\r\n        className=\"message\"\r\n        style={{\r\n          fontSize: \"24px\",\r\n          fontWeight: \"bold\",\r\n          color: \"#ffe\",\r\n          textAlign: \"center\",\r\n          marginBottom: \"20px\",\r\n        }}\r\n      >\r\n        <p>{msg}</p>\r\n        {displayWord && <p>Correct word was: {wordData.word}</p>}\r\n      </div>\r\n    )}\r\n    <div\r\n      className=\"letter-selection\"\r\n      style={{\r\n        color: \"grey\",\r\n        display: \"flex\",\r\n        flexWrap: \"wrap\",\r\n        justifyContent: \"center\",\r\n        marginBottom: \"30px\",\r\n      }}\r\n    >\r\n      {displayLettersFunction()}\r\n    </div>\r\n  </div>\r\n);\r\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/yousouf.near/widget/crossword", "fact_widget_deployments_id": "af9bd31c4b30b211d59da83df60bfe7d", "inserted_timestamp": "2023-12-02T23:17:48.139Z", "modified_timestamp": "2023-12-20T03:22:11.422Z", "__row_index": 8}