{"tx_hash": "5iuvqPm8BoDtWHhJqXivvYMwAtvAYmHutnvBvm7Ykzza", "action_id_social": "FQTj3F8tZvro5DS5BbQUugmHM11MpXGy3mGxghCx9DMS-0-widget", "block_id": 106810024, "block_timestamp": "2023-11-29T14:06:55.595Z", "signer_id": "yousouf.near", "widget_name": "tic-tac-toe", "source_code": "const calculateWinner = (squares) => {\r\n  const lines = [\r\n    [0, 1, 2],\r\n    [3, 4, 5],\r\n    [6, 7, 8],\r\n    [0, 3, 6],\r\n    [1, 4, 7],\r\n    [2, 5, 8],\r\n    [0, 4, 8],\r\n    [2, 4, 6],\r\n  ];\r\n\r\n  for (let i = 0; i < lines.length; i++) {\r\n    const [a, b, c] = lines[i];\r\n    if (squares[a] && squares[a] === squares[b] && squares[a] === squares[c]) {\r\n      return squares[a];\r\n    }\r\n  }\r\n\r\n  return null;\r\n};\r\n\r\nconst isBoardFull = (squares) => {\r\n  return squares.every((square) => square !== null);\r\n};\r\n\r\nconst [squares, setSquares] = useState(Array(9).fill(null));\r\nconst [xIsNext, setXIsNext] = useState(true);\r\n\r\nconst handleClick = (index) => {\r\n  if (squares[index] || calculateWinner(squares) || isBoardFull(squares)) {\r\n    return;\r\n  }\r\n\r\n  const newSquares = [...squares];\r\n  newSquares[index] = xIsNext ? \"X\" : \"O\";\r\n  setSquares(newSquares);\r\n  setXIsNext(!xIsNext);\r\n};\r\n\r\nconst winner = calculateWinner(squares);\r\nconst isFull = isBoardFull(squares);\r\n\r\nlet status;\r\nif (winner) {\r\n  status = `Winner: ${winner === \"X\" ? \"PLAYER 1\" : \"PLAYER 2\"}`;\r\n} else if (isFull) {\r\n  status = \"It's a draw!\";\r\n} else {\r\n  status = `Next player: ${xIsNext ? \"PLAYER 1\" : \"PLAYER 2\"}`;\r\n}\r\n\r\nreturn (\r\n  <div\r\n    style={{\r\n      display: \"flex\",\r\n      flexDirection: \"column\",\r\n      alignItems: \"center\",\r\n      marginTop: \"50px\",\r\n      fontFamily: \"Arial, sans-serif\",\r\n    }}\r\n  >\r\n    <div\r\n      style={{\r\n        backgroundColor: winner ? \"#8eff8e\" : \"#fff\",\r\n        border: \"1px solid #ccc\",\r\n        borderRadius: \"8px\",\r\n        boxShadow: \"0px 0px 10px 0px rgba(0, 0, 0, 0.2)\",\r\n        padding: \"20px\",\r\n        display: \"grid\",\r\n        gridTemplateColumns: \"repeat(3, 1fr)\",\r\n        gap: \"10px\",\r\n        fontSize: \"24px\",\r\n        fontWeight: \"bold\",\r\n        textAlign: \"center\",\r\n        cursor: \"pointer\",\r\n        transition: \"background-color 0.3s ease-in-out\",\r\n      }}\r\n    >\r\n      <div\r\n        style={{ fontSize: \"24px\", marginBottom: \"20px\", gridColumn: \"span 3\" }}\r\n      >\r\n        {status}\r\n      </div>\r\n\r\n      {squares.map((value, index) => (\r\n        <button\r\n          key={index}\r\n          className=\"square\"\r\n          onClick={() => handleClick(index)}\r\n          style={{\r\n            backgroundColor: winner ? \"#8eff8e\" : \"#fff\",\r\n            border: \"1px solid #ccc\",\r\n            fontSize: \"24px\",\r\n            fontWeight: \"bold\",\r\n            padding: \"20px\",\r\n            textAlign: \"center\",\r\n            width: \"60px\",\r\n            height: \"60px\",\r\n            cursor: \"pointer\",\r\n            transition: \"background-color 0.3s ease-in-out\",\r\n          }}\r\n        >\r\n          {value}\r\n        </button>\r\n      ))}\r\n    </div>\r\n  </div>\r\n);\r\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/yousouf.near/widget/tic-tac-toe", "fact_widget_deployments_id": "21cd538d6cfa94f0b4caea8c440f072c", "inserted_timestamp": "2023-11-29T16:21:19.653Z", "modified_timestamp": "2023-12-20T00:36:59.366Z", "__row_index": 10}