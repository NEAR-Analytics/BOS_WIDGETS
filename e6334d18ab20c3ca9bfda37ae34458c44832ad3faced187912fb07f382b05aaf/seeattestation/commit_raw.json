{"tx_hash": "BVf1bRU7aiaE9YjwG2RR2hVDSJQq8EPzaLWujPPXqiKC", "action_id_social": "CY7WLpCvsK39kxNPCM7kTL621gGL3VMZPDWSbfdqUvpp-0-widget", "block_id": 97133303, "block_timestamp": "2023-07-23T08:52:46.899Z", "signer_id": "e6334d18ab20c3ca9bfda37ae34458c44832ad3faced187912fb07f382b05aaf", "widget_name": "seeattestation", "source_code": "State.init({\r\n  selected: \"NEAR\",\r\n});\r\n\r\nconst handleSelect2 = (data) => {\r\n  State.update({ selected: data.target.value });\r\n};\r\n\r\n// FETCH LIDO ABI\r\n// estos valores deben reemplazarse por los reales\r\n\r\nconst lidoContract = \"0xd9e1cE17f2641f24aE83637ab66a2cca9C378B9F\";\r\n\r\nconst mainnetLidoContract = \"0xd9e1ce17f2641f24ae83637ab66a2cca9c378b9f\";\r\nconst gorliLidoContract = \"0x1b02dA8Cb0d097eB8D57A175b88c7D8b47997506\";\r\nconst tokenDecimals = 18;\r\nconst contract = \"0x6B3595068778DD592e39A122f4f5a5cF09C90fE2\";\r\nconst initSearchText = props.searchText;\r\nconst data = props.data;\r\nconst debug = props.debug;\r\nconst minLength = props.minLength;\r\nconst placeholder = props.placeholder ?? \"Search\";\r\nconst searchTermKey = props.searchTermKey; // search term key on data item\r\n//const network = \"gorli\"; // \"gorli\" // \"rinkeby\" // \"mainnet\"\r\ninitState({\r\n  data,\r\n  searchText: initSearchText,\r\n  result: data,\r\n  placeholder,\r\n});\r\n\r\nconst handleSearch = (_search) => {\r\n  const _result =\r\n    !_search || _search.length < minLength\r\n      ? state.data\r\n      : state.data.filter(\r\n          (item) =>\r\n            item[searchTermKey].toLowerCase().indexOf(_search.toLowerCase()) !==\r\n            -1\r\n        );\r\n\r\n  State.update({\r\n    result: _result,\r\n    searchText: _search,\r\n  });\r\n\r\n  if (props.onChange) {\r\n    props.onChange({ searchText, result: _result });\r\n  }\r\n};\r\nconst network = \"mainnet\";\r\nswitch (network) {\r\n  case \"gorli\":\r\n    lidoContract = gorliLidoContract;\r\n    break;\r\n  case \"mainnet\":\r\n    lidoContract = mainnetLidoContract;\r\n    break;\r\n  case \"ropsten\":\r\n    lidoContract = mainnetLidoContract;\r\n    break;\r\n  default:\r\n    lidoContract = mainnetLidoContract;\r\n    break;\r\n}\r\n\r\nconst handleSelect = (data) => {\r\n  console.log(data.target.value);\r\n  let info = data.target.value.split(\"-\");\r\n  State.update({ tokenTo: info[1] });\r\n  if (info[0] == \"near\") {\r\n    State.update({ tokenSelected: 0 });\r\n  } else if (info[0] == \"aurora\") {\r\n    State.update({ tokenSelected: 1 });\r\n  }\r\n  console.log(state.tokenSelected);\r\n  contract = data.target.value;\r\n};\r\n\r\nconst lidoAbi = fetch(\r\n  \"https://raw.githubusercontent.com/cloudmex/sushiswap-bos/main/abi-sushi.json\"\r\n);\r\n\r\nconsole.log(lidoAbi);\r\n\r\nif (!lidoAbi.ok) {\r\n  return \"Loading\";\r\n}\r\n\r\n// FETCH CSS\r\n\r\nconst cssFont = fetch(\r\n  \"https://fonts.googleapis.com/css2?family=Manrope:wght@200;300;400;500;600;700;800\"\r\n).body;\r\n\r\nconst css = `\r\n.LidoContainer{\r\n    box-sizing: border-box;\r\n    margin: 0px auto;\r\n    min-width: 320px;\r\n    width: 100%;\r\n    padding: 0px 32px;\r\n    max-width: 560px;\r\n    position: relative;\r\n    margin-top: 8px;\r\n    margin-bottom: 8px;\r\n}\r\n\r\n.Header{\r\n    font-weight: 800;\r\n    font-size: 26px;\r\n    margin-bottom: 0.2em;\r\n    line-height: 1.2em;\r\n    text-align: center;\r\n}\r\n\r\n.SubHeader{\r\n    font-weight: 500;\r\n    color: #FF79D8;\r\n    margin-bottom: 16px;\r\n    font-size: 12px;\r\n    line-height: 1.5em;\r\n    text-align: center;\r\n};\r\n\r\n\r\n.selectCSS{\r\n    font-weight: 400;\r\n    font-size: 14px;\r\n    display: flex;\r\n    border: none;\r\n    -webkit-box-flex: 1;\r\n    flex-grow: 1;\r\n    position: relative;\r\n    padding: 17px 0px;\r\n    color: #273852;\r\n}\r\n\r\n\r\n.form-control {\r\n    flex: inherit;\r\n    width: fit-content;\r\n    width: 44%;\r\n}\r\n.alineacion{\r\n    margin-left: 20%;\r\n}\r\n.table{\r\n    \r\n    border: 0px solid white !important;\r\n    border-collapse: collapse;\r\n}\r\n.bi bi-info-circle,.bi-info-circle::before{\r\n    margin-left: -22px !important;\r\n}\r\n.top{\r\n    padding-top: 18px;\r\n}\r\n.negritas{\r\n    font-weight: bolder;\r\n}\r\n.chicas{\r\n    font-size: 10px;\r\n\r\n}\r\n`;\r\n\r\nconst Main = styled.div`\r\n  display: grid;\r\n  gap: 20px;\r\n  grid-template-columns: 352px minmax(0, 1fr);\r\n  align-items: start;\r\n\r\n  @media (max-width: 1200px) {\r\n    grid-template-columns: minmax(0, 1fr);\r\n  }\r\n`;\r\nconst LogoImage = styled.img`\r\n  width: 252px; \r\n  margin-right: 12px;\r\n  margin-top: 1px; \r\n`;\r\nconst SidebarWrapper = styled.div`\r\n  position: relative;\r\n  z-index: 5;\r\n  margin-top: -55px;\r\n\r\n  @media (max-width: 900px) {\r\n    margin-top: -40px;\r\n  }\r\n`;\r\n\r\nconst Content = styled.div`\r\n  .post {\r\n    padding-left: 0;\r\n    padding-right: 0;\r\n  }\r\n`;\r\n\r\nconst Title = styled.h1`\r\n  font-weight: 600;\r\n  font-size: ${(p) => p.size || \"25px\"};\r\n  line-height: 1.2em;\r\n  color: #11181c;\r\n  margin: ${(p) => (p.margin ? \"0 0 24px\" : \"0\")};\r\n  overflow-wrap: anywhere;\r\n`;\r\n\r\nconst Tabs = styled.div`\r\n  display: flex;\r\n  height: 48px;\r\n  border-bottom: 1px solid #eceef0;\r\n  margin-bottom: 72px;\r\n  overflow: auto;\r\n  scroll-behavior: smooth;\r\n\r\n  @media (max-width: 1200px) {\r\n    background: #f8f9fa;\r\n    border-top: 1px solid #eceef0;\r\n    margin: 0 -12px 48px;\r\n\r\n    > * {\r\n      flex: 1;\r\n    }\r\n  }\r\n`;\r\n\r\nconst TabsButton = styled.a`\r\n  display: inline-flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  height: 100%;\r\n  font-weight: 600;\r\n  font-size: 22px;\r\n  padding: 0 12px;\r\n  position: relative;\r\n  color: ${(p) => (p.selected ? \"#11181C\" : \"#687076\")};\r\n  background: none;\r\n  border: none;\r\n  outline: none;\r\n  text-align: center;\r\n  text-decoration: none !important;\r\n\r\n  &:hover {\r\n    color: #11181c;\r\n  }\r\n\r\n  &::after {\r\n    content: \"\";\r\n    display: ${(p) => (p.selected ? \"block\" : \"none\")};\r\n    position: absolute;\r\n    bottom: 0;\r\n    left: 0;\r\n    right: 0;\r\n    height: 3px;\r\n    background: #59e692;\r\n  }\r\n`;\r\n\r\nif (!cssFont || !css) return \"\";\r\n\r\nif (!state.theme) {\r\n  State.update({\r\n    theme: styled.div`\r\n    font-family: Manrope, -apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Oxygen, Ubuntu, Cantarell, Fira Sans, Droid Sans, Helvetica Neue, sans-serif;\r\n    ${cssFont}\r\n    ${css}\r\n`,\r\n  });\r\n}\r\nconst Theme = state.theme;\r\n\r\n// OUTPUT UI\r\n\r\nconst getSender = () => {\r\n  return !state.sender\r\n    ? \"\"\r\n    : state.sender.substring(0, 6) +\r\n        \"...\" +\r\n        state.sender.substring(state.sender.length - 4, state.sender.length);\r\n};\r\n\r\nreturn (\r\n  <Theme>\r\n    <div\r\n      className=\"container-fluid py-4\"\r\n      style={{\r\n        backgroundPosition: \"center\",\r\n        backgroundSize: \"cover\",\r\n        backgroundAttachment: \"fixed\",\r\n        perspective: \"1px\",\r\n        overflowX: \"hidden\",\r\n        overflowY: \"auto\",\r\n        background:\r\n          \"linear-gradient(90deg, rgba(205, 255, 216, 1.000000) 0%, rgba(148, 185, 255, 1.000000) 100%)\",\r\n      }}\r\n    >\r\n      <div class=\"img-fluid  text-center\">\r\n        <div class=\"col-lg-1\">\r\n          <img\r\n            class=\"float-center\"\r\n            src=\"https://ipfs.near.social/ipfs/bafkreiajtzhlslb2ctqgzu6fxydqkglwswmtgp76hj5trvi4jr2feew5fe\"\r\n            width=\"100\"\r\n          />\r\n        </div>\r\n      </div>\r\n      <div className=\"d-flex justify-content-center \">\r\n        <Tabs>\r\n          <TabsButton\r\n            href={`?errorCode=userRejected&errorMessage=User%2520rejected%2520transaction&transactionHashes=DtUjEkQBFs88FXtG7e8WG7r1FoT3TRhwwCf9cSuU3gWH#/e6334d18ab20c3ca9bfda37ae34458c44832ad3faced187912fb07f382b05aaf/widget/IEF`}\r\n            selected={state.selectedTab === \"home\"}\r\n          >\r\n            Home\r\n          </TabsButton>\r\n\r\n          <TabsButton\r\n            href={`?errorCode=userRejected&errorMessage=User%2520rejected%2520transaction&transactionHashes=DtUjEkQBFs88FXtG7e8WG7r1FoT3TRhwwCf9cSuU3gWH#/e6334d18ab20c3ca9bfda37ae34458c44832ad3faced187912fb07f382b05aaf/widget/createanattestation`}\r\n            selected={state.selectedTab === \"Makeanattestation\"}\r\n          >\r\n            Create an attestation\r\n          </TabsButton>\r\n\r\n          <TabsButton\r\n            href={`?errorCode=userRejected&errorMessage=User%2520rejected%2520transaction&transactionHashes=DtUjEkQBFs88FXtG7e8WG7r1FoT3TRhwwCf9cSuU3gWH#/e6334d18ab20c3ca9bfda37ae34458c44832ad3faced187912fb07f382b05aaf/widget/seeattestation`}\r\n            selected={state.selectedTab === \"Seetheattestation\"}\r\n          >\r\n            See the attestations\r\n          </TabsButton>\r\n\r\n          <input\r\n            type=\"text\"\r\n            className={`form-control ${state.searchText ? \"border-end-0\" : \"\"}`}\r\n            value={state.searchText}\r\n            onChange={(e) => handleSearch(e.target.value)}\r\n            placeholder={\"\ud83d\udd0d \" + state.placeholder}\r\n          />\r\n\r\n          {state.searchText && (\r\n            <button\r\n              className=\"btn btn-outline-secondary border border-start-0\"\r\n              type=\"button\"\r\n              onClick={() => handleSearch()}\r\n            >\r\n              <i className=\"bi bi-x\"></i>\r\n            </button>\r\n          )}\r\n\r\n          {debug && <pre>{JSON.stringify(state.result, undefinedd, 2)}</pre>}\r\n          <TabsButton>\r\n            {!!state.sender ? (\r\n              <button\r\n                className=\"\"\r\n                onClick={() => submitEthers(state.strEther, state.sender)}\r\n              >\r\n                <span></span>\r\n              </button>\r\n            ) : (\r\n              <Web3Connect className=\"\" connectLabel=\"Connect Wallet\" />\r\n            )}\r\n          </TabsButton>\r\n        </Tabs>\r\n      </div>\r\n      <div className=\"container col-9 mt-4 bg-white h6\">\r\n        <div className=\"row\">\r\n          <div className=\"col m-2 negritas\">Name: attestation</div>\r\n          <div className=\"col\"></div>\r\n          <div className=\"col m-2 negritas\">Created the:</div>\r\n        </div>\r\n        <div className=\"row \">\r\n          <div className=\"col m-2 negritas\">Type:</div>\r\n          <div className=\"col\"></div>\r\n          <div className=\"col\"></div>\r\n        </div>\r\n        <div className=\"row\">\r\n          <div className=\"col m-2 negritas\">From:</div>\r\n          <div className=\"col\"></div>\r\n          <div className=\"col\"></div>\r\n        </div>\r\n        <div className=\"row\">\r\n          <div className=\"col m-2 negritas chicas\">Transaction id:</div>\r\n          <div className=\"col\"></div>\r\n          <div className=\"col\"></div>\r\n        </div>\r\n        <div className=\"row\">\r\n          <div className=\"col m-2 negritas chicas\">UID:</div>\r\n          <div className=\"col\"></div>\r\n          <div className=\"col\"></div>\r\n        </div>\r\n        <div className=\"row\">\r\n          <div className=\"col m-2 negritas\">Date</div>\r\n          <div className=\"col-8 m-2\">\r\n            <input type=\"text\" className=\"form-control\" />\r\n          </div>\r\n          <div className=\"col\"></div>\r\n        </div>\r\n        <div className=\"row\">\r\n          <div className=\"col m-2 negritas\">Name</div>\r\n          <div className=\"col-8 m-2\">\r\n            <input type=\"text\" className=\"form-control\" />\r\n          </div>\r\n          <div className=\"col\"></div>\r\n        </div>\r\n        <div className=\"row\">\r\n          <div className=\"col m-1 negritas\">Regulation</div>\r\n          <div className=\"col-8 m-1\">\r\n            <input type=\"text\" className=\"form-control\" />\r\n          </div>\r\n          <div className=\"col\"></div>\r\n        </div>\r\n        <div className=\"row\">\r\n          <div className=\"col m-2 negritas\">Posture</div>\r\n          <div className=\"col-8 m-2\">\r\n            <input type=\"text\" className=\"form-control\" />\r\n          </div>\r\n          <div className=\"col\"></div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    {/* fin */}\r\n  </Theme>\r\n);\r\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/e6334d18ab20c3ca9bfda37ae34458c44832ad3faced187912fb07f382b05aaf/widget/seeattestation", "fact_widget_deployments_id": "5840f2985989672c4a5086d4bcc3a30a", "inserted_timestamp": "2000-01-01T00:00:00.000Z", "modified_timestamp": "2000-01-01T00:00:00.000Z", "__row_index": 0}