{"tx_hash": "9dTw5QwZh5xdogAGAP8w2Jr8EUEkSSUQ4QQxb8z7nbiB", "action_id_social": "ArMyMw1CgWCxazQWoRCa8yYPSsD7nVbwtWtVV3iLcUGX-0-widget", "block_id": 104694040, "block_timestamp": "2023-11-01T14:50:31.020Z", "signer_id": "gagdiez.near", "widget_name": "HelloNear", "source_code": "const contract = \"hello.near-examples.near\";\nconst [greeting, setGreeting] = useState(\"loading...\");\nconst [activeIndex, setActiveIndex] = useState(0);\n\nconst Main = styled.div`\n  font-family: -apple-system, BlinkMacSystemFont, Segoe UI\n`;\n\nuseEffect(() => {\n  let greet = Near.view(contract, \"get_greeting\", {});\n  setGreeting(greet);\n}, [context.loading]);\n\nuseEffect(() => {\n  setActiveIndex(context.accountId ? 1 : 0);\n}, [context.accountId]);\n\nconst onInputChange = ({ target }) => {\n  setGreeting(target.value);\n};\n\nconst onBtnClick = () => {\n  Near.call(contract, \"set_greeting\", { greeting });\n};\n\n// Render\nreturn (\n  <Main>\n    <div class=\"container py-4 px-5 text-dark bg-light rounded\">\n      <h3 class=\"text-center\">\n        The contract says:\n        <span class=\"text-primary\"> {greeting} </span>\n      </h3>\n\n      <div class=\"p-4\">\n        <div className=\"input-group\" hidden={activeIndex === 0}>\n          <input placeholder=\"Store a new greeting\" onChange={onInputChange} />\n          <button class=\"btn btn-primary\" onClick={onBtnClick}>\n            Save\n          </button>\n        </div>\n\n        <p class=\"text-center py-2\" hidden={activeIndex === 1}>\n          Login to change the greeting\n        </p>\n      </div>\n    </div>\n  </Main>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/gagdiez.near/widget/HelloNear", "fact_widget_deployments_id": "4f5ab3e47edbe0c2040a1bb81c8fea73", "inserted_timestamp": "2023-11-01T16:44:44.289Z", "modified_timestamp": "2023-11-01T16:44:44.289Z", "__row_index": 7}