{"tx_hash": "BsaMfJGyDSP9rKsBc5QoDuwPrCXqo49KHUoDx71rZh3R", "action_id_social": "7DGWL9puzgGgSjoy5XJMrHWGFsv1sRLKV8U35qcbscFH-0-widget", "block_id": 109164597, "block_timestamp": "2023-12-30T15:37:03.730Z", "signer_id": "gagdiez.near", "widget_name": "Darija.Knowledge.Create", "source_code": "if(context.loading) return 'Loading ...';\n\nconst uuid = props.uuid;\nlet inKnown = [];\nlet inTitle = '';\n\nif (uuid) {\n  const retrieved = JSON.parse(Social.get('gagdiez.near/knowledge', uuid));\n  if(retrieved === undefined) return 'Loading ...';\n  inTitle = retrieved.title;\n  inKnown = retrieved.knowledge;\n}\n\nconst [title, setTitle] = useState(inTitle);\nconst [knowledge, setKnowledge] = useState(inKnown);\n\nconst submit = () => {\n\n  if (!title) return;\n\n  Social.set({\n    knowledge: JSON.stringify({\n      title, knowledge\n    }),\n    index: {\n      knowledge: JSON.stringify({\n        key: 'darija',\n        value: { uuid, title }\n      })\n    }\n  })\n}\n\nreturn (\n  <>\n    <div class=\"mb-3\">\n      <label for=\"title\">Title</label>\n      <input type=\"text\" value={title} onChange={(e) => setTitle(e.target.value)} />\n    </div>\n    <Widget\n      src=\"gagdiez.near/widget/Darija.Components.Table\"\n      props={{\n        elements: knowledge,\n        keys: [\"darija\", \"spanish\", \"emoji\"],\n        editors: {\n          darija: { type: \"text\" },\n          spanish: { type: \"text\" },\n          emoji: { type: \"text\" },\n        },\n        onUpdate: setKnowledge,\n      }}\n    />\n\n    <button class=\"btn btn-success align-right\" onClick={submit}>Submit</button>\n  </>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/gagdiez.near/widget/Darija.Knowledge.Create", "fact_widget_deployments_id": "c404f57c4cf7464b1fc84564bf5b9508", "inserted_timestamp": "2024-03-07T05:24:05.087Z", "modified_timestamp": "2024-03-07T05:24:05.087Z", "__row_index": 4}