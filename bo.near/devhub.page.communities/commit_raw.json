{"tx_hash": "xKdVdBCaZuLcrvFR9embqUKdpyoyWaTaWwLHkuDbgH5", "action_id_social": "AV9MDS6w2qwGRtpumfVW3JQiDjmHGShgbnkx7CEUUvWC-0-widget", "block_id": 104578691, "block_timestamp": "2023-10-31T01:35:05.956Z", "signer_id": "bo.near", "widget_name": "devhub.page.communities", "source_code": "const { getAllCommunitiesMetadata, createCommunity } = VM.require(\n  \"${REPL_DEVHUB}/widget/core.adapter.devhub-contract\"\n);\n\nif (!getAllCommunitiesMetadata || !createCommunity) {\n  return <p>Loading modules...</p>;\n}\n\nconst onCommunitySubmit = (inputs) =>\n  createCommunity({\n    inputs: {\n      ...inputs,\n\n      bio_markdown: [\n        \"This is a sample text about your community.\",\n        \"You can change it on the community configuration page.\",\n      ].join(\"\\n\"),\n\n      logo_url:\n        \"https://ipfs.near.social/ipfs/bafkreibysr2mkwhb4j36h2t7mqwhynqdy4vzjfygfkfg65kuspd2bawauu\",\n\n      banner_url:\n        \"https://ipfs.near.social/ipfs/bafkreic4xgorjt6ha5z4s5e3hscjqrowe5ahd7hlfc5p4hb6kdfp6prgy4\",\n    },\n  });\n\nconst [showSpawner, setShowSpawner] = useState(false);\n\nconst communitiesMetadata = getAllCommunitiesMetadata();\n\nif (!communitiesMetadata) {\n  return <p>Loading...</p>;\n}\nreturn (\n  <div className=\"w-100\">\n    <div\n      className=\"d-flex justify-content-between p-4\"\n      style={{ backgroundColor: \"#181818\" }}\n    >\n      <div className=\"d-flex flex-column gap-3\">\n        <h1 className=\"m-0 fs-4\">\n          <Link\n            to={\"/${REPL_DEVHUB}/widget/app?page=communities\"}\n            className=\"text-white\"\n          >\n            Communities\n          </Link>\n        </h1>\n\n        <p className=\"m-0 text-muted fs-6\">\n          Discover NEAR developer communities\n        </p>\n      </div>\n      {context.accountId && (\n        <div className=\"d-flex flex-column justify-content-center\">\n          <Widget\n            src={\"${REPL_DEVHUB}/widget/devhub.components.molecule.Button\"}\n            props={{\n              icon: { type: \"bootstrap_icon\", variant: \"bi-people-fill\" },\n              onClick: () => setShowSpawner(!showSpawner),\n              className: \"btn btn-primary\",\n              label: \"Create Community\",\n            }}\n          />\n        </div>\n      )}\n    </div>\n    <div className=\"d-flex flex-wrap align-content-start gap-4 p-4 w-100 h-100\">\n      {showSpawner && (\n        <Widget\n          src=\"${REPL_DEVHUB}/widget/devhub.entity.community.Spawner\"\n          props={{\n            data: null,\n            onSubmit: onCommunitySubmit,\n            onCancel: () => setShowSpawner(false),\n          }}\n        />\n      )}\n      {(communitiesMetadata ?? []).reverse().map((communityMetadata) => (\n        <Widget\n          src=\"${REPL_DEVHUB}/widget/devhub.entity.community.Card\"\n          props={{\n            format: \"small\",\n            isBannerEnabled: false,\n            metadata: communityMetadata,\n          }}\n        />\n      ))}\n    </div>\n  </div>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/bo.near/widget/devhub.page.communities", "fact_widget_deployments_id": "6a1a814c3c3225454085729308339a9d", "inserted_timestamp": "2024-03-07T05:24:05.087Z", "modified_timestamp": "2024-03-07T05:24:05.087Z", "__row_index": 82}