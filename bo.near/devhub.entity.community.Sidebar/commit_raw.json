{"tx_hash": "BtNdsA1AXPc2BsHyGJFmfUHsgRv2y871mxLggnqRcy41", "action_id_social": "3kUKeAMARB4kzfYkdDhxhQfoQkcqAadniHvkh1JVzRKH-0-widget", "block_id": 104578317, "block_timestamp": "2023-10-31T01:28:07.163Z", "signer_id": "bo.near", "widget_name": "devhub.entity.community.Sidebar", "source_code": "const { href } = VM.require(\"${REPL_DEVHUB}/widget/core.lib.url\");\n\nif (!href) {\n  return <p>Loading modules...</p>;\n}\n\nconst { community } = props;\n\nfunction trimHttps(url) {\n  if (url.startsWith(\"https://\")) {\n    return url.substring(8);\n  }\n  return url;\n}\n\nconst CommunitySummary = () => {\n  const socialLinks = [\n    ...((community.website_url?.length ?? 0) > 0\n      ? [\n          {\n            href: `https://${trimHttps(community.website_url)}`,\n            iconClass: \"bi bi-globe\",\n            name: trimHttps(community.website_url),\n          },\n        ]\n      : []),\n\n    ...((community.github_handle?.length ?? 0) > 0\n      ? [\n          {\n            href: `https://github.com/${community.github_handle}`,\n            iconClass: \"bi bi-github\",\n            name: community.github_handle,\n          },\n        ]\n      : []),\n\n    ...((community.twitter_handle?.length ?? 0) > 0\n      ? [\n          {\n            href: `https://twitter.com/${community.twitter_handle}`,\n            iconClass: \"bi bi-twitter\",\n            name: community.twitter_handle,\n          },\n        ]\n      : []),\n\n    ...(community.telegram_handle.length > 0\n      ? community.telegram_handle.map((telegram_handle) => ({\n          href: `https://t.me/${telegram_handle}`,\n          iconClass: \"bi bi-telegram\",\n          name: telegram_handle,\n        }))\n      : []),\n  ];\n\n  return (\n    <>\n      <Widget\n        src={\"${REPL_DEVHUB}/widget/devhub.components.molecule.MarkdownViewer\"}\n        props={{\n          text: community.bio_markdown,\n        }}\n      />\n      <small class=\"text-muted mb-3\">\n        <Link\n          to={href({\n            widgetSrc: \"${REPL_DEVHUB}/widget/app\",\n            params: { page: \"feed\", tag: communityData.tag },\n          })}\n        >\n          <Widget\n            src={\"${REPL_DEVHUB}/widget/devhub.components.atom.Tag\"}\n            props={{ tag: community.tag }}\n          />\n        </Link>\n      </small>\n\n      <div className=\"mt-3\">\n        {socialLinks.map((link, index) => (\n          <a\n            className={`mt-1 btn-outline-light text-reset border-0 d-flex align-items-center`}\n            href={link.href}\n            style={{ marginLeft: index !== 0 ? \"0px\" : \"0px\" }}\n            key={link.href}\n            target=\"_blank\"\n          >\n            <i className={link.iconClass}></i>\n            <span\n              className=\"ms-1\"\n              style={{\n                overflow: \"hidden\",\n                whiteSpace: \"nowrap\",\n                textOverflow: \"ellipsis\",\n              }}\n            >\n              {link.name}\n            </span>\n          </a>\n        ))}\n      </div>\n    </>\n  );\n};\n\nreturn community === null ? (\n  <div>Loading...</div>\n) : (\n  <div class=\"d-flex flex-column align-items-end\">\n    <Widget\n      // TODO: LEGACY.\n      src={\"${REPL_DEVHUB}/widget/gigs-board.components.molecule.tile\"}\n      props={{\n        fullWidth: true,\n        minHeight: 0,\n        noBorder: true,\n        borderRadius: \"rounded\",\n        children: <CommunitySummary />,\n      }}\n    />\n    <hr style={{ width: \"100%\", borderTop: \"1px solid #00000033\" }} />\n\n    <Widget\n      // TODO: LEGACY.\n      src={\"${REPL_DEVHUB}/widget/gigs-board.components.molecule.tile\"}\n      props={{\n        heading: \"Admins\",\n\n        children: (community?.admins ?? []).map((accountId) => (\n          <div key={accountId} className=\"d-flex\" style={{ fontWeight: 500 }}>\n            <Widget\n              // TODO: LEGACY.\n              src={\n                \"${REPL_DEVHUB}/widget/gigs-board.components.molecule.profile-card\"\n              }\n              props={{ accountId }}\n            />\n          </div>\n        )),\n\n        fullWidth: true,\n        minHeight: 0,\n        noBorder: true,\n        borderRadius: \"rounded\",\n        style: { overflowX: \"scroll\" },\n      }}\n    />\n  </div>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/bo.near/widget/devhub.entity.community.Sidebar", "fact_widget_deployments_id": "bc20a48283818fb125bc8a7bf441e7a4", "inserted_timestamp": "2024-03-07T05:24:05.087Z", "modified_timestamp": "2024-03-07T05:24:05.087Z", "__row_index": 33}