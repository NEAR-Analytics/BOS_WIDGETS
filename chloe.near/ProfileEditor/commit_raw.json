{"tx_hash": "Fsx97NwVK8Y4NBgdCUqvZiBhDeQYsbyQ8gfaaWxnTHc2", "action_id_social": "AwmLwcJLBaR5n2SZkmqUQLa3J3ZBrKWdaPPWzQqVp4X8-0-widget", "block_id": 99651583, "block_timestamp": "2023-08-25T20:50:36.620Z", "signer_id": "chloe.near", "widget_name": "ProfileEditor", "source_code": "// Initialize state and variables\nconst accountId = context.accountId;\n\n// Check for NEAR wallet authentication\nif (!accountId) {\n  return \"Please sign in with NEAR wallet to edit your profile\";\n}\n\nlet daoId = \"research-collective.sputnik-dao.near\";\nlet profile = Social.getr(`${daoId}/profile`);\n\n// Display a loading state if the profile is null\nif (profile === null) {\n  return \"Loading\";\n}\n\n// Initialize the state\nState.init({\n  profile,\n});\n\nreturn (\n  <div>\n    <div className=\"row\">\n      <div className=\"col-lg-6\">\n        <div>\n          <h4>Edit profile of @{daoId}</h4>\n        </div>\n        <div className=\"mb-2\">\n          <Widget\n            src=\"near/widget/MetadataEditor\"\n            props={{\n              initialMetadata: profile,\n              onChange: (profile) => State.update({ profile }),\n            }}\n          />\n        </div>\n        <div className=\"mb-2\">\n          <button onClick={handleProfileUpdateProposal}>Save profile</button>\n          <a\n            className=\"btn btn-outline-primary ms-2\"\n            href={`#/near/widget/ProfilePage?accountId=${daoId}`}\n          >\n            View profile\n          </a>\n        </div>\n      </div>\n      <div className=\"col-lg-6\">\n        <div>\n          <Widget\n            src=\"near/widget/ProfilePage\"\n            props={{ accountId: daoId, profile: state.profile }}\n          />\n        </div>\n      </div>\n    </div>\n  </div>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/chloe.near/widget/ProfileEditor", "fact_widget_deployments_id": "40617c80c9053cfd946c6c3f878ff958", "inserted_timestamp": "2024-03-07T05:24:05.087Z", "modified_timestamp": "2024-03-07T05:24:05.087Z", "__row_index": 31}