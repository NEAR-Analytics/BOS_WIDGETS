{"tx_hash": "E59DwL8Dq8uuJPnCCCJ7bWUW5gjc7sApe8FBDySaE28W", "action_id_social": "9cBXRc2UfF2NNtj4H71dWiEA8Y3wT695mbTPqS3odx1E-0-widget", "block_id": 97820835, "block_timestamp": "2023-08-01T06:45:01.750Z", "signer_id": "idknwhoru.near", "widget_name": "SWF.2023.grit.PlayerList", "source_code": "const cronosContractAddress = \"0xC6A3f8A89136fede4BD4CA36a1864bDA811937c9\";\n\nState.init({\n  mode: 0,\n});\n\nconst images = [\n  \"https://ipfs.near.social/ipfs/bafkreifdek56fab4d55vun6to66dzizhy76ly65gdy3eo6lv5vnzbxgrty\",\n  \"https://ipfs.near.social/ipfs/bafkreibslifqs6pz37vy2mrrlmogtatlg5s2d5fc4bfiv4rzcgzubgekeu\",\n  \"https://ipfs.near.social/ipfs/bafkreibshwzbeoxguy5mot6nilssix3ilmpt6w5xv6bazvt2edbnaa5spe\",\n  \"https://ipfs.near.social/ipfs/bafkreic5tco2sgvxdacogftgk3rlsjohb3ptqomr4o5vwtkrzvlfajnl7y\",\n  \"https://ipfs.near.social/ipfs/bafkreigpfirgs42t4rfbbixixm4w5ukqxsbflvvn2nxl7zdktalncxqh2a\",\n  \"https://ipfs.near.social/ipfs/bafkreias744aadzv7ivxuyoqtzwbbd6lawph5hewidapwwgyj5rnt73iri\",\n  \"https://ipfs.near.social/ipfs/bafkreicl2wdomm22rlz2h3gt62uilbharqgh4gmfbx7j7mbnbrkkfxq564\",\n  \"https://ipfs.near.social/ipfs/bafkreiew5g7eizlh6ms7al5y23g7juioejle2bhv3cbyqoq55upxt2dlyu\",\n];\n\nconst cronosContractABI = [\n  {\n    type: \"function\",\n    stateMutability: \"view\",\n    outputs: [\n      {\n        type: \"tuple[]\",\n        name: \"\",\n        internalType: \"struct MyERC20.PlayerInfo[]\",\n        components: [\n          { type: \"address\", name: \"playerAddress\", internalType: \"address\" },\n          { type: \"string\", name: \"koreanName\", internalType: \"string\" },\n          { type: \"string\", name: \"englishName\", internalType: \"string\" },\n          { type: \"string\", name: \"birthDate\", internalType: \"string\" },\n          { type: \"string\", name: \"position\", internalType: \"string\" },\n          { type: \"string\", name: \"team\", internalType: \"string\" },\n          {\n            type: \"uint256\",\n            name: \"totalDonationAmount\",\n            internalType: \"uint256\",\n          },\n        ],\n      },\n    ],\n    name: \"getAllPlayers\",\n    inputs: [],\n  },\n];\n\nconst getAllPlayers = () => {\n  const cronosContract = new ethers.Contract(\n    cronosContractAddress,\n    cronosContractABI,\n    Ethers.provider().getSigner()\n  );\n\n  cronosContract.getAllPlayers().then((players) => {\n    State.update({ players });\n  });\n};\n\nif (Ethers.provider()) {\n  const signer = Ethers.provider().getSigner();\n  signer\n    .getAddress()\n    .then((address) => {\n      State.update({ address });\n    })\n    .catch((err) => {\n      console.log({ err });\n    });\n}\n\nif (state.players === undefined) {\n  getAllPlayers();\n}\n\nconsole.log(state.players);\n\nconst Card = styled.div`\n    color: #fff;\n    width: 25%;\n    height: 100%;\n    border: solid 1px #bbb;\n    cursor: pointer;\n\n    h1 {\n      font-size: 16px;\n    }\n`;\n\nconst BSNWrapper = styled.div`\n    display: flex;\n    justify-content: space-between;\n    padding-right: 10px;\n    h2 {\n      font-size: 11px;\n    }\n\n    h3 {\n      font-size: 11px;\n    }\n`;\n\nconst PersonalWrapper = styled.div`\n  display: flex;\n  justify-content: space-between;\n  padding-right: 10px;\n\n  h2 {\n    width: 40px;\n    height: 20px;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    border: solid 1px #E3DAFF;\n    background-color: #E3DAFF;\n    color: blue;\n    font-size: 11px;\n    border-radius: 30px;\n  }\n\n  h3 {\n    font-size: 11px;\n  }\n`;\n\nconst Cards = () => {\n  if (state.players !== undefined) {\n    return (\n      <div style={{ display: \"flex\", flexWrap: \"wrap\" }}>\n        {state.players.map((player, idx) => {\n          if (idx > 7) {\n            return null;\n          }\n          return (\n            <Card>\n              <img src={images[idx]} width={\"100%\"}></img>\n              <h1>{player[1]}</h1>\n              <BSNWrapper>\n                <h2>{ethers.utils.formatEther(player[6])} CRO</h2>\n                <h3>{player[5]}</h3>\n              </BSNWrapper>\n              <PersonalWrapper>\n                <h2>{player[4]}</h2>\n                <h3>{player[3]}</h3>\n              </PersonalWrapper>\n            </Card>\n          );\n        })}\n      </div>\n    );\n  }\n};\n\nconst PlayListWrapper = styled.div`\n  .playlist-label {\n    color: #fff;\n  }\n`;\n\nconst SelectableButton = styled.button`\n  width: 110px;\n  height: 50px;\n  border: solid 1px #39324D;\n  border-radius: 30px;\n  background-color: #39324D;\n  color: #fff;\n\n  ${({ mode }) => {\n    return mode === state.mode\n      ? `\n      border: solid 1px #fff;\n      background-color: #fff;\n      color: #39324D;\n    `\n      : ``;\n  }}\n`;\n\nreturn (\n  <PlayListWrapper>\n    <h1 className=\"playlist-label\">\uac00\uc7a5 \ud56b\ud55c \uc120\uc218</h1>\n    <SelectableButton mode={0}>\uc804\uccb4\ubcf4\uae30</SelectableButton>\n    <SelectableButton mode={1}>\uacf5\uaca9\uc218</SelectableButton>\n    <SelectableButton mode={2}>\uc218\ube44\uc218</SelectableButton>\n    <SelectableButton mode={3}>\uace8\ud0a4\ud37c</SelectableButton>\n    <Cards />\n  </PlayListWrapper>\n);\np;\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/idknwhoru.near/widget/SWF.2023.grit.PlayerList", "fact_widget_deployments_id": "9f4374a80249714669d4d060b961c8cc", "inserted_timestamp": "2023-08-01T08:33:55.459Z", "modified_timestamp": "2023-08-01T08:33:55.459Z", "__row_index": 12}