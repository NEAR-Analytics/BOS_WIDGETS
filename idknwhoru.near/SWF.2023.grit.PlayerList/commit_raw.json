{"tx_hash": "GtvvBHWRx3sBgDHjsvwM22wVvopnND8AXs31iApnxrG9", "action_id_social": "5FnFLWTw8x6zPCWWnbKfkgnGHL3F3eN5DwG6tGBfG9X5-0-widget", "block_id": 97789129, "block_timestamp": "2023-07-31T20:56:14.087Z", "signer_id": "idknwhoru.near", "widget_name": "SWF.2023.grit.PlayerList", "source_code": "const cronosContractAddress = \"0xCf10F98bA9044175a828462e991F48f01aF9BB73\";\n\nconst cronosContractABI = [\n  {\n    type: \"function\",\n    stateMutability: \"view\",\n    outputs: [{ type: \"string[]\", name: \"\", internalType: \"string[]\" }],\n    name: \"getAllPlayers\",\n    inputs: [],\n  },\n];\n\nconst getAllPlayers = () => {\n  const cronosContract = new ethers.Contract(\n    cronosContractAddress,\n    cronosContractABI,\n    Ethers.provider().getSigner()\n  );\n\n  cronosContract.getAllPlayers().then((players) => {\n    State.update({ players });\n  });\n};\n\nif (Ethers.provider()) {\n  const signer = Ethers.provider().getSigner();\n  signer\n    .getAddress()\n    .then((address) => {\n      State.update({ address });\n    })\n    .catch((err) => {\n      console.log({ err });\n    });\n}\n\nif (state.players === undefined) {\n  getAllPlayers();\n}\n\nconst Card = styled.div`\n    width: 150px;\n    height: 200px;\n    border: solid 1px #bbb;\n    cursor: pointer;\n`;\n\nconsole.log(state);\n\nconst Cards = () => {\n  if (state.players !== undefined) {\n    return (\n      <div style={{ display: \"flex\" }}>\n        {state.players.map((player) => {\n          return <Card>{player}</Card>;\n        })}\n      </div>\n    );\n  }\n};\n\nreturn (\n  <>\n    <Web3Connect connectLabel=\"Connect Wallet\" />\n    <h1>Players</h1>\n    <Cards />\n  </>\n);\np;\n", "metadata": {"platform": "jutsu.ai"}, "branch": {"draft": null}, "widget_modules_used": null, "widget_url": "https://near.social/#/idknwhoru.near/widget/SWF.2023.grit.PlayerList", "fact_widget_deployments_id": "73867c53b22f60fe53847af288d09bc7", "inserted_timestamp": "2023-07-31T22:44:55.614Z", "modified_timestamp": "2023-07-31T22:44:55.614Z", "__row_index": 0}