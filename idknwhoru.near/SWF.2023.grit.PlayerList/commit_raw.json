{"tx_hash": "G246uNUe6yDmuQf7rTTa1nrVbGp7obFsLvUXrDQPt6G4", "action_id_social": "84jA9HgtFGBfHqVsTCKe5d5hA6adEX4ATBTLsjnoisv2-0-widget", "block_id": 97807729, "block_timestamp": "2023-08-01T02:42:32.832Z", "signer_id": "idknwhoru.near", "widget_name": "SWF.2023.grit.PlayerList", "source_code": "const cronosContractAddress = \"0xC6A3f8A89136fede4BD4CA36a1864bDA811937c9\";\n\nconst cronosContractABI = [\n  {\n    type: \"function\",\n    stateMutability: \"view\",\n    outputs: [\n      {\n        type: \"tuple[]\",\n        name: \"\",\n        internalType: \"struct MyERC20.PlayerInfo[]\",\n        components: [\n          { type: \"address\", name: \"playerAddress\", internalType: \"address\" },\n          { type: \"string\", name: \"koreanName\", internalType: \"string\" },\n          { type: \"string\", name: \"englishName\", internalType: \"string\" },\n          { type: \"string\", name: \"birthDate\", internalType: \"string\" },\n          { type: \"string\", name: \"position\", internalType: \"string\" },\n          { type: \"string\", name: \"team\", internalType: \"string\" },\n          {\n            type: \"uint256\",\n            name: \"totalDonationAmount\",\n            internalType: \"uint256\",\n          },\n        ],\n      },\n    ],\n    name: \"getAllPlayers\",\n    inputs: [],\n  },\n];\n\nconst getAllPlayers = () => {\n  const cronosContract = new ethers.Contract(\n    cronosContractAddress,\n    cronosContractABI,\n    Ethers.provider().getSigner()\n  );\n\n  cronosContract.getAllPlayers().then((players) => {\n    State.update({ players });\n  });\n};\n\nif (Ethers.provider()) {\n  const signer = Ethers.provider().getSigner();\n  signer\n    .getAddress()\n    .then((address) => {\n      State.update({ address });\n    })\n    .catch((err) => {\n      console.log({ err });\n    });\n}\n\nif (state.players === undefined) {\n  getAllPlayers();\n}\n\nconsole.log(state.players);\n\nconst Card = styled.div`\n    width: 150px;\n    height: 200px;\n    border: solid 1px #bbb;\n    cursor: pointer;\n`;\n\nconst Cards = () => {\n  if (state.players !== undefined) {\n    return (\n      <div style={{ display: \"flex\" }}>\n        {state.players.map((player) => {\n          return <Card>{player[1]}</Card>;\n        })}\n      </div>\n    );\n  }\n};\n\nreturn (\n  <>\n    <Web3Connect connectLabel=\"Connect Wallet\" />\n    <button>\uc804\uccb4\ubcf4\uae30</button>\n    <button>\uacf5\uaca9\uc218</button>\n    <button>\uc218\ube44\uc218</button>\n    <button>\uace8\ud0a4\ud37c</button>\n    <Cards />\n  </>\n);\np;\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/idknwhoru.near/widget/SWF.2023.grit.PlayerList", "fact_widget_deployments_id": "2e709abdc22a039611b4dcb681e6fd71", "inserted_timestamp": "2023-08-01T04:26:56.114Z", "modified_timestamp": "2023-08-01T04:26:56.114Z", "__row_index": 1}