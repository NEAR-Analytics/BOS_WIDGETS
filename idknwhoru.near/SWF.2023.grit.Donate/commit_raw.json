{"tx_hash": "5XnCJFYDFra7XodkFXtCEp1LyAgDh7YufJuktiGm5cJG", "action_id_social": "7dARsahqt9wpSrXY5uorz3q2Cg1czyRSS51yvZbHiKkM-0-widget", "block_id": 97854156, "block_timestamp": "2023-08-01T17:14:58.056Z", "signer_id": "idknwhoru.near", "widget_name": "SWF.2023.grit.Donate", "source_code": "const player = props.player;\nconst list = [30, 20, 10];\n\nconst cronosContractAddress = \"0xBBF09A10B1B8f1825cAdB58d34E0672A9Ee69c2d\";\n\nconst cronosContractABI = [\n  {\n    type: \"function\",\n    stateMutability: \"payable\",\n    outputs: [],\n    name: \"donate\",\n    inputs: [{ type: \"address\", name: \"player\", internalType: \"address\" }],\n  },\n];\n\nconst selectPrice = (price) => {\n  State.update({\n    price,\n  });\n};\n\nconst donate = (_) => {\n  const price = ethers.utils.parseEther(state.price.toString()).toString();\n\n  const cronosContract = new ethers.Contract(\n    cronosContractAddress,\n    cronosContractABI,\n    Ethers.provider().getSigner()\n  );\n\n  cronosContract.donate(player.address, { value: price }).catch((err) => {\n    console.log(err);\n  });\n};\n\nif (Ethers.provider()) {\n  const signer = Ethers.provider().getSigner();\n  signer\n    .getAddress()\n    .then((address) => {\n      State.update({ address });\n    })\n    .catch((err) => {\n      console.log({ err });\n    });\n}\n\nconst DonateWrapper = styled.div`\n  .donate-label {\n    margin-left: 40px;\n  }\n`;\n\nconst PlanCardWrapper = styled.div`\n  display: flex;\n  justify-content: center;\n  margin-bottom: 30px;\n`;\n\nconst PlanCard = styled.div`\n    width: 30%;\n    height: 200px;\n    border: solid 1px #bbb;\n    cursor: pointer;\n    background-color: ${(cardProps) =>\n      cardProps.price === state.price ? \"#E5EDFE\" : \"#fff\"};\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n\n    .radio-button {\n      width: 20px;\n      height: 20px;\n      border: ${(cardProps) =>\n        cardProps.price === state.price ? \"4px double blue\" : \"2px solid #ddd\"};\n      border-radius: 50%;\n      display: inline-block;\n      position: relative;\n    }\n\n    .radio-content {\n      width: 100%;\n      height: 100%;\n      border: ${(cardProps) =>\n        cardProps.price === state.price ? \"none\" : \"none\"}\n        solid 1px;\n      border-radius: 50%;\n      background-color: ${(cardProps) =>\n        cardProps.price === state.price ? \"blue\" : \"#fff\"};\n    }\n\n    .plan-content-wrapper h1{\n      margin-top: 15px;\n      font-size: 12px;\n      text-align: center;\n    }\n\n    .plan-content-wrapper h2{\n      font-size: 24px;\n      text-align: center;\n    }\n\n    .plan-content-wrapper h3{\n      font-size: 12px;\n      text-align: center;\n    }\n`;\n\nconst Cards = () => {\n  if (player !== undefined) {\n    return (\n      <PlanCardWrapper>\n        {list.map((price, idx) => (\n          <PlanCard\n            price={price}\n            onClick={(_) => {\n              selectPrice(price);\n            }}\n          >\n            <div className=\"radio-button\">\n              <div className=\"radio-content\"></div>\n            </div>\n            <div className=\"plan-content-wrapper\">\n              <h1>Level {list.length - idx}</h1>\n              <h2>{price} CRO</h2>\n              <h3>1\uac1c\uc6d4 \ub9c8\ub2e4</h3>\n            </div>\n          </PlanCard>\n        ))}\n      </PlanCardWrapper>\n    );\n  }\n};\n\nconst DonateButton = styled.button`\n  width: 100%;\n  height: 50px;\n  background-color: blue;\n  color: #fff;\n  border: none;\n  border-radius: 25px;\n`;\n\nreturn (\n  <DonateWrapper>\n    <h1 className=\"donate-label\">\ud22c\uc790 \uae08\uc561</h1>\n    <hr />\n    <Cards />\n    <DonateButton onClick={donate}>\ud22c\uc790\ud558\uae30</DonateButton>\n  </DonateWrapper>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/idknwhoru.near/widget/SWF.2023.grit.Donate", "fact_widget_deployments_id": "283006ebea97bef68fd53d03fc7f7468", "inserted_timestamp": "2023-08-01T19:21:30.704Z", "modified_timestamp": "2023-08-01T19:21:30.704Z", "__row_index": 0}