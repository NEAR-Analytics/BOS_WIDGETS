{"tx_hash": "FiZFy3qPfokBeQV8tJ1U6bZaJSbkfy6wmEVYvDWjameR", "action_id_social": "3cP2sSH7nrKBqb8wC4qbwDTaY6TkTHxFYUfbYLvDwtkd-0-widget", "block_id": 97807721, "block_timestamp": "2023-08-01T02:42:24.437Z", "signer_id": "idknwhoru.near", "widget_name": "SWF.2023.grit.Player", "source_code": "const player = props.player;\n\nconst cronosContractAddress = \"0xC6A3f8A89136fede4BD4CA36a1864bDA811937c9\";\n\nconst cronosContractABI = [\n  {\n    type: \"function\",\n    stateMutability: \"view\",\n    outputs: [\n      { type: \"string\", name: \"\", internalType: \"string\" },\n      { type: \"string\", name: \"\", internalType: \"string\" },\n      { type: \"string\", name: \"\", internalType: \"string\" },\n      { type: \"string\", name: \"\", internalType: \"string\" },\n      { type: \"string\", name: \"\", internalType: \"string\" },\n      { type: \"uint256\", name: \"\", internalType: \"uint256\" },\n    ],\n    name: \"getPlayerInfo\",\n    inputs: [{ type: \"address\", name: \"player\", internalType: \"address\" }],\n  },\n];\n\nconst selectPrice = (price) => {\n  State.update({\n    price,\n  });\n};\n\nconst getPlayerInfo = (_) => {\n  const cronosContract = new ethers.Contract(\n    cronosContractAddress,\n    cronosContractABI,\n    Ethers.provider().getSigner()\n  );\n\n  cronosContract.getPlayerInfo(player.address).then((player) => {\n    console.log(player);\n    State.update({ player });\n  });\n};\n\nif (Ethers.provider()) {\n  const signer = Ethers.provider().getSigner();\n  signer\n    .getAddress()\n    .then((address) => {\n      State.update({ address });\n    })\n    .catch((err) => {\n      console.log({ err });\n    });\n}\n\ngetPlayerInfo();\n\nreturn (\n  <>\n    <Web3Connect connectLabel=\"Connect Wallet\" />\n    {state.player !== undefined ? (\n      <>\n        <h1>\n          {state.player[0]} ({state.player[1]})\n        </h1>\n        <h2>\n          {state.player[4]}: {state.player[3]}\n        </h2>\n        <p>{state.player[2]}</p>\n        <p>{ethers.utils.formatEther(state.player[5])} CRO</p>\n      </>\n    ) : null}\n  </>\n);\np;\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/idknwhoru.near/widget/SWF.2023.grit.Player", "fact_widget_deployments_id": "a6dd80e94b8b255dc35b79d574215262", "inserted_timestamp": "2023-08-01T04:26:56.114Z", "modified_timestamp": "2023-08-01T04:26:56.114Z", "__row_index": 1}