{"tx_hash": "3ugQPAqCLitMsgNdiuDJu1eauVy6iXscKew6UqBe4aYF", "action_id_social": "pnR4mhM3NwzvjNPWDx3EXKLmBkcoxmY3UsFN9fvsEao-0-widget", "block_id": 101104949, "block_timestamp": "2023-09-14T11:41:18.544Z", "signer_id": "idknwhoru.near", "widget_name": "SocialAPITest", "source_code": "State.init({\n  article: undefined,\n});\n\nif (state.article === undefined) {\n  const index = Social.index(\"collegium.post\", \"main\", {\n    order: \"desc\",\n    limit: 10,\n  });\n\n  const posts = index.filter(({ value }) => value.title !== undefined);\n\n  const getPost = ({ accountId, title }) => {\n    const content = Social.get(`${accountId}/collegium/post/${title}`);\n\n    if(content !== undefined) {\n      State.update({\n      article: {\n        accountId,\n        title,\n        content,\n      },\n    });\n    }\n  };\n\n  const Post = posts.map(({ accountId, value: { title: title } }) => {\n    return (\n      <div>\n        <h1 onClick={(_) => getPost({ accountId, title })}>{title}</h1>\n        <p>{accountId}</p>\n      </div>\n    );\n  });\n\n  return <>{Post}</>;\n}\n\nreturn (\n  <>\n    <button onClick={(_) => State.update({ article: undefined })}>\n      \ub4a4\ub85c\uac00\uae30\n    </button>\n    <h1>{state.article.title}</h1>\n    <p>{state.article.accountId}</p>\n    <Markdown text={state.article.content} />\n  </>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/idknwhoru.near/widget/SocialAPITest", "fact_widget_deployments_id": "7631ac30b841872da525c5895c9268be", "inserted_timestamp": "2023-09-14T13:39:05.441Z", "modified_timestamp": "2023-09-14T13:39:05.441Z", "__row_index": 1}