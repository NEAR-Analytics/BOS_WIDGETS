{"tx_hash": "8twwYQ3fKDpLAPmn9RrCUaYZ98jzw34xThC2L22JGQSM", "action_id_social": "6qFQgFLqnYyedAHtdUe14ae1gzpFivdPhUaDoq2qpy7g-0-widget", "block_id": 97836541, "block_timestamp": "2023-08-01T11:38:45.216Z", "signer_id": "idknwhoru.near", "widget_name": "SWF.2023.grit.MyPage", "source_code": "const address = \"0x21Ddc0803447C70b38121766CA99C827aD6f02a8\";\n\nconst abi = [\n  {\n    type: \"function\",\n    stateMutability: \"view\",\n    outputs: [\n      {\n        type: \"tuple[]\",\n        name: \"\",\n        internalType: \"struct MyERC20.DonationInfo[]\",\n        components: [\n          { type: \"address\", name: \"player\", internalType: \"address\" },\n          { type: \"string\", name: \"playerName\", internalType: \"string\" },\n          { type: \"string\", name: \"playerKoreanName\", internalType: \"string\" },\n          { type: \"string\", name: \"position\", internalType: \"string\" },\n          { type: \"uint256\", name: \"amount\", internalType: \"uint256\" },\n          { type: \"address\", name: \"donor\", internalType: \"address\" },\n        ],\n      },\n    ],\n    name: \"getMyDonationPlayers\",\n    inputs: [],\n  },\n];\n\nconst getMyPlayers = () => {\n  const cronosContract = new ethers.Contract(\n    address,\n    abi,\n    Ethers.provider().getSigner()\n  );\n\n  cronosContract.getMyDonationPlayers().then((players) => {\n    State.update({ players });\n  });\n};\n\nif (Ethers.provider()) {\n  const signer = Ethers.provider().getSigner();\n  signer\n    .getAddress()\n    .then((address) => {\n      State.update({ address });\n    })\n    .catch((err) => {\n      console.log({ err });\n    });\n}\n\ngetMyPlayers();\n\nconst CardSelectWrapper = styled.div`\n  display: flex;\n`;\n\nconst CardWrapper = styled.div`\n  width: 50%;\n  border: 1px solid;\n`;\n\nconst Player = () => {\n  if (state.players === undefined || state.players.length === 0) {\n    return \"\ud6c4\uc6d0\ud55c \uc120\uc218\uac00 \uc5c6\uc2b5\ub2c8\ub2e4.\";\n  }\n\n  return (\n    <div>\n      <h1>\ub9c8\uc774\ud398\uc774\uc9c0</h1>\n      <h2>5\uba85\uc744 \uc120\ud0dd\ud574 \ub77c\uc778\uc5c5\uc744 \uad6c\uc131\ud558\uc138\uc694.</h2>\n      <CardSelectWrapper>\n        {state.players.map((player) => {\n          console.log(player);\n          return (\n            <CardWrapper>\n              <p>\n                {player[1]} ({player[0]}): {ethers.utils.formatEther(player[3])}{\" \"}\n                CRO\n              </p>\n              <button>\uc0c1\uc138\ubcf4\uae30</button>\n            </CardWrapper>\n          );\n        })}\n      </CardSelectWrapper>\n      <button>\uc6d0\uc624\uc6d0\ub9ac\uadf8 \ubc14\ub85c\ucc38\uac00\ud558\uae30</button>\n      <div></div>\n    </div>\n  );\n};\n\nreturn <Player />;\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/idknwhoru.near/widget/SWF.2023.grit.MyPage", "fact_widget_deployments_id": "bea1a13f2fa4f441906d13343993f45b", "inserted_timestamp": "2023-08-01T13:35:01.421Z", "modified_timestamp": "2023-08-01T13:35:01.421Z", "__row_index": 2}