{"tx_hash": "DNWp7SD4vwDc3JttbmGghhuQ9MZCkHjLYRnGLdwFJZtj", "action_id_social": "4wSB8nNGAjFZAfMNeYM9xTtYUePxKRSE7yWV6yTEvwVV-0-widget", "block_id": 97858953, "block_timestamp": "2023-08-01T18:46:57.662Z", "signer_id": "idknwhoru.near", "widget_name": "SWF.2023.grit.MyPage", "source_code": "State.init({\n  page: 0,\n});\n\nconst images = [\n  \"https://ipfs.near.social/ipfs/bafkreifdek56fab4d55vun6to66dzizhy76ly65gdy3eo6lv5vnzbxgrty\",\n  \"https://ipfs.near.social/ipfs/bafkreibslifqs6pz37vy2mrrlmogtatlg5s2d5fc4bfiv4rzcgzubgekeu\",\n  \"https://ipfs.near.social/ipfs/bafkreibshwzbeoxguy5mot6nilssix3ilmpt6w5xv6bazvt2edbnaa5spe\",\n  \"https://ipfs.near.social/ipfs/bafkreic5tco2sgvxdacogftgk3rlsjohb3ptqomr4o5vwtkrzvlfajnl7y\",\n  \"https://ipfs.near.social/ipfs/bafkreigpfirgs42t4rfbbixixm4w5ukqxsbflvvn2nxl7zdktalncxqh2a\",\n  \"https://ipfs.near.social/ipfs/bafkreias744aadzv7ivxuyoqtzwbbd6lawph5hewidapwwgyj5rnt73iri\",\n  \"https://ipfs.near.social/ipfs/bafkreicl2wdomm22rlz2h3gt62uilbharqgh4gmfbx7j7mbnbrkkfxq564\",\n  \"https://ipfs.near.social/ipfs/bafkreiew5g7eizlh6ms7al5y23g7juioejle2bhv3cbyqoq55upxt2dlyu\",\n];\n\nconst address = \"0xBBF09A10B1B8f1825cAdB58d34E0672A9Ee69c2d\";\n\nconst abi = [\n  {\n    type: \"function\",\n    stateMutability: \"view\",\n    outputs: [{ type: \"uint256\", name: \"\", internalType: \"uint256\" }],\n    name: \"getDonorsCount\",\n    inputs: [],\n  },\n  {\n    type: \"function\",\n    stateMutability: \"view\",\n    outputs: [\n      {\n        type: \"tuple[]\",\n        name: \"\",\n        internalType: \"struct MyERC20.DonationInfo[]\",\n        components: [\n          { type: \"address\", name: \"player\", internalType: \"address\" },\n          { type: \"string\", name: \"playerName\", internalType: \"string\" },\n          { type: \"string\", name: \"playerKoreanName\", internalType: \"string\" },\n          { type: \"string\", name: \"position\", internalType: \"string\" },\n          { type: \"uint256\", name: \"amount\", internalType: \"uint256\" },\n          { type: \"address\", name: \"donor\", internalType: \"address\" },\n          { type: \"bool\", name: \"isPlaying\", internalType: \"bool\" },\n          { type: \"string\", name: \"photoUrl\", internalType: \"string\" },\n        ],\n      },\n    ],\n    name: \"getMyDonationPlayers\",\n    inputs: [],\n  },\n];\n\nconst getMyPlayers = () => {\n  const cronosContract = new ethers.Contract(\n    address,\n    abi,\n    Ethers.provider().getSigner()\n  );\n\n  cronosContract.getMyDonationPlayers().then((players) => {\n    State.update({ players });\n  });\n};\n\nif (Ethers.provider()) {\n  const signer = Ethers.provider().getSigner();\n  signer\n    .getAddress()\n    .then((address) => {\n      State.update({ address });\n    })\n    .catch((err) => {\n      console.log({ err });\n    });\n}\n\ngetMyPlayers();\n\nconst MyPageWrapper = styled.div`\n    .my-page-title-wrapper {\n        width: 50%;\n        display: flex;\n        gap: 55px;\n        align-items: center;\n    }\n\n    .my-page-title {\n        font-size: 32px;\n    }\n\n    .my-page-sub-title {\n        font-size: 24px;\n    }\n`;\n\nconst ContentWrapper = styled.div`\n    display: flex;\n`;\n\nconst CardSelectWrapper = styled.div`\n  display: flex;\n  flex-wrap: wrap;\n  width: 30%;\n  align-content: flex-start\n`;\n\nconst CardWrapper = styled.div`\n    width: 50%;\n    border: 1px solid;\n\n    .card-image {\n        width: 100%;\n        height: 100%;\n    }\n\n    .card-wrapper {\n        position: relative;\n        display: inline-block; \n        width: 100%;\n    }\n\n    .card-wrapper img {\n        width: 100%;\n        height: 100%;\n    }\n\n    .player-info {\n      position: absolute;\n      top: 0px;\n      width: 100%;\n      height: Calc(100% - 40px);\n      color: #fff;\n    }\n\n    .player-label {\n        width: 100%;\n        height: 100%;\n        display: flex;\n        flex-direction: column;\n        justify-content: space-between;\n    }\n\n    .flex-item {\n        flex: 1;\n        display: flex;\n        justify-content: space-around;\n    }\n\n    .flex-start {\n        justify-content: start;\n        align-items: start;\n    }\n\n    .flex-end {\n        align-items: end;\n    }\n\n    .playing-tag {\n        min-width: 60px;\n        background-color: ${({ isPlaying }) =>\n          isPlaying === ture ? \"blue\" : \"yellow\"};\n        color: ${({ isPlaying }) => (isPlaying === ture ? \"#fff\" : \"#666\")};\n        text-align: center;\n        border: 1px solid blue;\n        border-radius: 7px;\n    }\n\n    .player-detail-wrapper {\n        display: flex;\n        justify-content: center;\n        margin: 3px;\n        margin-bottom: 0;\n    }\n`;\n\nconst PlayingWrapper = styled.div`\n    width: 65%;\n    height: 100%;\n\n    .league-nav-wrapper {\n        display: flex;\n        justify-content: center;\n    }\n\n    .league-nav-button {\n        padding: 10px 20px;\n        border-radius: 25px;\n        margin-bottom: 40px;\n    }\n\n    .field-wrapper {\n        position: relative;\n        display: inline-block;\n        height: 600px;\n        border: 1px solid;\n    }\n\n    .field-wrapper img {\n        width: 100%;\n        height: 100%;\n    }\n\n    .field-formation-wrapper {\n        position: absolute;\n        top: 0;\n        width: 100%;\n        display: flex;\n        flex-direction: column;\n    }\n\n    .field-formation-front {\n        display: flex;\n        justify-content: space-evenly;\n        align-items: center;\n        width: 100%;\n        height: 300px;\n    }\n\n    .field-front-card {\n        width: 25%;\n        height: 50%;\n    }\n\n    .field-formation-end {\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        width: 100%;\n        height: 300px;\n        gap: 5%;\n    }\n\n    .field-end-card {\n        width: 25%;\n        height: 50%;\n    }\n\n    .card-label-wrapper {\n        display: flex;\n        width: 100%;\n        height: 30px;\n        background-color: #fff;\n    }\n\n    .card-label-number {\n        width: 30%;\n        height: 100%;\n        background-color: #37003C;\n        color: #fff;\n        display: flex;\n        justify-content: center;\n        align-items: center;\n    }\n\n    .card-label-name {\n        width: 70%;\n        height: 100%;\n        display: flex;\n        justify-content: center;\n        align-items: center;\n    }\n`;\n\nconst LeagueWrapper = styled.div`\n  display: flex;\n  justify-content: center;\n  \n  .league-title {\n    font-size: 24px;\n    color: #999;\n    margin-left: 40px;\n  }\n\n  .league-holder-label {\n    font-size: 24px;\n    color: #999;\n    margin-left: 40px;\n  }\n\n  .league-holders {\n    font-size: 24px;\n    color: #fff;\n  }\n\n  .league-date {\n    font-size: 24px;\n    color: #999;\n    margin-left: 40px;\n  }\n\n  hr {\n    border-top: 1px solid #fff;\n    opacity: 1;\n  }\n`;\n\nconst Player = () => {\n  if (state.players === undefined) {\n    return (\n      <MyPageWrapper>\n        <h1 className=\"my-page-title\">\uc120\uc218 \ubd88\ub7ec\uc624\ub294 \uc911..</h1>\n      </MyPageWrapper>\n    );\n  }\n\n  if (state.players.length === 0) {\n    return (\n      <MyPageWrapper>\n        <h1 className=\"my-page-title\">\ud22c\uc790\ud55c \uc120\uc218\uac00 \uc5c6\uc2b5\ub2c8\ub2e4.</h1>\n      </MyPageWrapper>\n    );\n  }\n\n  return (\n    <>\n      {state.page === 0 ? (\n        <MyPageWrapper>\n          <div className=\"my-page-title-wrapper\">\n            <h1 className=\"my-page-title\">\ub9c8\uc774\ud398\uc774\uc9c0</h1>\n            <h2 className=\"my-page-sub-title\">\n              5\uba85\uc744 \uc120\ud0dd\ud574 \ub77c\uc778\uc5c5\uc744 \uad6c\uc131\ud558\uc138\uc694.\n            </h2>\n          </div>\n          <ContentWrapper>\n            <CardSelectWrapper>\n              {state.players.map((player, idx) => {\n                return (\n                  <CardWrapper isPlaying={player[6]}>\n                    <div className=\"card-wrapper\">\n                      <img className=\"card-image\" src={player[7]} />\n                      <div className=\"player-info\">\n                        <div className=\"player-label\">\n                          <div className=\"flex-item flex-start\">\n                            <p className=\"playing-tag\">\n                              {player[6] === true ? \"\uacbd\uae30\uc911\" : \"\ub300\uae30\uc911\"}\n                            </p>\n                          </div>\n                          <div className=\"flex-item flex-end\">\n                            <p>{player[1]}</p>\n                            <p>{player[3]}</p>\n                          </div>\n                        </div>\n                      </div>\n                      <div className=\"player-detail-wrapper\">\n                        <button>\uc0c1\uc138\ubcf4\uae30</button>\n                      </div>\n                    </div>\n                  </CardWrapper>\n                );\n              })}\n            </CardSelectWrapper>\n            <PlayingWrapper>\n              <div className=\"league-nav-wrapper\">\n                <button\n                  className=\"league-nav-button\"\n                  onClick={() => {\n                    State.update({ page: 1 });\n                  }}\n                >\n                  \uc6d0\uc624\uc6d0\ub9ac\uadf8 \ubc14\ub85c\ucc38\uac00\ud558\uae30\n                </button>\n              </div>\n              <div className=\"field-wrapper\">\n                <img\n                  src={`https://ipfs.near.social/ipfs/bafybeifuuvunlhpvt6y442u3fjlrpsnwvpxvzvrzueyjfbyx274g5a4vfe`}\n                />\n                <div className=\"field-formation-wrapper\">\n                  <div className=\"field-formation-front\">\n                    <div className=\"field-front-card\">\n                      <img src={images[1]} />\n                      <div className=\"card-label-wrapper\">\n                        <p className=\"card-label-number\">01</p>\n                        <p className=\"card-label-name\">\uc190\uc751\ubbfc</p>\n                      </div>\n                    </div>\n                    <div className=\"field-front-card\">\n                      <img src={images[2]} />\n                      <div className=\"card-label-wrapper\">\n                        <p className=\"card-label-number\">02</p>\n                        <p className=\"card-label-name\">\uc774\uac10\uc778</p>\n                      </div>\n                    </div>\n                  </div>\n                  <div className=\"field-formation-end\">\n                    <div className=\"field-end-card\">\n                      <img src={images[3]} />\n                      <div className=\"card-label-wrapper\">\n                        <p className=\"card-label-number\">03</p>\n                        <p className=\"card-label-name\">\ubc15\ud615\uc900</p>\n                      </div>\n                    </div>\n                    <div className=\"field-end-card\">\n                      <img src={images[4]} />\n                      <div className=\"card-label-wrapper\">\n                        <p className=\"card-label-number\">04</p>\n                        <p className=\"card-label-name\">\ud64d\uba85\ubcf4</p>\n                      </div>\n                    </div>\n                    <div className=\"field-end-card\">\n                      <img src={images[5]} />\n                      <div className=\"card-label-wrapper\">\n                        <p className=\"card-label-number\">05</p>\n                        <p className=\"card-label-name\">\ud669\ud718\ucc2c</p>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </PlayingWrapper>\n          </ContentWrapper>\n        </MyPageWrapper>\n      ) : (\n        <LeagueWrapper>\n          <Widget src={`idknwhoru.near/widget/SWF.2023.grit.LeagueBanner`} />\n        </LeagueWrapper>\n      )}\n    </>\n  );\n};\n\nreturn <Player />;\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/idknwhoru.near/widget/SWF.2023.grit.MyPage", "fact_widget_deployments_id": "2a0a4a2be78806e1133949f53a6fce3b", "inserted_timestamp": "2023-08-01T20:41:00.286Z", "modified_timestamp": "2023-08-01T20:41:00.286Z", "__row_index": 22}