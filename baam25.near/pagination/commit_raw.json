{"tx_hash": "4XYo9PujXg9ZtMedDH44qB5GUU75xr468ac34McsnDfs", "action_id_social": "7f2Vg3ThMQXPXSUMijaXgkUMV6vta8WVD7tsPyeELCbc-0-widget", "block_id": 112302252, "block_timestamp": "2024-02-07T10:46:47.583Z", "signer_id": "baam25.near", "widget_name": "pagination", "source_code": "const perPage = props.perPage || 50;\nconst data = props.data || [];\nconst bgColor = props.bgColor || \"#aeaeae\";\nconst customStyle = props.customStyle || \"\";\nconst onClick = props.onClick || \"\";\nconst page = props.page || 0;\n// list of pages\nconst paginations = [\n  ...Array(\n    parseInt(data?.length / perPage) + (data?.length % perPage > 0 ? 1 : 0)\n  ).keys(),\n];\nlet lastElement = paginations[paginations.length - 1];\nconst handlePainate = (to) => {\n  if (to !== \"...\") {\n    const nxtPage = parseInt(to);\n    setPage(onClick(nxtPage));\n  }\n};\nconst Page = ({ children }) => {\n  return (\n    <div\n      onClick={() => handlePainate(children[0])}\n      className={`${children[0] + \"\" == page + \"\" ? \"active\" : \"\"}`}\n    >\n      {children[0]}\n    </div>\n  );\n};\n\nconst Pagination = styled.div`\n  display: flex;\n  gap: 1rem;\n  justify-content: center;\n  ${customStyle}\n  div {\n    border: 1px solid transparent;\n    background: ${bgColor};\n    border-radius: 2px;\n    padding: 10px;\n    font-size: 12px;\n    color: white;\n    cursor: pointer;\n    :hover {\n      background: ${bgColor}90;\n    }\n    &.active {\n      background: white;\n      color: ${bgColor};\n      border-color: ${bgColor};\n    }\n  }\n`;\nconst PaginationNumber = () => {\n  if (paginations.length < 4) {\n    return (\n      <Pagination>\n        {paginations?.map((num) => (\n          <Page>{num}</Page>\n        ))}\n      </Pagination>\n    );\n  } else if (page === 0) {\n    return (\n      <Pagination>\n        <Page>0</Page>\n        <Page>{page + 1}</Page>\n        <Page>...</Page>\n        <Page>{lastElement}</Page>\n      </Pagination>\n    );\n  } else if (page === lastElement) {\n    return (\n      <Pagination>\n        <Page>0</Page>\n        <Page>...</Page>\n        <Page>{page - 1}</Page>\n        <Page>{page}</Page>\n      </Pagination>\n    );\n  } else if (page + 1 === lastElement) {\n    return (\n      <Pagination>\n        <Page>0</Page>\n        <Page>...</Page>\n        <Page>{page - 1}</Page>\n        <Page>{page}</Page>\n        <Page>{lastElement}</Page>\n      </Pagination>\n    );\n  } else if (page + 1 < lastElement && page > 3) {\n    return (\n      <Pagination>\n        <Page>0</Page>\n        <Page>...</Page>\n        <Page>{page - 1}</Page>\n        <Page>{page}</Page>\n        <Page>{page + 1}</Page>\n        <Page>...</Page>\n        <Page>{lastElement}</Page>\n      </Pagination>\n    );\n  } else if (page < lastElement) {\n    return (\n      <Pagination>\n        <Page>0</Page>\n        <Page>{page}</Page>\n        <Page>{page + 1}</Page>\n        <Page>...</Page>\n        <Page>{lastElement}</Page>\n      </Pagination>\n    );\n  }\n};\n\nreturn <PaginationNumber />;\n", "metadata": {"fork_of": "baam25.near/widget/pagination@112197972"}, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/baam25.near/widget/pagination", "fact_widget_deployments_id": "97d42c547b4ac8b8b1a0e7763ca4f09c", "inserted_timestamp": "2024-03-07T05:24:05.087Z", "modified_timestamp": "2024-03-07T05:24:05.087Z", "__row_index": 2}