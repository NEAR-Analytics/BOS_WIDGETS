{"tx_hash": "AEJkcJxqW7RQdheeJq6n7s3asZysz7vhLjW8b9dNfe5s", "action_id_social": "usJ4Ke7vxpDPCrS6uojhreFJSXWzAc1iMBfVe4GFHYN-0-widget", "block_id": 114204774, "block_timestamp": "2024-03-06T12:58:56.738Z", "signer_id": "baam25.near", "widget_name": "pagination", "source_code": "const perPage = props.perPage || 50;\nconst data = props.data || [];\nconst bgColor = props.bgColor || \"#aeaeae\";\nconst customStyle = props.customStyle || \"\";\nconst onClick = props.onClick || \"\";\nconst page = props.page || 0;\n// list of pages\nconst paginations = [\n  ...Array(\n    parseInt(data?.length / perPage) + (data?.length % perPage > 0 ? 1 : 0)\n  ).keys(),\n];\nlet lastElement = paginations[paginations.length - 1];\nconst handlePainate = (to) => {\n  if (to !== \"...\") {\n    const nxtPage = parseInt(to);\n    onClick(nxtPage);\n  }\n};\nconst Page = ({ children }) => {\n  return (\n    <div\n      onClick={() => handlePainate(children[0])}\n      className={`${children[0] + \"\" == page + \"\" ? \"active\" : \"\"}`}\n    >\n      {children[0]}\n    </div>\n  );\n};\n\nconst Pagination = styled.div`\n  display: flex;\n  gap: 1rem;\n  justify-content: center;\n  ${customStyle}\n  div {\n    border: 1px solid transparent;\n    background: ${bgColor};\n    border-radius: 2px;\n    padding: 10px;\n    font-size: 12px;\n    color: white;\n    cursor: pointer;\n    transition: all 300ms;\n    :hover {\n      opacity: 0.75;\n    }\n    &.active {\n      background: white;\n      color: ${bgColor};\n      border-color: ${bgColor};\n    }\n  }\n`;\nconst PaginationNumber = () => {\n  if (paginations.length < 4) {\n    return (\n      <Pagination>\n        {paginations?.map((num) => (\n          <Page>{num}</Page>\n        ))}\n      </Pagination>\n    );\n  } else if (page === 0) {\n    return (\n      <Pagination>\n        <Page>0</Page>\n        <Page>{page + 1}</Page>\n        <Page>...</Page>\n        <Page>{lastElement}</Page>\n      </Pagination>\n    );\n  } else if (page === lastElement) {\n    return (\n      <Pagination>\n        <Page>0</Page>\n        <Page>...</Page>\n        <Page>{page - 1}</Page>\n        <Page>{page}</Page>\n      </Pagination>\n    );\n  } else if (page + 1 === lastElement) {\n    return (\n      <Pagination>\n        <Page>0</Page>\n        <Page>...</Page>\n        <Page>{page - 1}</Page>\n        <Page>{page}</Page>\n        <Page>{lastElement}</Page>\n      </Pagination>\n    );\n  } else if (page + 1 < lastElement && page > 3) {\n    return (\n      <Pagination>\n        <Page>0</Page>\n        <Page>...</Page>\n        <Page>{page - 1}</Page>\n        <Page>{page}</Page>\n        <Page>{page + 1}</Page>\n        <Page>...</Page>\n        <Page>{lastElement}</Page>\n      </Pagination>\n    );\n  } else if (page < lastElement) {\n    return (\n      <Pagination>\n        <Page>0</Page>\n        <Page>{page}</Page>\n        <Page>{page + 1}</Page>\n        <Page>...</Page>\n        <Page>{lastElement}</Page>\n      </Pagination>\n    );\n  }\n};\n\nreturn paginations.length === 1 ? \"\" : <PaginationNumber />;\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/baam25.near/widget/pagination", "fact_widget_deployments_id": "c4374eac7d948966ce1446ec95d7ca0d", "inserted_timestamp": "2024-03-07T05:24:05.087Z", "modified_timestamp": "2024-03-07T05:24:05.087Z", "__row_index": 0}