{"tx_hash": "7YC9cS3HJRZoBqLtG22K8N6wvmqRWsLZU3eEjUpFhw1y", "action_id_social": "HMkiEiMdYgLfJ8YYF28RBWnXG6wDkSNVbe52k8GpdcH8-0-widget", "block_id": 106433965, "block_timestamp": "2023-11-24T14:26:58.200Z", "signer_id": "communityevent.near", "widget_name": "city", "source_code": "const Container = styled.div`\n  border: 1px solid #ccc;\n  padding: 20px;\n  margin-bottom: 20px;\n  background-color: #f9f9f9;\n`;\n\nconst Title = styled.h2`\n  color: #333;\n`;\n\nconst Votes = styled.p`\n  color: #555;\n`;\n\nconst ViewButton = styled.button`\n  background-color: #007bff;\n  color: #fff;\n  padding: 8px 16px;\n  margin-top: 10px;\n  cursor: pointer;\n`;\n\nconst VotersList = styled.p`\n  margin-top: 10px;\n`;\n\nconst VoterItem = styled.div`\n  margin-bottom: 5px;\n`;\n\nconst UpvoteButton = styled.button`\n  background-color: #28a745;\n  color: #fff;\n  padding: 8px 16px;\n  margin-top: 10px;\n  cursor: pointer;\n`;\n\nconst YourComponent = (props) => {\n  const city = props.city;\n\n  State.init({\n    showVoters: false,\n  });\n\n  const contract = \"communityevent.near\";\n\n  const handleClickYes = () => {\n    Near.call(contract, \"vote_yes\", { city_name: city[0] });\n  };\n\n  const isSignedIn = context.accountId;\n\n  return (\n    <Container>\n      <Title>{city[0]}</Title>\n      <Votes>votes: {city[1].votes}</Votes>\n      <ViewButton\n        onClick={() => State.update({ showVoters: !state.showVoters })}\n      >\n        View voters\n      </ViewButton>\n      <div>\n        {state.showVoters && (\n          <VotersList>\n            {city[1].accounts.map((account, index) => (\n              <VoterItem key={index}>{account}</VoterItem>\n            ))}\n          </VotersList>\n        )}\n      </div>\n      <UpvoteButton onClick={() => handleClickYes()} disabled={!isSignedIn}>\n        Upvote\n      </UpvoteButton>\n    </Container>\n  );\n};\n", "metadata": {"fork_of": "communityevent.near/widget/city@106370328"}, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/communityevent.near/widget/city", "fact_widget_deployments_id": "8faefb4d3a4e0123cb3ca4a966d7c45d", "inserted_timestamp": "2023-11-24T16:28:39.511Z", "modified_timestamp": "2023-11-24T16:28:39.511Z", "__row_index": 27}