{"tx_hash": "FDZ4x32NcYgU7PXQSqQVS32qekwHs26HpMuLT9bLs9Tc", "action_id_social": "AHbCgRRbGXUiPmwnbyKztE1NZWS52wfrNxPHnHujcA5e-0-widget", "block_id": 106434214, "block_timestamp": "2023-11-24T14:32:00.272Z", "signer_id": "communityevent.near", "widget_name": "city", "source_code": "const CityContainer = styled.div`\n  display: flex;\n  border: 1px solid #ccc;\n`;\n\nconst CityInfo = styled.div`\n  flex: 1;\n  padding: 10px;\n`;\n\nconst ButtonsContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: flex-end;\n  padding: 10px;\n`;\n\nconst Button = styled.button`\n  margin: 5px;\n`;\n\nconst city = props.city;\n\nState.init({\n  showVoters: false,\n});\n\nconst contract = \"communityevent.near\";\nconst handleClickYes = () => {\n  Near.call(contract, \"vote_yes\", { city_name: city[0] });\n};\n\nconst isSignedIn = context.accountId;\n\nreturn (\n  <CityContainer>\n    <CityInfo>\n      <h2>{city[0]}</h2>\n      <p>votes: {city[1].votes}</p>\n      <button\n        className=\"btn-view\"\n        onClick={() => State.update({ showVoters: !state.showVoters })}\n      >\n        View voters\n      </button>\n      <div>\n        {state.showVoters && (\n          <p>\n            {city[1].accounts.map((account, index) => (\n              <div key={index}>{account}</div>\n            ))}\n          </p>\n        )}\n      </div>\n    </CityInfo>\n\n    <ButtonsContainer>\n      <Button\n        className=\"btn-yes\"\n        onClick={() => handleClickYes()}\n        disabled={!isSignedIn}\n      >\n        Upvote\n      </Button>\n    </ButtonsContainer>\n  </CityContainer>\n);\n", "metadata": {"fork_of": "communityevent.near/widget/city@106433965"}, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/communityevent.near/widget/city", "fact_widget_deployments_id": "9e93f1177c5b15596e2dc8be540183dd", "inserted_timestamp": "2023-11-24T16:31:37.588Z", "modified_timestamp": "2023-11-24T16:31:37.588Z", "__row_index": 31}