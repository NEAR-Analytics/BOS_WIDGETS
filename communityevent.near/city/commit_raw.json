{"tx_hash": "AWPrReXS7dofUzAAYU71e6w4UA2YGL2x7KJuwZDhmd1k", "action_id_social": "99JHuMbM7Wa8ubrcAknVpJj9aGRKC4UFp7Eh9Ry8e9Hm-0-widget", "block_id": 106370191, "block_timestamp": "2023-11-23T17:21:18.506Z", "signer_id": "communityevent.near", "widget_name": "city", "source_code": "const city = props.city;\n\nState.init({\n  showVoters: false,\n});\n\nconst contract = \"communityevent.near\";\nconst handleClickYes = () => {\n  Near.call(contract, \"vote_yes\", { city_name: city[0] });\n};\n\nconst isSignedIn = context.accountId;\n\nreturn (\n  <div>\n    <h2> {city[0]} </h2>\n    <p>votes: {city[1].votes} </p>\n    <button\n      className=\"btn-view\"\n      onClick={() => State.update({ showVoters: !state.show_voters })}\n    >\n      View voters\n    </button>\n    <div>\n      {state.showVoters && (\n        <p>\n          {city[1].accounts.map((account, index) => (\n            <div key={index}>{account}</div>\n          ))}\n        </p>\n      )}\n    </div>\n\n    <button\n      className=\"btn-yes\"\n      onClick={() => handleClickYes()}\n      disabled={!isSignedIn}\n    >\n      Upvote\n    </button>\n  </div>\n);\n", "metadata": {"fork_of": "communityevent.near/widget/city@106370040"}, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/communityevent.near/widget/city", "fact_widget_deployments_id": "66c17ccc18d7f6e2381bddb45d08c6e3", "inserted_timestamp": "2023-11-23T19:24:12.541Z", "modified_timestamp": "2023-11-23T19:24:12.541Z", "__row_index": 19}