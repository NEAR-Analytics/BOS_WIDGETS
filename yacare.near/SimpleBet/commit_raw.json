{"tx_hash": "BF2ckQ9Py2qoKZY1yY4Yn7SGuJ4tucufb1249MpQee6R", "action_id_social": "ATQxBa97dujZd36pActPLfcwafDN486Nz2Rw4Xdedk5V-0-widget", "block_id": 106421880, "block_timestamp": "2023-11-24T10:32:33.721Z", "signer_id": "yacare.near", "widget_name": "SimpleBet", "source_code": "const simpleBetAccountId = \"simplebet.near\";\n\nlet pool = Near.view(simpleBetAccountId, \"pool\");\nlet ratio = Near.view(simpleBetAccountId, \"max_bet_ratio\");\n\nfunction toNear(yoctoNear) {\n  if (yoctoNear.length < 25) {\n    yoctoNear = \"0\".repeat(25 - yoctoNear.length) + yoctoNear;\n  }\n  let len = yoctoNear.length;\n  let big = yoctoNear.slice(0, len - 24);\n  let small = yoctoNear.slice(len - 24, len - 24 + 5);\n  return big + \".\" + small;\n}\n\nlet poolInNear = toNear(pool);\nlet maxBet =\n  Math.round(\n    ((Number(poolInNear) * Number(ratio.num)) / Number(ratio.den)) * 100000\n  ) / 100000;\n\nlet Style = styled.div`\n\n\n.buttons-all {\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    gap: 20px;\n    width: 100%;\n    max-width: 1000px;\n    margin: auto;\n}\n\n.buttons-row {\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    gap: 20px;\n    width: 100%;\n    max-width: 400px;\n    margin: auto;\n}\n\n#custom-bet-value, #submit-bet {\n    width: 100%;\n}\n`;\n\nreturn (\n  <>\n    <Style>\n      <div class=\"buttons-all\">\n        <div class=\"buttons-row\">\n          <Widget src=\"yacare.near/widget/Bet-N\" props={{ amount: \"0.1\" }} />\n          <Widget src=\"yacare.near/widget/Bet-N\" props={{ amount: \"1\" }} />\n          <Widget src=\"yacare.near/widget/Bet-N\" props={{ amount: \"10\" }} />\n        </div>\n        <div class=\"buttons-row\">\n          <Widget src=\"yacare.near/widget/BetCustom\" />\n        </div>\n      </div>\n      <p>\n        <strong>\n          Pool Balance: <strong>{poolInNear} \u24c3</strong>\n        </strong>\n      </p>\n      <p>\n        <strong>\n          Max bet allowed: <strong>{maxBet} \u24c3</strong>\n        </strong>\n      </p>\n      <p>\n        <small>\n          If you play any amount higher than the maximum bet allowed, the\n          difference will be refunded to you.\n        </small>\n      </p>\n      <h3>Bettors</h3>\n      <Widget src=\"yacare.near/widget/BetFeed\" />\n      <p></p>\n    </Style>\n  </>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/yacare.near/widget/SimpleBet", "fact_widget_deployments_id": "15d6639fc3d1df88b993c9e5135585fa", "inserted_timestamp": "2024-03-07T05:24:05.087Z", "modified_timestamp": "2024-03-07T05:24:05.087Z", "__row_index": 0}