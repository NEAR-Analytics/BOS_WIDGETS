{"tx_hash": "413Wgh538SVvxBquFjF2tH9Zx67zWSbtsWV8Mi14YJBF", "action_id_social": "CnZw5cyGUayJHot8tCh62tSGogvD1cKRMcLiJXx3tL74-0-widget", "block_id": 106375294, "block_timestamp": "2023-11-23T18:57:07.442Z", "signer_id": "yacare.near", "widget_name": "BetCustom", "source_code": "const simpleBetAccountId = \"simplebet.near\";\nconst defaultValue = \"1\";\n\nfunction toYoctoNear(amountInNear) {\n  let point = amountInNear.indexOf(\".\");\n  let big, small;\n\n  if (point === -1) {\n    big = amountInNear;\n    small = \"\";\n  } else {\n    big = amountInNear.slice(0, point);\n    small = amountInNear.slice(point + 1);\n  }\n\n  if (small.length > 24) {\n    small = small.slice(0, 24);\n  } else {\n    small = small + \"0\".repeat(24 - small.length);\n  }\n\n  let yoctoNear = big + small;\n  return yoctoNear;\n}\n\nfunction bet() {\n  let valueInNear = state.value ?? defaultValue;\n  let valueInYocto = toYoctoNear(valueInNear);\n  Near.call(simpleBetAccountId, \"bet\", {}, \"15000000000000\", valueInYocto);\n}\n\nlet Style = styled.div`\n.container {\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    gap: 20px;\n    width: 80%;\n    max-width: 400px;\n    margin: auto;\n}\n\n#custom-bet-value, #submit-bet {\n    width: 100%;\n}\n`;\n\nreturn (\n  <>\n    <Style>\n      <div class=\"container\">\n        <input\n          id=\"custom-bet-value\"\n          type=\"number\"\n          min=\"0\"\n          value={state.value ?? defaultValue}\n          onChange={(e) => {\n            State.update({ value: e.target.value });\n          }}\n        />\n        <button id=\"submit-bet\" onClick={() => bet()}>\n          Bet {state.value ?? defaultValue}\u24c3\n        </button>\n      </div>\n    </Style>\n  </>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/yacare.near/widget/BetCustom", "fact_widget_deployments_id": "c73fdd04ffebcb2af94547f6ba73a2e3", "inserted_timestamp": "2024-03-07T05:24:05.087Z", "modified_timestamp": "2024-03-07T05:24:05.087Z", "__row_index": 0}