{"tx_hash": "5xRQBXkWdHTZMu1eeZ5JvPau6RxYoHSke2wyVmqhNd3x", "action_id_social": "4diNcc4Br7gGohSdA341ZKtu2nL8HeNEpTnjUfb3xAQy-0-widget", "block_id": 121093322, "block_timestamp": "2024-06-13T17:59:17.647Z", "signer_id": "greenghost.near", "widget_name": "donate-me", "source_code": "const receiver = \"vegan-friends.sputnik-dao.near\";\n\n// let TG_TO_YOCTONEAR_FACTOR = Big(\"1000000000000\"); // 1e12\n// let TGAmount = Big(300);\n// let _yoctoNearAmount = TGAmount * TG_TO_YOCTONEAR_FACTOR;\n\nState.init({\n  currentDonations: 0,\n  totalDonations: 100,\n  amount: 0.1,\n});\n\nconst DonateView = styled.div`\nbackground-color: #b6d0ab;\ndisplay: inline-flex;\nflex-direction: column;\nborder-radius: 8px;\ntext-align: center;\npadding: 5px;\ncolor: #002c11;\n`;\n\nconst DonateButton = styled.button`\n  background-color: #002c11;\n  color: white;\n  border: none;\n  padding: 10px;\n  margin: 1.5em;\n  margin-top: 0px;\n  text-align: center;\n  text-decoration: none;\n  display: inline-block;\n  font-size: 16px;\n  border-radius: 8px;\n  cursor: pointer;\n`;\n\nconst DonateInput = styled.input`\n    margin-right: 10px;\n    font-size: 16px;\n    border-radius: 5px;\n    border-color: transparent;\n    text-align: left;\n    color: #002c11;\n`;\n\nconst handleButtonClick = () => {\n  const NEAR_TO_YOCTONEAR_FACTOR = Big(\"1000000000000000000000000\"); // 1e24\n  let nearAmount = Big(Math.round(state.amount * 1e5) / 1e5); // Convert NEAR to a smaller unit that can be handled as an integer\n  let yoctoNearAmount = nearAmount * NEAR_TO_YOCTONEAR_FACTOR;\n\n  Near.call([\n    {\n      contractName: \"donation-near-social.near\",\n      methodName: \"donate\",\n      args: {\n        beneficiary: receiver,\n      },\n      deposit: yoctoNearAmount,\n      gas: \"200000000000000\",\n    },\n  ]);\n};\n\nconst childrenComp = props.childrenComp || <div>Vegan Friends DAO</div>;\n\nconst handleChange = (e) => {\n  let amount = e.target.value > 0.1 ? e.target.value : 0.1;\n  State.update({\n    ...state,\n    amount,\n  });\n};\n\nreturn (\n  <DonateView>\n    {childrenComp}\n    {props.name && <div>Hi {props.name}</div>}\n    <div style={{ margin: \"2.5em\" }}>\n      <DonateInput\n        type=\"number\"\n        label=\"Near\"\n        min=\"0.1\"\n        defaultValue={state.amount}\n        onChange={handleChange}\n      />\n      <span>Near</span>\n    </div>\n    <DonateButton id=\"donateButton\">\n      <button\n        onClick={handleButtonClick}\n        style={{ backgroundColor: \"transparent\", border: \"none\" }}\n      >\n        Donate to Vegan Friends DAO\n      </button>\n    </DonateButton>\n  </DonateView>\n);\n", "metadata": {"fork_of": "vishal-dharmawat.near/widget/donate-me@94292737"}, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/greenghost.near/widget/donate-me", "fact_widget_deployments_id": "cf73b70f706f9c11f6f30d5d3816e614", "inserted_timestamp": "2024-06-13T19:54:59.318Z", "modified_timestamp": "2024-06-13T19:54:59.318Z", "__row_index": 0}