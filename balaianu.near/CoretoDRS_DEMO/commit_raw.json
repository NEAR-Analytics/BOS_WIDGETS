{"tx_hash": "YHxJ1sQTTVh37WAcAgUeUVYLKJt3kTyqUkXfRRi9jwp", "action_id_social": "GUQ3VmVptVqKntk1DbKukrAkJvo53GpF3jiyj6qTfkRb-0-widget", "block_id": 113288747, "block_timestamp": "2024-02-21T13:03:12.640Z", "signer_id": "balaianu.near", "widget_name": "CoretoDRS_DEMO", "source_code": "const { getAccountScores } = VM.require(\n  \"balaianu.near/widget/CoretoDRS_RSS_getAccountScores\"\n);\n\nconst accountId = props.accountId ?? context.accountId;\n\nconst [hasErrors, setHasErrors] = useState(false);\nconst [trust, setTrust] = useState(0);\nconst [performance, setPerformance] = useState(0);\nconst [account, setAccount] = useState(accountId);\nconst [sources, setSources] = useState(\"\");\nconst [error, setError] = useState(\"\");\n\nlet accountScores = getAccountScores(account);\n\nuseEffect(() => {\n  if (accountScores.errors === null) {\n    setHasErrors(false);\n    setError(\"\");\n    setTrust(accountScores.data.scores.trust.toFixed(2));\n    setPerformance(accountScores.data.scores.performance.toFixed(2));\n    setSources(\n      accountScores.data.sources.map((item, index) => {\n        return (\n          <div class=\"col-lg-4 mx-auto\">\n            <div class=\"card\">\n              <div class=\"card-body\">\n                <h5 class=\"card-title text-center\">{item.name}</h5>\n                <p class=\"card-text\">{item.description}</p>\n              </div>\n              <ul class=\"list-group list-group-flush\">\n                <li class=\"list-group-item\">\n                  Trust:{\" \"}\n                  <span class=\"float-end\">{item.scores.trust.toFixed(2)}%</span>\n                </li>\n                <li class=\"list-group-item\">\n                  Performance:{\" \"}\n                  <span class=\"float-end\">\n                    {item.scores.performance.toFixed(2)}%\n                  </span>\n                </li>\n              </ul>\n              <div class=\"card-body\">\n                <a target=\"_blank\" href={item.website} class=\"card-link\">\n                  Website\n                </a>\n              </div>\n            </div>\n          </div>\n        );\n      })\n    );\n  } else {\n    setHasErrors(true);\n    setError(\n      accountScores.errors[0].code + \" - \" + accountScores.errors[0].message\n    );\n    setTrust(0);\n    setPerformance(0);\n    setSources(\"\");\n  }\n}, [accountScores]);\n\nreturn (\n  <div class=\"container col-xl-10 col-xxl-8 px-4 py-5\">\n    <div class=\"row\">\n      <div class=\"px-4 py-5 text-center\">\n        <h1 class=\"display-5 fw-bold\">Reputation scores for</h1>\n        <div class=\"col-lg-6 mx-auto\">\n          <input\n            class=\"text-center\"\n            value={account}\n            onChange={(e) => setAccount(e.target.value)}\n          />\n        </div>\n      </div>\n    </div>\n    <div class=\"row\">\n      <div class=\"col-lg-8 mx-auto\">\n        <p class=\"lead mb-4 text-center\" hidden={hasErrors}>\n          Reputation scores are based on the results of user activity measured\n          in the available source platforms.\n        </p>\n        <p class=\"lead mb-4 text-center\" hidden={!hasErrors}>\n          {error}\n        </p>\n        <div class=\"d-grid gap-2 d-sm-flex justify-content-sm-center\"></div>\n      </div>\n    </div>\n\n    <div hidden={hasErrors} class=\"row\">\n      <div class=\"px-4 py-3 text-center\">\n        <h3>General Reputation</h3>\n      </div>\n      <div class=\"col-lg-3 mx-auto\">\n        <div class=\"card\">\n          <ul class=\"list-group list-group-flush\">\n            <li class=\"list-group-item\">\n              Trust: <span class=\"float-end\">{trust}%</span>\n            </li>\n            <li class=\"list-group-item\">\n              Performance: <span class=\"float-end\">{performance}%</span>\n            </li>\n          </ul>\n        </div>\n      </div>\n    </div>\n\n    <div hidden={hasErrors} class=\"row mt-5\">\n      <div class=\"px-4 py-3 text-center\">\n        <h3>Reputation by Source</h3>\n      </div>\n\n      {sources}\n    </div>\n\n    <div class=\"footer py-3 my-4\">\n      <ul class=\"nav justify-content-center border-bottom pb-3 mb-3\"></ul>\n      <p class=\"text-center text-muted\">\n        Powered by{\" \"}\n        <a target=\"_blank\" href=\"https://www.coreto.io/drs\">\n          Coreto DRS\n        </a>\n      </p>\n    </div>\n  </div>\n);\n", "metadata": {"description": "Decentralized reputation scores powered by Coreto DRS.", "image": {}, "name": "Coreto DRS (DEMO)", "platform": "jutsu.ai", "tags": {"coreto": "", "drs": "", "reputation": ""}, "website": "https://www.coreto.io/drs"}, "branch": {"draft": null}, "widget_modules_used": null, "widget_url": "https://near.social/#/balaianu.near/widget/CoretoDRS_DEMO", "fact_widget_deployments_id": "c5ada5b404b471a364ac75f753e15133", "inserted_timestamp": "2024-03-07T05:24:05.087Z", "modified_timestamp": "2024-03-07T05:24:05.087Z", "__row_index": 0}