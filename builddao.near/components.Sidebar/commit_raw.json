{"tx_hash": "7Rgkj3qsig5ygP1J4ieDRt7E1joL8Pt7mNR4sPhEBCbt", "action_id_social": "H2Rq7VqfzehZoNz9Eu7rB36DcwvPtSUWcRqgsNZeh7wn-0-widget", "block_id": 121619019, "block_timestamp": "2024-06-20T21:42:31.004Z", "signer_id": "builddao.near", "widget_name": "components.Sidebar", "source_code": "const { Button } = VM.require(\"buildhub.near/widget/components\") || {\n  Button: () => <></>,\n};\nconst routes = props.routes;\nconst currentRoute = props.currentRoute;\nconst routeKeys = Object.keys(routes);\nfunction findDefaultRoute(routesObject) {\n  const routeKey =\n    routesObject &&\n    Object.keys(routesObject).find((key) => {\n      const route = routesObject[key];\n      return route.default === true;\n    });\n  if (routeKey) {\n    return routeKey;\n  } else {\n    return null;\n  }\n}\nconst tab = props.tab ?? findDefaultRoute(routes);\nconst Sidebar = styled.div`\n  display: flex;\n  min-width: 259px;\n  min-height: 100vh;\n  padding: 24px;\n  flex-direction: column;\n  align-items: flex-start;\n  gap: 12px;\n  flex-shrink: 0;\n  @media screen and (max-width: 768px) {\n    flex-direction: row;\n    min-height: auto;\n    flex-shrink: 0;\n    gap: 1rem;\n  }\n  @media screen and (max-width: 500px) {\n    display: none;\n  }\n  button {\n    padding: 10px 12px;\n    gap: 12px;\n    flex-shrink: 0;\n    height: 22px;\n    display: flex;\n    align-items: center; /* Center items vertically */\n    i {\n      -webkit-text-stroke: 0.25px;\n    }\n  }\n`;\nconst RouteLabel = styled.p`\n  color: #666;\n  font-family: Poppins, sans-serif;\n  font-size: 14px;\n  font-weight: 500;\n  line-height: 140%; /* 19.6px */\n  letter-spacing: -0.14px;\n  text-transform: uppercase;\n  margin: 0;\n`;\nconst Container = styled.div`\n  border-radius: 16px;\n  border: 1px solid #23242b;\n  margin-right: 1rem;\n  @media screen and (max-width: 768px) {\n    display: flex;\n    overflow: scroll;\n    scrollbar-width: none;\n    align-items: center;\n    margin-bottom: 1rem;\n  }\n  @media screen and (max-width: 500px) {\n    border-radius: 16px;\n    border: 1px solid #23242b;\n    padding: 24px;\n    width: 100%;\n    align-items: center;\n    justify-content: center;\n  }\n`;\nconst SidebarMobile = styled.div`\n  display: none;\n  @media screen and (max-width: 500px) {\n    display: flex;\n    background: black;\n    left: ${({ isOpen }) => (isOpen ? \"0\" : \"-100%\")};\n  }\n`;\nconst Content = styled.div`\n  background: #000;\n  display: flex;\n  min-width: 259px;\n  min-height: 100vh;\n  padding: 24px;\n  flex-direction: column;\n  align-items: flex-start;\n  gap: 12px;\n  flex-shrink: 0;\n`;\nconst [isOpen, setIsOpen] = useState(false);\nconst handleButtonClick = () => {\n  setIsOpen(false);\n};\nreturn (\n  <Container>\n    <Sidebar>\n      {routeKeys.map((route) => {\n        const routeObj = routes[route];\n        const hasSubRoutes = Object.keys(routeObj.routes || {}).length > 0;\n        const isActiveRoute = Object.keys(routeObj.routes || {}).includes(tab);\n        return (\n          <>\n            {routeObj.label && <RouteLabel>{routeObj.label}</RouteLabel>}\n            {hasSubRoutes ? (\n              <>\n                <Button\n                  variant={isActiveRoute ? \"primary\" : \"outline\"}\n                  className=\"align-self-stretch justify-content-start\"\n                  data-bs-toggle=\"collapse\"\n                  data-bs-target={`#${route}`}\n                >\n                  <i style={{ width: 16 }} className={routeObj.init.icon}></i>\n                  {routeObj.init.name}\n                  <i className=\"bi bi-chevron-down ms-auto\"></i>\n                </Button>\n                <div\n                  className={`collapse ${isActiveRoute ? \"show\" : \"\"} w-100`}\n                  id={route}\n                >\n                  <div\n                    className=\"d-flex flex-column gap-2 ms-3 ps-2 w-100\"\n                    style={{ borderLeft: \"1px solid rgba(255, 255, 255, 0.2)\" }}\n                  >\n                    {Object.keys(routeObj.routes).map((subRoute) => (\n                      <Button\n                        href={`${currentRoute}&tab=${subRoute}`}\n                        style={{\n                          backgroundColor:\n                            tab === subRoute ? \"#2f2008\" : \"transparent\",\n                          fontWeight: 500,\n                        }}\n                        className=\"flex-grow-1 justify-content-start\"\n                        linkClassName=\"d-flex w-100\"\n                      >\n                        {routeObj.routes[subRoute].init.name}\n                      </Button>\n                    ))}\n                  </div>\n                </div>\n              </>\n            ) : (\n              !routeObj.hide && (\n                <Button\n                  variant={tab === route ? \"primary\" : \"outline\"}\n                  href={`${currentRoute}&tab=${route}`}\n                  className=\"flex-grow-1 justify-content-start\"\n                  linkClassName=\"d-flex w-100\"\n                >\n                  <i style={{ width: 16 }} className={routeObj.init.icon}></i>\n                  {routeObj.init.name}\n                </Button>\n              )\n            )}\n          </>\n        );\n      })}\n    </Sidebar>\n    <SidebarMobile isOpen={isOpen} onClick={() => setIsOpen(false)}>\n      <Button\n        variant=\"primary\"\n        data-bs-toggle=\"offcanvas\"\n        data-bs-target=\"#offcanvasExample\"\n        aria-controls=\"offcanvasExample\"\n        style={{\n          width: \"70vw\",\n        }}\n      >\n        Menu\n        <svg\n          xmlns=\"http://www.w3.org/2000/svg\"\n          width=\"16\"\n          height=\"16\"\n          fill=\"currentColor\"\n          class=\"bi bi-arrow-right\"\n          viewBox=\"0 0 16 16\"\n        >\n          <path\n            fill-rule=\"evenodd\"\n            d=\"M1 8a.5.5 0 0 1 .5-.5h11.793l-3.147-3.146a.5.5 0 0 1 .708-.708l4 4a.5.5 0 0 1 0 .708l-4 4a.5.5 0 0 1-.708-.708L13.293 8.5H1.5A.5.5 0 0 1 1 8\"\n          />\n        </svg>\n      </Button>\n      <div\n        class=\"offcanvas offcanvas-start\"\n        tabindex=\"-1\"\n        id=\"offcanvasExample\"\n        aria-labelledby=\"offcanvasExampleLabel\"\n        style={{\n          background: \"black\",\n          scrollbarWidth: \"none\",\n        }}\n      >\n        <div class=\"offcanvas-header\">\n          <h5\n            class=\"offcanvas-title\"\n            id=\"offcanvasExampleLabel\"\n            style={{\n              color: \"white\",\n            }}\n          >\n            Menu\n          </h5>\n          <button\n            type=\"button\"\n            class=\"btn-close btn-close-white text-reset\"\n            data-bs-dismiss=\"offcanvas\"\n            aria-label=\"Close\"\n          ></button>\n        </div>\n        <div class=\"offcanvas-body\">\n          <Content>\n            {routeKeys.map((route) => {\n              const routeObj = routes[route];\n              const hasSubRoutes =\n                Object.keys(routeObj.routes || {}).length > 0;\n              const isActiveRoute = Object.keys(routeObj.routes || {}).includes(\n                tab\n              );\n              return (\n                <>\n                  {routeObj.label && <RouteLabel>{routeObj.label}</RouteLabel>}\n                  {hasSubRoutes ? (\n                    <>\n                      <Button\n                        variant={isActiveRoute ? \"primary\" : \"outline\"}\n                        className=\"align-self-stretch justify-content-start\"\n                        data-bs-toggle=\"collapse\"\n                        data-bs-target={`#${route}`}\n                      >\n                        <i\n                          style={{ width: 16 }}\n                          className={routeObj.init.icon}\n                        ></i>\n                        {routeObj.init.name}\n                        <i className=\"bi bi-chevron-down ms-auto\"></i>\n                      </Button>\n                      <div\n                        className={`collapse ${\n                          isActiveRoute ? \"show\" : \"\"\n                        } w-100`}\n                        id={route}\n                      >\n                        <div\n                          className=\"d-flex flex-column gap-2 ms-3 ps-2 w-100\"\n                          style={{\n                            borderLeft: \"1px solid rgba(255, 255, 255, 0.2)\",\n                          }}\n                        >\n                          {Object.keys(routeObj.routes).map((subRoute) => (\n                            <Button\n                              href={`${currentRoute}&tab=${subRoute}`}\n                              style={{\n                                backgroundColor:\n                                  tab === subRoute ? \"#2f2008\" : \"transparent\",\n                                fontWeight: 500,\n                              }}\n                              className=\"flex-grow-1 justify-content-start\"\n                              linkClassName=\"d-flex w-100\"\n                            >\n                              {routeObj.routes[subRoute].init.name}\n                            </Button>\n                          ))}\n                        </div>\n                      </div>\n                    </>\n                  ) : (\n                    !routeObj.hide && (\n                      <Button\n                        variant={tab === route ? \"primary\" : \"outline\"}\n                        href={`${currentRoute}&tab=${route}`}\n                        className=\"flex-grow-1 justify-content-start\"\n                        linkClassName=\"d-flex w-100\"\n                      >\n                        <i\n                          style={{ width: 16 }}\n                          className={routeObj.init.icon}\n                        ></i>\n                        {routeObj.init.name}\n                      </Button>\n                    )\n                  )}\n                </>\n              );\n            })}\n          </Content>\n        </div>\n      </div>\n    </SidebarMobile>\n  </Container>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/builddao.near/widget/components.Sidebar", "fact_widget_deployments_id": "a98e11ef9d47c80f149bdbcf4d3c1a34", "inserted_timestamp": "2024-06-20T22:54:09.280Z", "modified_timestamp": "2024-06-20T23:54:31.353Z", "__row_index": 0}