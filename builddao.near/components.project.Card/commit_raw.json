{"tx_hash": "7Rgkj3qsig5ygP1J4ieDRt7E1joL8Pt7mNR4sPhEBCbt", "action_id_social": "H2Rq7VqfzehZoNz9Eu7rB36DcwvPtSUWcRqgsNZeh7wn-0-widget", "block_id": 121619019, "block_timestamp": "2024-06-20T21:42:31.004Z", "signer_id": "builddao.near", "widget_name": "components.project.Card", "source_code": "const { Avatar, Button } = VM.require(\"buildhub.near/widget/components\") || {\n  Avatar: () => <></>,\n  Button: () => <></>,\n};\nconst { ProfileImages } = VM.require(\n  \"buildhub.near/widget/components.ProfileImages\"\n) || {\n  ProfileImages: () => <></>,\n};\nconst { href } = VM.require(\"devs.near/widget/lib.url\") || {\n  href: () => {},\n};\nconst StyledCard = styled.div`\n  border-radius: 16px;\n  background: var(--bg-2, #23242b);\n  border: 0.5px solid rgba(255, 255, 255, 0.2);\n  display: flex;\n  align-items: flex-start;\n  gap: 24px;\n  color: var(--text-color, #fff);\n  width: ${(props) => (props.variant === \"grid\" ? \"100%\" : \"auto\")};\n  flex-direction: ${(props) => (props.variant === \"grid\" ? \"column\" : \"row\")};\n  ${(props) =>\n    props.variant === \"grid\"\n      ? \"\"\n      : \"flex-grow: 1; justify-content: flex-start;\"}\n  .info {\n    display: flex;\n    align-items: flex-start;\n    flex-direction: column;\n    h4 {\n      color: #fff;\n      font-family: Poppins, sans-serif;\n      font-size: 18px;\n      font-weight: 500;\n      margin: 0;\n    }\n    p {\n      color: #b0b0b0;\n      font-family: Poppins, sans-serif;\n      font-size: 12px;\n      margin-top: 4px;\n      margin-bottom: 0;\n      display: -webkit-box;\n      -webkit-line-clamp: 2;\n      -webkit-box-orient: vertical;\n      overflow: hidden;\n      text-overflow: ellipsis;\n    }\n    span {\n      color: #b0b0b0;\n      font-family: Poppins, sans-serif;\n      font-size: 12px;\n    }\n  }\n  .c-top {\n    display: flex;\n    flex-direction: column;\n    gap: 24px;\n    width: 100%;\n  }\n  .bt-w {\n    flex: 1;\n    button {\n      width: 90%;\n    }\n  }\n`;\nconst fallbackUrl =\n  \"https://ipfs.near.social/ipfs/bafkreibmiy4ozblcgv3fm3gc6q62s55em33vconbavfd2ekkuliznaq3zm\";\nconst Tag = styled.div`\n  // Can this come from common component?\n  display: flex;\n  height: 24px;\n  padding: 4px 8px;\n  justify-content: center;\n  align-items: center;\n  gap: 4px;\n  border-radius: 6px;\n  border: 1px solid #666;\n  background: rgba(5, 41, 77, 0.03);\n  color: #fff;\n  font-family: Poppins;\n  font-size: 12px;\n  font-weight: 500;\n  line-height: 140%; /* 14px */\n  letter-spacing: -0.1px;\n  i {\n    color: #666;\n  }\n`;\nconst EditButton = ({ item }) => {\n  return (\n    <Button\n      data-testid=\"edit-btn\"\n      href={href({\n        widgetSrc: `builddao.near/widget/Index`,\n        params: {\n          page: \"projects\",\n          tab: \"editor\",\n          id: item.path,\n        },\n      })}\n      type=\"icon\"\n      className={\"rounded-3\"}\n      variant=\"primary\"\n    >\n      <i class=\"bi bi-pencil-fill\"></i>\n    </Button>\n  );\n};\nconst Tags = ({ tags, location }) => {\n  return (\n    <div\n      className={`d-flex align-items-center ${\n        variant === \"grid\" ? \"flex-wrap\" : \"\"\n      } gap-2`}\n    >\n      {location && (\n        <Tag>\n          <i className=\"bi bi-globe\"></i> {location}\n        </Tag>\n      )}\n      {tags &&\n        tags.map((tag) => (\n          <Tag>\n            <span className=\"fw-bold\">{tag}</span>\n          </Tag>\n        ))}\n    </div>\n  );\n};\nconst Title = ({ title, projectAccountId }) => {\n  return (\n    <>\n      <h4>{title.length > 30 ? `${title.slice(0, 25)}...` : title}</h4>\n      <span>{`@${\n        projectAccountId.length > 30\n          ? `${projectAccountId.slice(0, 20)}...${projectAccountId.slice(\n              projectAccountId.length - 4\n            )}`\n          : projectAccountId\n      }`}</span>\n    </>\n  );\n};\nconst ProfileImage = ({ title, profileImage }) => {\n  return (\n    <div\n      className={\"profile-image d-inline-block\"}\n      style={{ width: \"54px\", height: \"54px\" }}\n    >\n      <Widget\n        src=\"mob.near/widget/Image\"\n        loading=\"\"\n        props={{\n          image: profileImage?.image ?? profileImage,\n          alt: title,\n          className: \"rounded-circle w-100 h-100\",\n          style: { objectFit: \"cover\" },\n          thumbnail: \"thumbnail\",\n          fallbackUrl,\n        }}\n      />\n    </div>\n  );\n};\nconst ProjectCard = ({ data, variant, showEditProjectAction }) => {\n  const {\n    accountId,\n    description,\n    projectAccountId,\n    tags,\n    collaborators,\n    metadata,\n    projectID,\n    profileImage,\n    backgroundImage,\n    location,\n  } = data;\n  const item = {\n    type: \"social\",\n    path: `${accountId}/project/${projectID}`,\n  };\n  return (\n    <StyledCard variant={variant} data-testid={`project-${variant}-card`}>\n      {variant === \"grid\" ? (\n        // GRID VIEW CARD\n        <>\n          <Widget\n            src=\"mob.near/widget/Image\"\n            loading=\"\"\n            props={{\n              image: backgroundImage.image ?? backgroundImage,\n              alt: metadata.title,\n              className: \"w-100\",\n              style: {\n                objectFit: \"cover\",\n                height: \"150px\",\n                borderRadius: \"1rem 1rem 0 0\",\n              },\n              fallbackUrl:\n                \"https://ipfs.near.social/ipfs/bafkreifn654yar6dv4ztyijkag3lgh274iqfajgjhvnny6gv22pkkhxllm\",\n            }}\n          />\n          <div\n            className=\"d-flex flex-column justify-content-start p-4 w-100 flex-grow-1 pt-2\"\n            style={{ gap: 20 }}\n          >\n            <div className=\"d-flex align-items-center justify-content-between w-100\">\n              <ProfileImage\n                title={metadata.title}\n                profileImage={profileImage}\n              />\n              <div className=\"d-flex gap-2 align-items-center\">\n                {showEditProjectAction && <EditButton item={item} />}\n                <Widget\n                  src=\"builddao.near/widget/components.project.StarProject\"\n                  loading=\"\"\n                  props={{\n                    item: item,\n                    notifyAccountId: accountId,\n                  }}\n                />\n              </div>\n            </div>\n            <div className=\"info w-100\">\n              <Title\n                title={metadata.title}\n                projectAccountId={projectAccountId}\n              />\n              <p>{description}</p>\n            </div>\n            <div className=\"d-flex justify-content-between align-items-center mt-auto\">\n              <Tags tags={tags} projectAccountId={projectAccountId} />\n              <ProfileImages accountIds={collaborators} />\n            </div>\n          </div>\n        </>\n      ) : (\n        // LIST VIEW CARD\n        <>\n          <div className=\"d-flex justify-content-start p-4 flex-grow-1 gap-3\">\n            <div className=\"d-flex align-items-center\">\n              <ProfileImage\n                title={metadata.title}\n                profileImage={profileImage}\n              />\n            </div>\n            <div className=\"info w-100\">\n              <Title\n                title={metadata.title}\n                projectAccountId={projectAccountId}\n              />\n            </div>\n            <div className=\"d-flex align-items-center gap-3\">\n              <Tags tags={tags} location={location} />\n              <ProfileImages accountIds={collaborators} />\n              <div className=\"d-flex gap-2 align-items-center\">\n                {showEditProjectAction && <EditButton item={item} />}\n                <Widget\n                  src=\"builddao.near/widget/components.project.StarProject\"\n                  loading=\"\"\n                  props={{\n                    item: item,\n                    notifyAccountId: accountId,\n                  }}\n                />\n              </div>\n            </div>\n          </div>\n        </>\n      )}\n    </StyledCard>\n  );\n};\nreturn { ProjectCard };\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/builddao.near/widget/components.project.Card", "fact_widget_deployments_id": "ce016d5821d8a84f0912d1f1f6977157", "inserted_timestamp": "2024-06-20T22:54:09.280Z", "modified_timestamp": "2024-06-20T23:54:31.353Z", "__row_index": 0}