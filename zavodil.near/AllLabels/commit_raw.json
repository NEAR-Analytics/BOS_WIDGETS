{"tx_hash": "DdqfhJxNFxLN1LDZEq4f5437qhxRZkkVobbExhyA8WtW", "action_id_social": "Aoo8hz2RCDUDHTh7GocCPU1LLFsiLQJzPaJx9TnL5HgS-0-widget", "block_id": 79092949, "block_timestamp": "2022-11-23T14:43:24.502Z", "signer_id": "zavodil.near", "widget_name": "AllLabels", "source_code": "// AllLabels\nconst ownerId = \"zavodil.near\";\nconst appName = \"nametag\";\n\nlet tag = props.tag ?? \"*\";\nconst data = Social.keys(`*/${appName}/*/tags/${tag}`, \"final\");\n\nif (!data) {\n  return \"Loading\";\n}\n\nconst contracts = {};\n\nObject.values(data).forEach((account) => {\n  Object.keys(account[appName]).forEach((contract) => {\n    contracts[contract] = true;\n  });\n});\n\nconst allWidgets = Object.keys(contracts).map((accountId) => {\n  return (\n    <div className=\"mb-2 card\">\n      <div className=\"card-body\">\n        <div className=\"text-truncate\">\n          <Widget src={`${ownerId}/widget/ProfileLine`} props={{ accountId }} />\n        </div>\n        <Widget src={`${ownerId}/widget/PublicTags`} props={{ accountId }} />\n      </div>\n    </div>\n  );\n});\n\nreturn (\n  <>\n    <Widget\n      src={`${ownerId}/widget/PublicTagEditor`}\n      key={`public-tag-editor-${props.accountId}`}\n      props={{ contractId: props.accountId }}\n    />\n    <hr />\n\n    {tag !== \"*\" && (\n      <h4 className=\"ms-3\">\n        List of <span className=\"badge rounded-pill bg-primary\">{tag}</span>\n      </h4>\n    )}\n\n    {allWidgets}\n    <hr />\n    {tag !== \"*\" && (\n      <Widget src={`${ownerId}/widget/LabelDetails`} props={{ tag: tag }} />\n    )}\n\n    <div className=\"mt-3 mb-5\">\n      <a\n        className=\"btn btn-outline-primary\"\n        href=\"/#/zavodil.near/widget/AllLabels\"\n      >\n        All tags\n      </a>\n    </div>\n  </>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/zavodil.near/widget/AllLabels", "fact_widget_deployments_id": "bb2c438b3cb845d9e27752faf38ef55f", "inserted_timestamp": "2000-01-01T00:00:00.000Z", "modified_timestamp": "2000-01-01T00:00:00.000Z", "__row_index": 10}