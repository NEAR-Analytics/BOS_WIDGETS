{"tx_hash": "46jChTPGcTASg2Kq6znYkkRTrD9kjzSytjLyScEZnghM", "action_id_social": "JAovxXkz3Z7hUBFYzg2qUypUMxkWPKDc961mtc3QiDrS-0-widget", "block_id": 79159457, "block_timestamp": "2022-11-24T12:25:31.945Z", "signer_id": "zavodil.near", "widget_name": "QuickSocial", "source_code": "// QuickSocial\nlet accountId = context.accountId;\nlet targetId = props.accountId ?? accountId;\n\nif (!accountId) {\n  return \"Please sign in with NEAR wallet\";\n}\n\nlet following = Social.keys(`${targetId}/graph/follow/*`, \"final\", {\n  values_only: true,\n});\n\nif (following === null) {\n  return \"Loading\";\n}\nconst followed = Object.keys(following[targetId][\"graph\"][\"follow\"]);\nconst allStatuses = [];\n\nfor (let i = 0; i < followed.length; ++i) {\n  const accountId = followed[i];\n\n  const dataFollowed = Social.get(`${accountId}/memo`, \"final\");\n\n  console.log(dataFollowed);\n\n  if (dataFollowed) {\n    allStatuses.push(\n      <div className=\"mb-2\">\n        <div class=\"card\">\n          <div class=\"card-header\">\n            <Widget\n              src=\"zavodil.near/widget/ProfileLine\"\n              props={{ accountId }}\n            />\n\n            <Widget src=\"mob.near/widget/FollowButton\" props={{ accountId }} />\n          </div>\n          <div class=\"card-body\">{dataFollowed}</div>\n        </div>\n      </div>\n    );\n  }\n}\n\nlet title = allStatuses.length\n  ? `Feed of ${targetId}:`\n  : \"Feed of ${targetId} is empty\";\n\nreturn (\n  <div>\n    <h1>QuickSocial</h1>\n    <div className=\"me-4 mb-4\">\n      <Widget src=\"zavodil.near/widget/Status\" props={{ accountId }} />\n    </div>\n\n    <h4>{title}</h4>\n\n    <div className=\"d-flex justify-content-between mb-3\">\n      <div className=\"me-4\">\n        <Widget src=\"mob.near/widget/Profile\" props={{ accountId: targetId }} />\n      </div>\n      <div>\n        <Widget\n          src=\"mob.near/widget/FollowButton\"\n          props={{ accountId: targetId }}\n        />\n      </div>\n    </div>\n\n    <div>{allStatuses}</div>\n  </div>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/zavodil.near/widget/QuickSocial", "fact_widget_deployments_id": "4c722d82e370799a952cb52d3e782df6", "inserted_timestamp": "2000-01-01T00:00:00.000Z", "modified_timestamp": "2000-01-01T00:00:00.000Z", "__row_index": 0}