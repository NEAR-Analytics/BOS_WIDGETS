{"tx_hash": "2HYpRGWSecKRGiRyCqWaxh5XcYcKERG5oxHuR5kG2hmU", "action_id_social": "FvkgV5F49DBcz3GM1XPqVtUtsigCvzgWrd6bPDyi6enu-0-widget", "block_id": 109676496, "block_timestamp": "2024-01-05T19:25:31.865Z", "signer_id": "ihyshan.near", "widget_name": "DAO.index", "source_code": null, "metadata": null, "branch": {"draft": {"": "const widgetOwner = props.widgetOwner ?? \"ihyshan.near\";\n\nState.init({\n  tab: props.tab ?? \"home\",\n  accountId: props.accountId ?? context.accountId,\n  daoId: props.daoId,\n  proposalId: props.proposalId,\n});\n\nconst update = (state) => State.update(state);\n\nconst constructURL = (paramObj, base) => {\n  const baseURL = base ?? `#/${widgetOwner}/widget/DAO`;\n  let params = \"\";\n  for (const [key, value] of Object.entries(paramObj)) {\n    params += `${key}=${value}&`;\n  }\n  params = params.slice(0, -1);\n  return `${baseURL}?${params}`;\n};\n\nconst tabs = {\n  home: {\n    name: \"Discussion\",\n    widget: \"DAO.Discussion\",\n    href: constructURL({ tab: \"home\", daoId: state.daoId }),\n  },\n  proposals: {\n    name: \"Proposals\",\n    widget: \"DAO.Proposals.index\",\n    href: constructURL({ tab: \"proposals\", daoId: state.daoId }),\n  },\n  funds: {\n    name: \"Fund Flows\",\n    widget: \"DAO.Funds.index\",\n    href: constructURL({ tab: \"funds\", daoId: state.daoId }),\n  },\n  policy: {\n    name: \"Members & Policy\",\n    widget: \"DAO.Policy\",\n    href: constructURL({ tab: \"policy\", daoId: state.daoId }),\n  },\n  followers: {\n    name: \"Followers\",\n    widget: \"DAO.Followers\",\n    href: constructURL({ tab: \"followers\", daoId: state.daoId }),\n  },\n};\n\nif (!props.daoId) {\n  // TODO: add a proper error screen\n  return \"Please provide a DAO ID\";\n}\n\nconst tabContent = (\n  <Widget\n    src={`${widgetOwner}/widget/${tabs[state.tab || \"home\"].widget}`}\n    props={{\n      update,\n      tab: state.tab,\n      accountId: state.accountId,\n      daoId: state.daoId,\n      proposalId: state.proposalId,\n      ...props,\n    }}\n  />\n);\n\nconst Main = styled.div`\n  display: grid;\n  gap: 40px;\n  grid-template-columns: 352px minmax(0, 1fr);\n  align-items: start;\n\n  @media (max-width: 1024px) {\n    grid-template-columns: minmax(0, 1fr);\n  }\n`;\n\n// To keep our styles  consistent across widgets, let's define them here based on html tags and classes\nconst Root = styled.div`\n  font-family: \"Open Sans\", sans-serif;\n  font-size: 16px;\n  line-height: 1.5;\n  color: #000;\n\n  h1,\n  h2,\n  h3,\n  h4,\n  h5,\n  h6 {\n    font-weight: 600;\n    letter-spacing: -0.02em;\n    margin-bottom: 0.5em;\n  }\n\n  h1 {\n    font-size: 28px;\n  }\n\n  h2 {\n    font-size: 24px;\n  }\n\n  h3 {\n    font-size: 20px;\n  }\n\n  h4 {\n    font-size: 16px;\n  }\n\n  h5 {\n    font-size: 14px;\n  }\n\n  h6 {\n    font-size: 12px;\n  }\n\n  a {\n    color: #000;\n    text-decoration: none;\n  }\n\n  a:hover {\n    color: #4498e0;\n  }\n\n  .ndc-card {\n    border-radius: 16px;\n    box-shadow: rgba(0, 0, 0, 0.1) 0 1px 3px, rgba(0, 0, 0, 0.05) 0 1px 20px;\n    background-color: #fff;\n  }\n`;\n\nreturn (\n  <Root className=\"pb-5\">\n    <Widget src={`nui.sking.near/widget/Typography.OpenSansFont`} />\n\n    <Widget\n      src={`${widgetOwner}/widget/DAO.Layout.Header`}\n      props={{\n        daoId: state.daoId,\n      }}\n    />\n    <Main>\n      <Widget\n        src={`${widgetOwner}/widget/DAO.Layout.Sidebar`}\n        props={{\n          daoId: state.daoId,\n        }}\n      />\n      <div>\n        <Widget\n          src={`${widgetOwner}/widget/DAO.Layout.Tabs`}\n          props={{\n            tabs: tabs,\n            tab: state.tab,\n            update,\n          }}\n        />\n        {tabContent}\n      </div>\n    </Main>\n  </Root>\n);\n"}}, "widget_modules_used": null, "widget_url": "https://near.social/#/ihyshan.near/widget/DAO.index", "fact_widget_deployments_id": "562b998789038cea516f13d15831da24", "inserted_timestamp": "2024-03-07T05:24:05.087Z", "modified_timestamp": "2024-03-07T05:24:05.087Z", "__row_index": 1}