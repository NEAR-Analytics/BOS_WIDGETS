{"tx_hash": "4XX8w9LVEBPhgjEPjcZ7wSBNySgQvnUmLFCr5zjTijZH", "action_id_social": "2bMs1RVupzFC5EmjNRBMCzcdCjm2ekAYhjwx6YWCSJPA-0-widget", "block_id": 105896329, "block_timestamp": "2023-11-17T10:51:04.595Z", "signer_id": "borisisnear.near", "widget_name": "calculator", "source_code": "const [input, setInput] = useState(\"\");\n\nconst handleButtonClick = (value) => {\n  setInput((prevInput) => prevInput + value);\n};\n\nconst handleClear = () => {\n  setInput(\"\");\n};\n\nconst handleCalculate = () => {\n  try {\n    const result = calculate(input);\n    setInput(result);\n  } catch (error) {\n    setInput(\"Error\");\n  }\n};\nconst calculate = (expression) => {\n  const operators = [\"+\", \"-\", \"*\", \"/\"];\n  const tokens = expression.split(/(\\+|-|\\*|\\/)/).map((token) => token.trim());\n  let stack = [];\n  let currentOperator = null;\n\n  for (const token of tokens) {\n    if (operators.includes(token)) {\n      currentOperator = token;\n    } else {\n      const num = parseFloat(token);\n      if (!isNaN(num)) {\n        if (currentOperator === null) {\n          stack.push(num);\n        } else {\n          if (currentOperator === \"+\") {\n            stack.push(num);\n          } else if (currentOperator === \"-\") {\n            stack.push(-num);\n          } else if (currentOperator === \"*\") {\n            const prevNum = stack.pop();\n            stack.push(prevNum * num);\n          } else if (currentOperator === \"/\") {\n            const prevNum = stack.pop();\n            stack.push(prevNum / num);\n          }\n        }\n      }\n    }\n  }\n  return stack.reduce((acc, num) => acc + num, 0).toString();\n};\nconst styles = {\n  calculatorStyle: {\n    width: \"300px\",\n    margin: \"0 auto\",\n    padding: \"10px\",\n    border: \"1px solid #ccc\",\n    borderRadius: \"5px\",\n    boxShadow: \"0 0 10px rgba(0, 0, 0, 0.2)\",\n  },\n\n  displayStyle: {\n    fontSize: \"1.5em\",\n    textAlign: \"right\",\n    padding: \"10px\",\n    backgroundColor: \"#f0f0f0\",\n    border: \"1px solid #ccc\",\n    borderRadius: \"3px\",\n    marginBottom: \"10px\",\n  },\n\n  buttonStyle: {\n    flex: \"1\",\n    fontSize: \"1.2em\",\n    padding: \"10px\",\n    margin: \"2px\",\n    backgroundColor: \"Black\",\n    border: \"1px solid #ccc\",\n    borderRadius: \"3px\",\n    cursor: \"pointer\",\n  },\n  heading: {\n    textAlign: \"center\",\n    fontSize: \"2em\",\n  },\n  footer: {\n    textAlign: \"right\",\n  },\n};\n\nreturn (\n  <div style={styles.calculatorStyle}>\n    <h1 style={styles.heading}>CALCULATOR</h1>\n    <div style={styles.displayStyle}>{input}</div>\n    <div style={{ display: \"flex\", flexDirection: \"column\" }}>\n      <div style={{ display: \"flex\" }}>\n        <button style={styles.buttonStyle} onClick={handleClear}>\n          C\n        </button>\n        <button\n          style={styles.buttonStyle}\n          onClick={() => handleButtonClick(\"/\")}\n        >\n          /\n        </button>\n      </div>\n      <div style={{ display: \"flex\" }}>\n        <button\n          style={styles.buttonStyle}\n          onClick={() => handleButtonClick(\"7\")}\n        >\n          7\n        </button>\n        <button\n          style={styles.buttonStyle}\n          onClick={() => handleButtonClick(\"8\")}\n        >\n          8\n        </button>\n        <button\n          style={styles.buttonStyle}\n          onClick={() => handleButtonClick(\"9\")}\n        >\n          9\n        </button>\n        <button\n          style={styles.buttonStyle}\n          onClick={() => handleButtonClick(\"*\")}\n        >\n          *\n        </button>\n      </div>\n      <div style={{ display: \"flex\" }}>\n        <button\n          style={styles.buttonStyle}\n          onClick={() => handleButtonClick(\"4\")}\n        >\n          4\n        </button>\n        <button\n          style={styles.buttonStyle}\n          onClick={() => handleButtonClick(\"5\")}\n        >\n          5\n        </button>\n        <button\n          style={styles.buttonStyle}\n          onClick={() => handleButtonClick(\"6\")}\n        >\n          6\n        </button>\n        <button\n          style={styles.buttonStyle}\n          onClick={() => handleButtonClick(\"-\")}\n        >\n          -\n        </button>\n      </div>\n      <div style={{ display: \"flex\" }}>\n        <button\n          style={styles.buttonStyle}\n          onClick={() => handleButtonClick(\"1\")}\n        >\n          1\n        </button>\n        <button\n          style={styles.buttonStyle}\n          onClick={() => handleButtonClick(\"2\")}\n        >\n          2\n        </button>\n        <button\n          style={styles.buttonStyle}\n          onClick={() => handleButtonClick(\"3\")}\n        >\n          3\n        </button>\n        <button\n          style={styles.buttonStyle}\n          onClick={() => handleButtonClick(\"+\")}\n        >\n          +\n        </button>\n      </div>\n      <div style={{ display: \"flex\" }}>\n        <button\n          style={styles.buttonStyle}\n          onClick={() => handleButtonClick(\"0\")}\n        >\n          0\n        </button>\n        <button\n          style={styles.buttonStyle}\n          onClick={() => handleButtonClick(\".\")}\n        >\n          .\n        </button>\n        <button style={styles.buttonStyle} onClick={handleCalculate}>\n          =\n        </button>\n      </div>\n      <p style={styles.footer}>KoreaDAO BOS Building</p>\n    </div>\n  </div>\n);", "metadata": {"platform": "jutsu.ai"}, "branch": {"draft": null}, "widget_modules_used": null, "widget_url": "https://near.social/#/borisisnear.near/widget/calculator", "fact_widget_deployments_id": "549ba9e569b4c80d4b06765957463dc8", "inserted_timestamp": "2023-11-17T12:44:22.684Z", "modified_timestamp": "2023-11-17T12:44:22.684Z", "__row_index": 0}