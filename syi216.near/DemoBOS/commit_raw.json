{"tx_hash": "3fq5QFtw9DDrXHDKgaLGgSFNmwLDnx78QqaASKWHodFQ", "action_id_social": "288TWRXo4o8RCn5YYEarqxTh2Xx9bk5cZw34FwnNkBr1-0-widget", "block_id": 106296864, "block_timestamp": "2023-11-22T19:16:25.679Z", "signer_id": "syi216.near", "widget_name": "DemoBOS", "source_code": "const contract = \"guest-book.near\";\nconst messages = Near.view(contract, \"getMessages\", {}).reverse();\n\nconsole.log(messages);\n// Use and manipulate state\nState.init({ new_message: \"Mensaje1\" });\n\nconst onInputChange = ({ target }) => {\n  State.update({ new_message: target.value });\n};\n\nconst onBtnClick = () => {\n  if (!state.new_message) {\n    return;\n  }\n\n  Near.call(contract, \"addMessage\", {\n    text: state.new_message,\n  });\n};\n\n// Define components\nconst messageForm = (\n  <>\n    <div class=\"border border-black p-3\">\n      <label>Mensaje</label>\n      <input placeholder=\"Escribe aqui tu mensaje\" onChange={onInputChange} />\n      <button class=\"btn btn-primary mt-2\" onClick={onBtnClick}>\n        Enviar mensaje\n      </button>\n    </div>\n  </>\n);\n\nconst notLoggedInWarning = (\n  <p class=\"text-center py-2\">Inicia sesion para poder enviar tu mensaje</p>\n);\n\n// Render\nreturn (\n  <>\n    <div class=\"container border border-info p-3\">\n      <h3 class=\"text-center\">BOS Demo</h3>\n      {context.accountId ? messageForm : notLoggedInWarning}\n      <div class=\"border border-black p-3\">\n        <h3>Mensages:</h3>\n        <table className=\"table table-hover table-sm\">\n          <thead>\n            <tr>\n              <th>Usuario</th>\n              <th>Mensaje</th>\n            </tr>\n          </thead>\n          <tbody>\n            {messages.map((data, key) => {\n              return (\n                <>\n                  <tr>\n                    <td>{data.sender}</td>\n                    <td>{data.text}</td>\n                  </tr>\n                </>\n              );\n            })}\n          </tbody>\n        </table>\n      </div>\n    </div>\n  </>\n);\n// Esta es una modificacion\n", "metadata": {"platform": "jutsu.ai"}, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/syi216.near/widget/DemoBOS", "fact_widget_deployments_id": "29c96bc834f9b9da20b9ec44f94fe68b", "inserted_timestamp": "2024-03-07T05:24:05.087Z", "modified_timestamp": "2024-03-07T05:24:05.087Z", "__row_index": 0}