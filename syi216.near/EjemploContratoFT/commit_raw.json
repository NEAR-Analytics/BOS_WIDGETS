{"tx_hash": "58ePPqyvnKckS5Naj8Lnd1sPQnc8uxmjXh5rS3Rfggos", "action_id_social": "5Aj7jvMcZx4qEb8nhEu5p3vjkw6r2uu4BoSxa94XjToj-0-widget", "block_id": 125499040, "block_timestamp": "2024-08-11T01:05:38.129Z", "signer_id": "syi216.near", "widget_name": "EjemploContratoFT", "source_code": "const [ftData, setFtData] = useState(undefined);\r\nconst [balance, setBalance] = useState(undefined);\r\nconst [account, setAccount] = useState(undefined);\r\nconst [inputToken, setInputToken] = useState(0);\r\nconst contract =\r\n  \"0xeb4a8f9f5b11f644812306647a4c15161c90813a5451dc35fa24feb10dcb73d9\";\r\nconst contractData =\r\n  \"00010001000000000001030000000107000000000000000108000000a90b3400081466745f696f28496e6974436f6e66696700000c01106e616d65040118537472696e6700011873796d626f6c040118537472696e67000120646563696d616c73080108753800000400000502000800000503000c081466745f696f204654416374696f6e000118104d696e74040010011075313238000000104275726e040010011075313238000100205472616e736665720c011066726f6d14011c4163746f724964000108746f14011c4163746f724964000118616d6f756e74100110753132380002001c417070726f7665080108746f14011c4163746f724964000118616d6f756e74100110753132380003002c546f74616c537570706c790004002442616c616e63654f66040014011c4163746f724964000500001000000507001410106773746418636f6d6d6f6e287072696d6974697665731c4163746f724964000004001801205b75383b2033325d0000180000032000000008001c081466745f696f1c46544576656e74000110205472616e736665720c011066726f6d14011c4163746f724964000108746f14011c4163746f724964000118616d6f756e74100110753132380000001c417070726f76650c011066726f6d14011c4163746f724964000108746f14011c4163746f724964000118616d6f756e74100110753132380001002c546f74616c537570706c790400100110753132380002001c42616c616e63650400100110753132380003000020081466745f696f3c496f46756e6769626c65546f6b656e00001801106e616d65040118537472696e6700011873796d626f6c040118537472696e67000130746f74616c5f737570706c791001107531323800012062616c616e6365732401505665633c284163746f7249642c2075313238293e000128616c6c6f77616e6365732c01905665633c284163746f7249642c205665633c284163746f7249642c2075313238293e293e000120646563696d616c730801087538000024000002280028000004081410002c00000230003000000408142400\";\r\n\r\nconst App = styled.div`\r\n  --margin-app: clamp(16px, 4vw, 24px);\r\n  --h-footer: 60px;\r\n  --bg-card: rgb(25, 25, 25, .9);\r\n  --primary: #0fffc7;\r\n  --gradient: linear-gradient(to right, #22463d, #00f0b8);\r\n\r\n  display: grid;\r\n  place-items: center;\r\n  place-content: center;\r\n  min-height: calc(100dvh - var(--h-footer));\r\n  background: linear-gradient(to top right, #fff, #f5f5f7);\r\n\r\n  * {\r\n    font-family: 'system-ui','Inter', 'Space Grotesk' !important;\r\n  }\r\n\r\n  .wrapper {\r\n    background: var(--bg-card);\r\n    border-radius: .3rem;\r\n    padding: 40px 30px;\r\n    display: flex;\r\n    flex-direction: column;\r\n    max-width: 500px;\r\n\r\n    span {\r\n      color: #fff\r\n    }\r\n  }\r\n\r\n  ::-moz-selection { /* Code for Firefox */\r\n    background: #ccf0e7;\r\n  }\r\n  \r\n  ::selection {\r\n    background: #ccf0e7;\r\n  }\r\n\r\n  .space-between {\r\n    display: flex;\r\n    justify-content: space-between;\r\n    align-items: center;\r\n  }\r\n`,\r\n  Input = styled.div`\r\n    display: flex;\r\n    gap: 10px;\r\n    border-radius: .75rem;\r\n    padding: 5px;\r\n    background: #fff;\r\n    box-shadow: 0 0 10px -5px rgb(0,0,0,.4);\r\n\r\n    input {\r\n      background: var(--gradient);\r\n      -webkit-background-clip: text;\r\n      -webkit-text-fill-color: transparent;\r\n      display: inline-block;\r\n      border: none;\r\n      height: 40px;\r\n      font-size: 24px;\r\n      font-weight: 500;\r\n      padding-right: 0;\r\n      margin: 5px;\r\n      \r\n      &::placeholder {\r\n        font-size: 24px;\r\n      }\r\n      \r\n      &:focus {\r\n        box-shadow: none;\r\n      }\r\n    }\r\n  `,\r\n  Btn = styled.button`\r\n    display: inlin-block;\r\n    background: var(--primary);\r\n    border: none;\r\n    border-radius: .7rem;\r\n    font-weight: 600;\r\n    padding-inline: 10px;\r\n    min-height: 45px;\r\n\r\n    :hover {\r\n      opacity: .9;\r\n      filter: grayscale(0.5);\r\n    }\r\n  `,\r\n  Footer = styled.div`\r\n  position: absolute;\r\n  bottom: 50px;\r\n  left: 0;\r\n  right: 0;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  height: var(--h-footer);\r\n  padding-inline: var(--margin-app);\r\n  padding-block: 5px;\r\n  background: var(--primary);\r\n\r\n  a {\r\n    color: #000;\r\n    background: #fff;\r\n    padding: 10px 30px;\r\n    border-radius: .75rem;\r\n    translate: 0 -20px;\r\n    box-shadow: 0 0 10px -5px rgb(0,0,0,.4);\r\n  }\r\n  \r\n  #vara-icon {\r\n    width: 50px;\r\n    height: 50px;\r\n  }\r\n`;\r\n\r\nreturn (\r\n  <VaraNetwork.Wrapper>\r\n    <App>\r\n      {ftData ? (\r\n        <>\r\n          <div className=\"wrapper\">\r\n            <h3 className=\"text-center mb-4 text-light fw-bold\">\r\n              Mint Fungible Token\r\n            </h3>\r\n            <div className=\"mb-4 d-flex flex-row gap-2 align-items-center\">\r\n              <p className=\"text-light m-0\">Account:</p>\r\n              <VaraNetwork.Identicon size={30} />\r\n              <p className=\"text-light m-0 fw-semibold\">{account.meta.name}</p>\r\n            </div>\r\n            <VaraNetwork.Interaction\r\n              trigger={({ readState }) => (\r\n                <>\r\n                  <button\r\n                    type=\"button\"\r\n                    className=\"btn btn-success mb-3 fw-bold\"\r\n                    onClick={() => {\r\n                      const info = readState(contract, contractData, \"\");\r\n                      info.then((res) => {\r\n                        setBalance(\r\n                          res.balances.find(\r\n                            (data) => data[0] == account.decodedAddress\r\n                          )\r\n                        );\r\n                      });\r\n                    }}\r\n                  >\r\n                    Update my balance\r\n                  </button>\r\n                </>\r\n              )}\r\n            />\r\n            <Input>\r\n              <input\r\n                value={inputToken}\r\n                type=\"number\"\r\n                onChange={(e) => setInputToken(e.target.value)}\r\n              />\r\n            </Input>\r\n\r\n            {balance ? (\r\n              <>\r\n                <div className=\"space-between mt-2\" style={{ gap: \"10px\" }}>\r\n                  <span>My balance:</span>\r\n                  <span className=\"fw-bold\">\r\n                    {balance[1]} {ftData.symbol}\r\n                  </span>\r\n                </div>\r\n              </>\r\n            ) : (\r\n              <>\r\n                <span className=\"fw-bold\">You have no balance</span>\r\n              </>\r\n            )}\r\n            <div className=\"space-between mt-2\" style={{ gap: \"10px\" }}>\r\n              <span>Total supply:</span>\r\n              <span className=\"fw-bold\">\r\n                {ftData.totalSupply} {ftData.symbol}\r\n              </span>\r\n            </div>\r\n            <VaraNetwork.Interaction\r\n              trigger={({ signTransaction }) => (\r\n                <>\r\n                  <Btn\r\n                    className=\"mt-4\"\r\n                    onClick={() => {\r\n                      signTransaction(\r\n                        contract,\r\n                        contractData,\r\n                        { mint: inputToken },\r\n                        31154461320,\r\n                        0\r\n                      );\r\n                    }}\r\n                  >\r\n                    Submit\r\n                  </Btn>\r\n                </>\r\n              )}\r\n            />\r\n          </div>\r\n        </>\r\n      ) : (\r\n        <div className=\"wrapper\">\r\n          <h3 className=\"text-center text-white mb-5\">\r\n            Welcome to the example of interaction with a FT contract in VARA\r\n            Network\r\n          </h3>\r\n          <VaraNetwork.Interaction\r\n            trigger={({ readState, getAccountInfo }) => (\r\n              <>\r\n                <Btn\r\n                  onClick={() => {\r\n                    const info = readState(contract, contractData, \"\");\r\n                    info.then((res) => {\r\n                      setFtData(res);\r\n                      let varaAccount = getAccountInfo();\r\n                      setAccount(varaAccount);\r\n                      setBalance(\r\n                        res.balances.find(\r\n                          (data) => data[0] == varaAccount.decodedAddress\r\n                        )\r\n                      );\r\n                    });\r\n                  }}\r\n                >\r\n                  Start widget\r\n                </Btn>\r\n              </>\r\n            )}\r\n          />\r\n        </div>\r\n      )}\r\n      <Footer>\r\n        <a\r\n          href=\"https://vara.network/\"\r\n          className=\"fw-bold\"\r\n          target=\"_blank\"\r\n          title=\"vara network\"\r\n        >\r\n          Powered by\r\n          <img\r\n            height=\"50px\"\r\n            src={`https://ipfs.near.social/ipfs/bafkreibjwxaoctoxglepnln5hgos3pvwaih3eidwrupjlmffoivfgarwfa`}\r\n            alt=\"uploaded\"\r\n          />\r\n        </a>\r\n      </Footer>\r\n    </App>\r\n  </VaraNetwork.Wrapper>\r\n);\r\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/syi216.near/widget/EjemploContratoFT", "fact_widget_deployments_id": "c69adebe544da3a6fe7b704a0c8939da", "inserted_timestamp": "2024-08-11T02:18:21.536Z", "modified_timestamp": "2024-08-11T03:55:55.078Z", "__row_index": 2}