{"tx_hash": "7fPWYEwpAFfdJZS1Yy2BDCXqLEVpENancij9u7LWjQ2L", "action_id_social": "6rZaxKshgisVCVQKLpBr1XzChRWABXjm1JgdYUXyuwPq-0-widget", "block_id": 96400916, "block_timestamp": "2023-07-13T20:23:10.618Z", "signer_id": "syi216.near", "widget_name": "NDC.Nomination.CommentCard", "source_code": "const data = props.data;\nState.init({\n  showModal: false,\n  hasReply: false,\n  nominationData: Social.getr(`${data.commentator}/nominations`),\n});\n\nlet nominationContract = \"nominations-v1.gwg-testing.near\";\n\nfunction handleDeleteComment() {\n  Near.call(nominationContract, \"remove_comment\", {\n    candidate: data.candidate,\n    comment: data.id,\n  });\n}\n\nconst CommentCard = styled.div`\ndisplay: flex;\npadding: 14px 16px;\nflex-direction: column;\nalign-items: flex-start;\ngap: 12px;\nborder-radius: 10px;\nbackground: #FFF;\n`;\n\nconst CommentCardHeader = styled.div`\ndisplay: flex;\nwidth: 294px;\nalign-items: center;\njustify-content: space-between;\ngap: 8px;\n`;\n\nconst CommentUserContent = styled.div`\ndisplay: flex;\nalign-items: center;\ngap: 8px;\n`;\n\nconst ProfileImageComment = styled.img`\nwidth: 20px;\nheight: 20px;\nflex-shrink: 0;\nborder-radius: 20px;\n`;\n\nconst CommentUser = styled.p`\ncolor: #000;\nfont-size: 12px;\nfont-weight: 500;\nline-height: 120%;\nmargin: 0px;\nwidth: 62%;\nwhite-space: nowrap;\noverflow: hidden;\ntext-overflow: ellipsis;\n`;\n\nconst ReplyCounterDiv = styled.div`\ndisplay: flex;\nalign-items: center;\ngap: 4px;\n`;\n\nconst ReplyIconPurple = styled.img`\nwidth: 14px;\nheight: 14px;\n`;\n\nconst ReplyCounterText = styled.p`\ncolor: #000;\nfont-size: 10px;\nfont-weight: 500;\nmargin: 0px;\n`;\n\nconst CommentCardContent = styled.p`\ncolor: #585b5c;\nfont-size: 12px;\nline-height: 120%;\ndisplay: flex;\nwidth: 294px;\nflex-direction: column;\nmargin: 0px;\n`;\n\nconst CommentCardLowerSection = styled.div`\ndisplay: flex;\nwidth: 294px;\nflex-direction: row;\njustify-content: center;\nalign-items: center;\ngap: 4px;\n`;\n\nconst TimestampCommentDiv = styled.div`\ndisplay: flex;\nalign-items: center;\ngap: 4px;\nflex: 1 0 0;\n`;\n\nconst TimestampIconComment = styled.img`\nwidth: 12px;\nheight: 12px;\n`;\n\nconst TimestampTextComment = styled.p`\ncolor: #000;\nfont-size: 10px;\nfont-weight: 300;\nmargin: 0px;\n`;\n\nconst CommentButtonDiv = styled.div`\ndisplay: flex;\njustify-content: flex-end;\nalign-items: center;\ngap: 4px;\n`;\n\nconst DeleteCommentButton = styled.button`\ndisplay: flex;\nwidth: 28px;\npadding: 2px 12px;\njustify-content: center;\nalign-items: center;\ngap: 6px;\nalign-self: stretch;\nborder-radius: 4px;\nborder: 1px solid #C23F38;\nbackground: #F1D6D5;\n`;\n\nconst DeleteCommentIcon = styled.img`\nwidth: 14px;\nheight: 14px;\nflex-shrink: 0;\n`;\n\nconst ShareCommentButton = styled.button`\ndisplay: flex;\nwidth: 28px;\nheight: 28px;\npadding: 2px 12px;\njustify-content: center;\nalign-items: center;\ngap: 6px;\nborder-radius: 4px;\nborder: solid 1px transparent;\nbackground-image: linear-gradient(white, white), radial-gradient(circle at top left, #9333EA 0%,#4F46E5 100%);\nbackground-origin: border-box;\nbackground-clip: padding-box, border-box;\n`;\n\nconst ShareCommentIcon = styled.img`\nwidth: 14px;\nheight: 14px;\nflex-shrink: 0;\n`;\n\nconst ReplyCommentButton = styled.div`\ncursor: pointer;\ndisplay: flex;\npadding: 2px 12px;\nalign-items: center;\ngap: 6px;\nalign-self: stretch;\nborder-radius: 4px;\nbackground: var(--buttons-yellow-default, #FFD50D);\n`;\n\nconst ReplyCommentText = styled.p`\ncolor: var(--primary-black, #000);\nfont-size: 12px;\nfont-weight: 500;\nline-height: 24px;\nmargin: 0px;\n`;\n\nconst ReplyCommentIcon = styled.img`\nwidth: 14px;\nheight: 14px;\n`;\n\nconst CommentReplySeparator = styled.hr`\nwidth: 294px;\nheight: 0px;\nmargin: 16px 0 16px 0;\n\nborder: 1px solid rgba(208, 214, 217, 1);\n`;\n\nconst ReplyContainer = styled.div`\ndisplay: flex;\nwidth: 260px;\nflex-direction: column;\nalign-items: flex-start;\ngap: 12px;\nmargin: 0 0 0 35px\n`;\n\nconst ReplyHeader = styled.div`\ndisplay: flex;\nalign-items: center;\ngap: 8px;\nalign-self: stretch;\n`;\n\nconst ReplyContent = styled.p`\ncolor: #828688;\nfont-size: 12px;\nline-height: 120%;\nmargin: 0px;\n`;\n\nconst ReplyLowerSection = styled.div`\ndisplay: flex;\nflex-direction: row;\njustify-content: center;\nalign-items: center;\ngap: 4px;\nalign-self: stretch;\n`;\n\nconst ReplyButtonSection = styled.div`\ndisplay: flex;\njustify-content: flex-end;\nalign-items: center;\ngap: 4px;\n`;\n\nconst DeleteReplyButton = styled.button`\ndisplay: flex;\npadding: 2px 12px;\nalign-items: center;\ngap: 6px;\nalign-self: stretch;\nborder-radius: 4px;\nborder: 1px solid #C23F38;\nbackground: #F1D6D5;\n`;\n\nconst DeleteReplyText = styled.p`\ncolor: #C23F38;\nfont-size: 12px;\nfont-weight: 500;\nline-height: 24px;\nmargin: 0px;\n`;\n\nreturn (\n  <CommentCard>\n    <CommentCardHeader>\n      <CommentUserContent>\n        <ProfileImageComment\n          src={\n            data.removed\n              ? \"https://apricot-straight-eagle-592.mypinata.cloud/ipfs/QmZBPPMKLdZG2zVpYaf9rcbtNfAp7c3BtsvzxzBb9pNihm?_gl=1*6avmrp*rs_ga*MzkyOTE0Mjc4LjE2ODY4NjgxODc.*rs_ga_5RMPXG14TE*MTY4NjkzMzM2NC4zLjEuMTY4NjkzMzM4Ni4zOC4wLjA.\"\n              : state.nominationData.img.cid\n              ? \"https://nativonft.mypinata.cloud/ipfs/\" +\n                state.nominationData.img.cid\n              : \"https://apricot-straight-eagle-592.mypinata.cloud/ipfs/QmZBPPMKLdZG2zVpYaf9rcbtNfAp7c3BtsvzxzBb9pNihm?_gl=1*6avmrp*rs_ga*MzkyOTE0Mjc4LjE2ODY4NjgxODc.*rs_ga_5RMPXG14TE*MTY4NjkzMzM2NC4zLjEuMTY4NjkzMzM4Ni4zOC4wLjA.\"\n          }\n          alt=\"pic\"\n        ></ProfileImageComment>\n        <CommentUser>\n          {data.removed ? \"@[deleted]\" : data.commentator}\n        </CommentUser>\n      </CommentUserContent>\n      {state.hasReply ? (\n        <ReplyCounterDiv>\n          <ReplyIconPurple\n            src=\"https://apricot-straight-eagle-592.mypinata.cloud/ipfs/QmQ2XjRy2zRU86H4km9qihm6VRZiFGPGjocTofURoxg8Uv?_gl=1*3eysmk*_ga*MzkyOTE0Mjc4LjE2ODY4NjgxODc.*_ga_5RMPXG14TE*MTY4NzkwMzU0NS40LjAuMTY4NzkwMzU0NS42MC4wLjA.\"\n            alt=\"pic\"\n          ></ReplyIconPurple>\n          <ReplyCounterText>1 reply</ReplyCounterText>\n        </ReplyCounterDiv>\n      ) : (\n        <></>\n      )}\n    </CommentCardHeader>\n    <CommentCardContent>\n      {data.removed ? \"This comment is deleted.\" : data.comment}\n    </CommentCardContent>\n    <CommentCardLowerSection>\n      <TimestampCommentDiv>\n        <TimestampIconComment\n          src=\"https://apricot-straight-eagle-592.mypinata.cloud/ipfs/QmTvukihn95FGcAG9DCX6VuHzwRguHtynrKnaqEJczDg6V?_gl=1*mha71r*_ga*MzkyOTE0Mjc4LjE2ODY4NjgxODc.*_ga_5RMPXG14TE*MTY4Nzg5NzQ3OS4yLjEuMTY4Nzg5OTA1MS42MC4wLjA.\"\n          alt=\"pic\"\n        ></TimestampIconComment>\n        <TimestampTextComment>{data.timestamp}</TimestampTextComment>\n      </TimestampCommentDiv>\n      <CommentButtonDiv>\n        {data.removed ? (\n          <></>\n        ) : context.accountId == data.commentator ? (\n          <DeleteCommentButton onClick={handleDeleteComment}>\n            <DeleteCommentIcon\n              src=\"https://apricot-straight-eagle-592.mypinata.cloud/ipfs/Qma7DF8kyoGN4Mf3Yty5uoP64RpZewCsZFawae4Ux4wBBF?_gl=1*1bheqbv*_ga*MzkyOTE0Mjc4LjE2ODY4NjgxODc.*_ga_5RMPXG14TE*MTY4NzkwMTAwNy4zLjAuMTY4NzkwMTAwNy42MC4wLjA.\"\n              alt=\"pic\"\n            ></DeleteCommentIcon>\n          </DeleteCommentButton>\n        ) : (\n          <></>\n        )}\n        <ShareCommentButton hidden>\n          <ShareCommentIcon\n            src=\"https://apricot-straight-eagle-592.mypinata.cloud/ipfs/QmX8CfMjpndJzmyRfRtLKrfKKV6vi186Tj1mkhqqLdr7yd?_gl=1*5rd8dj*_ga*MzkyOTE0Mjc4LjE2ODY4NjgxODc.*_ga_5RMPXG14TE*MTY4NzkwMTAwNy4zLjEuMTY4NzkwMTIxNC42MC4wLjA.\"\n            alt=\"pic\"\n          ></ShareCommentIcon>\n        </ShareCommentButton>\n        {state.hasReply ? (\n          <ReplyCommentButton\n            onClick={async () => {\n              State.update({ showModal: true });\n            }}\n          >\n            <ReplyCommentText>Reply</ReplyCommentText>\n            <ReplyCommentIcon\n              src=\"https://apricot-straight-eagle-592.mypinata.cloud/ipfs/Qma6cnsU1NdHPcMbJqmXrUepxbvPuVLEBWzX4jEsaVhaN8?_gl=1*c3nexg*_ga*MzkyOTE0Mjc4LjE2ODY4NjgxODc.*_ga_5RMPXG14TE*MTY4NzkwMTAwNy4zLjEuMTY4NzkwMTUzMS42MC4wLjA.\"\n              alt=\"pic\"\n            ></ReplyCommentIcon>\n          </ReplyCommentButton>\n        ) : (\n          <></>\n        )}\n      </CommentButtonDiv>\n    </CommentCardLowerSection>\n    {state.showModal && (\n      <Widget\n        src={`dokxo.near/widget/CommentCard`}\n        props={{\n          username: \"dokxo.near\",\n          profile_picture:\n            \"https://th.bing.com/th?id=OSK.6596e5339347ff0abd74f8a58ff781f5&w=80&h=80&c=12&o=6&pid=SANGAM\",\n          originalComment:\n            \"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Integer quam enim, dignissim sed ante at, convallis maximus enim. Duis condimentum aliquam nisl nec sagittis. Ut tristique facilisis\",\n          timeago: \"5 hours ago\",\n          onClickConfirm: () => State.update({ showModal: false }),\n          onClickCancel: () => State.update({ showModal: false }),\n        }}\n      />\n    )}\n    {state.hasReply ? (\n      <div>\n        <CommentReplySeparator></CommentReplySeparator>\n        <ReplyContainer>\n          <ReplyHeader>\n            <ProfileImageComment\n              src=\"https://apricot-straight-eagle-592.mypinata.cloud/ipfs/QmZBPPMKLdZG2zVpYaf9rcbtNfAp7c3BtsvzxzBb9pNihm?_gl=1*6avmrp*rs_ga*MzkyOTE0Mjc4LjE2ODY4NjgxODc.*rs_ga_5RMPXG14TE*MTY4NjkzMzM2NC4zLjEuMTY4NjkzMzM4Ni4zOC4wLjA.\"\n              alt=\"pic\"\n            ></ProfileImageComment>\n            <CommentUser>user.near</CommentUser>\n          </ReplyHeader>\n          <ReplyContent>\n            Lorem ipsum dolor sit amet, consectetur adipiscing elit. Integer\n            quam enim, dignissim sed ante at, convallis maximus enim. Duis\n            condimentum aliquam nisl nec sagittis. Ut tristique facilisis... See\n            more\n          </ReplyContent>\n          <ReplyLowerSection>\n            <TimestampCommentDiv>\n              <TimestampIconComment\n                src=\"https://apricot-straight-eagle-592.mypinata.cloud/ipfs/QmTvukihn95FGcAG9DCX6VuHzwRguHtynrKnaqEJczDg6V?_gl=1*mha71r*_ga*MzkyOTE0Mjc4LjE2ODY4NjgxODc.*_ga_5RMPXG14TE*MTY4Nzg5NzQ3OS4yLjEuMTY4Nzg5OTA1MS42MC4wLjA.\"\n                alt=\"pic\"\n              ></TimestampIconComment>\n              <TimestampTextComment>2 hours ago</TimestampTextComment>\n            </TimestampCommentDiv>\n            <ReplyButtonSection>\n              <ShareCommentButton>\n                <ShareCommentIcon\n                  src=\"https://apricot-straight-eagle-592.mypinata.cloud/ipfs/QmX8CfMjpndJzmyRfRtLKrfKKV6vi186Tj1mkhqqLdr7yd?_gl=1*5rd8dj*_ga*MzkyOTE0Mjc4LjE2ODY4NjgxODc.*_ga_5RMPXG14TE*MTY4NzkwMTAwNy4zLjEuMTY4NzkwMTIxNC42MC4wLjA.\"\n                  alt=\"pic\"\n                ></ShareCommentIcon>\n              </ShareCommentButton>\n              <DeleteReplyButton>\n                <DeleteReplyText>Delete</DeleteReplyText>\n                <DeleteCommentIcon\n                  src=\"https://apricot-straight-eagle-592.mypinata.cloud/ipfs/Qma7DF8kyoGN4Mf3Yty5uoP64RpZewCsZFawae4Ux4wBBF?_gl=1*1bheqbv*_ga*MzkyOTE0Mjc4LjE2ODY4NjgxODc.*_ga_5RMPXG14TE*MTY4NzkwMTAwNy4zLjAuMTY4NzkwMTAwNy42MC4wLjA.\"\n                  alt=\"pic\"\n                ></DeleteCommentIcon>\n              </DeleteReplyButton>\n            </ReplyButtonSection>\n          </ReplyLowerSection>\n        </ReplyContainer>\n      </div>\n    ) : (\n      <></>\n    )}\n  </CommentCard>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/syi216.near/widget/NDC.Nomination.CommentCard", "fact_widget_deployments_id": "e39ea4a4c773d8e039a3b3b9ffa03fb2", "inserted_timestamp": "2024-03-07T05:24:05.087Z", "modified_timestamp": "2024-03-07T05:24:05.087Z", "__row_index": 0}