{"tx_hash": "ESsPFBAf1xgkcA4xEv4ykMtMhkkoDrVW1544RNJT3F66", "action_id_social": "DYoEkUyTGbYjp7bc9SjvZk3wHFTQYJ7hy7G9im5tbSci-0-widget", "block_id": 96407274, "block_timestamp": "2023-07-13T22:21:59.665Z", "signer_id": "yairnava.near", "widget_name": "NDC.Nomination.Candidate.Container", "source_code": "let { ids, org } = props;\nids = props.ids ? ids : [1, 2, 3]; // for testing purposes\norg = props.org ? org : \"test\"; // for testing purposes\n\nconst widgets = {\n  header: \"syi216.near/widget/NDC.Nomination.Header\",\n  houses: \"rubycop.near/widget/NDC.Elections.Houses\",\n  card: \"syi216.near/widget/NDC.nomination.card\",\n};\n\nconst electionContract = \"elections-v1.gwg-testing.near\";\n\nconst houses = [\n  Near.view(electionContract, \"proposal\", { prop_id: ids[0] }),\n  Near.view(electionContract, \"proposal\", { prop_id: ids[1] }),\n  Near.view(electionContract, \"proposal\", { prop_id: ids[2] }),\n];\n\nState.init({\n  selectedHouse: ids[0],\n  comments: [],\n  profile: {},\n  nominations: {},\n});\n\nasyncFetch(\n  `https://api.pikespeak.ai/nominations/candidates-comments-and-upvotes?candidate=${props.candidate}`,\n  { headers: { \"x-api-key\": \"36f2b87a-7ee6-40d8-80b9-5e68e587a5b5\" } }\n).then((res) => {\n  State.update({ comments: res.body });\n});\n\nlet profile = Social.getr(`${props.candidate}/profile`);\nlet nominations = Social.getr(`${props.candidate}/nominations`);\nState.update({ profile: profile });\nState.update({ nominations: nominations });\n\nconst Movile = styled.div`\ndisplay: flex;\njustify-content: center;\n@media only screen and (min-width: 601px) {\n  display: none !important;\n}\n`;\n\nconst Desktop = styled.div`\ndisplay: flex;\njustify-content: center;\n@media only screen and (max-width: 600px) {\n  display: none !important;\n}\n`;\n\nreturn (\n  <div>\n    <Movile style={{ display: \"flex\", \"justify-content\": \"center\" }}>\n      <Movile style={{ width: \"359px\" }}>\n        {houses.map((group) => (\n          <>\n            {group.id === state.selectedHouse && (\n              <Widget\n                key={i}\n                src={widgets.header}\n                props={{\n                  startTime: group.start,\n                  endTime: group.end,\n                  type: \"Nomination\",\n                }}\n              />\n            )}\n          </>\n        ))}\n      </Movile>\n    </Movile>\n    <Movile class=\"row\">\n      <div\n        style={{\n          width: \"358px\",\n          \"margin-bottom\": \"15px\",\n          \"margin-top\": \"10px\",\n        }}\n      >\n        <a\n          href=\"#/syi216.near/widget/NDC.Nomination.Page\"\n          style={{\n            \"font-weight\": \"500\",\n            color: \"black\",\n            display: \"flex\",\n            \"align-items\": \"center\",\n            \"text-decoration\": \"none\",\n          }}\n        >\n          <div\n            style={{\n              display: \"flex\",\n              \"justify-content\": \"center\",\n              \"align-items\": \"center\",\n              gap: \"5px\",\n            }}\n          >\n            <img\n              style={{ height: \"10px\" }}\n              src=\"https://emerald-related-swordtail-341.mypinata.cloud/ipfs/QmbhHT91uXs13i1zx8ZTGMoLzCFU3PqE6c19a7RTMtiKwA?_gl=1*1frs7k7*_ga*Mzc5OTE2NDYyLjE2ODg1MTY4MTA.*_ga_5RMPXG14TE*MTY4ODc2MjYzNS40LjEuMTY4ODc2MjY4NC4xMS4wLjA.\"\n            ></img>\n            <label style={{ cursor: \"pointer\" }}>Back</label>\n          </div>\n        </a>\n      </div>\n    </Movile>\n    <Movile>\n      <Widget\n        props={{ data: state, house: props.house, candidate: props.candidate }}\n        src={\"yairnava.near/widget/NDC.Nomination.Candidate.Mobil\"}\n      />\n    </Movile>\n    <Desktop style={{ display: \"flex\", \"justify-content\": \"center\" }}>\n      <div\n        style={{\n          width: \"1305px\",\n          \"margin-bottom\": \"10px\",\n          \"padding-left\": \"5px\",\n        }}\n      >\n        {houses.map((group) => (\n          <>\n            {group.id === state.selectedHouse && (\n              <Widget\n                key={i}\n                src={widgets.header}\n                props={{\n                  house: props.house,\n                  candidate: props.candidate,\n                  startTime: group.start,\n                  endTime: group.end,\n                  type: \"Nomination\",\n                }}\n              />\n            )}\n          </>\n        ))}\n      </div>\n    </Desktop>\n    <Desktop class=\"row\">\n      <div\n        style={{\n          width: \"1305px\",\n          \"margin-bottom\": \"15px\",\n          \"margin-top\": \"10px\",\n        }}\n      >\n        <a\n          href=\"#/syi216.near/widget/NDC.Nomination.Page\"\n          style={{\n            \"font-weight\": \"500\",\n            color: \"black\",\n            display: \"flex\",\n            \"align-items\": \"center\",\n            \"text-decoration\": \"none\",\n          }}\n        >\n          <div\n            style={{\n              display: \"flex\",\n              \"justify-content\": \"center\",\n              \"align-items\": \"center\",\n              gap: \"5px\",\n            }}\n          >\n            <img\n              style={{ height: \"10px\" }}\n              src=\"https://emerald-related-swordtail-341.mypinata.cloud/ipfs/QmbhHT91uXs13i1zx8ZTGMoLzCFU3PqE6c19a7RTMtiKwA?_gl=1*1frs7k7*_ga*Mzc5OTE2NDYyLjE2ODg1MTY4MTA.*_ga_5RMPXG14TE*MTY4ODc2MjYzNS40LjEuMTY4ODc2MjY4NC4xMS4wLjA.\"\n            ></img>\n            <label style={{ cursor: \"pointer\" }}>Back</label>\n          </div>\n        </a>\n      </div>\n    </Desktop>\n    <Desktop class=\"row\">\n      <Widget\n        props={{ data: state, house: props.house, candidate: props.candidate }}\n        src={\"yairnava.near/widget/NDC.Nomination.Candidate.Desktop\"}\n      />\n    </Desktop>\n  </div>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/yairnava.near/widget/NDC.Nomination.Candidate.Container", "fact_widget_deployments_id": "3ebdd5fa7173901bbf66442f8e6af6b4", "inserted_timestamp": "2024-03-07T05:24:05.087Z", "modified_timestamp": "2024-03-07T05:24:05.087Z", "__row_index": 0}