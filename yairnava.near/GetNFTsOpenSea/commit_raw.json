{"tx_hash": "7kDQGMqMZg5Y7cH11rTsj9qfEs7ack53g7UrFLQyotnC", "action_id_social": "2d8M91xcPVLHuD3RYUq3xcNk3a6rqZ57mvnNiy5h4GpT-0-widget", "block_id": 113311507, "block_timestamp": "2024-02-21T21:14:34.432Z", "signer_id": "yairnava.near", "widget_name": "GetNFTsOpenSea", "source_code": "State.init({\n  contract: \"0xBC4CA0EdA7647A8aB7C2061c2E118A18a936f13D\",\n  allNFTS: null,\n  init: false,\n});\n\nconst loadingUrl =\n  props.loadingUrl ??\n  \"https://ipfs.near.social/ipfs/bafkreidoxgv2w7kmzurdnmflegkthgzaclgwpiccgztpkfdkfzb4265zuu\";\n\nconst getNFTsForContract = () => {\n  asyncFetch(\n    \"https://eth-mainnet.g.alchemy.com/nft/v3/\" +\n      props.API_KEY +\n      \"/getNFTsForContract?contractAddress=\" +\n      state.contract +\n      \"&withMetadata=true\",\n    {\n      method: \"GET\",\n      headers: {\n        accept: \"application/json\",\n        \"content-type\": \"application/json\",\n      },\n    }\n  )\n    .then(({ body }) => {\n      if (body) {\n        console.log(\"1\");\n        State.update({\n          allNFTS: body.nfts,\n          init: true,\n        });\n      } else {\n        console.log(\"2\");\n        State.update({\n          allNFTS: null,\n          init: true,\n        });\n      }\n    })\n    .catch((err) => console.log(err));\n};\n\nreturn (\n  <div>\n    <div>\n      <input\n        placeholder=\"Contract Address\"\n        value={state.contract}\n        onChange={(e) => State.update({ contract: e.target.value })}\n        style={{ width: \"420px\" }}\n      />\n      <button\n        style={{ marginTop: \"10px\" }}\n        onClick={async () => {\n          getNFTsForContract();\n        }}\n      >\n        Search Collection\n      </button>\n      <br />\n    </div>\n    {state.allNFTS ? (\n      <>\n        <label style={{ fontWeight: \"bold\" }}>\n          Collection Name: {state.allNFTS[0].collection.name}\n        </label>\n        <div\n          style={{\n            marginTop: \"10px\",\n            display: \"grid\",\n            \"grid-template-columns\": \"repeat(4, 1fr)\",\n            \"grid-column-gap\": \"10px\",\n            \"grid-row-gap\": \"10px\",\n          }}\n        >\n          {state.allNFTS &&\n            state.allNFTS.map(\n              (nft, i) =>\n                nft.image &&\n                nft.image.pngUrl && (\n                  <div>\n                    <img\n                      src={\n                        nft.image.pngUrl !== null\n                          ? nft.image.pngUrl\n                          : loadingUrl\n                      }\n                      style={{ width: \"150px\", height: \"150px\" }}\n                    />\n                    <br />\n                    <label>Token Id: {nft.tokenId}</label>\n                    <br />\n                    <a\n                      href={\n                        \"https://opensea.io/assets/ethereum/\" +\n                        state.contract +\n                        \"/\" +\n                        nft.tokenId\n                      }\n                      target=\"_blank\"\n                    >\n                      Open NFT\n                    </a>\n                  </div>\n                )\n            )}\n        </div>\n      </>\n    ) : (\n      state.init && (\n        <label style={{ fontWeight: \"bold\" }}>Collection Not Found</label>\n      )\n    )}\n  </div>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/yairnava.near/widget/GetNFTsOpenSea", "fact_widget_deployments_id": "060a57a87b35b790cc974c3788d5cefc", "inserted_timestamp": "2024-03-07T05:24:05.087Z", "modified_timestamp": "2024-03-07T05:24:05.087Z", "__row_index": 1}