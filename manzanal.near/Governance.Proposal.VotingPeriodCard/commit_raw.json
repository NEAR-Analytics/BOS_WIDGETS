{"tx_hash": "E3sbGd9m7jCz9mXCShexcM1jZeXkQAm62dLFecLQGXgT", "action_id_social": "44geoaVaTnHEAZ4Yx9eBxvDM4T2u7XkvLEQYwyRu9eCt-0-widget", "block_id": 96706454, "block_timestamp": "2023-07-17T19:50:44.265Z", "signer_id": "manzanal.near", "widget_name": "Governance.Proposal.VotingPeriodCard", "source_code": "const startDate = props.startDate ?? undefined;\nconst endDate = props.endDate ?? undefined;\nconst hasStarted = startDate !== undefined;\nconst now = new Date().getTime();\nconst hasEnded = hasStarted && now > Number(endDate);\nconst inProgress = hasStarted && now < Number(endDate);\nconst diff1 = hasStarted ? Number(endDate) - Number(startDate) : null;\nconst diff2 = hasStarted ? now - Number(startDate) : null;\nconst oneDay = 24 * 60 * 60 * 1000;\nconst progress = diff1 && diff2 ? (diff2 / diff1) * 100 : 0;\n\nconst calculateTimeDifference = (date1, date2) => {\n  const millisecondsInDay = 24 * 60 * 60 * 1000;\n  const millisecondsInMinute = 60 * 1000;\n  const millisecondsInHour = 60 * 60 * 1000;\n\n  const diffMilliseconds = Math.abs(date1 - date2);\n\n  if (diffMilliseconds >= millisecondsInDay) {\n    const diffDays = Math.floor(diffMilliseconds / millisecondsInDay);\n    return diffDays + \" day(s)\";\n  } else {\n    if (diffMilliseconds >= millisecondsInHour) {\n      const diffHours = Math.floor(diffMilliseconds / millisecondsInHour);\n      return diffHours + \" hour(s)\";\n    }\n    const diffMinutes = Math.floor(diffMilliseconds / millisecondsInMinute);\n    return diffMinutes + \" minute(s)\";\n  }\n};\n\nconst Container = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n  gap: 1em;\n  width: 100%;\n  padding: 1.25em 0.85em;\n  box-shadow: rgba(0, 0, 0, 0.18) 0px 2px 4px;\n  border-radius: 16px;\n  background: #ffffff;\n  & h4 {\n    font-family: \"Inter\";\n    font-style: normal;\n    font-weight: 500;\n    font-size: 14px;\n    line-height: 20px;\n    color: #797777;\n  }\n`;\n\nconst Heading = styled.div`\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  align-items: center;\n  padding: 0px;\n  gap: 16px;\n  width: 100%;\n\n  & div {\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    padding: 0px;\n    gap: 16px;\n\n    & > h2 {\n      font-family: \"FK Grotesk\";\n      font-style: normal;\n      font-weight: 700;\n      font-size: 25px;\n      line-height: 36px;\n      color: #11181c;\n    }\n\n    & > span {\n      font-family: \"Inter\";\n      font-style: normal;\n      font-weight: 500;\n      font-size: 19px;\n      line-height: 23px;\n      color: #7e868c;\n    }\n  }\n`;\n\nconst Values = styled.div`\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  align-items: center;\n  padding: 0px;\n  gap: 1px;\n  width: 100%;\n\n  & div {\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    padding: 0px;\n    gap: 8px;\n\n    & > h3 {\n      font-family: \"Inter\";\n      font-style: normal;\n      font-weight: 600;\n      font-size: 17px;\n      line-height: 20px;\n      color: #11181c;\n    }\n\n    & > h4 {\n      font-family: \"Inter\";\n      font-style: normal;\n      font-weight: 500;\n      font-size: 14px;\n      line-height: 20px;\n      color: #797777;\n    }\n\n    & > span {\n      font-family: \"Inter\";\n      font-style: normal;\n      font-weight: 500;\n      font-size: 19px;\n      line-height: 23px;\n      color: #7e868c;\n    }\n    & > div {\n      display: flex;\n      flex-direction: column;\n      align-items: start;\n      padding: 0px;\n      gap: 1px;\n    }\n  }\n  `;\n\nconst ProgressContainer = styled.div`\n  border-radius: 0px;\n  border: none;\n  display: flex;\n  padding: 0;\n  position: relative;\n  background: #f3f3f2;\n  width: 100%;\n  margin-bottom: 14px;\n\n  .bar {\n    min-width:0;\n    border-radius: 0px;\n    padding: 12px 20px;\n    text-align: left;\n    font-weight: 600;\n    font-size: 15px;\n    transition: all 0.4s ease-in-out;\n    text-align: center;\n    display: flex;\n    justify-content: center;\n    width: ${progress}%;\n    background-color: #59e692;\n    @media (max-width: 600px) {\n      justify-content: start;\n    }\n  }\n`;\n\nreturn (\n  <Container>\n    <Heading>\n      <div>\n        <h2>Voting Period</h2>\n      </div>\n    </Heading>\n    <Values>\n      <div>\n        <div>\n          <h4>Start Date</h4>\n          <h3>\n            {hasStarted\n              ? new Date(Number(startDate)).toLocaleDateString()\n              : \"-\"}\n          </h3>\n        </div>\n      </div>\n      <div>\n        <div>\n          <h4>End Date</h4>\n          <h3>\n            {hasStarted ? new Date(Number(endDate)).toLocaleDateString() : \"-\"}\n          </h3>\n        </div>\n      </div>\n    </Values>\n    <ProgressContainer>\n      <span className=\"bar\" />\n    </ProgressContainer>\n    {hasEnded && <h4>The Voting Period has ended</h4>}\n    {!hasStarted && <h4>Voting period has not started yet</h4>}\n    {inProgress && (\n      <h4>Remaining time: {calculateTimeDifference(now, Number(endDate))}</h4>\n    )}\n  </Container>\n);\n", "metadata": {"platform": "nearpad"}, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/manzanal.near/widget/Governance.Proposal.VotingPeriodCard", "fact_widget_deployments_id": "51b6701082935f2eb61271dcb29d580e", "inserted_timestamp": "2000-01-01T00:00:00.000Z", "modified_timestamp": "2000-01-01T00:00:00.000Z", "__row_index": 1}