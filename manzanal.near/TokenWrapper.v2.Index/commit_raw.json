{"tx_hash": "6juL4b6ZHpfRDZhqXdzTYx7gsfCjePTky6uDywHTVTDL", "action_id_social": "GkP3Xqhn7ugRvk76YtSriXfALy1oQjrH6N3zXYuNWdGo-0-widget", "block_id": 96786363, "block_timestamp": "2023-07-18T20:41:48.890Z", "signer_id": "manzanal.near", "widget_name": "TokenWrapper.v2.Index", "source_code": "const authorId = \"manzanal.near\";\nconst NETWORK_NEAR = \"NEAR\";\nconst NETWORK_ETH = \"ETH\";\nconst ETH_CHAINID = 1;\nState.init({\n  network: null,\n  networkIsLoaded: false,\n});\n\nconsole.log(\"ethers\", ethers);\nif (!state.networkIsLoaded) {\n  if (!ethers !== undefined && Ethers.send(\"eth_requestAccounts\", [])[0]) {\n    Ethers.provider()\n      .getNetwork()\n      .then((chainIdData) => {\n        console.log(\"chainId\", chainIdData.chainId);\n        if (chainIdData.chainId === ETH_CHAINID) {\n          // ETH\n          State.update({ network: NETWORK_ETH, networlIsLoaded: true });\n        } else {\n          State.update({ network: NETWORK_NEAR, networlIsLoaded: true });\n        }\n      });\n  } else {\n    // ethers not supported on this gateway\n    State.update({ network: NETWORK_NEAR, networlIsLoaded: true });\n  }\n}\nconst getContent = {\n  NETWORK_NEAR: (\n    <Widget src={`${authorId}/widget/TokenWrapper.v2.NearWrapper`} props={{}} />\n  ),\n  NETWORK_ETH: (\n    <Widget src={`${authorId}/widget/TokenWrapper.v2.EthWrapper`} props={{}} />\n  ),\n}[state.network];\n\nconsole.log(\"NETWORK\", state.network);\nif (!state.networkIsLoaded) return <>Loading</>;\nreturn <>{getContent}</>;\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/manzanal.near/widget/TokenWrapper.v2.Index", "fact_widget_deployments_id": "ce0caf1b64486163a06a1eb53396ca0e", "inserted_timestamp": "2000-01-01T00:00:00.000Z", "modified_timestamp": "2000-01-01T00:00:00.000Z", "__row_index": 4}