{"tx_hash": "5knj2VFWHFKJpvnLH415mvdJHk9iSAHsf6aQTP1MwNHH", "action_id_social": "37dE9cWsfXid9UPCb7Y5KxYE3QnorsrogwdXBzYJaoMZ-0-widget", "block_id": 101718990, "block_timestamp": "2023-09-22T18:55:28.543Z", "signer_id": "manzanal.near", "widget_name": "Governance.Proposal.VotesCard", "source_code": "const accountId = context.accountId;\nconst authorId = \"manzanal.near\";\nconst contractId = props.contractId || \"mpip.meta-pool-dao.near\";\nconst accountVotes = props.accountVotes;\nconsole.log(\"votes\", accountVotes);\nconst Container = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n  padding: 0;\n  gap: 1em;\n  width: 100%;\n  padding: 1.25em 0.85em;\n  box-shadow: rgba(0, 0, 0, 0.18) 0px 2px 4px;\n  border-radius: 16px;\n  background: #ffffff;\n\n  & h4 {\n    font-family: \"Inter\";\n    font-style: normal;\n    font-weight: 500;\n    font-size: 14px;\n    line-height: 20px;\n    color: #797777;\n  }\n`;\nconst Heading = styled.div`\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  align-items: center;\n  padding: 0px;\n  gap: 16px;\n  width: 100%;\n\n  & div {\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    padding: 0px;\n    gap: 16px;\n\n    & > h2 {\n      font-family: \"FK Grotesk\";\n      font-style: normal;\n      font-weight: 700;\n      font-size: 25px;\n      line-height: 36px;\n      color: #11181c;\n    }\n\n    & > span {\n      font-family: \"Inter\";\n      font-style: normal;\n      font-weight: 500;\n      font-size: 19px;\n      line-height: 23px;\n      color: #7e868c;\n    }\n  }\n`;\n\nconst List = styled.div`\n  display: flex;\n  flex-direction: row;\n  align-items: stretch;\n  justify-content: space-between;\n  padding: 0px;\n  flex-wrap: wrap;\n  width: 100%;\n  gap: 1em;\n`;\nconst Item = styled.div`\n  display: flex;\n  flex-direction: row;\n  align-items: stretch;\n  justify-content: space-between;\n  flex-wrap: wrap;\n  gap: 0.5em;\n  row-gap: 1.25em;\n  width: 100%;\n  \n`;\n\nconst AccountVote = styled.div`\n  display: flex;\n  flex-direction: row;\n  align-items: stretch;\n  justify-content: space-between;\n  flex-wrap: wrap;\n  gap: 0.5em;\n  row-gap: 1.25em;\n`;\n\nconst VoteMemo = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: stretch;\n  flex-wrap: wrap;\n  row-gap: 0.5em;\n    @media (max-width: 600px) {\n    flex-direction: row;\n   }\n`;\n\nconst Memo = styled.h5`\n  word-break: break-all;\n`;\n\nconst yoctoToNear = (amountYocto) =>\n  new Big(amountYocto).div(new Big(10).pow(24)).toFixed(0);\nconst numberWithCommas = (x) =>\n  x.toString().replace(/\\B(?<!\\.\\d*)(?=(\\d{3})+(?!\\d))/g, \",\");\n\nif (accountVotes.length == 0) {\n  return (\n    <Container>\n      <Heading>\n        <div>\n          <h2>Votes</h2>\n        </div>\n      </Heading>\n      <h5>No Votes Casted.</h5>\n    </Container>\n  );\n}\n\nreturn (\n  <Container>\n    <Heading>\n      <div>\n        <h2>Votes</h2>\n      </div>\n    </Heading>\n    <List>\n      {accountVotes.map((item) => (\n        <Item>\n          <VoteMemo>\n            <AccountVote>\n              <Widget\n                src=\"mob.near/widget/Profile.ShortInlineBlock\"\n                props={{ accountId: item.voter_id, tooltip: true }}\n              />\n              <h5> voted {item.vote_type}</h5>\n            </AccountVote>\n            {item.memo != \"\" && <Memo>memo: {item.memo}</Memo>}\n          </VoteMemo>\n          <div>\n            {\" \"}\n            <h5>{numberWithCommas(yoctoToNear(item.voting_power))} VP</h5>\n          </div>\n        </Item>\n      ))}\n    </List>\n  </Container>\n);\n", "metadata": {}, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/manzanal.near/widget/Governance.Proposal.VotesCard", "fact_widget_deployments_id": "513f5fbd3a038327c364399399e9ea84", "inserted_timestamp": "2023-09-22T20:44:42.661Z", "modified_timestamp": "2023-09-22T20:44:42.661Z", "__row_index": 6}