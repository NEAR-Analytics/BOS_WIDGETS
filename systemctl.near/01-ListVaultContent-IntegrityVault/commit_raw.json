{"tx_hash": "GQdRjNK8VkXJ3k4hEnX4SyicUmwJr48XSWZ8ZQf64m2U", "action_id_social": "BShJL9ZQmyAN3EM8CXZRuVnGB8bniGWKspd3HvmpwoSu-0-widget", "block_id": 105883640, "block_timestamp": "2023-11-17T06:30:39.119Z", "signer_id": "systemctl.near", "widget_name": "01-ListVaultContent-IntegrityVault", "source_code": "const accountId = props.accountId ?? context.accountId; // Get Account ID\r\nlet blockHeight = props.blockHeight ? parseInt(props.blockHeight) : undefined; // Set initial BlockHeight\r\nconst profile = Social.getr(`${accountId}/profile`); // Get Profile Data\r\nconst entry =\r\n  props.entry ?? Social.getr(`${accountId}/postEvidenceData`, blockHeight); // Get last Evidence Entry\r\n\r\n// const test1 = Social.getr(`${accountId}/postEvidenceData`, blockHeight);\r\n// console.log(test1);\r\n\r\n// Styled component (For evidence)\r\nconst Wrapper = styled.div`\r\n  width: 100%;\r\n  display: flex;\r\n  padding: 2rem 3rem;\r\n  flex-direction: column;\r\n  align-items: flex-start;\r\n  gap: 2rem;\r\n  border-radius: 0.5rem;\r\n  border: 1px solid var(--ui-elements-light, #eceef0);\r\n  background: var(--background-light, #fafafa);\r\n`;\r\n\r\n// Styled component CONTAINER (For loading animation)\r\nconst Container = styled.div`\r\n  padding: 50px;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n`;\r\n\r\n// Styled component Loader (For loading animation)\r\nconst Loader = styled.div`\r\n  border-width: 0.5rem;\r\n  border-style: solid;\r\n  border-color: purple purple purple purple;\r\n  width: 3.625rem;\r\n  height: 3.625rem;\r\n  border-radius: 50%;\r\n  position: relative;\r\n  -webkit-animation: spin 2s infinite;\r\n  animation: spin 2s infinite;\r\n\r\n  &:before,\r\n  &:after {\r\n    content: \"\";\r\n    width: 0.5rem;\r\n    height: 0.5rem;\r\n    border-radius: 50%;\r\n    background: purple;\r\n    position: absolute;\r\n    left: 0.125rem;\r\n  }\r\n\r\n  &:before {\r\n    top: 0.063rem;\r\n  }\r\n\r\n  &:after {\r\n    bottom: 0.063rem;\r\n  }\r\n\r\n  @keyframes spin {\r\n    100% {\r\n      transform: rotate(360deg);\r\n    }\r\n  }\r\n`;\r\n\r\n// If the current user is not logged, show loading animation\r\nif (!entry) {\r\n  return (\r\n    <Container>\r\n      <Loader />\r\n    </Container>\r\n  );\r\n}\r\n\r\n// If the current user has no data, show loading animation\r\nif (!props.entry && !blockHeight) {\r\n  blockHeight = Social.keys(`${accountId}/postEvidenceData`, undefined, {\r\n    return_type: \"BlockHeight\",\r\n  })[accountId];\r\n  if (!blockHeight) {\r\n    return (\r\n      <Container>\r\n        <Loader />\r\n      </Container>\r\n    );\r\n  }\r\n}\r\n\r\n// Get Profile link\r\nconst profileLink = (c) => (\r\n  <a\r\n    className=\"text-decoration-none\"\r\n    href={`#/mob.near/widget/ProfilePage?accountId=${accountId}`}\r\n  >\r\n    {c}\r\n  </a>\r\n);\r\n\r\n// Evidence\r\nreturn (\r\n  <div style={{ maxWidth: \"100%\" }}>\r\n    <Widget src={\"mob.near/widget/ProfileLarge\"} />\r\n    <div\r\n      className=\"d-flex align-items-start\"\r\n      style={{\r\n        padding: \"1.5rem 0\",\r\n        borderTop: \"1px solid #e9e9e9\",\r\n        borderBottom: \"1px solid #e9e9e9\",\r\n      }}\r\n    >\r\n      <div className=\"ms-2 flex-grow-1\" style={{ minWidth: 0 }}>\r\n        <div className=\"d-flex justify-content-start\">\r\n          <div\r\n            className=\"flex-grow-1 me-1 text-truncate\"\r\n            style={{ padding: \"0 0 0 1.5rem\" }}\r\n          >\r\n            {profileLink(\r\n              <>\r\n                <span className=\"text-secondary\">@{accountId}</span>\r\n              </>\r\n            )}\r\n          </div>\r\n        </div>\r\n        <div style={{ padding: \"1rem 0 0 1.5rem\" }}>\r\n          {entry.data.title && <b>Title: {entry.data.title}</b>}\r\n        </div>\r\n        <div style={{ padding: \"1rem 0 0 1.5rem\" }}>\r\n          {entry.data.context && <span>Obs: {entry.data.context}</span>}\r\n        </div>\r\n        <div style={{ padding: \"1rem 0 0 1.5rem\" }}>\r\n          {entry.data.fileURL && (\r\n            <a href={entry.data.fileURL}>IPFS URL: {entry.data.fileURL}</a>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n);\r\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/systemctl.near/widget/01-ListVaultContent-IntegrityVault", "fact_widget_deployments_id": "9b6568f0d70464698dbe37126a5c388c", "inserted_timestamp": "2023-11-17T08:35:02.437Z", "modified_timestamp": "2023-11-17T08:35:02.437Z", "__row_index": 5}