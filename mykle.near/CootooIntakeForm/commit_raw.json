{"tx_hash": "GyZrnTYUufCyCuNUQjW4mU1NfMC8zMufeyBAM4G6z4mX", "action_id_social": "7Y38uX2WGqARWMJkfpyRQy8dFtLjUHd3HKnr73noTi1K-0-widget", "block_id": 105583740, "block_timestamp": "2023-11-13T04:33:56.377Z", "signer_id": "mykle.near", "widget_name": "CootooIntakeForm", "source_code": "const CONTRACT = \"social.near\";\n\n// TODO: preload record once contract is filled in?\n\nif (context.loading) {\n  return \"Loading...\";\n}\n\nconst [record, setRecord] = useState({\n  // mock data for now\n  \"mock.data.mintbase2.near\": {\n    name: \"Painters of Light\",\n    whocanmint: \"testing\",\n    wherearethey: [\"westofgreenwich\", \"eastofgreenwich\"],\n  },\n});\nconst [showSpinner, setShowSpinner] = useState(false);\nconst loggedIn = !!context.accountId;\n\nconst onInputChange = ({ target }) => {\n  // TODO parse by field name\n  //setRecord(target.value);\n};\n\nconst onBtnClick = () => {\n  setShowSpinner(true);\n  let data = {};\n  data[context.accountId] = {\n    // store under this key\n    cootoo: record, // todo: subkey per store\n  };\n  let arg = { data: data };\n  console.log(arg);\n  Near.call(CONTRACT, \"set\", arg);\n  setShowSpinner(false);\n};\n\nconst Main = styled.div`\n  font-family: -apple-system, BlinkMacSystemFont, Segoe UI\n`;\n// TODO: how to use Bootstrap 5 in BOS?\n\nreturn (\n  <Main className=\"content\">\n    <div className=\"div\">\n      <div className=\"heading\">Register your co-op</div>\n      <p className=\"you-can-reach-us\">\n        Create your on-chain profile with Co\u00f6too\n      </p>\n    </div>\n    <div class=\"container px-5 my-5\">\n      <div className=\"form\" id=\"contactForm\" data-sb-form-api-token=\"API_TOKEN\">\n        {/* TODO: name fields on inputs  */}\n        <div class=\"mb-3\">\n          <label class=\"form-label\" for=\"chooseANameForYourCoop\">\n            Choose a name for your coop\n          </label>\n          <input\n            onChange={onInputChange}\n            class=\"form-control\"\n            id=\"chooseANameForYourCoop\"\n            type=\"text\"\n            placeholder=\"Choose a name for your coop\"\n            data-sb-validations=\"required\"\n          />\n          <div\n            class=\"invalid-feedback\"\n            data-sb-feedback=\"chooseANameForYourCoop:required\"\n          >\n            Choose a name for your coop is required.\n          </div>\n        </div>\n        <div class=\"mb-3\">\n          <label class=\"form-label\" for=\"contract\">\n            Contract\n          </label>\n          <input\n            onChange={onInputChange}\n            class=\"form-control\"\n            id=\"contract\"\n            type=\"text\"\n            placeholder=\"Contract\"\n            data-sb-validations=\"required\"\n          />\n          <div class=\"invalid-feedback\" data-sb-feedback=\"contract:required\">\n            Contract is required.\n          </div>\n        </div>\n        <div class=\"mb-3\">\n          <label class=\"form-label d-block\">Who can mint in your store?</label>\n          <div class=\"form-check form-check-inline\">\n            <input\n              onChange={onInputChange}\n              class=\"form-check-input\"\n              id=\"anyoneWhoAsksNoCriteriaReally\"\n              type=\"checkbox\"\n              name=\"whoCanMintInYourStore\"\n              data-sb-validations=\"\"\n            />\n            <label class=\"form-check-label\" for=\"anyoneWhoAsksNoCriteriaReally\">\n              Anyone who asks no criteria really\n            </label>\n          </div>\n          <div class=\"form-check form-check-inline\">\n            <input\n              onChange={onInputChange}\n              class=\"form-check-input\"\n              id=\"weCurateSelectedApplications\"\n              type=\"checkbox\"\n              name=\"whoCanMintInYourStore\"\n              data-sb-validations=\"\"\n            />\n            <label class=\"form-check-label\" for=\"weCurateSelectedApplications\">\n              We curate selected applications\n            </label>\n          </div>\n          <div class=\"form-check form-check-inline\">\n            <input\n              onChange={onInputChange}\n              class=\"form-check-input\"\n              id=\"theStoreIsForASpecialEvent\"\n              type=\"checkbox\"\n              name=\"whoCanMintInYourStore\"\n              data-sb-validations=\"\"\n            />\n            <label class=\"form-check-label\" for=\"theStoreIsForASpecialEvent\">\n              The store is for a special event\n            </label>\n          </div>\n          <div class=\"form-check form-check-inline\">\n            <input\n              onChange={onInputChange}\n              class=\"form-check-input\"\n              id=\"weWantSpecificContentInTheSameTopic\"\n              type=\"checkbox\"\n              name=\"whoCanMintInYourStore\"\n              data-sb-validations=\"\"\n            />\n            <label\n              class=\"form-check-label\"\n              for=\"weWantSpecificContentInTheSameTopic\"\n            >\n              We want specific content in the same topic\n            </label>\n          </div>\n          <div class=\"form-check form-check-inline\">\n            <input\n              onChange={onInputChange}\n              class=\"form-check-input\"\n              id=\"weWantASpecificTypeOfMediaOrTechnique\"\n              type=\"checkbox\"\n              name=\"whoCanMintInYourStore\"\n              data-sb-validations=\"\"\n            />\n            <label\n              class=\"form-check-label\"\n              for=\"weWantASpecificTypeOfMediaOrTechnique\"\n            >\n              We want a specific type of media or technique\n            </label>\n          </div>\n          <div class=\"form-check form-check-inline\">\n            <input\n              onChange={onInputChange}\n              class=\"form-check-input\"\n              id=\"theStoreIsJustForTesting\"\n              type=\"checkbox\"\n              name=\"whoCanMintInYourStore\"\n              data-sb-validations=\"\"\n            />\n            <label class=\"form-check-label\" for=\"theStoreIsJustForTesting\">\n              The store is just for testing\n            </label>\n          </div>\n        </div>\n        <div class=\"mb-3\">\n          <label class=\"form-label d-block\">\n            Where are your minters geographically located?\n          </label>\n          <div class=\"form-check form-check-inline\">\n            <input\n              onChange={onInputChange}\n              class=\"form-check-input\"\n              id=\"westOfGreenwich\"\n              type=\"checkbox\"\n              name=\"whereAreYourMintersGeographicallyLocated\"\n              data-sb-validations=\"\"\n            />\n            <label class=\"form-check-label\" for=\"westOfGreenwich\">\n              West of Greenwich\n            </label>\n          </div>\n          <div class=\"form-check form-check-inline\">\n            <input\n              onChange={onInputChange}\n              class=\"form-check-input\"\n              id=\"eastOfGreenwich\"\n              type=\"checkbox\"\n              name=\"whereAreYourMintersGeographicallyLocated\"\n              data-sb-validations=\"\"\n            />\n            <label class=\"form-check-label\" for=\"eastOfGreenwich\">\n              East of Greenwich\n            </label>\n          </div>\n          <div class=\"form-check form-check-inline\">\n            <input\n              onChange={onInputChange}\n              class=\"form-check-input\"\n              id=\"allOverTheWorld\"\n              type=\"checkbox\"\n              name=\"whereAreYourMintersGeographicallyLocated\"\n              data-sb-validations=\"\"\n            />\n            <label class=\"form-check-label\" for=\"allOverTheWorld\">\n              All over the world\n            </label>\n          </div>\n          <div class=\"form-check form-check-inline\">\n            <input\n              onChange={onInputChange}\n              class=\"form-check-input\"\n              id=\"northOfEquator\"\n              type=\"checkbox\"\n              name=\"whereAreYourMintersGeographicallyLocated\"\n              data-sb-validations=\"\"\n            />\n            <label class=\"form-check-label\" for=\"northOfEquator\">\n              North of Equator\n            </label>\n          </div>\n          <div class=\"form-check form-check-inline\">\n            <input\n              onChange={onInputChange}\n              class=\"form-check-input\"\n              id=\"southOfEquator\"\n              type=\"checkbox\"\n              name=\"whereAreYourMintersGeographicallyLocated\"\n              data-sb-validations=\"\"\n            />\n            <label class=\"form-check-label\" for=\"southOfEquator\">\n              South of Equator\n            </label>\n          </div>\n          <div class=\"form-check form-check-inline\">\n            <input\n              onChange={onInputChange}\n              class=\"form-check-input\"\n              id=\"locationUnknown\"\n              type=\"checkbox\"\n              name=\"whereAreYourMintersGeographicallyLocated\"\n              data-sb-validations=\"\"\n            />\n            <label class=\"form-check-label\" for=\"locationUnknown\">\n              Location unknown\n            </label>\n          </div>\n        </div>\n\n        <div class=\"p-4\">\n          <div className=\"input-group\" hidden={!loggedIn}>\n            <button class=\"btn btn-primary\" onClick={onBtnClick}>\n              <span hidden={showSpinner}>Create co-op profile</span>\n              <i\n                class=\"spinner-border spinner-border-sm\"\n                hidden={!showSpinner}\n              ></i>\n            </button>\n          </div>\n\n          <p class=\"text-center py-2\" hidden={loggedIn}>\n            Connect your wallet to create a profile\n          </p>\n        </div>\n      </div>\n    </div>\n  </Main>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/mykle.near/widget/CootooIntakeForm", "fact_widget_deployments_id": "6617e9e6b6563e6bac75376f8ff3c372", "inserted_timestamp": "2024-03-07T05:24:05.087Z", "modified_timestamp": "2024-03-07T05:24:05.087Z", "__row_index": 0}