{"tx_hash": "EQDPeQsB1TQHqMYCJnkwzAehALLzST24MVP5LxXs3xxU", "action_id_social": "Gq2v2nY1hiDMXVJbEntFZnzZzB2yNt9JnA8S9Cj1jXZZ-0-widget", "block_id": 105141265, "block_timestamp": "2023-11-07T10:43:10.392Z", "signer_id": "davidmo.near", "widget_name": "MOTHER-COMPONENT", "source_code": "State.init({\r\n  clientId: props.clientId ? props.clientId : null,\r\n  clientName: props.clientName ? props.clientName : \"\",\r\n  contractAddress: props.address ? props.address : \"\",\r\n  cMethod: props.abi ? props.abi : [],\r\n  rpcUrl: \"https://rpc.near.org/\",\r\n  archivalRpc: \"https://archival-rpc.mainnet.near.org\",\r\n  nearBlockRpc: \"https://api.nearblocks.io/\",\r\n  fName: \"\",\r\n  fAction: \"view\",\r\n  fLabel: \"\",\r\n  cMerr,\r\n  res,\r\n  cAerr,\r\n  messProccses: \"\",\r\n  totalProcess: 0,\r\n  endprocess: 1,\r\n  designMode: false,\r\n  cssStyle: \"\",\r\n  prompt,\r\n  promptLoading: false,\r\n});\r\n\r\nconst header = {\r\n  \"Content-Type\": \"application/json\",\r\n};\r\nconst saveClientConfig = {\r\n  clientId: state.clientId,\r\n  clientName: state.clientName,\r\n  clientContract: state.contractAddress,\r\n  abi: state.cMethod,\r\n};\r\nconst opGet = {\r\n  headers: header,\r\n  method: \"GET\",\r\n};\r\nconst asyncIntervals = [];\r\n\r\nconst runAsyncInterval = (cb, interval, intervalIndex) => {\r\n  cb();\r\n  if (asyncIntervals[intervalIndex].run) {\r\n    asyncIntervals[intervalIndex].id = setTimeout(\r\n      () => runAsyncInterval(cb, interval, intervalIndex),\r\n      interval\r\n    );\r\n  }\r\n};\r\nconst setAsyncInterval = (cb, interval) => {\r\n  if (cb && typeof cb === \"function\") {\r\n    const intervalIndex = asyncIntervals.length;\r\n    asyncIntervals.push({ run: true, id: id });\r\n    runAsyncInterval(cb, interval, intervalIndex);\r\n    return intervalIndex;\r\n  } else {\r\n    throw new Error(\"Callback must be a function\");\r\n  }\r\n};\r\nconst clearAsyncInterval = (intervalIndex) => {\r\n  if (asyncIntervals[intervalIndex].run) {\r\n    clearTimeout(asyncIntervals[intervalIndex].id);\r\n    asyncIntervals[intervalIndex].run = false;\r\n    State.update({\r\n      endprocess: state.endprocess++,\r\n    });\r\n  }\r\n};\r\n\r\nconst cFunc = (e, type) => {\r\n  const data = e.target.value;\r\n  if (type == \"name\") State.update({ fName: data });\r\n  if (type == \"label\") State.update({ fLabel: data });\r\n  if (type == \"action\") State.update({ fAction: data });\r\n  if (type == \"address\") State.update({ contractAddress: data.toLowerCase() });\r\n};\r\nconst cep = \"magicbuild.near\";\r\nconst onCreateArgs = (fName, fIndex) => {\r\n  State.update({ cAerr: { [fName]: null } });\r\n  const arg = {\r\n    name: \"\",\r\n    label: \"\",\r\n    button: \"\",\r\n    className: \"\",\r\n    classButton: \"\",\r\n    type_schema: {\r\n      type: \"string\",\r\n    },\r\n    value: \"\",\r\n  };\r\n  const abiMethod = state.cMethod;\r\n  abiMethod[fIndex].params.args.push(arg);\r\n  State.update({ cMethod: abiMethod });\r\n};\r\nconst onSwitchChangeDesignMode = () => {\r\n  State.update({ designMode: !state.designMode });\r\n};\r\nconst cMLabel = (e, fIdx, type) => {\r\n  const value = e.target.value;\r\n  const a = state.cMethod;\r\n  if (type == \"method\") a[fIdx].label = value;\r\n  if (type == \"className\") a[fIdx].className = value;\r\n  if (type == \"classButton\") a[fIdx].classButton = value;\r\n  if (type == \"labelDeposit\") a[fIdx].labelDeposit = value;\r\n  if (type == \"button\") a[fIdx].button = value;\r\n  if (type == \"gas\") a[fIdx].gas = value || 0;\r\n  if (type == \"deposit\") a[fIdx].deposit = value || 0;\r\n  if (type == \"remove\") a.splice(fIdx, 1);\r\n  if (type == \"depositUnit\") a[fIdx].depositUnit = value;\r\n  if (type == \"gasUnit\") a[fIdx].gasUnit = value;\r\n  if (type == \"selfInputDeposit\") a[fIdx].selfInputDeposit = e.target.checked;\r\n  State.update({ cMethod: a });\r\n};\r\nconst cAD = (e, fIdx, aIdx, type) => {\r\n  const value = e.target.value;\r\n  const a = state.cMethod;\r\n  if (type == \"name\") a[fIdx].params.args[aIdx].name = value;\r\n  if (type == \"label\") a[fIdx].params.args[aIdx].label = value;\r\n  if (type == \"className\") a[fIdx].params.args[aIdx].className = value;\r\n  if (type == \"type\") a[fIdx].params.args[aIdx].type_schema.type = value;\r\n  if (type == \"value\") {\r\n    if (a[fIdx].params.args[aIdx].type_schema.type == \"integer\") {\r\n      a[fIdx].params.args[aIdx].value = parseInt(value);\r\n    }\r\n    if (a[fIdx].params.args[aIdx].type_schema.type == \"array\") {\r\n      a[fIdx].params.args[aIdx].value = value.split(\"|\");\r\n    }\r\n    if (a[fIdx].params.args[aIdx].type_schema.type == \"boolean\") {\r\n      a[fIdx].params.args[aIdx].value = Boolean(value);\r\n    }\r\n    if (a[fIdx].params.args[aIdx].type_schema.type == \"json\") {\r\n      a[fIdx].params.args[aIdx].value = JSON.parse(value);\r\n    }\r\n    if (a[fIdx].params.args[aIdx].type_schema.type == \"string\") {\r\n      a[fIdx].params.args[aIdx].value = value;\r\n    }\r\n    if (a[fIdx].params.args[aIdx].type_schema.type == \"enum\") {\r\n      a[fIdx].params.args[aIdx].value = value;\r\n    }\r\n    if (a[fIdx].params.args[aIdx].type_schema.type == \"$ref\") {\r\n      a[fIdx].params.args[aIdx].value = value;\r\n    }\r\n  }\r\n  if (type == \"remove\") a[fIdx].params.args.splice(aIdx, 1);\r\n  State.update({ cMethod: a });\r\n};\r\nconst onSwitchChangeArgExport = (fIndex) => {\r\n  const abiMethod = state.cMethod;\r\n  abiMethod[fIndex].export = !abiMethod[fIndex].export;\r\n  State.update({ cMethod: abiMethod });\r\n};\r\nconst selectAll = () => {\r\n  const abiMethod = state.cMethod;\r\n  abiMethod.forEach((item, index) => {\r\n    abiMethod[index].export = true;\r\n  });\r\n  State.update({ cMethod: abiMethod });\r\n};\r\nconst closeAll = () => {\r\n  const abiMethod = state.cMethod;\r\n  abiMethod.forEach((item, index) => {\r\n    abiMethod[index].export = false;\r\n  });\r\n  State.update({ cMethod: abiMethod });\r\n};\r\nconst cPrompt = (e) => {\r\n  State.update({ prompt: e.target.value });\r\n};\r\nconst promptLoadingUI = (\r\n  <span\r\n    className=\"spinner-grow spinner-grow-sm me-1\"\r\n    role=\"status\"\r\n    aria-hidden=\"true\"\r\n  />\r\n);\r\n\r\nconst getPrompt = () => {\r\n  State.update({ promptLoading: true });\r\n  console.log(\"prompt\", state.prompt);\r\n  asyncFetch(\"https://api.openai.com/v1/chat/completions\", {\r\n    body: JSON.stringify({\r\n      model: \"gpt-3.5-turbo\",\r\n      messages: [\r\n        {\r\n          role: \"user\",\r\n          content: `Act as a UI developer, users will fill out a prompt about their frontend ideas, and your role is to create a css style. To describe the projects, It is the card that has a title as .card-header, inside has label{}, input{} and 1 Button. Select a different color background that matches the user's theme. Find the color of the label, input, button that is complementary to the background. Create button effects. Don't fix the width of the card, the card-header text aligns in the center, bold and the font size is 40, and the label and button font size 30. User prompt:{\"${state.prompt}\"}. Answer as the Following format: .card{} .card-header button{} input{} label{}`,\r\n        },\r\n      ],\r\n      max_tokens: 1000,\r\n      temperature: 1,\r\n    }),\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n      Authorization: `Bearer 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`,\r\n    },\r\n    method: \"POST\",\r\n  }).then((res) => {\r\n    console.log(\"ai\", res);\r\n    State.update({ promptLoading: false });\r\n    State.update({ cssStyle: res.body.choices[0].message.content });\r\n  });\r\n};\r\nconst onCreateMethod = () => {\r\n  if (state.fName.length > 0) {\r\n    State.update({ cMerr: null });\r\n    const method = {\r\n      name: state.fName,\r\n      kind: state.fAction,\r\n      label: state.fLabel,\r\n      button: \"\",\r\n      className: \"\",\r\n      classButton: \"\",\r\n      labelDeposit: \"\",\r\n      export: true,\r\n      params: {\r\n        serialization_type: \"json\",\r\n        args: [],\r\n      },\r\n      deposit: 0,\r\n      depositUnit: \"near\",\r\n      selfInputDeposit: false,\r\n      gas: 30000000000000,\r\n      gasUnit: \"yoctoNEAR\",\r\n    };\r\n    const abiMethod = state.cMethod;\r\n    const isExistFunction = false;\r\n    abiMethod.forEach((item) => {\r\n      if (item.name == state.fName) {\r\n        isExistFunction = true;\r\n      }\r\n    });\r\n    if (!isExistFunction) {\r\n      abiMethod.push(method);\r\n      State.update({ cMethod: abiMethod });\r\n    } else {\r\n      State.update({ cMerr: \"Method Exist!\" });\r\n    }\r\n  } else {\r\n    State.update({ cMerr: \"Please Input Method Name!\" });\r\n  }\r\n};\r\nconst getMethodFromSource = () => {\r\n  const res = fetch(state.rpcUrl, {\r\n    body: JSON.stringify({\r\n      method: \"query\",\r\n      params: {\r\n        request_type: \"view_code\",\r\n        account_id: state.contractAddress,\r\n        finality: \"final\",\r\n      },\r\n      id: 154,\r\n      jsonrpc: \"2.0\",\r\n    }),\r\n    headers: header,\r\n    method: \"POST\",\r\n  });\r\n  State.update({ cMerr: null });\r\n  State.update({ totalProcess: 0 });\r\n  State.update({ endprocess: 1 });\r\n  let abiMethod = [];\r\n  State.update({ cMethod: [] });\r\n  const resb = res.body;\r\n  if (resb.result.code_base64) {\r\n    const data = Buffer(resb.result.code_base64, \"base64\").toString(\"ascii\");\r\n    const fist = data.indexOf(\"memory\u0002\");\r\n    let second =\r\n      data.indexOf(\"__data_end\") !== -1\r\n        ? data.indexOf(\"__data_end\")\r\n        : data.indexOf(\"\u0003P]\");\r\n    if (fist !== -1 && second !== -1) {\r\n      const functionsData = data\r\n        .substring(fist, second)\r\n        .replace(/[^\\w ]/g, \" \")\r\n        .split(\" \");\r\n      const filterFunction = [];\r\n      functionsData.forEach((item, index) => {\r\n        if (index > 0 && item.length > 1) {\r\n          if (!/^[A-Z]+(?:_[A-Z]+)*$/m.test(item) && !/^[0-9]*$/.test(string)) {\r\n            filterFunction.push(item);\r\n          }\r\n        }\r\n      });\r\n\r\n      filterFunction.forEach((item) => {\r\n        const res = fetch(\r\n          `${state.nearBlockRpc}v1/account/${state.contractAddress}/txns?method=${item}&order=desc&page=1&per_page=25`,\r\n          opGet\r\n        );\r\n        const method = {\r\n          name: item,\r\n          kind: \"view\",\r\n          label: \"\",\r\n          button: \"\",\r\n          className: \"\",\r\n          classButton: \"\",\r\n          labelDeposit: \"\",\r\n          export: true,\r\n          params: {\r\n            serialization_type: \"json\",\r\n            args: [],\r\n          },\r\n          deposit: 0,\r\n          gas: 30000000000000,\r\n          deposit: 0,\r\n          depositUnit: \"near\",\r\n          selfInputDeposit: false,\r\n          gas: 30000000000000,\r\n          gasUnit: \"yoctoNEAR\",\r\n        };\r\n        if (res.body.txns.length > 0) {\r\n          const isScs = false;\r\n          res.body.txns.forEach((item) => {\r\n            if (item.outcomes.status) {\r\n              isScs = true;\r\n            }\r\n          });\r\n          if (isScs) {\r\n            method.kind = \"call\";\r\n          }\r\n        }\r\n        abiMethod.push(method);\r\n      });\r\n      State.update({ cMethod: abiMethod });\r\n      abiMethod.forEach((item, index) => {\r\n        getArgsFromMethod(item.name, index);\r\n      });\r\n\r\n      State.update({ totalProcess: filterFunction.length });\r\n    } else {\r\n      State.update({ cMerr: \"Unable to detect Method!\" });\r\n    }\r\n  }\r\n};\r\nconst getArgsFromMethod = (fName, fIndex) => {\r\n  asyncFetch(\r\n    `${state.nearBlockRpc}v1/account/${state.contractAddress}/txns?method=${fName}&order=desc&page=1&per_page=1`,\r\n    opGet\r\n  )\r\n    .then((res) => {\r\n      const restxns = res.body.txns[0];\r\n      if (restxns.outcomes.status && restxns.logs.length > 0) {\r\n        const argsData = JSON.parse(\r\n          restxns.logs[0].replace(\"EVENT_JSON:\", \"\").replaceAll(\"\\\\\", \"\")\r\n        );\r\n\r\n        const args = argsData.data[0] || argsData;\r\n        const abiMethod = state.cMethod;\r\n\r\n        abiMethod[fIndex].params.args = [];\r\n        if (Object.keys(args).length > 0) {\r\n          Object.keys(args).forEach((item) => {\r\n            const arg = {\r\n              name: item,\r\n              type_schema: {\r\n                type:\r\n                  typeof args[item] == \"number\"\r\n                    ? \"integer\"\r\n                    : typeof args[item] == \"object\"\r\n                    ? \"json\"\r\n                    : typeof args[item],\r\n              },\r\n              value: \"\",\r\n            };\r\n            abiMethod[fIndex].kind = \"call\";\r\n            abiMethod[fIndex].params.args.push(arg);\r\n            State.update({ cMethod: abiMethod });\r\n          });\r\n        }\r\n        State.update({\r\n          endprocess: state.endprocess++,\r\n        });\r\n      } else {\r\n        let countLoop = 0;\r\n        const getArg = setAsyncInterval(() => {\r\n          const abiMethod = state.cMethod;\r\n          const argsArr = abiMethod[fIndex].params.args;\r\n          const argMap = argsArr.map(({ name, value }) => ({ [name]: value }));\r\n          const args = {};\r\n          argMap.forEach((item) => {\r\n            Object.assign(args, item);\r\n          });\r\n          asyncFetch(state.rpcUrl, {\r\n            body: JSON.stringify({\r\n              method: \"query\",\r\n              params: {\r\n                request_type: \"call_function\",\r\n                account_id: state.contractAddress,\r\n                method_name: fName,\r\n                args_base64: new Buffer.from(JSON.stringify(args)).toString(\r\n                  \"base64\"\r\n                ),\r\n                finality: \"final\",\r\n              },\r\n              id: 154,\r\n              jsonrpc: \"2.0\",\r\n            }),\r\n            headers: header,\r\n            method: \"POST\",\r\n          }).then((res) => {\r\n            const strErr = res.body.result.error;\r\n            if (strErr && strErr.includes(\"missing field\")) {\r\n              const argName = strErr.substring(\r\n                strErr.indexOf(\"`\") + 1,\r\n                strErr.lastIndexOf(\"`\")\r\n              );\r\n              const checkType = [\r\n                { value: \"\", type: \"string\" },\r\n                { value: 0, type: \"integer\" },\r\n                { value: [], type: \"array\" },\r\n                { value: true, type: \"boolean\" },\r\n                { value: {}, type: \"json\" },\r\n                { value: state.contractAddress, type: \"$ref\" },\r\n              ];\r\n              const isCheck = false;\r\n              checkType.forEach((typeItem) => {\r\n                if (isCheck == false) {\r\n                  asyncFetch(state.rpcUrl, {\r\n                    body: JSON.stringify({\r\n                      method: \"query\",\r\n                      params: {\r\n                        request_type: \"call_function\",\r\n                        account_id: state.contractAddress,\r\n                        method_name: fName,\r\n                        args_base64: new Buffer.from(\r\n                          JSON.stringify({\r\n                            [argName]: typeItem.value,\r\n                          })\r\n                        ).toString(\"base64\"),\r\n                        finality: \"final\",\r\n                      },\r\n                      id: 154,\r\n                      jsonrpc: \"2.0\",\r\n                    }),\r\n                    headers: header,\r\n                    method: \"POST\",\r\n                  }).then((res) => {\r\n                    const isExist = false;\r\n                    const uS = (argName, type, value) => {\r\n                      const arg = {\r\n                        name: argName,\r\n                        type_schema: {\r\n                          type: type,\r\n                        },\r\n                        value: type == \"enum\" ? value[0] : value,\r\n                      };\r\n                      if (type == \"enum\") {\r\n                        arg.enum = value;\r\n                      }\r\n                      abiMethod[fIndex].params.args.forEach((item) => {\r\n                        if (item.name == argName) {\r\n                          isExist = true;\r\n                        }\r\n                      });\r\n                      if (isExist == false) {\r\n                        abiMethod[fIndex].params.args.push(arg);\r\n                        State.update({ cMethod: abiMethod });\r\n                      }\r\n                      if (isCheck && isExist) {\r\n                        //  clearInterval(getArg);\r\n                      }\r\n                      isCheck = true;\r\n                    };\r\n                    if (res.body.result.result) {\r\n                      clearAsyncInterval(getArg);\r\n                    }\r\n                    const ftch = res.body.result.error;\r\n\r\n                    if (ftch) {\r\n                      if (ftch.includes(\"Option::unwrap()`\")) {\r\n                        uS(argName, typeItem.type, typeItem.value);\r\n                        abiMethod[fIndex].kind = \"call\";\r\n                        State.update({ cMethod: abiMethod });\r\n                        clearAsyncInterval(getArg);\r\n                      }\r\n                      if (ftch.includes(\"the account ID\")) {\r\n                        uS(argName, \"$ref\", state.contractAddress);\r\n                      }\r\n                      if (\r\n                        ftch.includes(\"invalid type: sequence, expected u64\")\r\n                      ) {\r\n                        uS(argName, \"number\", 300);\r\n                      }\r\n                      if (ftch.includes(\"invalid digit found\")) {\r\n                        uS(argName, \"string\", \"300\");\r\n                      }\r\n                      if (\r\n                        ftch.includes(\r\n                          \"invalid type: sequence, expected a string\"\r\n                        )\r\n                      ) {\r\n                        if (isExist) {\r\n                          uS(argName, \"string\", \"wrap.near\");\r\n                        } else {\r\n                          uS(argName, \"string\", \"30\");\r\n                        }\r\n                        // clearInterval(getArg);\r\n                      }\r\n                      if (\r\n                        ftch.includes(\r\n                          \"data did not match any variant of untagged enum\"\r\n                        )\r\n                      ) {\r\n                        uS(argName, typeItem.type, [\"300\", \"300\"]);\r\n                        clearAsyncInterval(getArg);\r\n                      }\r\n\r\n                      if (ftch.includes(\"not implemented\")) {\r\n                        uS(argName, typeItem.type, [\"300\", \"300\"]);\r\n                        // clearInterval(getArg);\r\n                      }\r\n                      if (ftch.includes(\"invalid token id\")) {\r\n                        uS(argName, \"$ref\", \"wrap.near\");\r\n                      }\r\n                      if (ftch.includes(\"integer from empty string\")) {\r\n                        uS(argName, typeItem.type, \"300\");\r\n                      }\r\n                      if (ftch.includes(\"unknown variant\")) {\r\n                        isCheck = true;\r\n                        const getEnum = ftch.match(/\\`(.*?)\\`/g);\r\n\r\n                        const enumList = [];\r\n                        getEnum.forEach((item, index) => {\r\n                          if (index !== 0) {\r\n                            enumList.push(item.replaceAll(\"`\", \"\"));\r\n                          }\r\n                        });\r\n                        uS(argName, \"enum\", enumList);\r\n                      }\r\n                      if (ftch.includes(\"missing field\")) {\r\n                        uS(argName, typeItem.type, typeItem.value);\r\n                      }\r\n\r\n                      if (ftch.includes(\"attached deposit\")) {\r\n                        uS(argName, typeItem.type, typeItem.value);\r\n                        abiMethod[fIndex].kind = \"call\";\r\n                        abiMethod[fIndex].deposit = parseInt(\r\n                          strErr.match(/\\d+/)[0]\r\n                        );\r\n                        State.update({ cMethod: abiMethod });\r\n                        clearAsyncInterval(getArg);\r\n                      }\r\n                    } else {\r\n                      uS(argName, typeItem.type, typeItem.value);\r\n                      clearAsyncInterval(getArg);\r\n                    }\r\n                  });\r\n                }\r\n              });\r\n            }\r\n            if (res.body.result.result) {\r\n              clearAsyncInterval(getArg);\r\n            }\r\n            if (strErr) {\r\n              if (strErr.includes(\"Invalid register\")) {\r\n                abiMethod[fIndex].kind = \"call\";\r\n                State.update({ cMethod: abiMethod });\r\n                clearAsyncInterval(getArg);\r\n              }\r\n              if (strErr.includes(\"not implemented\")) {\r\n                clearAsyncInterval(getArg);\r\n              }\r\n              if (strErr.includes(\"Option::unwrap()`\")) {\r\n                abiMethod[fIndex].kind = \"call\";\r\n                State.update({ cMethod: abiMethod });\r\n                clearAsyncInterval(getArg);\r\n              }\r\n              if (strErr.includes(\"been initialized\")) {\r\n                abiMethod[fIndex].kind = \"call\";\r\n                State.update({ cMethod: abiMethod });\r\n                clearAsyncInterval(getArg);\r\n              }\r\n              if (strErr.includes(\"No token\")) {\r\n                abiMethod[fIndex].kind = \"call\";\r\n                State.update({ cMethod: abiMethod });\r\n                clearAsyncInterval(getArg);\r\n              }\r\n              if (strErr.includes(\"MethodNotFound\")) {\r\n                clearAsyncInterval(getArg);\r\n              }\r\n              if (\r\n                strErr.includes(\"storage_write\") ||\r\n                strErr.includes(\"predecessor_account_id\")\r\n              ) {\r\n                abiMethod[fIndex].kind = \"call\";\r\n                State.update({ cMethod: abiMethod });\r\n                clearAsyncInterval(getArg);\r\n              }\r\n              if (strErr.includes(\"attached deposit\")) {\r\n                abiMethod[fIndex].kind = \"call\";\r\n                abiMethod[fIndex].deposit = parseInt(strErr.match(/\\d+/)[0]);\r\n                State.update({ cMethod: abiMethod });\r\n                clearAsyncInterval(getArg);\r\n              }\r\n\r\n              if (strErr.includes(\"assertion failed: `(left == right)\")) {\r\n                abiMethod[fIndex].kind = \"call\";\r\n                State.update({ cMethod: abiMethod });\r\n                clearAsyncInterval(getArg);\r\n              }\r\n              if (strErr.includes(\"valid type: sequence, expected u64\")) {\r\n                abiMethod[fIndex].params.arg = 0;\r\n                State.update({ cMethod: abiMethod });\r\n                clearAsyncInterval(getArg);\r\n              }\r\n            }\r\n          });\r\n          countLoop++;\r\n          if (countLoop == 20) {\r\n            clearAsyncInterval(getArg);\r\n          }\r\n          State.update({\r\n            messProccses: `Scanning Method : \"${fName}\"`,\r\n          });\r\n        }, 1000);\r\n      }\r\n    })\r\n    .catch((err) => {\r\n      if (err) {\r\n        State.update({\r\n          endprocess: state.endprocess++,\r\n        });\r\n      }\r\n    });\r\n};\r\nconst cCSS = (e) => {\r\n  State.update({ cssStyle: e.target.value });\r\n};\r\n\r\nconst onBtnClickCall = (fName, action, fIndex) => {\r\n  const abiMethod = state.cMethod;\r\n  const argMap = abiMethod[fIndex].params.args.map(({ name, value }) => ({\r\n    [name]: value,\r\n  }));\r\n  const args = {};\r\n  argMap.forEach((item) => {\r\n    Object.assign(args, item);\r\n  });\r\n  if (action === \"view\") {\r\n    asyncFetch(state.rpcUrl, {\r\n      body: JSON.stringify({\r\n        method: \"query\",\r\n        params: {\r\n          request_type: \"call_function\",\r\n          account_id: state.contractAddress,\r\n          method_name: abiMethod[fIndex].name,\r\n          args_base64: new Buffer.from(JSON.stringify(args)).toString(\"base64\"),\r\n          finality: \"final\",\r\n        },\r\n        id: 154,\r\n        jsonrpc: \"2.0\",\r\n      }),\r\n      headers: header,\r\n      method: \"POST\",\r\n    }).then((res) => {\r\n      const resb = res.body.result;\r\n      if (resb.result) {\r\n        const result = new Buffer.from(resb.result).toString();\r\n        State.update({\r\n          res: {\r\n            [fName]: { value: result, error: false },\r\n          },\r\n        });\r\n      }\r\n      if (resb.error) {\r\n        const error = resb.error;\r\n        State.update({\r\n          res: {\r\n            [fName]: { value: error, error: true },\r\n          },\r\n        });\r\n      }\r\n    });\r\n  }\r\n  if (action === \"call\") {\r\n    if (\r\n      abiMethod[fIndex].deposit == 0 &&\r\n      abiMethod[fIndex].gas == 30000000000000\r\n    ) {\r\n      Near.call(state.contractAddress, abiMethod[fIndex].name, args);\r\n    }\r\n    if (\r\n      abiMethod[fIndex].deposit > 0 ||\r\n      abiMethod[fIndex].gas > 30000000000000\r\n    ) {\r\n      Near.call(\r\n        state.contractAddress,\r\n        abiMethod[fIndex].name,\r\n        args,\r\n        abiMethod[fIndex].gasUnit == \"near\"\r\n          ? abiMethod[fIndex].gas * Math.pow(10, 24)\r\n          : abiMethod[fIndex].gas,\r\n        abiMethod[fIndex].depositUnit == \"near\"\r\n          ? abiMethod[fIndex].deposit * Math.pow(10, 24)\r\n          : abiMethod[fIndex].deposit\r\n      );\r\n    }\r\n  }\r\n};\r\nreturn (\r\n  <>\r\n    <div class=\"container border rounded p-3 border-2\">\r\n      <h3 class=\"text-center\">Contract</h3>\r\n      <div class=\"row mb-3\">\r\n        <div class=\"form-group col-md-10\">\r\n          <h6 class=\"mb-2\">Contract Address</h6>\r\n          <input\r\n            class=\"form-control\"\r\n            value={state.contractAddress}\r\n            placeholder=\"Contract Address\"\r\n            onChange={(e) => cFunc(e, \"address\")}\r\n          />\r\n        </div>\r\n        <div class=\"form-group col-md-2\">\r\n          <label></label>\r\n          <button\r\n            onClick={getMethodFromSource}\r\n            class=\"btn btn-dark form-control \"\r\n            disabled={(state.endprocess / state.totalProcess) * 100 < 100}\r\n          >\r\n            \ud83e\uddd9\ud83c\udffb Scan\r\n          </button>\r\n        </div>\r\n      </div>\r\n      {state.totalProcess > 0 && (\r\n        <div class=\"row\">\r\n          <div class=\"form-group col-md-12\">\r\n            <div class=\"progress\">\r\n              <div\r\n                className={`progress-bar progress-bar-striped ${\r\n                  state.totalProcess > 0 &&\r\n                  (state.endprocess / state.totalProcess) * 100 < 100\r\n                    ? \"progress-bar-animated\"\r\n                    : \"bg-success\"\r\n                }  ${\r\n                  (state.endprocess / state.totalProcess) * 100 == 100\r\n                    ? \"bg-success\"\r\n                    : \"\"\r\n                }`}\r\n                role=\"progressbar\"\r\n                aria-valuenow=\"75\"\r\n                aria-valuemin=\"0\"\r\n                aria-valuemax=\"100\"\r\n                style={{\r\n                  width: `${(state.endprocess / state.totalProcess) * 100}%`,\r\n                }}\r\n              >\r\n                {Math.round((state.endprocess / state.totalProcess) * 100) ==\r\n                100\r\n                  ? \"Scan completed\"\r\n                  : state.messProccses}\r\n                {Math.round((state.endprocess / state.totalProcess) * 100)} % -\r\n                ({state.endprocess < 0 ? 0 : state.endprocess}/\r\n                {state.totalProcess})\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      <div class=\"row\">\r\n        <div class=\"form-group col-md-3\">\r\n          <label></label>\r\n          <button\r\n            class=\"btn btn-primary form-control \"\r\n            data-bs-toggle=\"modal\"\r\n            data-bs-target={`#show-method`}\r\n            class=\"btn btn-primary form-control \"\r\n          >\r\n            Filter\r\n          </button>\r\n          <div\r\n            class=\"modal fade\"\r\n            id={`show-method`}\r\n            tabindex=\"-2\"\r\n            aria-labelledby=\"showLabel\"\r\n            aria-hidden=\"true\"\r\n          >\r\n            <div class=\"modal-dialog\">\r\n              <div class=\"modal-content\">\r\n                <div class=\"modal-header\">\r\n                  <h1 class=\"modal-title fs-5\" id=\"showLabel\">\r\n                    Choose Method to Show\r\n                  </h1>\r\n                  <button\r\n                    type=\"button\"\r\n                    class=\"btn-close\"\r\n                    data-bs-dismiss=\"modal\"\r\n                    aria-label=\"Close\"\r\n                  ></button>\r\n                </div>\r\n                <div class=\"modal-body\">\r\n                  {state.cMethod &&\r\n                    state.cMethod.map((functions, fIndex) => (\r\n                      <div class=\"form-check form-switch\">\r\n                        <input\r\n                          class=\"form-check-input\"\r\n                          type=\"checkbox\"\r\n                          role=\"switch\"\r\n                          checked={functions.export}\r\n                          onChange={() => onSwitchChangeArgExport(fIndex)}\r\n                          id={`flexSwitchCheckDefaultView${fIndex}`}\r\n                        />\r\n                        <label\r\n                          class=\"form-check-label\"\r\n                          for={`flexSwitchCheckDefault${fIndex}`}\r\n                        >\r\n                          {functions.name}\r\n                        </label>\r\n                      </div>\r\n                    ))}\r\n                </div>\r\n                <div class=\"modal-footer\">\r\n                  <button\r\n                    type=\"button\"\r\n                    class=\"btn btn-secondary\"\r\n                    data-bs-dismiss=\"modal\"\r\n                  >\r\n                    Close\r\n                  </button>\r\n\r\n                  <button\r\n                    type=\"button\"\r\n                    disabled={state.clicked}\r\n                    onClick={closeAll}\r\n                    class=\"btn btn-primary\"\r\n                  >\r\n                    Close all\r\n                  </button>\r\n                  <button\r\n                    type=\"button\"\r\n                    disabled={state.clicked}\r\n                    onClick={selectAll}\r\n                    class=\"btn btn-success\"\r\n                  >\r\n                    Select all\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class=\"form-group col-md-3\">\r\n          {state.cMethod.length > 0 ? (\r\n            <Widget\r\n              src={`${cep}/widget/save-client-button`}\r\n              props={saveClientConfig}\r\n            />\r\n          ) : (\r\n            <>\r\n              <label></label>\r\n              <button class=\"btn btn-primary form-control \">\r\n                \u2795 Save Client\r\n              </button>\r\n            </>\r\n          )}\r\n        </div>\r\n\r\n        <div class=\"form-group col-md-3\">\r\n          {state && state.cMethod.length > 0 ? (\r\n            <Widget src={`${cep}/widget/preview-button`} props={state} />\r\n          ) : (\r\n            <>\r\n              <label></label>\r\n              <button class=\"btn btn-primary form-control \">\ud83d\udc40 Preview</button>\r\n            </>\r\n          )}\r\n        </div>\r\n        <div class=\"form-group col-md-3\">\r\n          {state && state.cMethod.length > 0 ? (\r\n            <Widget src={`${cep}/widget/export-button`} props={state} />\r\n          ) : (\r\n            <>\r\n              <label></label>\r\n              <button class=\"btn btn-primary form-control \">\ud83d\udd3c Export</button>\r\n            </>\r\n          )}\r\n        </div>\r\n      </div>\r\n      {state.cMerr && (\r\n        <p class=\"text-danger\" role=\"alert\">\r\n          {state.cMerr}\r\n        </p>\r\n      )}\r\n    </div>\r\n    <br />\r\n    <div class=\"row mb-4\">\r\n      <div class=\"form-group col-md-2\">\r\n        <div class=\"form-check form-switch\">\r\n          <label class=\"form-check-label\" for=\"flexSwitchCheckDesginMode\">\r\n            Design\r\n          </label>\r\n          <input\r\n            checked={state.designMode}\r\n            role=\"switch\"\r\n            onChange={onSwitchChangeDesignMode}\r\n            class=\"form-check-input\"\r\n            type=\"checkbox\"\r\n            id=\"flexSwitchCheckDesginMode\"\r\n          />\r\n        </div>\r\n      </div>\r\n      {state.designMode && (\r\n        <div class=\"form-group col-md-10\">\r\n          <textarea\r\n            class=\"form-control\"\r\n            placeholder=\"CSS\"\r\n            value={state.cssStyle}\r\n            onChange={(e) => cCSS(e)}\r\n          ></textarea>\r\n        </div>\r\n      )}\r\n    </div>\r\n\r\n    {state.designMode && (\r\n      <div class=\"row mb-3\">\r\n        <div class=\"form-group col-md-9\">\r\n          <h6 class=\"mb-2\">Type your prompt : </h6>\r\n          <input\r\n            class=\"form-control\"\r\n            value={state.prompt}\r\n            placeholder=\"I want to create a modern style Christmas vibe frontend with gradient background\"\r\n            onChange={(e) => cPrompt(e)}\r\n          />\r\n        </div>\r\n        <div class=\"form-group col-md-3\">\r\n          <label></label>\r\n          <button\r\n            disabled={state.promptLoading}\r\n            onClick={getPrompt}\r\n            class=\"btn btn-success form-control \"\r\n          >\r\n            {state.promptLoading ? promptLoadingUI : \"\ud83e\ude84\"} AI Generator\r\n          </button>\r\n        </div>\r\n      </div>\r\n    )}\r\n    <div class=\"row mb-4\">\r\n      <div class=\"form-group col-md-4\">\r\n        <h6>Method Name</h6>\r\n        <input\r\n          type=\"text\"\r\n          onChange={(e) => cFunc(e, \"name\")}\r\n          class=\"form-control\"\r\n        />\r\n      </div>\r\n      <div class=\"form-group col-md-4\">\r\n        <h6>Label</h6>\r\n        <input\r\n          type=\"text\"\r\n          onChange={(e) => cFunc(e, \"label\")}\r\n          class=\"form-control\"\r\n        />\r\n      </div>\r\n      <div class=\"form-group col-md-2\">\r\n        <h6>Action</h6>\r\n        <select class=\"form-control\" onChange={(e) => cFunc(e, \"action\")}>\r\n          <option value=\"view\" selected>\r\n            View\r\n          </option>\r\n          <option value=\"call\">Call</option>\r\n        </select>\r\n      </div>\r\n      <div class=\"form-group col-md-2\">\r\n        <label></label>\r\n        <button onClick={onCreateMethod} class=\"btn btn-primary form-control \">\r\n          Create\r\n        </button>\r\n      </div>\r\n    </div>\r\n    {state.cMethod &&\r\n      state.cMethod\r\n        .filter((functions) => functions.export == true)\r\n        .map((functions, fIndex) => (\r\n          <div class=\"card mt-2\">\r\n            <div class=\"card-header\">\r\n              <div class=\"container\">\r\n                <div class=\"row\">\r\n                  <div class=\"col-sm-8 pt-3\">\r\n                    <h6>\r\n                      {functions.name}\r\n                      <span class=\"text-info\">\r\n                        {\"[Custom-Method-Params-Label-Button-Style]\"}\r\n                      </span>\r\n                    </h6>\r\n                  </div>\r\n                  <div class=\"col-sm-4 text-end pt-2\">\r\n                    <button\r\n                      type=\"button\"\r\n                      onClick={(e) => cMLabel(e, fIndex, \"remove\")}\r\n                      class=\"btn-close\"\r\n                    ></button>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div class=\"card-body\">\r\n              <div class=\"container mb-3\">\r\n                <div class=\"row mb-3\">\r\n                  {state.designMode && (\r\n                    <div class=\"form-group col-md-8\">\r\n                      <div class=\"form-group row mb-2\">\r\n                        <h6 class=\"col-sm-4 col-form-label\">Method Label</h6>\r\n                        <div class=\"col-sm-6\">\r\n                          <input\r\n                            placeholder=\"Method Label\"\r\n                            class=\"form-control\"\r\n                            defaultValue={functions.label || \"\"}\r\n                            onChange={(e) => cMLabel(e, fIndex, \"method\")}\r\n                          />\r\n                        </div>\r\n                      </div>\r\n                      <div class=\"form-group row\">\r\n                        <h6 class=\"col-sm-4 col-form-label\">Method Class</h6>\r\n                        <div class=\"col-sm-6\">\r\n                          <input\r\n                            placeholder=\"Boostrap Class\"\r\n                            class=\"form-control\"\r\n                            defaultValue={functions.className || \"\"}\r\n                            onChange={(e) => cMLabel(e, fIndex, \"className\")}\r\n                          />\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  )}\r\n                </div>\r\n                {state.designMode && <hr />}\r\n                <div class=\"row\">\r\n                  <div\r\n                    className={`form-group col-md-${\r\n                      state.designMode ? \"2\" : \"4\"\r\n                    }`}\r\n                  >\r\n                    <h6>Arguments</h6>\r\n                  </div>\r\n                  <div class=\"form-group col-md-2\">\r\n                    <h6>Type</h6>\r\n                  </div>\r\n                  <div\r\n                    className={`form-group col-md-${\r\n                      state.designMode ? \"3\" : \"3\"\r\n                    }`}\r\n                  >\r\n                    <h6>Value</h6>\r\n                  </div>\r\n                  {state.designMode && (\r\n                    <div class=\"form-group col-md-2\">\r\n                      <h6>Label</h6>\r\n                    </div>\r\n                  )}\r\n\r\n                  <div class=\"form-group col-md-1\">\r\n                    <button\r\n                      class=\"btn btn-secondary btn-sm\"\r\n                      onClick={(e) => onCreateArgs(functions.name, fIndex)}\r\n                    >\r\n                      Add\r\n                    </button>\r\n                  </div>\r\n                  <div class=\"form-group col-md-2\">\r\n                    <button\r\n                      class=\"btn btn-secondary btn-sm\"\r\n                      onClick={(e) => getArgsFromMethod(functions.name, fIndex)}\r\n                    >\r\n                      Detect\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              {functions.params.args &&\r\n                functions.params.args.map((args, argIndex) => {\r\n                  return (\r\n                    <div class=\"container pb-2\">\r\n                      <div class=\"row\">\r\n                        <div\r\n                          className={`form-group col-md-${\r\n                            state.designMode ? \"2\" : \"4\"\r\n                          }`}\r\n                        >\r\n                          <input\r\n                            placeholder=\"Name\"\r\n                            class=\"form-control\"\r\n                            defaultValue={args.name || \"\"}\r\n                            value={args.name || \"\"}\r\n                            onChange={(e) => cAD(e, fIndex, argIndex, \"name\")}\r\n                          />\r\n                        </div>\r\n\r\n                        <div class=\"form-group col-md-2\">\r\n                          <select\r\n                            value={args.type_schema.type}\r\n                            defaultValue={args.type_schema.type}\r\n                            class=\"form-control\"\r\n                            onChange={(e) => cAD(e, fIndex, argIndex, \"type\")}\r\n                          >\r\n                            <option value=\"string\">String</option>\r\n                            <option value=\"integer\">Number</option>\r\n                            <option value=\"enum\">Enum</option>\r\n                            <option value=\"boolean\">Boolean</option>\r\n                            <option value=\"json\">Json</option>\r\n                            <option value=\"array\">Array</option>\r\n                            <option value=\"$ref\">AccountID</option>\r\n                          </select>\r\n                        </div>\r\n                        <div\r\n                          className={`form-group col-md-${\r\n                            state.designMode ? \"3\" : \"4\"\r\n                          }`}\r\n                        >\r\n                          {args.type_schema.type == \"string\" ||\r\n                          args.type_schema.type == \"$ref\" ||\r\n                          args.type_schema.type == \"integer\" ||\r\n                          args.type_schema.type == \"json\" ||\r\n                          args.type_schema.type == \"array\" ? (\r\n                            <input\r\n                              onChange={(e) =>\r\n                                cAD(e, fIndex, argIndex, \"value\")\r\n                              }\r\n                              class=\"form-control\"\r\n                              type=\"string\"\r\n                              placeholder=\"Argument value\"\r\n                            />\r\n                          ) : (\r\n                            \"\"\r\n                          )}\r\n                          {args.type_schema.type == \"boolean\" ? (\r\n                            <select\r\n                              value={args.value}\r\n                              defaultValue={args.value}\r\n                              class=\"form-control\"\r\n                              onChange={(e) =>\r\n                                cAD(e, fIndex, argIndex, \"value\")\r\n                              }\r\n                            >\r\n                              <option value=\"true\">True</option>\r\n                              <option value=\"false\">False</option>\r\n                            </select>\r\n                          ) : (\r\n                            \"\"\r\n                          )}\r\n                          {args.type_schema.type == \"enum\" ? (\r\n                            <select\r\n                              value={args.value}\r\n                              defaultValue={args.value}\r\n                              class=\"form-control\"\r\n                              onChange={(e) =>\r\n                                cAD(e, fIndex, argIndex, \"value\")\r\n                              }\r\n                            >\r\n                              {args.enum &&\r\n                                args.enum.map((item, i) => (\r\n                                  <option value={item}>{item}</option>\r\n                                ))}\r\n                            </select>\r\n                          ) : (\r\n                            \"\"\r\n                          )}\r\n                        </div>\r\n                        {state.designMode && (\r\n                          <>\r\n                            <div class=\"form-group col-md-2\">\r\n                              <input\r\n                                placeholder=\"Label\"\r\n                                class=\"form-control\"\r\n                                value={args.label}\r\n                                defaultValue={args.label || \"\"}\r\n                                onChange={(e) =>\r\n                                  cAD(e, fIndex, argIndex, \"label\")\r\n                                }\r\n                              />\r\n                            </div>\r\n                            <div class=\"form-group col-md-2\">\r\n                              <input\r\n                                placeholder=\"Boostrap Class\"\r\n                                class=\"form-control\"\r\n                                value={args.className}\r\n                                defaultValue={args.className || \"\"}\r\n                                onChange={(e) =>\r\n                                  cAD(e, fIndex, argIndex, \"className\")\r\n                                }\r\n                              />\r\n                            </div>\r\n                          </>\r\n                        )}\r\n\r\n                        <div class=\"form-group col-md-1\">\r\n                          <button\r\n                            type=\"button\"\r\n                            onClick={(e) => cAD(e, fIndex, argIndex, \"remove\")}\r\n                            class=\"btn btn-danger btn-sm\"\r\n                          >\r\n                            <i class=\"bi bi-trash\"></i>\r\n                          </button>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  );\r\n                })}\r\n\r\n              {functions.kind == \"call\" ? (\r\n                <>\r\n                  <div class=\"container pb-1 pt-3\">\r\n                    <hr />\r\n                    <div class=\"row\">\r\n                      <div class=\"form-group col-md-12\">\r\n                        <h6>Options</h6>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                  <div class=\"container\">\r\n                    <div class=\"row\">\r\n                      <div class=\"form-group col-md-6\">\r\n                        <label>Attached deposit</label>\r\n                        <div class=\"input-group mb-3\">\r\n                          <input\r\n                            type=\"number\"\r\n                            min=\"0\"\r\n                            value={\"\" + functions.deposit.toString()}\r\n                            defaultValue={\"\" + functions.deposit.toString()}\r\n                            onChange={(e) => cMLabel(e, fIndex, \"deposit\")}\r\n                            class=\"form-control \"\r\n                          />\r\n                          <select\r\n                            class=\"form-select\"\r\n                            value={functions.depositUnit}\r\n                            defaultValue={functions.depositUnit}\r\n                            onChange={(e) => cMLabel(e, fIndex, \"depositUnit\")}\r\n                          >\r\n                            <option value=\"near\">Near</option>\r\n                            <option value=\"yoctoNEAR\">yoctoNEAR</option>\r\n                          </select>\r\n                        </div>\r\n\r\n                        {state.designMode && (\r\n                          <>\r\n                            <div class=\"form-check\">\r\n                              <input\r\n                                class=\"form-check-input\"\r\n                                type=\"checkbox\"\r\n                                checked={functions.selfInputDeposit}\r\n                                onChange={(e) =>\r\n                                  cMLabel(e, fIndex, \"selfInputDeposit\")\r\n                                }\r\n                                id={`flexCheckDefault-${functions.name}`}\r\n                              />\r\n                              <label\r\n                                class=\"form-check-label\"\r\n                                for={`flexCheckDefault-${functions.name}`}\r\n                              >\r\n                                Self-Input\r\n                              </label>\r\n                            </div>\r\n\r\n                            <div class=\"input-group mb-3\">\r\n                              <span\r\n                                class=\"input-group-text\"\r\n                                id={`label-deposit-${functions.name}`}\r\n                              >\r\n                                Label Deposit\r\n                              </span>\r\n                              <input\r\n                                type=\"text\"\r\n                                class=\"form-control\"\r\n                                value={functions.labelDeposit}\r\n                                defaultValue={functions.labelDeposit}\r\n                                placeholder=\"Label Deposit\"\r\n                                aria-label=\"Label Deposit\"\r\n                                onChange={(e) =>\r\n                                  cMLabel(e, fIndex, \"labelDeposit\")\r\n                                }\r\n                                aria-describedby={`label-deposit-${functions.name}`}\r\n                              />\r\n                            </div>\r\n                          </>\r\n                        )}\r\n                      </div>\r\n                      <div class=\"form-group col-md-6\">\r\n                        <label>Gas</label>\r\n                        <div class=\"input-group mb-3\">\r\n                          <input\r\n                            type=\"number\"\r\n                            min=\"0\"\r\n                            value={\"\" + functions.gas}\r\n                            defaultValue={\"\" + functions.gas}\r\n                            onChange={(e) => cMLabel(e, fIndex, \"gas\")}\r\n                            class=\"form-control\"\r\n                          />\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </>\r\n              ) : (\r\n                \"\"\r\n              )}\r\n              {state.res[functions.name] && state.res[functions.name] ? (\r\n                <div\r\n                  className={\r\n                    state.res[functions.name].error\r\n                      ? \"alert  alert-danger\"\r\n                      : \"alert  alert-success\"\r\n                  }\r\n                  role=\"alert\"\r\n                >\r\n                  <pre>\r\n                    {JSON.stringify(\r\n                      JSON.parse(state.res[functions.name].value),\r\n                      null,\r\n                      2\r\n                    )}\r\n                  </pre>\r\n                  <button\r\n                    class=\"btn btn-dark btn-sm mt-2\"\r\n                    onClick={() => {\r\n                      clipboard.writeText(state.res[functions.name].value);\r\n                    }}\r\n                  >\r\n                    Copy\r\n                  </button>\r\n                </div>\r\n              ) : (\r\n                \"\"\r\n              )}\r\n              <div class=\"container pt-3\">\r\n                <div class=\"row\">\r\n                  <div class=\"form-group col-md-2\">\r\n                    <h6>Button</h6>\r\n                  </div>\r\n                  {state.designMode && (\r\n                    <>\r\n                      <div class=\"form-group col-md-4\">\r\n                        <h6>Button Label </h6>\r\n                      </div>\r\n                      <div class=\"form-group col-md-4\">\r\n                        <h6>Button Class</h6>\r\n                      </div>\r\n                    </>\r\n                  )}\r\n                  <div class=\"form-group col-md-2\"></div>\r\n                </div>\r\n              </div>\r\n              <div class=\"container pb-2\">\r\n                <div class=\"row\">\r\n                  <div class=\"form-group col-md-2\">\r\n                    <button\r\n                      class=\"btn btn-primary \"\r\n                      onClick={(e) =>\r\n                        onBtnClickCall(functions.name, functions.kind, fIndex)\r\n                      }\r\n                    >\r\n                      {functions.kind == \"view\" ? \"View\" : \"Call\"}\r\n                    </button>\r\n                  </div>\r\n                  {state.designMode && (\r\n                    <>\r\n                      <div class=\"form-group col-md-4\">\r\n                        <input\r\n                          placeholder=\"Button Label\"\r\n                          class=\"form-control\"\r\n                          defaultValue={functions.button || \"\"}\r\n                          onChange={(e) => cMLabel(e, fIndex, \"button\")}\r\n                        />\r\n                      </div>\r\n                      <div class=\"form-group col-md-4\">\r\n                        <input\r\n                          placeholder=\"Boostrap Class\"\r\n                          class=\"form-control\"\r\n                          defaultValue={functions.classButton || \"\"}\r\n                          onChange={(e) => cMLabel(e, fIndex, \"classButton\")}\r\n                        />\r\n                      </div>\r\n                    </>\r\n                  )}\r\n\r\n                  <div class=\"form-group col-md-2\"></div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        ))}\r\n  </>\r\n);\r\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/davidmo.near/widget/MOTHER-COMPONENT", "fact_widget_deployments_id": "771196e345a76d2e9c82f2282103aab3", "inserted_timestamp": "2024-03-07T05:24:05.087Z", "modified_timestamp": "2024-03-07T05:24:05.087Z", "__row_index": 0}