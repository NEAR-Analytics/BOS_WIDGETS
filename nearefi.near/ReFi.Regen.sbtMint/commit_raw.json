{"tx_hash": "DAvuqWdNyqMchCSjjunL1T8yKvEfiRQLGC5NTb2jBFCS", "action_id_social": "Nxi137PoeKyFE5oEXaorpGoWDHczowUPn4kr5Lq4anA-0-widget", "block_id": 97089880, "block_timestamp": "2023-07-22T19:21:00.598Z", "signer_id": "nearefi.near", "widget_name": "ReFi.Regen.sbtMint", "source_code": "const receiver = props.receiver ?? \"efiz.near\";\nconst daoId = props.daoId ?? \"refi.sputnik-dao.near\";\nconst accountId = context.accountId;\nconst issuer = props.issuer ?? \"issuer.regens.near\";\nconst showReciever = props.showReciever ?? true;\nconst classId = props.classId ?? 1;\nconst reference = props.reference ?? null;\n// near call issuer.regens.near  sbt_mint '{\n//     \"receiver\": \"ndcplug.near\",\n//     \"reference\":\"https://genadrop.mypinata.cloud/ipfs/QmUxy2gB1QQD8mqRSwKkU2k6an4o99ip5ZL12if2opyjas?_gl=1*qk5u0e*_ga*MTQ0ODg3NzEzNS4xNjgyNjA0ODQy*_ga_5RMPXG14TE*MTY4OTM1MzU2Mi4yLjEuMTY4OTM1MzU5Ny4yNS4wLjA.\",\n//     \"metadata\": {\"class\": 1}\n//     }'  --deposit 0.008 --accountId admin.regens.near\n\nState.init({\n  receiver: receiver,\n  issuer: issuer,\n});\nconst changeReceiver = (receiver) => {\n  State.update({\n    receiver,\n  });\n  console.log(state.receiver);\n};\n\nconst sbtMint = () => {\n  const gas = 200000000000000;\n  const deposit = 80000000000000000000000; // 0.008 // maybe change zero\n  Near.call([\n    {\n      contractName: state.issuer,\n      methodName: \"sbt_mint\",\n      args: {\n        receiver: state.receiver,\n        metadata: {\n          class: classId,\n        },\n        reference: reference,\n      },\n      gas: gas,\n      deposit: deposit,\n    },\n  ]);\n};\n// check if class key work effect\nconst sbtDAOProposal = () => {\n  const gas = 200000000000000;\n  const deposit = 100000000000000000000000;\n  Near.call([\n    {\n      contractName: daoId,\n      methodName: \"add_proposal\",\n      args: {\n        proposal: {\n          description: \"Reccomended as a vibee\",\n          kind: {\n            AddMemberToRole: {\n              member_id: accountId,\n              role: role,\n            },\n          },\n        },\n      },\n      gas: gas,\n      deposit: deposit,\n    },\n  ]);\n};\n\nconst Wrapper = styled.div`\n  .join-button {\n    display: inline-flex;\n    align-items: center;\n    justify-content: center;\n    gap: 8px;\n    padding: 8px 16px;\n    height: 32px;\n    border-radius: 100px;\n    font-weight: 600;\n    font-size: 12px;\n    line-height: 15px;\n    text-align: center;\n    cursor: pointer;\n    background: #FBFCFD;\n    border: 1px solid #D7DBDF;\n    color: ${props.primary ? \"#006ADC\" : \"#11181C\"} !important;\n    white-space: nowrap;\n\n    &:hover,\n    &:focus {\n      background: #ECEDEE;\n      text-decoration: none;\n      outline: none;\n    }\n\n    i {\n      display: inline-block;\n      transform: rotate(90deg);\n      color: #7E868C;\n    }\n  }\n`;\n// change function call\nreturn (\n  <div className=\"\">\n    {showReciever && (\n      <div className=\"input-group\">\n        <input\n          type=\"text\"\n          className={`form-control`}\n          onChange={(e) => changeReceiver(e.target.value)}\n          placeholder={props.placeholder ?? `Enter Reciever`}\n        />\n      </div>\n    )}\n\n    <Wrapper>\n      <button className=\"join-button\" onClick={sbtMint}>\n        Issue SBT\n      </button>\n    </Wrapper>\n  </div>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/nearefi.near/widget/ReFi.Regen.sbtMint", "fact_widget_deployments_id": "e3a8036828ce3328f7ce277ca348e01d", "inserted_timestamp": "2024-03-07T05:24:05.087Z", "modified_timestamp": "2024-03-07T05:24:05.087Z", "__row_index": 0}