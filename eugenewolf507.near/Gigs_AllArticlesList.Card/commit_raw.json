{"tx_hash": "2pihkaTfdDgDG9oN5W2fRVkxjRcJxV8LWecKiYbhnpmB", "action_id_social": "9p9SwjF3eRLDstZTktqudzjv5gP7xKaFrN5vPhBKL9vx-0-widget", "block_id": 95861460, "block_timestamp": "2023-07-06T19:59:22.871Z", "signer_id": "eugenewolf507.near", "widget_name": "Gigs_AllArticlesList.Card", "source_code": "State.init({ showModal: false });\nconst article = props.article;\nconsole.log(props);\n//TODO get statusTagsArr from props\nconst statusTagsArr = [\"open\", \"claimed\", \"closed\"];\n\n// ========== UTILS ==========\nconst getDateLastEdit = (timestamp) => {\n  const date = new Date(Number(timestamp));\n  const dateString = {\n    date: date.toLocaleDateString(),\n    time: date.toLocaleTimeString(),\n  };\n  return dateString;\n};\n\n// ========== HANDLERS ==========\nconst openModalHandler = () => {\n  State.update({\n    showModal: true,\n  });\n};\n\nconst closeModalHandler = () => {\n  State.update({\n    showModal: false,\n  });\n};\n\n// ========== STYLED ==========\nconst CardWrapper = styled.div`\n  min-width: 340px;\n`;\n\n// ========== JSX ==========\nconst StatusTagGroup = ({ activeStatus, articleId }) => (\n  <div className=\"d-flex flex-row flex-nowrap justify-content-between px-3 pb-3 \">\n    {statusTagsArr.map((tag) => (\n      <button\n        onClick={() => clickHandler(activeStatus, tag, articleId)}\n        className={`btn btn-sm ${\n          activeStatus === tag ? \"btn-primary\" : \"btn-outline-primary\"\n        }`}\n        disabled={activeStatus === tag}\n      >\n        #{tag}\n      </button>\n    ))}\n  </div>\n);\n\nconst Modal = ({ isOpen, onClose, children }) => {\n  if (!isOpen) {\n    return null; // Don't render anything if the modal is closed\n  }\n\n  return (\n    <div>\n      <div>\n        <button onClick={onClose} class=\"btn btn-outline-dark btn-sm\">\n          &times;\n        </button>\n        {children}\n      </div>\n    </div>\n  );\n};\n\nreturn (\n  <CardWrapper className=\"col gy-3\" key={article.articleId}>\n    <div className=\"card h-100\">\n      <Modal isOpen={state.showModal} onClose={closeModalHandler}>\n        <h2>Hello</h2>\n        <p>description</p>\n      </Modal>\n      <a\n        className=\"text-decoration-none text-dark\"\n        href={`#/${authorForWidget}/widget/Gigs_OneArticle?articleId=${article.articleId}&blockHeight=${article.blockHeight}&lastEditor=${article.lastEditor}\n            `}\n      >\n        <div className=\"card-body\">\n          <div className=\"row d-flex justify-content-center\">\n            <h5 className=\"card-title text-center pb-2 border-bottom\">\n              {article.articleId}\n            </h5>\n            <div className=\"col flex-grow-1\">\n              <Widget\n                src=\"mob.near/widget/Profile.ShortInlineBlock\"\n                props={{\n                  accountId: article.author,\n                  tooltip: true,\n                }}\n              />\n            </div>\n            {/*\n            <div className=\"col flex-grow-0\">\n              <p className=\"card-subtitle text-muted text-end\">\n                {getDateLastEdit(article.timeCreate).date}\n              </p>{\" \"}\n              <p className=\"card-subtitle text-muted text-end\">\n                {getDateLastEdit(article.timeCreate).time}\n              </p>\n            </div>\n            */}\n          </div>\n          <div\n            className=\"mt-3 mb-0 alert alert-secondary\"\n            style={{ backgroundColor: \"white\" }}\n          >\n            <div>\n              Posted on {getDateLastEdit(article.timeCreate).date}\n              <br />\n              Edited on {getDateLastEdit(article.timeLastEdit).date}\n              <br />\n              Last edit by{\" \"}\n              <a\n                href={`https://near.social/#/mob.near/widget/ProfilePage?accountId=${article.lastEditor}`}\n                style={{ textDecoration: \"underline\" }}\n              >\n                {article.lastEditor}\n              </a>\n              <br />\n              Edit versions: {article.version}\n            </div>\n          </div>\n        </div>\n      </a>\n      <StatusTagGroup\n        activeStatus={article.statusTag}\n        articleId={article.articleId}\n      />\n      <div>\n        <button onClick={openModalHandler}>OpenModal</button>\n      </div>\n    </div>\n  </CardWrapper>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/eugenewolf507.near/widget/Gigs_AllArticlesList.Card", "fact_widget_deployments_id": "4e0ec968a28a01c0cf43de546fc7fe2b", "inserted_timestamp": "2000-01-01T00:00:00.000Z", "modified_timestamp": "2000-01-01T00:00:00.000Z", "__row_index": 82}