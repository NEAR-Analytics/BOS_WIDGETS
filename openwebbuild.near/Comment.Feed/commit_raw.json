{"tx_hash": "5ZwJ93cNWDike7XNVo3nkYWLRFHxSLzk7tc7N7QFETgh", "action_id_social": "FdUDauhEKCekDWSm1aeyBUMbZhryb4nmHHsMfyRcnurr-0-widget", "block_id": 96541327, "block_timestamp": "2023-07-15T16:01:49.900Z", "signer_id": "openwebbuild.near", "widget_name": "Comment.Feed", "source_code": "// config\nfunction getConfig(network) {\n  switch (network) {\n    case \"mainnet\":\n      return {\n        ownerId: \"openwebbuild.near\",\n        discoveryAccountId: \"near\",\n      };\n    case \"testnet\":\n      return {\n        ownerId: \"openwebbuild.testnet\",\n        discoveryAccountId: \"one.testnet\",\n      };\n    default:\n      throw Error(`Unconfigured environment '${network}'.`);\n  }\n}\nconst config = getConfig(context.networkId);\n\nconst index = {\n  action: \"comment\",\n  key: props.item,\n  options: {\n    limit: props.limit ?? 5,\n    order: \"desc\",\n    accountId: props.accounts,\n    subscribe: props.subscribe,\n  },\n};\n\nconst raw = !!props.raw;\n\nconst Wrapper = styled.div`\n  > div:first-child {\n    > a:first-child {\n      display: inline-flex;\n      margin-bottom: 24px;\n      font-size: 14px;\n      line-height: 20px;\n      color: #687076;\n      outline: none;\n      font-weight: 600;\n\n      &:hover,\n      &:focus {\n        color: #687076;\n        text-decoration: underline;\n      }\n    }\n  }\n`;\n\nconst renderItem = (a) =>\n  a.value.type === \"md\" && (\n    <div key={JSON.stringify(a)}>\n      <Widget\n        src={`${config.ownerId}/widget/Comment.View`}\n        props={{\n          accountId: a.accountId,\n          blockHeight: a.blockHeight,\n          highlight:\n            a.accountId === props.highlightComment?.accountId &&\n            a.blockHeight === props.highlightComment?.blockHeight,\n          raw,\n        }}\n      />\n    </div>\n  );\n\nreturn (\n  <Wrapper>\n    <Widget\n      src={`${config.discoveryAccountId}/widget/IndexFeed`}\n      props={{\n        index,\n        manual: true,\n        reverse: true,\n        renderItem,\n        nextLimit: 10,\n        loadMoreText: \"Show earlier comments...\",\n        moderatorAccount: \"bosmod.near\",\n      }}\n    />\n  </Wrapper>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/openwebbuild.near/widget/Comment.Feed", "fact_widget_deployments_id": "5a537f8197e0aef34cecd019625e0fb1", "inserted_timestamp": "2024-03-07T05:24:05.087Z", "modified_timestamp": "2024-03-07T05:24:05.087Z", "__row_index": 0}