{"tx_hash": "FuLxHdnFbP68M6jmcyXgYEokcJr85ECt9iRmTiWA2Q5p", "action_id_social": "GvDttNYWhmTtXdtvuwZT1PeuUcrrXgknwAcLPjwKzeXn-0-widget", "block_id": 98857836, "block_timestamp": "2023-08-15T11:32:57.828Z", "signer_id": "ndcplug.near", "widget_name": "DAO.main.sidebar.donate", "source_code": "// let amount;\n// amount = props.amount;\n// let yoctoConvert = amount / 1e24;\nlet hardcode = 420000000000000000000000; // .6\n// let yoctoConvert = props.amount * 1e24;\n// let yoctoConvert = hardcode / 1e24;\nlet yoctoConvert = hardcode * 10;\nlet reciever = props.reciever ?? \"vibes.sputnik-dao.near\";\nlet amount = props.amount ?? 1; // start with 1 NEAR\n\ninitState({ amount, reciever });\n\n// yoctoConvert = state.amount;\n\nconst donate = () => {\n  let yoctoConvert1 = state.amount * 1e24;\n  Near.call(\n    state.reciever,\n    \"donate\",\n    {},\n    \"30000000000000\",\n    state.amount * 1e24\n  );\n};\n\nconst transferNEAR = () => {\n  const oneTeraGas = 1000000000000;\n  const oneNEARInYoctoNEAR = 1000000000000000000000000;\n  // Let's transfer amount NEAR to frol.near\n  Near.call(\n    \"transfer-near.near\",\n    \"transfer_near\",\n    reciever,\n    oneTeraGas,\n    state.amount * oneNEARInYoctoNEAR\n  );\n};\nconst onChangeAmount = (amount) => {\n  State.update({\n    amount,\n  });\n};\n\n// styled div\nconst Actions = styled.div`\n  display: flex;\n  gap: 6px;\n`;\nconst FollowButtonWrapper = styled.div`\n  width: 100%;\n  div,\n  button {\n    width: 100%;\n  }\n  @media (max-width: 1200px) {\n    width: auto;\n    div,\n    button {\n      width: auto;\n    }\n  }\n`;\nconst Wrapper = styled.div`\n .bi-search {\n    position: absolute;\n    top: 0;\n    z-index: 100;\n    font-size: 14px;\n    width: 100%;\n    line-height: 40px;\n    color: #687076;\n  }\n\n  .input-group {\n    height: 100%;\n    wdith: 100%;\n  }\n\n  input {\n    padding: 0 14px 0 42px;\n    border: 1px solid #d0d5dd !important;\n    background: #ffffff;\n    border-radius: 100px;\n  }\n\n  .join-button {\n    display: inline-flex;\n    align-items: center;\n    justify-content: center;\n    gap: 8px;\n    padding: 8px 16px;\n    height: 32px;\n    border-radius: 100px;\n    font-weight: 600;\n    font-size: 12px;\n    line-height: 15px;\n    text-align: center;\n    cursor: pointer;\n    background: #FBFCFD;\n    border: 1px solid #D7DBDF;\n    color: ${props.primary ? \"#006ADC\" : \"#11181C\"} !important;\n    white-space: nowrap;\n\n    &:hover,\n    &:focus {\n      background: #ECEDEE;\n      text-decoration: none;\n      outline: none;\n    }\n\n    i {\n      display: inline-block;\n      color: #7E868C;\n    }\n  }\n`;\n\nreturn (\n  <div className=\"row\">\n    <Actions>\n      <Wrapper>\n        <input\n          type=\"number\"\n          className=\".bi-search col\"\n          placeholder={state.amount}\n          value={state.amount}\n          onChange={(e) => onChangeAmount(e.target.value)}\n        />\n      </Wrapper>\n      <FollowButtonWrapper>\n        <Wrapper>\n          <button\n            disabled={context.loading}\n            onClick={transferNEAR}\n            className=\"join-button\"\n          >\n            <i className=\"bi bi-heart\"></i>\n            Donate {state.amount} NEAR\n          </button>\n        </Wrapper>\n      </FollowButtonWrapper>\n    </Actions>\n  </div>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/ndcplug.near/widget/DAO.main.sidebar.donate", "fact_widget_deployments_id": "84b920d2000f721e89596e82575341e7", "inserted_timestamp": "2024-03-07T05:24:05.087Z", "modified_timestamp": "2024-03-07T05:24:05.087Z", "__row_index": 0}