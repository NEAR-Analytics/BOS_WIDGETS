{"tx_hash": "XdGTBtHWaTMkaiDjzDxmXpVMqkuZYMK496t8EfQTv1y", "action_id_social": "2Rhg85bL5CSZJCDmo9JirimegF9jTmrM54XdE1Cof3Zu-0-widget", "block_id": 96460212, "block_timestamp": "2023-07-14T14:46:53.827Z", "signer_id": "ndcplug.near", "widget_name": "ndc-badge-holders", "source_code": "State.init({\n  read_index: 0,\n  tokens: [],\n  issuer: \"community.i-am-human.near\",\n  collectionName: \"OG\",\n});\n// add conditional\nif (state.read_index != -1) {\n  const tokens = Near.view(\"registry.i-am-human.near\", \"sbt_tokens\", {\n    issuer: state.issuer,\n    from_token: 1 + state.read_index * 100,\n    limit: 100,\n  });\n\n  if (tokens) {\n    if (!tokens.length) {\n      State.update({ read_index: -1 });\n    } else {\n      State.update({\n        read_index: state.read_index + 1,\n        tokens: [...state.tokens, ...tokens],\n      });\n    }\n  }\n}\nconsole.log(tokens.length); // put in progress meter\n\nreturn (\n  <div>\n    <h1>NDC {state.collectionName} SBT Holders:</h1>\n    <ol>\n      {state.tokens.map((token) => (\n        <li class=\"mb-2\">\n          <Widget\n            src=\"chaotictempest.near/widget/AccountProfileCard\"\n            props={{ accountId: token.owner, tooltip: true }}\n          />\n        </li>\n      ))}\n    </ol>\n  </div>\n);\n", "metadata": {"description": "Components for holders", "linktree": {"website": "neardc.org/sbt-holders"}, "name": "NDC SBT Holders", "platform": "nearpad", "tags": {"ndc": "", "sbt": ""}}, "branch": {"draft": null}, "widget_modules_used": null, "widget_url": "https://near.social/#/ndcplug.near/widget/ndc-badge-holders", "fact_widget_deployments_id": "84b0f84353a79ef1bff57c3180f6814f", "inserted_timestamp": "2000-01-01T00:00:00.000Z", "modified_timestamp": "2000-01-01T00:00:00.000Z", "__row_index": 14}