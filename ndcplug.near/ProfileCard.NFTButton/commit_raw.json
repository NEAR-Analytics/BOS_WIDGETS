{"tx_hash": "CnggoaUyoaDcSxmeRaqCtQrZSLLEana6VnMA26x3Mojb", "action_id_social": "GCoAqUdLxwKEHoSnPvWvY8rqnxodbHidzxYmnLJyA9Az-0-widget", "block_id": 97979020, "block_timestamp": "2023-08-03T11:42:57.833Z", "signer_id": "ndcplug.near", "widget_name": "ProfileCard.NFTButton", "source_code": "const title = props.title ?? \"NFT by GenaDrop\";\nconst description = props.description ?? \"A NFT mitned with genadrop\";\nconst image =\n  props.image ??\n  \"https://ipfs.near.social/ipfs/bafkreib2sswfwxwwsaaegzhuc454rgkdyycg6dx4gprxgwk5vy6ysrkfpm\";\nconst receiver = props.receiver ?? \"root.near\";\nconst buttonName = props.buttonName ?? \"Mint NFT\";\n\nconst mintNFT = () => {\n  const metadata = {\n    name: title,\n    description: description,\n    properties: [],\n    image: image,\n  };\n  console.log(\"come\", metadata);\n  asyncFetch(\"https://ipfs.near.social/add\", {\n    method: \"POST\",\n    headers: {\n      Accept: \"application/json\",\n    },\n    body: metadata,\n  }).then((res) => {\n    console.log(\"GO ON SOUN\", res);\n    const cid = res.body.cid;\n    const gas = 200000000000000;\n    const deposit = 10000000000000000000000;\n    Near.call([\n      {\n        contractName: \"nft.genadrop.near\",\n        methodName: \"nft_mint\",\n        args: {\n          token_id: `${Date.now()}`,\n          metadata: {\n            title: title,\n            description: description,\n\n            media: image,\n            reference: `ipfs://${cid}`,\n          },\n          receiver_id: receiver,\n        },\n        gas: gas,\n        deposit: deposit,\n      },\n    ]);\n  });\n};\nconst Wrapper = styled.div`\n  .follow-button {\n    display: inline-flex;\n    align-items: center;\n    justify-content: center;\n    gap: 8px;\n    padding: 8px 16px;\n    height: 32px;\n    border-radius: 100px;\n    font-weight: 600;\n    font-size: 12px;\n    line-height: 15px;\n    text-align: center;\n    cursor: pointer;\n    background: #FBFCFD;\n    border: 1px solid #D7DBDF;\n    color: #006ADC !important;\n    white-space: nowrap;\n\n    &:hover,\n    &:focus {\n      background: #ECEDEE;\n      text-decoration: none;\n      outline: none;\n    }\n\n    i {\n      color: #7E868C;\n    }\n\n    .bi-16 {\n      font-size: 16px;\n    }\n  }\n`;\n\nreturn (\n  <Wrapper className={props.className}>\n    <button className=\"follow-button\" onClick={mintNFT}>\n      {buttonName}\n    </button>\n  </Wrapper>\n);\n", "metadata": null, "branch": {"draft": null}, "widget_modules_used": null, "widget_url": "https://near.social/#/ndcplug.near/widget/ProfileCard.NFTButton", "fact_widget_deployments_id": "abba17d94097e5064f9ff2693d92f672", "inserted_timestamp": "2024-03-07T05:24:05.087Z", "modified_timestamp": "2024-03-07T05:24:05.087Z", "__row_index": 0}