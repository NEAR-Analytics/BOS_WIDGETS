{"tx_hash": "7QCBd62THphbj9x6gnq3ddCJeDV2GJePVJMkCx5saA2R", "action_id_social": "EE2X79cc3DiLDfY6XJBewDHnk48te4y8LWU8vBj3LE9H-0-widget", "block_id": 115691417, "block_timestamp": "2024-03-29T03:09:57.558Z", "signer_id": "communityvoice.ndctools.near", "widget_name": "NDC.ArticleHistory.Container", "source_code": "// NDC.ArticleHistory.Container\n\nconst {\n  pathToCurrentArticle,\n  pathToPrevArticle,\n  currentBlockHeight,\n  currentVersionData,\n  allVersionsData,\n  prevBlockHeight,\n  widgets,\n} = props;\n\nState.init({});\n\nfunction getDatastring(time) {\n  const date = new Date(time);\n  return date.toDateString() + \" \" + date.toLocaleTimeString();\n}\n\nreturn (\n  <div className=\"card border-primary\">\n    <div className=\"card-header\">\n      <small className=\"text-muted\">\n        <div className=\"row justify-content-between\">\n          <div className=\"col-4 d-flex frex-row justify-content-start align-items-center\">\n            <div className=\"p-2\">changes in block #{currentBlockHeight}</div>\n\n            <OverlayTrigger\n              placement=\"auto\"\n              overlay={<Tooltip>count inserted lines</Tooltip>}\n            >\n              <span className=\"badge text-bg-success p-2 me-1 align-self-center\">\n                {state.lineCountInserted}\n              </span>\n            </OverlayTrigger>\n\n            <OverlayTrigger\n              placement=\"auto\"\n              overlay={<Tooltip>count deleted lines</Tooltip>}\n            >\n              <span className=\"badge text-bg-danger p-2 me-1 align-self-center\">\n                {state.lineCountDeleted}\n              </span>\n            </OverlayTrigger>\n          </div>\n          <div className=\"col-4 d-flex justify-content-end align-items-center\">\n            {getDatastring(currentVersionData.value.metadata.lastEditTimestamp)}\n          </div>\n        </div>\n      </small>\n    </div>\n    <Widget\n      src={widgets.views.editableWidgets.articleHistorySecondContainer}\n      props={{\n        pathToCurrentArticle: pathToCurrentArticle,\n        pathToPrevArticle: pathToPrevArticle,\n        currentBlockHeight: currentBlockHeight,\n        currentVersionData,\n        allVersionsData,\n        prevBlockHeight: prevBlockHeight,\n        findUniqueResult: (\n          lineCountDeleted,\n          lineCountInserted,\n          lineCountCurrentCode,\n          lineCountPrevCode,\n          allLineCount\n        ) => {\n          if (\n            state.lineCountDeleted === undefined ||\n            state.lineCountInserted === undefined\n          )\n            State.update({ lineCountDeleted, lineCountInserted });\n        },\n      }}\n    />\n  </div>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/communityvoice.ndctools.near/widget/NDC.ArticleHistory.Container", "fact_widget_deployments_id": "7bc65f9de982892d6bbe05adf59e9172", "inserted_timestamp": "2024-03-29T04:30:46.452Z", "modified_timestamp": "2024-03-29T04:30:46.452Z", "__row_index": 2}