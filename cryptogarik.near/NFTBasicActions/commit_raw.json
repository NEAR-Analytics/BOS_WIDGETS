{"tx_hash": "98C2k5AoYnv9JuSjWJsoa9c7cyvGWJfC31NR39TxjJ4Y", "action_id_social": "FZ7tapF4urDLPu1kwgeg8dkcu3Hu1UapwF2J7Xq7rZNA-0-widget", "block_id": 109576060, "block_timestamp": "2024-01-04T14:16:44.647Z", "signer_id": "cryptogarik.near", "widget_name": "NFTBasicActions", "source_code": "State.init({\n  showListNFTsSection: false,\n  showMintNFTSection: false,\n  showTokenMetadataSection: false,\n});\n\nconst showListNFTsSection = () => {\n  State.update({\n    showListNFTsSection: !state.showListNFTsSection,\n    showMintNFTSection: false,\n  });\n};\n\nconst showMintNFTSection = () => {\n  State.update({\n    showListNFTsSection: false,\n    showMintNFTSection: !state.showMintNFTSection,\n  });\n};\n\nconst showTokenMetadataSection = () => {\n  const tokenData = Near.view(state.nft.contractId, \"nft_token\", {\n    token_id: state.nft.tokenId,\n  });\n  State.update({ showTokenMetadataSection: true, tokenData });\n  console.log(tokenData);\n};\n\nreturn (\n  <div>\n    <div\n      className=\"p-2\"\n      style={{\n        background: \"#fdfdfd\",\n        border: \"solid 1px #dee2e6\",\n        borderTop: 0,\n        borderBottomLeftRadius: \".375rem\",\n        borderBottomRightRadius: \".375rem\",\n        minHeight: \"9em\",\n      }}\n    >\n      <div>\n        <div>\n          <button onClick={showListNFTsSection}>List NFTs</button>\n          <button onClick={showMintNFTSection}>Mint NFT</button>\n        </div>\n        <div>\n          <div className=\"mt-2\">\n            {state.showListNFTsSection ? (\n              <div>\n                <h5>Your NFTs</h5>\n                NFT contract\n                <input\n                  type=\"text\"\n                  value={state.nft.contractId}\n                  disabled\n                  placeholder=\"Choose a NFT\"\n                />\n                NFT token id\n                <input\n                  type=\"text\"\n                  value={state.nft.tokenId}\n                  disabled\n                  placeholder=\"Choose a NFT\"\n                />\n                {state.nft.contractId && state.nft.tokenId ? (\n                  <div>\n                    <button onClick={showTransferSection}>Transfer</button>\n                    <button onClick={showTokenMetadataSection}>\n                      Show metadata\n                    </button>\n                  </div>\n                ) : null}\n                {state.tokenData && (\n                  <div>\n                    <div>\n                      <h5>Token metadata</h5>\n                    </div>\n                    <div>{\"Title: \" + state.tokenData.metadata.title}</div>\n                    <div>\n                      {\"Description: \" +\n                        (state.tokenData.metadata.description || \"-\")}\n                    </div>\n                    <div>{\"Media: \" + state.tokenData.metadata.media}</div>\n                    <div>\n                      {\"Extra: \" + (state.tokenData.metadata.extra || \"-\")}\n                    </div>\n                  </div>\n                )}\n                <Widget\n                  src={`sainthiago.near/widget/nft-selector`}\n                  props={{\n                    onChange: ({ contractId, tokenId }) => {\n                      State.update({\n                        nft: { contractId: contractId, tokenId: tokenId },\n                      });\n                    },\n                  }}\n                />\n              </div>\n            ) : null}\n          </div>\n          <div className=\"mt-2\">\n            {state.showMintNFTSection ? (\n              <Widget\n                src={`cryptogarik.near/widget/MintNFT`}\n                props={{\n                  onChange: ({ contractId, tokenId }) => {\n                    State.update({\n                      nft: { contractId: contractId, tokenId: tokenId },\n                    });\n                  },\n                }}\n              />\n            ) : null}\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/cryptogarik.near/widget/NFTBasicActions", "fact_widget_deployments_id": "8574825dede4297c0993d16c11494117", "inserted_timestamp": "2024-03-07T05:24:05.087Z", "modified_timestamp": "2024-03-07T05:24:05.087Z", "__row_index": 0}