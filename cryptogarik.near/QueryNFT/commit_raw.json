{"tx_hash": "3PHFgxuJ7S3Rsu6k7dykFqXFg4KxLkmdksN5YQ2PPwEB", "action_id_social": "4bvVXr7GBL8TDbnghajZ8QqsjDCPLfasS1PmfTYa49gy-0-widget", "block_id": 109989292, "block_timestamp": "2024-01-09T14:55:53.941Z", "signer_id": "cryptogarik.near", "widget_name": "QueryNFT", "source_code": "const image = props.image;\nconst onChange = props.onChange;\n\nState.init({\n  url: image.url,\n  nft: image.nft ?? {},\n});\n\nconst updateTokenData = () => {\n  const tokenData = Near.view(state.nft.contractId, \"nft_token\", {\n    token_id: state.nft.tokenId,\n  });\n  State.update({ tokenData });\n  console.log(tokenData);\n};\n\nif (state.nft.contractId && state.nft.tokenId) {\n  updateTokenData();\n}\n\nreturn (\n  <div>\n    <div\n      className=\"p-2\"\n      style={{\n        background: \"#fdfdfd\",\n        border: \"solid 1px #dee2e6\",\n        borderTop: 0,\n        borderBottomLeftRadius: \".375rem\",\n        borderBottomRightRadius: \".375rem\",\n        minHeight: \"9em\",\n      }}\n    >\n      <div>\n        NFT contract\n        <input\n          type=\"text\"\n          value={state.nft.contractId}\n          disabled\n          placeholder=\"Choose a NFT\"\n        />\n        NFT token id\n        <input\n          type=\"text\"\n          value={state.nft.tokenId}\n          onChange={updateTokenData}\n          disabled\n          placeholder=\"Choose a NFT\"\n        />\n        {state.tokenData && (\n          <div>\n            <div>\n              <h5>Token metadata</h5>\n            </div>\n            <div>{\"Title: \" + state.tokenData.metadata.title}</div>\n            <div>\n              {\"Description: \" + (state.tokenData.metadata.description || \"-\")}\n            </div>\n            <div>{\"Media: \" + state.tokenData.metadata.media}</div>\n            <div>{\"Extra: \" + (state.tokenData.metadata.extra || \"-\")}</div>\n          </div>\n        )}\n        <div className=\"mt-2\">\n          <Widget\n            src={`sainthiago.near/widget/nft-selector`}\n            props={{\n              onChange: ({ contractId, tokenId }) => {\n                State.update({\n                  nft: { contractId: contractId, tokenId: tokenId },\n                });\n              },\n            }}\n          />\n        </div>\n      </div>\n    </div>\n  </div>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/cryptogarik.near/widget/QueryNFT", "fact_widget_deployments_id": "f631ea1b08cf21f0f11abc4a4086f9fc", "inserted_timestamp": "2024-03-07T05:24:05.087Z", "modified_timestamp": "2024-03-07T05:24:05.087Z", "__row_index": 1}