{"tx_hash": "4xyjRwciS7cDCYWtp2eE4MkdDFSPR24N6t4xhgZXHojv", "action_id_social": "AVM2LZVWLrokyd37Y3MjFmCxsDsjDB6rCGrWf4812Dw3-0-widget", "block_id": 100363514, "block_timestamp": "2023-09-04T08:46:51.322Z", "signer_id": "nearui.near", "widget_name": "Social.PostCard", "source_code": "const post = props.post ?? {\n  body: \"# Hello, World!\\nDo you know you can do this?\",\n  tags: [\"hello\", \"world\", \"lorem ipsum\"],\n  images: [\n    \"https://ipfs.near.social/ipfs/bafkreifhkslni6dlocxya35vjft3fefk2am5uzkagmjjzobdjqlhrnbjz4\",\n  ],\n  author: \"\",\n  createdAt: new Date(),\n  stats: {\n    likes: 0,\n    comments: 0,\n    reactions: {\n      heart: 0,\n    },\n    saves: 0,\n  },\n  reaction: null || \"heart\",\n  liked: true,\n  saved: false,\n  shareLink: \"http..\",\n};\nconst on = props.on ?? {\n  like: () => {},\n  showComments: () => {},\n  react: () => {},\n  save: () => {},\n};\n\nState.init({\n  expand: false,\n});\n\nconst Button = (props) => (\n  <Widget src=\"nearui.near/widget/Input.Button\" props={props} />\n);\n\nreturn (\n  <div\n    {...props.containerProps}\n    className={\n      props.containerProps.className +\n      \" ndc-card p-3 rounded-3 gap-3 bg-white d-flex flex-column\"\n    }\n    style={{\n      boxShadow: \"0px 4px 28px 0px rgba(140, 149, 159, 0.1)\",\n      ...props.containerProps.style,\n    }}\n  >\n    <div className=\"d-flex justify-content-between gap-3\">\n      <Widget\n        src=\"nearui.near/widget/Element.User\"\n        props={{\n          accountId: post.author,\n          size: \"md\",\n        }}\n      />\n      <div className=\"d-flex gap-3 align-items-center\">\n        <span>{`${new Date(post.createdAt).toLocaleString()}`}</span>\n        <Button\n          children={<i className=\"bi bi-flag\" />}\n          variant=\"icon outline info\"\n        />\n        <Button\n          children={<i className=\"bi bi-share\" />}\n          variant=\"icon outline info\"\n        />\n      </div>\n    </div>\n    <div className=\"d-flex gap-3\">\n      <Widget\n        src=\"nearui.near/widget/Typography.Markdown\"\n        props={{\n          content: post.body,\n          style: {\n            minHeight: 0,\n            maxHeight: 100,\n          },\n          className: \"w-100 flex-fill\",\n        }}\n      />\n      {!state.expand && post.images.length > 0 && (\n        <div\n          class=\"ratio ratio-4x3 ms-auto\"\n          style={{\n            width: 300,\n          }}\n          tabIndex=\"0\"\n          role=\"button\"\n          onClick={() => State.update({ expand: true })}\n        >\n          <div\n            role=\"img\"\n            style={{\n              backgroundImage: `url(${post.images[0]})`,\n              backgroundRepeat: \"no-repeat\",\n              backgroundPosition: \"center center\",\n              backgroundSize: \"100%\",\n              backgroundColor: \"#eee\",\n              borderRadius: 16,\n            }}\n          />\n        </div>\n      )}\n    </div>\n    <div className=\"d-flex gap-3 flex-wrap\">\n      {Array.isArray(post.tags) &&\n        post.tags.map((tag, i) => {\n          return (\n            <Widget\n              key={i}\n              src=\"nearui.near/widget/Element.Badge\"\n              props={{\n                children: tag,\n                variant: \"disabled\",\n              }}\n            />\n          );\n        })}\n    </div>\n    {state.expand && (\n      <img\n        class=\"ms-auto w-100\"\n        tabIndex=\"0\"\n        role=\"button\"\n        onClick={() => State.update({ expand: false })}\n        src={post.images[0]}\n      />\n    )}\n    <div className=\"d-flex gap-3 flex-wrap\">\n      <Button\n        children={\n          <>\n            <i className=\"bi bi-hand-thumbs-up\"></i>\n            {post.stats.likes}\n          </>\n        }\n        variant={[\"info\", post.liked ? \"\" : \"outline\"]}\n        onClick={on.like}\n      />\n      <Widget\n        src=\"nearui.near/widget/Social.ReactButton\"\n        props={{\n          reactions: props.reactions,\n          stats: post.stats.reactions,\n          onChange: on.react,\n          selected: post.reaction,\n        }}\n      />\n      {!!on.showComments && (\n        <Button\n          children={\n            <>\n              <i className=\"bi bi-chat-left\"></i>\n              {post.stats.comments} comments\n            </>\n          }\n          variant=\"outline info\"\n          onClick={on.showComments}\n        />\n      )}\n      {false && (\n        <Button\n          children={\n            <>\n              <i className=\"bi bi-bookmark\"></i>\n              {post.stats.saves} Save\n            </>\n          }\n          variant=\"outline info\"\n        />\n      )}\n      {false && (\n        <Button\n          children={\n            <>\n              <i className=\"bi bi-share\" /> Share\n            </>\n          }\n          variant=\"outline info\"\n        />\n      )}\n    </div>\n  </div>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/nearui.near/widget/Social.PostCard", "fact_widget_deployments_id": "c1349a89943ade8bcef196daa285df74", "inserted_timestamp": "2024-03-07T05:24:05.087Z", "modified_timestamp": "2024-03-07T05:24:05.087Z", "__row_index": 0}