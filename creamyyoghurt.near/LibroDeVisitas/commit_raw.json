{"tx_hash": "7vnrzaPtg3g6g2EoT8wzTLdxUCzQLY5zamw27BcEdYLt", "action_id_social": "2LtF1pVfCMwixnHZtyVD12vH8riMGaKaWSPbgYYsxziv-0-widget", "block_id": 105925157, "block_timestamp": "2023-11-17T20:24:41.678Z", "signer_id": "creamyyoghurt.near", "widget_name": "LibroDeVisitas", "source_code": "const contract = \"guest-book.near\";\r\nconst messages = Near.view(contract, \"getMessages\", {}).reverse();\r\nconsole.log(messages);\r\n\r\nState.init({\r\n  newMessage: \"\",\r\n});\r\nconst nuevoMensaje = () => {\r\n  Near.call(contract, \"addMessage\", { text: state.newMessage });\r\n};\r\nreturn (\r\n  <div\r\n    style={{\r\n      border: \"1px solid black\",\r\n      borderRadius: \"10px\",\r\n      overflow: \"hidden\",\r\n      display: \"flex\",\r\n      flexDirection: \"column\",\r\n      alignItems: \"center\",\r\n    }}\r\n  >\r\n    <h1\r\n      style={{\r\n        color: \"Black\",\r\n        fontSize: \"36px\",\r\n        textAlign: \"center\",\r\n        margin: \"10px 0\",\r\n      }}\r\n    >\r\n      Libro Visitas\r\n    </h1>\r\n\r\n    <img\r\n      style={{ width: \"100px\", margin: \"10px 0\" }}\r\n      src=\"https://upload.wikimedia.org/wikipedia/commons/thumb/4/46/Bitcoin.svg/1200px-Bitcoin.svg.png\"\r\n      alt=\"Description\"\r\n    />\r\n    <input\r\n      onChange={(e) => State.update({ newMessage: e.target.value })}\r\n      placeholder=\"Nuevo Mensaje\"\r\n    />\r\n    <button\r\n      onClick={() => {\r\n        nuevoMensaje();\r\n      }}\r\n    >\r\n      Guardar\r\n    </button>\r\n    <table className=\"table\" style={{ width: \"100%\" }}>\r\n      <thead>\r\n        <tr>\r\n          <th>Cuenta</th>\r\n          <th>Mensaje</th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        {messages.map((m, index) => (\r\n          <tr key={index}>\r\n            <td>{m.sender}</td>\r\n            <td>{m.text}</td>\r\n          </tr>\r\n        ))}\r\n      </tbody>\r\n    </table>\r\n  </div>\r\n);\r\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/creamyyoghurt.near/widget/LibroDeVisitas", "fact_widget_deployments_id": "5118ab7186fbf2408da9b0d237461c68", "inserted_timestamp": "2024-03-07T05:24:05.087Z", "modified_timestamp": "2024-03-07T05:24:05.087Z", "__row_index": 0}